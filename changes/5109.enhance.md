Refactor endpoint status resolution to use `EndpointStatus` enum instead of string literals
