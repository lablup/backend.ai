Add openapi response logics and consolidate response typing