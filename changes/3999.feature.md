Add async support in action processor