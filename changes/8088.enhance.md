Refactor domain repository test code to use fixtures for test data setup and remove redundant assertions
