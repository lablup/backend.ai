Refactor `SessionLifetimeChecker` test to use mocking instead of the full app, improving code readability and test speed
