Refactor `ContainerRegistryRepository` to use source-based structure, decoupling database access for easier testing
