Aggregate kernel resources instead of using `Agent.occupied_slots` in GQL API
