Introduce action-processor pattern in `Agent` resolvers for decoupling DB access and GraphQL API layer
