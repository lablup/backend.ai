Add declarative integrity error checks to Updater and BatchUpdater specs for automatic constraint violation handling
