Refactor deployment module with Repository pattern and Creator pattern