"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2218],{77099:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"endpoint_id"},n={defaultValue:null,kind:"LocalArgument",name:"filter"},t={defaultValue:null,kind:"LocalArgument",name:"limit"},l={defaultValue:null,kind:"LocalArgument",name:"offset"},i={defaultValue:null,kind:"LocalArgument",name:"projectID"},o={defaultValue:null,kind:"LocalArgument",name:"skipEndpoint"},a=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"project",variableName:"projectID"}],r={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={args:null,kind:"FragmentSpread",name:"EndpointLLMChatCard_endpoint"},p=[{kind:"Variable",name:"endpoint_id",variableName:"endpoint_id"}],m=[d,s,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:[e,n,t,l,i,o],kind:"Fragment",metadata:null,name:"EndpointSelectQuery",selections:[{alias:null,args:a,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:[d,s,c,u],storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[d,s,u],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t,i,n,e,o],kind:"Operation",name:"EndpointSelectQuery",selections:[{alias:null,args:a,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:m,storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:m,storageKey:null}]},params:{cacheID:"4ed77e0d8d228a82aa36a46316bc28ca",id:null,metadata:{},name:"EndpointSelectQuery",operationKind:"query",text:"query EndpointSelectQuery(\n  $offset: Int!\n  $limit: Int!\n  $projectID: UUID\n  $filter: String\n  $endpoint_id: UUID!\n  $skipEndpoint: Boolean!\n) {\n  endpoint_list(offset: $offset, limit: $limit, project: $projectID, filter: $filter) {\n    total_count\n    items {\n      name\n      endpoint_id\n      url\n      ...EndpointLLMChatCard_endpoint\n      id\n    }\n  }\n  endpoint(endpoint_id: $endpoint_id) @skipOnClient(if: $skipEndpoint) {\n    name\n    endpoint_id\n    ...EndpointLLMChatCard_endpoint\n    id\n  }\n}\n\nfragment EndpointLLMChatCard_endpoint on Endpoint {\n  endpoint_id\n  url\n}\n"}}}();l.hash="bc98e0b499fc7a18b88e87841f5e6e47";const i=l},40478:(e,n,t)=>{t.d(n,{A:()=>c});var l=t(33789),i=t(60822),o=t(24914),a=t(10361),r=t(43373),d=t(48401),s=t(73689);const c=e=>{let{copyable:n,defaultIcon:t,...c}=e;const[u,p]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(u){const e=setTimeout((()=>{p(!1)}),2e3);return()=>clearTimeout(e)}}),[u]),(0,s.jsx)(l.A,{title:u?"Copied!":"Copy",open:!!u||void 0,children:(0,s.jsx)(d.CopyToClipboard,{text:(null===n||void 0===n?void 0:n.text)||"",onCopy:async()=>{p(!0)},children:(0,s.jsx)(i.Ay,{icon:u?(0,s.jsx)(o.A,{}):t||(0,s.jsx)(a.A,{}),...c})})})}},18450:(e,n,t)=>{t.d(n,{A:()=>le});var l=t(58879),i=t(51593),o=t(89130),a=t(45296),r=t(67378),d=t(60822),s=t(64831),c=t(57442),u=t(43373),p=t(73689);const{Compact:m}=a.A,g=e=>{let{style:n,loading:t,autoFocus:l,onStop:i,onSend:o,...a}=e;const g=(0,u.useRef)(null);return(0,u.useEffect)((()=>{l&&g.current&&g.current.focus()}),[l]),(0,p.jsxs)(m,{style:{width:"100%",...n},children:[(0,p.jsx)(r.A,{ref:g,...a,onPressEnter:e=>{t||o&&o()}}),(0,p.jsx)(d.Ay,{htmlType:"button",icon:t?(0,p.jsx)(s.A,{}):(0,p.jsx)(c.A,{}),onClick:()=>{t?i&&i():o&&o()}})]})};var y=t(69056),f=t(89608),h=t.n(f),v=t(56762);const x=e=>{let{models:n,allowCustomModel:t,...l}=e;const{t:i}=(0,v.Bd)();return(0,p.jsx)(y.A,{placeholder:i("chatui.SelectModel"),style:{fontWeight:"normal"},showSearch:!0,options:h().concat(t?[{label:"Custom",value:"custom"}]:[],h().chain(n).groupBy("group").mapValues((e=>h().map(e,(e=>({label:e.label,value:e.name}))))).map(((e,n)=>({label:"undefined"===n?"Others":n,options:e}))).value()),popupMatchSelectWidth:!1,...l})};var b=t(40478),k=t(85690),C=t(55368),j=t(60228),A=t(65246),S=t(87799);const{Text:L}=k.A,E=e=>{let{children:n}=e;return(0,p.jsx)(j.o,{components:{code(e){const{children:n,className:t,node:l,ref:i,...o}=e,a=/language-(\w+)/.exec(t||""),r=String(n).replace(/\n$/,"");return a?(0,p.jsx)(C.A,{title:(0,p.jsx)(L,{style:{fontWeight:"normal"},type:"secondary",children:a[1]}),type:"inner",size:"small",extra:(0,p.jsx)(b.A,{type:"text",copyable:{text:"s"}}),styles:{body:{padding:0},header:{margin:0}},children:(0,p.jsx)("div",{style:{margin:"-0.5em 0",width:"100%"},children:(0,p.jsx)(I,{ref:i,...o,PreTag:"div",language:a[1],style:S.A,wrapLongLines:!0,wrapLines:!0,children:r})})}):(0,p.jsx)("code",{...o,className:t,children:n})}},children:n})},w=e=>{let{children:n,...t}=e;return(0,p.jsx)(A.A,{...t,children:n})},I=u.memo(w),T=u.memo(E);var _=t(35343),M=t(50868),O=t(60522),P=t(12731),F=t.n(P),K=t(65928),$=t.n(K),D=t(99261),z=t.n(D);F().extend($()),F().extend(z());const B=e=>{let{extra:n,message:t,placement:l="left",containerStyle:i,enableExtraHover:a,isStreaming:r}=e;const{token:d}=M.A.useToken(),[s,c]=(0,u.useState)(!1),m=(0,_.A)(t.content,{wait:50});return(0,p.jsxs)(o.A,{direction:"left"===l?"row":"row-reverse",justify:"start",align:"baseline",style:{marginLeft:"left"===l?"0":"15%",marginRight:"right"===l?"0":20,...i},gap:"sm",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:["user"!==t.role?(0,p.jsx)(O.A,{icon:"\ud83e\udd16",style:{fontSize:d.fontSizeHeading3}}):null,(0,p.jsxs)(o.A,{direction:"column",align:"left"===l?"start":"end",wrap:"wrap",style:{flex:1},gap:"xxs",children:[(0,p.jsx)(o.A,{align:"stretch",direction:"column",style:{borderRadius:d.borderRadius,borderColor:d.colorBorderSecondary,borderWidth:d.lineWidth,padding:"1em",paddingTop:0,paddingBottom:0,backgroundColor:"user"!==t.role?d.colorBgContainer:d.colorBgContainerDisabled,width:"100%"},children:(0,p.jsx)(T,{children:m+(r?"\n\u25cf":"")})}),(0,p.jsx)(o.A,{style:{fontSize:d.fontSizeSM,...a?{opacity:s?1:0,transition:"opacity 0.2s",transitionDelay:s?"0s":"0.2s"}:{}},children:n})]})]})};var R=t(60266),V=t(44828);const N=e=>{let{autoScroll:n,atBottom:t,lastMessageContent:l,...i}=e;const o=(0,R.E)(i.onScrollToBottom);return(0,u.useEffect)((()=>{t&&n&&(null===o||void 0===o||o("auto"))}),[t,n,l,o]),(0,p.jsx)(d.Ay,{icon:(0,p.jsx)(V.A,{}),shape:"circle",onClick:()=>{o&&o("click")}})};var U=t(12529),Q=t(849);const q=e=>{var n;let{messages:t,isStreaming:l}=e;const i=(0,u.useRef)(null),[a,r]=(0,u.useState)(!0),{token:d}=M.A.useToken(),s="undefined"!==typeof window?1.5*window.innerHeight:0;return(0,p.jsxs)(o.A,{direction:"column",align:"stretch",style:{height:"100%",flex:1},children:[(0,p.jsx)(Q.aY,{atBottomStateChange:r,atBottomThreshold:60,computeItemKey:(e,n)=>n.id,data:t,followOutput:"auto",initialTopMostItemIndex:(null===t||void 0===t?void 0:t.length)-1,itemContent:(e,n)=>(0,p.jsx)(B,{message:n,placement:"user"===n.role?"right":"left",containerStyle:{paddingLeft:d.paddingMD,paddingRight:d.paddingMD,paddingTop:0===e?d.paddingMD:0,paddingBottom:e===t.length-1?d.paddingMD:0},isStreaming:"user"!==n.role&&l&&e===t.length-1,enableExtraHover:"user"===n.role,extra:"user"!==n.role?(0,p.jsx)(U.Ay,{children:(0,p.jsx)(b.A,{type:"text",size:"small",copyable:{text:n.content}})}):(0,p.jsx)(U.Ay,{children:null})},n.id),overscan:s,ref:i}),(0,p.jsx)("div",{style:{position:"absolute",right:"50%",transform:"translateX(+50%)",bottom:d.marginSM,opacity:a?0:1,transition:"opacity 0.2s",transitionDelay:a?"0s":"0.2s"},children:(0,p.jsx)(N,{atBottom:a,autoScroll:l,onScrollToBottom:e=>{const n=i.current;switch(e){case"auto":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"auto",index:"LAST"});break;case"click":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"smooth",index:"LAST"})}},lastMessageContent:null===(n=t[t.length-1])||void 0===n?void 0:n.content})})]})};var W=t(29992),H=t(76166),X=t(64703),Y=t(57958),G=t(52161),J=t(20267),Z=t(32141),ee=t(23702),ne=t(39464),te=t(50364);const le=e=>{var n;let{models:t=[],endpointId:a,baseURL:s,headers:c,credentials:m,apiKey:y,fetchOnClient:f,allowCustomModel:b,alert:k,leftExtra:j,inputMessage:A,submitKey:S,onInputChange:L,onSubmitChange:E,showCompareMenuItem:w,...I}=e;const T=(0,i.f0)(),[_,O]=(0,G.A)(I,{valuePropName:"modelId",trigger:"onModelChange",defaultValue:null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id}),P=(0,u.useRef)(null),{messages:F,error:K,input:$,setInput:D,handleInputChange:z,stop:B,isLoading:R,append:V,setMessages:N}=(0,H.Y_)({api:s,headers:c,credentials:m,body:{modelId:_},streamMode:"stream-data",fetch:(e,n)=>{if(f||"custom"===_){var t,l,i;const e=JSON.parse(null===n||void 0===n?void 0:n.body),o=(0,W.ry)({baseURL:b?null===(t=P.current)||void 0===t?void 0:t.getFieldValue("baseURL"):s,apiKey:(b?null===(l=P.current)||void 0===l?void 0:l.getFieldValue("token"):y)||"dummy"});return(0,J.gM)({abortSignal:(null===n||void 0===n?void 0:n.signal)||void 0,model:o(b?null===(i=P.current)||void 0===i?void 0:i.getFieldValue("modelId"):_),messages:null===e||void 0===e?void 0:e.messages}).then((e=>e.toAIStreamResponse()))}return fetch(e,n)}}),{token:U}=M.A.useToken(),{t:Q}=(0,v.Bd)();(0,u.useEffect)((()=>{h().isUndefined(A)||D(A)}),[A,D]),(0,u.useEffect)((()=>{!h().isUndefined(S)&&$&&V({role:"user",content:$})}),[S]);const le=(0,l.LY)([w&&{key:"compare",label:Q("chatui.CompareWithOtherModels"),icon:(0,p.jsx)(te.A,{}),onClick:()=>{T(`/serving?tab=chatting&endpointId=${a}&modelId=${_}`)}},w&&{type:"divider"},{key:"clear",danger:!0,label:Q("chatui.DeleteChatHistory"),icon:(0,p.jsx)(X.A,{}),onClick:()=>{N([])}}]);return(0,p.jsxs)(C.A,{bordered:!0,extra:[],...I,title:(0,p.jsx)(o.A,{direction:"column",align:"stretch",gap:"sm",children:(0,p.jsxs)(o.A,{direction:"row",gap:"xs",children:[j,(0,p.jsx)(x,{models:t,value:_,onChange:O,allowCustomModel:b}),(0,p.jsx)(Z.A,{menu:{items:le},trigger:["click"],children:(0,p.jsx)(d.Ay,{type:"link",onClick:e=>e.preventDefault(),icon:(0,p.jsx)(Y.A,{}),style:{color:U.colorTextSecondary,width:U.sizeMS}})})]})}),style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},styles:{body:{backgroundColor:U.colorFillQuaternary,borderRadius:0,flex:1,display:"flex",flexDirection:"column",padding:0,height:"50%",position:"relative"},actions:{paddingLeft:U.paddingContentHorizontal,paddingRight:U.paddingContentHorizontal},header:{zIndex:1}},actions:[(0,p.jsx)(g,{autoFocus:!0,value:$,placeholder:"Say something...",onChange:e=>{z(e),L&&L(e.target.value)},loading:R,onStop:()=>{B()},onSend:()=>{$&&(V({role:"user",content:$}),setTimeout((()=>{D("")}),0),null===E||void 0===E||E())}})],children:[(0,p.jsx)(o.A,{direction:"row",style:{padding:U.paddingSM,paddingRight:U.paddingContentHorizontalLG,paddingLeft:U.paddingContentHorizontalLG,backgroundColor:U.colorBgContainer,display:b&&"custom"===_?"flex":"none"},children:(0,p.jsxs)(ee.A,{ref:P,layout:"horizontal",size:"small",requiredMark:"optional",style:{flex:1},initialValues:{baseURL:s},children:[k?(0,p.jsx)("div",{style:{marginBottom:U.size},children:k}):null,(0,p.jsx)(ee.A.Item,{label:"baseURL",name:"baseURL",rules:[{type:"url"},{required:!0}],children:(0,p.jsx)(r.A,{placeholder:"https://domain/v1"})}),(0,p.jsx)(ee.A.Item,{label:"Model ID",name:"modelId",rules:[{required:!0}],children:(0,p.jsx)(r.A,{placeholder:"llm-model"})}),(0,p.jsx)(ee.A.Item,{label:"Token",name:"token",children:(0,p.jsx)(r.A,{})})]},s)}),h().isEmpty(null===K||void 0===K?void 0:K.responseBody)?null:(0,p.jsx)(ne.A,{message:null===K||void 0===K?void 0:K.responseBody,type:"error",showIcon:!0,style:{margin:U.marginSM},closable:!0}),(0,p.jsx)(q,{messages:F,isStreaming:R})]})}},52218:(e,n,t)=>{t.r(n),t.d(n,{default:()=>$});var l,i=t(89130),o=t(51593),a=t(60881),r=t(52161),d=t(69056),s=t(89608),c=t.n(s),u=t(43373),p=t(88522),m=t(73689);const g=e=>{let{fetchKey:n,lifecycleStageFilter:i=["created"],loading:a,...s}=e;const g=(0,o.CX)(),[y,f]=(0,r.A)(s),[h,v]=(0,u.useState)(),[x,b]=(0,u.useTransition)(),k=i.map((e=>`lifecycle_stage == "${e}"`)).join(" | "),{endpoint_list:C,endpoint:j}=(0,p.useLazyLoadQuery)(void 0!==l?l:l=t(77099),{limit:10,offset:0,filter:g.supports("endpoint-lifecycle-stage-filter")?[k,h].filter(Boolean).map((e=>`(${e})`)).join(" & "):void 0,endpoint_id:y,skipEndpoint:!y},{fetchKey:n}),A=j?c().map(c().uniqBy(c().concat(null===C||void 0===C?void 0:C.items,j),"endpoint_id"),(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.endpoint_id,endpoint:e}))):c().map(null===C||void 0===C?void 0:C.items,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.endpoint_id,endpoint:e})));return(0,m.jsx)(d.A,{showSearch:!0,onSearch:e=>{b((()=>{v(e&&`name ilike "%${e}%"`)}))},filterOption:!1,loading:x||a,options:A,...s,value:y,onChange:(e,n)=>{var t;f(e,null===(t=c().castArray(n))||void 0===t?void 0:t[0].endpoint)}})};var y,f=t(18450),h=t(67425),v=t(40567),x=t(50868),b=t(51548),k=t(60822),C=t(39464),j=t(28742),A=t(27658),S=t(56762);const L=(0,j.eU)(""),E=(0,j.eU)(void 0),w=e=>{var n,l,i,r;let{basePath:d="v1",closable:s,defaultModelId:j,defaultEndpoint:w,isSynchronous:I,onRequestClose:T,onModelChange:_,...M}=e;const{t:O}=(0,S.Bd)(),{token:P}=x.A.useToken(),[F,K]=(0,o.Tw)("first"),[$,D]=(0,u.useState)(w||null),z=(0,p.useFragment)(void 0!==y?y:y=t(13318),$),[B,R]=(0,u.useState)(z),[V,N]=(0,A.fp)(L),[U,Q]=(0,A.fp)(E),{data:q}=(0,a.nj)({queryKey:["models",F,null===z||void 0===z?void 0:z.endpoint_id],queryFn:()=>{var e;return null!==z&&void 0!==z&&z.url?fetch(new URL(d+"/models",null!==(e=null===z||void 0===z?void 0:z.url)&&void 0!==e?e:void 0).toString()).then((e=>e.json())).catch((e=>({data:[]}))):Promise.resolve({data:[]})}}),W=c().map(null===q||void 0===q?void 0:q.data,(e=>({id:e.id,name:e.id}))),H=(0,u.useId)();return(0,m.jsx)(f.A,{...M,baseURL:null!==z&&void 0!==z&&z.url?new URL(d,null!==(n=null===z||void 0===z?void 0:z.url)&&void 0!==n?n:void 0).toString():void 0,models:W,fetchOnClient:!0,leftExtra:(0,m.jsx)(g,{placeholder:O("chatui.SelectEndpoint"),style:{fontWeight:"normal"},fetchKey:F,showSearch:!0,loading:(null===B||void 0===B?void 0:B.endpoint_id)!==(null===z||void 0===z?void 0:z.endpoint_id),onChange:(e,n)=>{R(n),(0,u.startTransition)((()=>{D(n)}))},value:null===z||void 0===z?void 0:z.endpoint_id,popupMatchSelectWidth:!1}),modelId:j&&c().includes(c().map(null===q||void 0===q?void 0:q.data,"id"),j)?j:null!==(l=null===q||void 0===q||null===(i=q.data)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.id)&&void 0!==l?l:"custom",extra:s?(0,m.jsx)(b.A,{title:O("chatui.DeleteChattingSession"),description:O("chatui.DeleteChattingSessionDescription"),onConfirm:()=>{null===T||void 0===T||T()},okText:O("button.Delete"),okButtonProps:{danger:!0},children:(0,m.jsx)(k.Ay,{icon:(0,m.jsx)(h.A,{}),type:"text",style:{color:P.colorIcon}})}):void 0,allowCustomModel:c().isEmpty(W),alert:c().isEmpty(W)&&(0,m.jsx)(C.A,{type:"warning",showIcon:!0,message:O("chatui.CannotFindModel"),action:(0,m.jsx)(k.Ay,{icon:(0,m.jsx)(v.A,{}),onClick:()=>{K()},children:O("button.Refresh")})}),inputMessage:I?V:void 0,onInputChange:e=>{N(e)},submitKey:(null===U||void 0===U?void 0:U.id)===H||null===U||void 0===U?void 0:U.key,onSubmitChange:()=>{N(""),I&&Q({id:H,key:(new Date).toString()})}})};var I,T=t(4342),_=t(54880),M=t(85690),O=t(15480),P=t(55368),F=t(34948),K=t(12121);const $=e=>{let{...n}=e;const{token:l}=x.A.useToken(),{t:o}=(0,S.Bd)(),{list:a,remove:r,getKey:d,push:s}=(0,_.A)(["0","1"]),[g,y]=(0,u.useState)(!1),[f]=(0,K.useQueryParam)("endpointId",K.StringParam),[h]=(0,K.useQueryParam)("modelId",K.StringParam),v=!f,{endpoint:b,endpoint_list:C}=(0,p.useLazyLoadQuery)(void 0!==I?I:I=t(91645),{endpointId:f||"",isEmptyEndpointId:v});return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(i.A,{direction:"column",align:"stretch",children:[(0,m.jsxs)(i.A,{direction:"row",justify:"between",wrap:"wrap",gap:"xs",style:{padding:l.paddingContentVertical,paddingLeft:l.paddingContentHorizontalSM,paddingRight:l.paddingContentHorizontalSM},children:[(0,m.jsx)(i.A,{direction:"column",align:"start",children:(0,m.jsx)(M.A.Text,{style:{margin:0,padding:0},children:"LLM Playground"})}),(0,m.jsx)(i.A,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:(0,m.jsxs)(i.A,{gap:"xs",children:[(0,m.jsx)(M.A.Text,{type:"secondary",children:o("chatui.SyncInput")}),(0,m.jsx)(O.A,{value:g,onClick:e=>{y(e)}}),(0,m.jsx)(k.Ay,{onClick:()=>{s((new Date).toString())},icon:(0,m.jsx)(T.A,{})})]})})]}),(0,m.jsx)(i.A,{gap:"xs",direction:"row",style:{margin:l.margin,marginTop:0,overflow:"auto",height:"calc(100vh - 215px)"},align:"stretch",children:c().map(a,((e,n)=>{var t;return(0,m.jsx)(u.Suspense,{fallback:(0,m.jsx)(P.A,{bordered:!0,style:{width:"100%",display:"flex",flexDirection:"column"},children:(0,m.jsx)(F.A,{active:!0})}),children:(0,m.jsx)(w,{defaultModelId:0===n&&b&&h?h:void 0,defaultEndpoint:0===n&&b?b:(null===C||void 0===C||null===(t=C.items)||void 0===t?void 0:t[0])||void 0,style:{flex:1},onRequestClose:()=>{r(n)},closable:a.length>1,isSynchronous:g},d(n))},d(n))}))})]})})}},13318:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointLLMChatCard_endpoint",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"d5fbaab35efda649f9f7847ee51028b6"},i=l},91645:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpointId"},{defaultValue:null,kind:"LocalArgument",name:"isEmptyEndpointId"}],n=[{kind:"Variable",name:"endpoint_id",variableName:"endpointId"}],t=[{args:null,kind:"FragmentSpread",name:"EndpointLLMChatCard_endpoint"}],l=[{kind:"Literal",name:"limit",value:1},{kind:"Literal",name:"offset",value:0}],i=[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LLMPlaygroundPageQuery",selections:[{alias:null,args:n,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:t,storageKey:null},{alias:null,args:l,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:t,storageKey:null}],storageKey:"endpoint_list(limit:1,offset:0)"}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LLMPlaygroundPageQuery",selections:[{alias:null,args:n,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:i,storageKey:null},{alias:null,args:l,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:i,storageKey:null}],storageKey:"endpoint_list(limit:1,offset:0)"}]},params:{cacheID:"2666fd687919647b3aaa7f1d6cda6662",id:null,metadata:{},name:"LLMPlaygroundPageQuery",operationKind:"query",text:"query LLMPlaygroundPageQuery(\n  $endpointId: UUID!\n  $isEmptyEndpointId: Boolean!\n) {\n  endpoint(endpoint_id: $endpointId) @skipOnClient(if: $isEmptyEndpointId) {\n    ...EndpointLLMChatCard_endpoint\n    id\n  }\n  endpoint_list(limit: 1, offset: 0) {\n    items {\n      ...EndpointLLMChatCard_endpoint\n      id\n    }\n  }\n}\n\nfragment EndpointLLMChatCard_endpoint on Endpoint {\n  endpoint_id\n  url\n}\n"}}}();l.hash="ebf5c41c874617edc639e99afe6789d2";const i=l},52161:(e,n,t)=>{t.d(n,{A:()=>d});var l=t(81949),i=t(43373),o=t(92685),a=t(53591);const r=function(){var e=(0,l.zs)((0,i.useState)({}),2)[1];return(0,i.useCallback)((function(){return e({})}),[])};const d=function(e,n){void 0===e&&(e={}),void 0===n&&(n={});var t=n.defaultValue,d=n.defaultValuePropName,s=void 0===d?"defaultValue":d,c=n.valuePropName,u=void 0===c?"value":c,p=n.trigger,m=void 0===p?"onChange":p,g=e[u],y=e.hasOwnProperty(u),f=(0,i.useMemo)((function(){return y?g:e.hasOwnProperty(s)?e[s]:t}),[]),h=(0,i.useRef)(f);y&&(h.current=g);var v=r();return[h.current,(0,a.A)((function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=(0,o.Tn)(n)?n(h.current):n;y||(h.current=a,v()),e[m]&&e[m].apply(e,(0,l.fX)([a],(0,l.zs)(t),!1))}))]}},51548:(e,n,t)=>{t.d(n,{A:()=>S});var l=t(43373),i=t(67592),o=t(13001),a=t.n(o),r=t(90049),d=t(76633),s=t(67085),c=t(84131),u=t(565),p=t(781),m=t(60822),g=t(44123),y=t(89689),f=t(47272),h=t(83451),v=t(64188);const x=(0,v.OF)("Popconfirm",(e=>(e=>{const{componentCls:n,iconCls:t,antCls:l,zIndexPopup:i,colorText:o,colorWarning:a,marginXXS:r,marginXS:d,fontSize:s,fontWeightStrong:c,colorTextHeading:u}=e;return{[n]:{zIndex:i,[`&${l}-popover`]:{fontSize:s},[`${n}-message`]:{marginBottom:d,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${t}`]:{color:a,fontSize:s,lineHeight:1,marginInlineEnd:d},[`${n}-title`]:{fontWeight:c,color:u,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:r,color:o}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:d}}}}})(e)),(e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}}),{resetStyle:!1});var b=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(t[l[i]]=e[l[i]])}return t};const k=e=>{const{prefixCls:n,okButtonProps:t,cancelButtonProps:o,title:a,description:r,cancelText:d,okText:c,okType:h="primary",icon:v=l.createElement(i.A,null),showCancel:x=!0,close:b,onConfirm:k,onCancel:C,onPopupClick:j}=e,{getPrefixCls:A}=l.useContext(s.QO),[S]=(0,y.A)("Popconfirm",f.A.Popconfirm),L=(0,p.b)(a),E=(0,p.b)(r);return l.createElement("div",{className:`${n}-inner-content`,onClick:j},l.createElement("div",{className:`${n}-message`},v&&l.createElement("span",{className:`${n}-message-icon`},v),l.createElement("div",{className:`${n}-message-text`},L&&l.createElement("div",{className:`${n}-title`},L),E&&l.createElement("div",{className:`${n}-description`},E))),l.createElement("div",{className:`${n}-buttons`},x&&l.createElement(m.Ay,Object.assign({onClick:C,size:"small"},o),d||(null===S||void 0===S?void 0:S.cancelText)),l.createElement(u.A,{buttonProps:Object.assign(Object.assign({size:"small"},(0,g.DU)(h)),t),actionFn:k,close:b,prefixCls:A("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||(null===S||void 0===S?void 0:S.okText))))},C=e=>{const{prefixCls:n,placement:t,className:i,style:o}=e,r=b(e,["prefixCls","placement","className","style"]),{getPrefixCls:d}=l.useContext(s.QO),c=d("popconfirm",n),[u]=x(c);return u(l.createElement(h.Ay,{placement:t,className:a()(c,i),style:o,content:l.createElement(k,Object.assign({prefixCls:c},r))}))};var j=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(t[l[i]]=e[l[i]])}return t};const A=l.forwardRef(((e,n)=>{var t,o;const{prefixCls:u,placement:p="top",trigger:m="click",okType:g="primary",icon:y=l.createElement(i.A,null),children:f,overlayClassName:h,onOpenChange:v,onVisibleChange:b}=e,C=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:A}=l.useContext(s.QO),[S,L]=(0,r.A)(!1,{value:null!==(t=e.open)&&void 0!==t?t:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),E=(e,n)=>{L(e,!0),null===b||void 0===b||b(e),null===v||void 0===v||v(e,n)},w=A("popconfirm",u),I=a()(w,h),[T]=x(w);return T(l.createElement(c.A,Object.assign({},(0,d.A)(C,["title"]),{trigger:m,placement:p,onOpenChange:(n,t)=>{const{disabled:l=!1}=e;l||E(n,t)},open:S,ref:n,overlayClassName:I,content:l.createElement(k,Object.assign({okType:g,icon:y},e,{prefixCls:w,close:e=>{E(!1,e)},onConfirm:n=>{var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(void 0,n)},onCancel:n=>{var t;E(!1,n),null===(t=e.onCancel)||void 0===t||t.call(void 0,n)}})),"data-popover-inject":!0}),f))}));A._InternalPanelDoNotUseOrYouWillBeFired=C;const S=A}}]);
//# sourceMappingURL=2218.91987f2f.chunk.js.map