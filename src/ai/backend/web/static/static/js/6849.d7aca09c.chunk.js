"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6849,7999],{7999:(e,n,l)=>{l.r(n),l.d(n,{default:()=>r});var i=l(97080),a=(l(76998),l(23446));const r=e=>{let{text:n,children:l}=e;return(0,a.jsx)(i.A.Text,{copyable:!0,code:!0,children:n||l})}},44520:(e,n,l)=>{l.d(n,{A:()=>m});var i,a=l(83468),r=l(18590),s=l(50840),o=l(20307),t=l(6932),d=(l(76998),l(77678)),c=l(3606),u=l(23446);const m=e=>{let{endpointFrgmt:n}=e;const{t:m}=(0,d.Bd)(),{token:g}=s.A.useToken(),v=(0,a.CX)(),p=(0,c.useFragment)(void 0!==i?i:i=l(21553),n);return v.supports("model-serving-endpoint-user-info")?(null===p||void 0===p?void 0:p.created_user_email)===(null===p||void 0===p?void 0:p.session_owner_email)?(null===p||void 0===p?void 0:p.session_owner_email)||"":(0,u.jsxs)(u.Fragment,{children:[(null===p||void 0===p?void 0:p.session_owner_email)||"",(0,u.jsx)(o.A,{title:m("modelService.ServiceDelegatedFrom",{createdUser:(null===p||void 0===p?void 0:p.created_user_email)||"",sessionOwner:(null===p||void 0===p?void 0:p.session_owner_email)||""}),children:(0,u.jsx)(t.Ay,{size:"small",type:"text",icon:(0,u.jsx)(r.A,{}),style:{color:g.colorTextSecondary}})})]}):v.email||""}},73819:(e,n,l)=>{l.d(n,{A:()=>o});var i,a=l(48713),r=(l(76998),l(3606)),s=l(23446);const o=e=>{var n;let{endpointFrgmt:o}=e;const t=(0,r.useFragment)(void 0!==i?i:i=l(82740),o);let d="default";switch(null===t||void 0===t||null===(n=t.status)||void 0===n?void 0:n.toUpperCase()){case"RUNNING":case"HEALTHY":d="success"}return(0,s.jsx)(a.A,{color:d,children:null===t||void 0===t?void 0:t.status})}},35051:(e,n,l)=>{l.d(n,{A:()=>o});var i=l(83468),a=l(76998),r=l(23446);const s=function(e,n){let{image:l,style:a={}}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const[,{getImageIcon:o}]=(0,i.Gj)();return(0,r.jsx)("img",{src:o(l),style:{width:"1em",height:"1em",...a},alt:s})},o=a.memo(s)},8469:(e,n,l)=>{l.d(n,{Ay:()=>p,s5:()=>v,uJ:()=>m});var i=l(30032),a=l(16162),r=l(96495),s=l(29871),o=l(50840),t=l(97080),d=l(20307),c=(l(76998),l(77678)),u=l(23446);const m={"cuda.device":"GPU","cuda.shares":"FGPU","rocm.device":"GPU","tpu.device":"TPU","ipu.device":"IPU","atom.device":"ATOM","atom-plus.device":"ATOM+","warboy.device":"Warboy","hyperaccel-lpu.device":"Hyperaccel LPU"},g=e=>{let{size:n=16,children:l}=e;return(0,u.jsx)("mwc-icon",{style:{"--mdc-icon-size":"".concat(n+2,"px"),width:n,height:n},children:l})},v=e=>{var n,l,i;let{type:a,size:r=16,showIcon:o=!0,showUnit:t=!0,showTooltip:m=!0,...v}=e;const{t:p}=(0,c.Bd)(),y={cpu:[(0,u.jsx)(g,{size:r,children:"developer_board"}),p("session.core")],mem:[(0,u.jsx)(g,{size:r,children:"memory"}),"GiB"],"cuda.device":["/resources/icons/file_type_cuda.svg","GPU"],"cuda.shares":["/resources/icons/file_type_cuda.svg","FGPU"],"rocm.device":["/resources/icons/rocm.svg","GPU"],"tpu.device":[(0,u.jsx)(g,{size:r,children:"view_module"}),"TPU"],"ipu.device":[(0,u.jsx)(g,{size:r,children:"view_module"}),"IPU"],"atom.device":["/resources/icons/rebel.svg","ATOM"],"atom-plus.device":["/resources/icons/rebel.svg","ATOM"],"warboy.device":["/resources/icons/furiosa.svg","Warboy"],"hyperaccel-lpu.device":["/resources/icons/npu_generic.svg","Hyperaccel LPU"]},h="string"===typeof(null===(n=y[a])||void 0===n?void 0:n[0])?(0,u.jsx)("img",{...v,style:{height:r,alignSelf:"center",...v.style||{}},src:(null===(l=y[a])||void 0===l?void 0:l[0])||"",alt:a}):(0,u.jsx)(s.A,{style:{width:16,height:16},children:(null===(i=y[a])||void 0===i?void 0:i[0])||a});return m?(0,u.jsx)(d.A,{title:a,children:h}):(0,u.jsx)(s.A,{style:{pointerEvents:"none"},children:h})},p=e=>{var n,l,d,c,m;let{type:g,value:p,extra:y,opts:h,hideTooltip:_=!1}=e;const{token:x}=o.A.useToken(),S=(0,r.Nw)(),[k]=(0,a.Hv)(S||void 0);return(0,u.jsxs)(s.A,{direction:"row",gap:"xxs",children:[null!==k&&void 0!==k&&k[g]?(0,u.jsx)(v,{type:g,showTooltip:!_}):g,(0,u.jsx)(t.A.Text,{children:null!==k&&void 0!==k&&null!==(n=k[g])&&void 0!==n&&n.number_format.binary?Number(null===(l=(0,i.Js)(p,"g",3,!0))||void 0===l?void 0:l.numberFixed).toString():((null===k||void 0===k||null===(d=k[g])||void 0===d?void 0:d.number_format.round_length)||0)>0?parseFloat(p).toFixed(2):p}),(0,u.jsx)(t.A.Text,{type:"secondary",children:(null===k||void 0===k||null===(c=k[g])||void 0===c?void 0:c.display_unit)||""}),"mem"===g&&null!==h&&void 0!==h&&h.shmem&&(null===h||void 0===h?void 0:h.shmem)>0?(0,u.jsxs)(t.A.Text,{type:"secondary",style:{fontSize:x.fontSizeSM},children:["(SHM: ",null===(m=(0,i.Js)(h.shmem+"b","g",2,!0))||void 0===m?void 0:m.numberFixed,"GiB)"]}):null,y]})}},25575:(e,n,l)=>{l.d(n,{A:()=>c});var i=l(30032),a=l(83468),r=l(57857),s=l(96495),o=l(99814),t=l(97080),d=(l(76998),l(23446));const c=e=>{let{uuid:n,clickable:l}=e;const c=(0,s.hd)(),u=(0,i.QE)(),m=(0,a.f0)(),{data:g}=(0,r.n)({queryKey:["VFolderSelectQuery"],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",c.id),u({method:"GET",url:"/folders?".concat(e.toString())})},staleTime:1e3,suspense:!0}),v=null===g||void 0===g?void 0:g.find((e=>e.id===n.replaceAll("-","")));return v&&(l?(0,d.jsxs)(t.A.Link,{onClick:()=>{m({pathname:"/data",search:"?folder=".concat(v.id)})},children:[(0,d.jsx)(o.A,{})," ",v.name]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(o.A,{})," ",v.name]}))}},21553:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointOwnerInfoFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"fb21a441c8873205b5092ae1a5a7157e"},a=i},82740:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointStatusTagFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"3b31efa50b55edddcb210b59003dc479"},a=i},769:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InferenceSessionErrorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],type:"InferenceSessionError",abstractKey:null,hash:"3aff870b3138311d3e5415b7bbb32f53"},a=i},26849:(e,n,l)=>{l.r(n),l.d(n,{default:()=>se});var i=l(7999),a=l(44520),r=l(73819),s=l(30032),o=l(83468),t=l(57857),d=l(34103),c=l(29871),u=l(24717),m=l(7121),g=l(41856),v=l(8067),p=l(14455),y=l.n(p),h=l(76998),_=l(77678),x=l(23446);const S=e=>{let{onRequestClose:n,onCancel:l,endpoint_id:i,...a}=e;const{t:r}=(0,_.Bd)(),p=(0,o.CX)(),S=(0,h.useRef)(null),k=(0,t.E)({mutationFn:e=>{const n={valid_until:e.valid_until};return(0,s.hu)({method:"POST",url:"/services/".concat(i,"/token"),body:n,client:p})}});return(0,x.jsx)(d.A,{...a,destroyOnClose:!0,onOk:e=>{var l;null===(l=S.current)||void 0===l||l.validateFields().then((e=>{const l=e.datetime.unix();k.mutate({valid_until:l},{onSuccess:()=>{u.Ay.success(r("modelService.TokenGenerated")),n(!0)},onError:e=>{var n;null!==e&&void 0!==e&&null!==(n=e.message)&&void 0!==n&&n.includes("valid_until is older than now")?u.Ay.error(r("modelService.TokenExpiredDateError")):(u.Ay.error(r("modelService.TokenGenerationFailed")),console.log(e))}})}))},onCancel:()=>{n()},okText:r("modelService.Generate"),confirmLoading:k.isLoading,centered:!0,title:r("modelService.GenerateNewToken"),children:(0,x.jsx)(m.A,{ref:S,preserve:!1,labelCol:{span:10},initialValues:{datetime:y()().add(24,"hour")},validateTrigger:["onChange","onBlur"],style:{maxWidth:500},children:(0,x.jsxs)(c.A,{direction:"column",gap:"sm",align:"stretch",children:[(0,x.jsx)(g.A,{type:"info",showIcon:!0,message:r("modelService.TokenExpiredDateHelp")}),(0,x.jsx)(c.A,{direction:"row",align:"stretch",justify:"around",children:(0,x.jsx)(m.A.Item,{name:"datetime",label:r("modelService.ExpiredDate"),rules:[{type:"object",required:!0,message:r("modelService.PleaseSelectTime")},()=>({validator:(e,n)=>n.isAfter(y()())?Promise.resolve():Promise.reject(new Error(r("modelService.TokenExpiredDateError")))})],children:(0,x.jsx)(v.A,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:200}})})})]})})})};var k,f=l(35051),A=l(6932),F=l(22307),j=l(3606);const b=e=>{let{onRequestClose:n,onCancel:a,inferenceSessionErrorFrgmt:r,...s}=e;const{t:o}=(0,_.Bd)(),t=(0,j.useFragment)(void 0!==k?k:k=l(769),r);return(0,x.jsx)(d.A,{centered:!0,title:o("modelService.ServingRouteErrorModalTitle"),onCancel:()=>{n()},footer:[(0,x.jsx)(A.Ay,{onClick:()=>{n()},children:o("button.Close")})],...s,children:(0,x.jsxs)(F.A,{bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},labelStyle:{minWidth:100},style:{marginTop:20},children:[(0,x.jsx)(F.A.Item,{label:o("modelService.SessionId"),children:(0,x.jsx)(i.default,{children:null===t||void 0===t?void 0:t.session_id})}),(0,x.jsx)(F.A.Item,{label:o("dialog.error.Error"),children:null===t||void 0===t?void 0:t.errors[0].repr})]})})};var T=l(8469),K=l(25575),w=l(16162),E=l(60568),I=l(52332),L=l(43336),C=l(58168);const R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var O=l(13410),z=function(e,n){return h.createElement(O.A,(0,C.A)({},e,{ref:n,icon:R}))};const P=h.forwardRef(z);var D,U=l(99814),N=l(97553),G=l(94519),M=l(63718),V=l(71038),H=l(69048),B=l(18590),q=l(50840),Y=l(78969),Q=l(97080),$=l(20307),J=l(48713),W=l(73277),X=l(41814),Z=l(29475),ee=l(94120),ne=l(20315),le=l(45901),ie=l.n(le),ae=l(81365);const re=(e,n)=>{const l=y()(e.created_at),i=y()(n.created_at);return l.diff(i)},se=()=>{var e,n,d,u,m,g;const{t:v}=(0,_.Bd)(),{token:p}=q.A.useToken(),k=(0,o.CX)(),C=(0,ae.Zp)(),{serviceId:R}=(0,ae.g)(),[O,z]=(0,o.Tw)("initial-fetch"),[le,se]=(0,h.useTransition)(),[oe,te]=(0,h.useTransition)(),[de,ce]=(0,h.useState)(null),[ue,me]=(0,h.useState)(!1),[ge]=(0,w.U6)(),[ve]=(0,h.useState)({current:1,pageSize:100}),{message:pe}=Y.A.useApp(),ye=(0,o.f0)(),{endpoint:he,endpoint_token_list:_e}=(0,j.useLazyLoadQuery)(void 0!==D?D:D=l(28456),{tokenListOffset:(ve.current-1)*ve.pageSize,tokenListLimit:ve.pageSize,endpointId:R||""},{fetchPolicy:"initial-fetch"===O?"store-and-network":"network-only",fetchKey:O}),xe=(0,t.E)((()=>{if(he)return(0,s.hu)({method:"POST",url:"/services/".concat(he.endpoint_id,"/errors/clear"),client:k})})),Se=(0,t.E)((e=>(0,s.hu)({method:"POST",url:"/services/".concat(e,"/sync"),client:k}))),ke=function(){let e="default";switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()){case"HEALTHY":e="success";break;case"PROVISIONING":e="processing";break;case"UNHEALTHY":e="warning"}return e},fe=k.supports("modify-endpoint")?"".concat(null===he||void 0===he||null===(e=he.image_object)||void 0===e?void 0:e.registry,"/").concat(null===he||void 0===he||null===(n=he.image_object)||void 0===n?void 0:n.name,":").concat(null===he||void 0===he||null===(d=he.image_object)||void 0===d?void 0:d.tag,"@").concat(null===he||void 0===he||null===(u=he.image_object)||void 0===u?void 0:u.architecture):null===he||void 0===he?void 0:he.image,Ae=JSON.parse((null===he||void 0===he?void 0:he.resource_opts)||"{}"),Fe=[{label:v("modelService.EndpointName"),children:(0,x.jsx)(Q.A.Text,{copyable:!0,children:null===he||void 0===he?void 0:he.name})},{label:v("modelService.Status"),children:(0,x.jsx)(r.A,{endpointFrgmt:he})},{label:v("modelService.EndpointId"),children:null===he||void 0===he?void 0:he.endpoint_id},{label:v("modelService.SessionOwner"),children:(0,x.jsx)(a.A,{endpointFrgmt:he})},{label:v("modelService.DesiredSessionCount"),children:null===he||void 0===he?void 0:he.desired_session_count},{label:v("modelService.ServiceEndpoint"),children:null!==he&&void 0!==he&&he.url?(0,x.jsx)(Q.A.Text,{copyable:!0,children:null===he||void 0===he?void 0:he.url}):(0,x.jsx)(Q.A.Text,{type:"secondary",children:v("modelService.NoServiceEndpoint")})},{label:v("modelService.OpenToPublic"),children:null!==he&&void 0!==he&&he.open_to_public?(0,x.jsx)(E.A,{}):(0,x.jsx)(I.A,{})},{label:v("modelService.resources"),children:(0,x.jsxs)(c.A,{direction:"row",wrap:"wrap",gap:"md",children:[(0,x.jsx)($.A,{title:v("session.ResourceGroup"),children:(0,x.jsx)(J.A,{children:null===he||void 0===he?void 0:he.resource_group})}),ie().map(JSON.parse((null===he||void 0===he?void 0:he.resource_slots)||"{}"),((e,n)=>(0,x.jsx)(T.Ay,{type:n,value:e,opts:Ae},n)))]}),span:{xl:2}},{label:v("session.launcher.ModelStorage"),children:(0,x.jsx)(h.Suspense,{fallback:(0,x.jsx)(W.A,{indicator:(0,x.jsx)(L.A,{spin:!0})}),children:(0,x.jsxs)(c.A,{direction:"column",align:"start",children:[(0,x.jsx)(K.A,{uuid:null===he||void 0===he?void 0:he.model,clickable:!0}),k.supports("endpoint-extra-mounts")&&(null===he||void 0===he?void 0:he.model_mount_destination)&&(0,x.jsxs)(c.A,{direction:"row",align:"center",gap:"xxs",children:[(0,x.jsx)(P,{type:"secondary"}),(0,x.jsx)(Q.A.Text,{type:"secondary",children:null===he||void 0===he?void 0:he.model_mount_destination})]})]})})}];return k.supports("endpoint-extra-mounts")&&Fe.push({label:v("modelService.AdditionalMounts"),children:(0,x.jsx)(c.A,{direction:"column",align:"start",children:ie().map(null===he||void 0===he?void 0:he.extra_mounts,(e=>(0,x.jsx)(c.A,{direction:"row",gap:"xxs",children:(0,x.jsxs)(Q.A.Link,{onClick:()=>{ye({pathname:"/data",search:"?folder=".concat(null===e||void 0===e?void 0:e.row_id)})},children:[(0,x.jsx)(U.A,{})," ",null===e||void 0===e?void 0:e.name]})},null===e||void 0===e?void 0:e.row_id)))})}),Fe.push({label:v("session.launcher.EnvironmentVariable"),children:(0,x.jsx)(Q.A.Text,{style:{fontFamily:"monospace"},children:ie().isEmpty(JSON.parse(null===he||void 0===he?void 0:he.environ))?"-":null===he||void 0===he?void 0:he.environ}),span:{sm:1}}),Fe.push({label:v("modelService.Image"),children:(k.supports("modify-endpoint")?null===he||void 0===he?void 0:he.image_object:null===he||void 0===he?void 0:he.image)&&(0,x.jsxs)(c.A,{direction:"row",gap:"xs",children:[(0,x.jsx)(f.A,{image:fe}),(0,x.jsx)(i.default,{children:fe}),null!==he&&void 0!==he&&null!==(m=he.runtime_variant)&&void 0!==m&&m.human_readable_name?(0,x.jsx)(J.A,{children:null===he||void 0===he||null===(g=he.runtime_variant)||void 0===g?void 0:g.human_readable_name}):null]}),span:{xl:3}}),(0,x.jsxs)(c.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,x.jsx)(X.A,{items:[{title:v("modelService.Services"),onClick:e=>{e.preventDefault(),C("/serving")},href:"/serving"},{title:v("modelService.RoutingInfo")}]}),(0,x.jsxs)(c.A,{direction:"row",justify:"between",children:[(0,x.jsx)(Q.A.Title,{level:3,style:{margin:0},children:(null===he||void 0===he?void 0:he.name)||""}),(0,x.jsxs)(c.A,{gap:"xxs",children:[((null===he||void 0===he?void 0:he.retries)||0)>0?(0,x.jsx)($.A,{title:v("modelService.ClearErrors"),children:(0,x.jsx)(A.Ay,{loading:oe,icon:(0,x.jsx)(N.A,{}),onClick:()=>{te((()=>{xe.mutate(void 0,{onSuccess:()=>se((()=>{z()}))})}))}})}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)(A.Ay,{loading:le,icon:(0,x.jsx)(G.A,{}),onClick:()=>{se((()=>{z()}))},children:v("button.Refresh")})]})]}),(0,x.jsx)(Z.A,{title:v("modelService.ServiceInfo"),extra:(0,x.jsx)(A.Ay,{type:"primary",icon:(0,x.jsx)(M.A,{}),disabled:((null===he||void 0===he?void 0:he.desired_session_count)||0)<0||"DESTROYING"===(null===he||void 0===he?void 0:he.status)||!(null===he||void 0===he||!he.created_user_email)&&(null===he||void 0===he?void 0:he.created_user_email)!==ge.email,onClick:()=>{ye("/service/update/"+R)},children:v("button.Edit")}),children:(0,x.jsx)(F.A,{bordered:!0,column:{xxl:3,xl:3,lg:2,md:1,sm:1,xs:1},style:{backgroundColor:p.colorBgBase},items:Fe})}),(0,x.jsx)(Z.A,{title:v("modelService.GeneratedTokens"),extra:(0,x.jsx)(A.Ay,{type:"primary",icon:(0,x.jsx)(V.A,{}),disabled:"DESTROYING"===(null===he||void 0===he?void 0:he.status),onClick:()=>{me(!0)},children:v("modelService.GenerateToken")}),children:(0,x.jsx)(ee.A,{scroll:{x:"max-content"},rowKey:"token",columns:[{title:"#",fixed:"left",render:(e,n,l)=>++l,showSorterTooltip:!1},{title:"Token",dataIndex:"token",fixed:"left",render:(e,n)=>(0,x.jsx)(Q.A.Text,{ellipsis:!0,copyable:!0,style:{width:150},children:n.token})},{title:"Status",render:(e,n)=>{const l=y().utc(n.valid_until).isBefore();return(0,x.jsx)(J.A,{color:l?"red":"green",children:l?"Expired":"Valid"})}},{title:"Valid Until",dataIndex:"valid_until",render:(e,n)=>(0,x.jsx)("span",{children:n.valid_until?y().utc(n.valid_until).tz().format("ll LTS"):"-"}),defaultSortOrder:"descend",sortDirections:["descend","ascend","descend"],sorter:re},{title:"Created at",dataIndex:"created_at",render:(e,n)=>(0,x.jsx)("span",{children:y()(n.created_at).format("ll LT")}),defaultSortOrder:"descend",sortDirections:["descend","ascend","descend"],sorter:re}],pagination:!1,dataSource:(0,s.tS)(null===_e||void 0===_e?void 0:_e.items),bordered:!0})}),(0,x.jsx)(Z.A,{title:v("modelService.RoutesInfo"),extra:null!==he&&void 0!==he&&he.endpoint_id?(0,x.jsx)(A.Ay,{icon:(0,x.jsx)(H.A,{}),loading:Se.isLoading,onClick:()=>{(null===he||void 0===he?void 0:he.endpoint_id)&&Se.mutateAsync(null===he||void 0===he?void 0:he.endpoint_id,{onSuccess:e=>{null!==e&&void 0!==e&&e.success?(pe.success(v("modelService.SyncRoutesRequested")),se((()=>{z()}))):pe.error(v("modelService.SyncRoutesFailed"))},onError:e=>{pe.error(v("modelService.SyncRoutesFailed"))}})},children:v("modelService.SyncRoutes")}):null,children:(0,x.jsx)(ee.A,{scroll:{x:"max-content"},columns:[{title:v("modelService.RouteId"),dataIndex:"routing_id",fixed:"left"},{title:v("modelService.SessionId"),dataIndex:"session"},{title:v("modelService.Status"),render:(e,n)=>{let{session:l,status:i}=n;return i&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J.A,{color:ke(i),style:{marginRight:0},children:i.toUpperCase()},i),"FAILED_TO_START"===i&&(0,x.jsx)(ne.A,{children:(0,x.jsx)(A.Ay,{size:"small",type:"text",icon:(0,x.jsx)(B.A,{}),style:{color:p.colorTextSecondary},onClick:()=>l&&(e=>{if(null===he)return;const{errors:n}=he||{},l=null===n||void 0===n?void 0:n.find((n=>{let{session_id:l}=n;return e===l}));ce(l||null)})(l)})})]})}},{title:v("modelService.TrafficRatio"),dataIndex:"traffic_ratio"}],pagination:!1,dataSource:null===he||void 0===he?void 0:he.routings,rowKey:"routing_id",bordered:!0})}),(0,x.jsx)(b,{open:!!de,inferenceSessionErrorFrgmt:de,onRequestClose:()=>ce(null)}),(0,x.jsx)(S,{open:ue,onRequestClose:e=>{me(!ue),e&&se((()=>{z()}))},endpoint_id:(null===he||void 0===he?void 0:he.endpoint_id)||""})]})}},28456:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"endpointId"},n={defaultValue:null,kind:"LocalArgument",name:"tokenListLimit"},l={defaultValue:null,kind:"LocalArgument",name:"tokenListOffset"},i={kind:"Variable",name:"endpoint_id",variableName:"endpointId"},a=[i],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"image",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},h={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"retries",storageKey:null},j={alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"model_mount_destiation",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"routing_id",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"session",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"traffic_ratio",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},G={alias:null,args:[i,{kind:"Variable",name:"limit",variableName:"tokenListLimit"},{kind:"Variable",name:"offset",variableName:"tokenListOffset"}],concreteType:"EndpointTokenList",kind:"LinkedField",name:"endpoint_token_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},{alias:null,args:null,concreteType:"EndpointToken",kind:"LinkedField",name:"items",plural:!0,selections:[N,{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valid_until",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,n,l],kind:"Fragment",metadata:null,name:"EndpointDetailPageQuery",selections:[{alias:null,args:a,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[r,s,o,t,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[r,d,c,u,m,g,v,y,h,_,x],storageKey:null},S,k,f,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[A,{args:null,kind:"FragmentSpread",name:"InferenceSessionErrorModalFragment"}],storageKey:null},F,j,b,T,K,w,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[E,r],storageKey:null},I,L,C,R,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[O,z,P,D,s],storageKey:null},U,{args:null,kind:"FragmentSpread",name:"EndpointOwnerInfoFragment"},{args:null,kind:"FragmentSpread",name:"EndpointStatusTagFragment"}],storageKey:null},G],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,l,n],kind:"Operation",name:"EndpointDetailPageQuery",selections:[{alias:null,args:a,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[r,s,o,t,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[r,d,c,u,m,g,v,y,h,_,x,N],storageKey:null},S,k,f,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[A,{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],storageKey:null},F,j,b,T,K,w,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[E,r,N],storageKey:null},I,L,C,R,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[O,z,P,D,s,N],storageKey:null},U,N,{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null}],storageKey:null},G]},params:{cacheID:"36d455dc7c9dbd77834229a2b62b8a03",id:null,metadata:{},name:"EndpointDetailPageQuery",operationKind:"query",text:'query EndpointDetailPageQuery(\n  $endpointId: UUID!\n  $tokenListOffset: Int!\n  $tokenListLimit: Int!\n) {\n  endpoint(endpoint_id: $endpointId) {\n    name\n    status\n    endpoint_id\n    image @deprecatedSince(version: "23.09.9")\n    image_object @since(version: "23.09.9") {\n      name\n      humanized_name\n      tag\n      registry\n      architecture\n      is_local\n      digest\n      resource_limits {\n        key\n        min\n        max\n      }\n      labels {\n        key\n        value\n      }\n      size_bytes\n      supported_accelerators\n      id\n    }\n    desired_session_count\n    url\n    open_to_public\n    errors {\n      session_id\n      ...InferenceSessionErrorModalFragment\n    }\n    retries\n    runtime_variant @since(version: "24.03.5") {\n      human_readable_name\n    }\n    model\n    model_mount_destiation @deprecatedSince(version: "24.03.4")\n    model_mount_destination @since(version: "24.03.4")\n    model_definition_path @since(version: "24.03.4")\n    extra_mounts @since(version: "24.03.4") {\n      row_id\n      name\n      id\n    }\n    environ\n    resource_group\n    resource_slots\n    resource_opts\n    routings {\n      routing_id\n      session\n      traffic_ratio\n      endpoint\n      status\n      id\n    }\n    created_user_email @since(version: "23.09.8")\n    ...EndpointOwnerInfoFragment\n    ...EndpointStatusTagFragment\n    id\n  }\n  endpoint_token_list(offset: $tokenListOffset, limit: $tokenListLimit, endpoint_id: $endpointId) {\n    total_count\n    items {\n      id\n      token\n      endpoint_id\n      domain\n      project\n      session_owner\n      created_at\n      valid_until\n    }\n  }\n}\n\nfragment EndpointOwnerInfoFragment on Endpoint {\n  id\n  created_user_email @since(version: "23.09.8")\n  session_owner_email @since(version: "23.09.8")\n}\n\nfragment EndpointStatusTagFragment on Endpoint {\n  id\n  status\n}\n\nfragment InferenceSessionErrorModalFragment on InferenceSessionError {\n  session_id\n  errors {\n    repr\n  }\n}\n'}}}();i.hash="93d8cf901b655803b9feb0a38b6ef471";const a=i},52332:(e,n,l)=>{l.d(n,{A:()=>t});var i=l(58168),a=l(76998),r=l(90925),s=l(13410),o=function(e,n){return a.createElement(s.A,(0,i.A)({},e,{ref:n,icon:r.A}))};const t=a.forwardRef(o)},69048:(e,n,l)=>{l.d(n,{A:()=>t});var i=l(58168),a=l(76998);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var s=l(13410),o=function(e,n){return a.createElement(s.A,(0,i.A)({},e,{ref:n,icon:r}))};const t=a.forwardRef(o)},97553:(e,n,l)=>{l.d(n,{A:()=>t});var i=l(58168),a=l(76998);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};var s=l(13410),o=function(e,n){return a.createElement(s.A,(0,i.A)({},e,{ref:n,icon:r}))};const t=a.forwardRef(o)}}]);
//# sourceMappingURL=6849.d7aca09c.chunk.js.map