"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[159,711],{1502:function(e,n,t){t.r(n),t.d(n,{default:function(){return q},useShadowRoot:function(){return O},useWebComponentInfo:function(){return P}});var i=t(9439),r=t(4519),a=t(6980),o=t(7340),l=t(9002),s=t(7112),c=t(4447),u=t(1748),d=t(3881),v=t(9883),f=t(6670),p=t(4165),m=t(5861),g=t(1011),h=t(1413);function x(e,n){var t=(0,h.Z)({},n);return function(e){for(var n,t=/(\w+)\s@\s*(\w+)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/g,r=[];null!==(n=t.exec(e));){var a=n,o=(0,i.Z)(a,5),l=o[0],s=o[1],c=o[2],u=o[3],d=o[4];r.push({fieldName:s,directive:c,argumentName:u,argumentValue:d,originFieldStr:l})}return r}(e).forEach((function(i){if("skipOnClient"===i.directive&&"if"===i.argumentName&&(e=!i.argumentValue||!0!==n[i.argumentValue.substring(1)]&&"true"!==i.argumentValue?e.replace(i.originFieldStr,i.originFieldStr.replace(/@\s*(skipOnClient)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/,"")):e.replace(i.originFieldStr,""),i.argumentValue.startsWith("$")&&2===e.split(i.argumentValue).length)){var r=i.argumentValue.substring(1),a=new RegExp(".*".concat(r,".*\n"),"g");e=e.replace(a,""),delete t[i.argumentValue.substring(1)]}})),{query:e,variables:t}}g.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var b=function(){var e=(0,m.Z)((0,p.Z)().mark((function e(n,t){var i,r,a,o,l,s;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x(n.text||"",t),o={query:a.query,variables:a.variables},l=null===(i=globalThis.backendaiclient)||void 0===i?void 0:i.newSignedRequest("POST","/admin/gql",o),e.next=5,null===(r=globalThis.backendaiclient)||void 0===r?void 0:r._wrapWithPromise(l,!1,null,1e4,0);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var y,Z=new g.Environment({network:g.Network.create(b,void 0),store:new g.Store(new g.RecordSource)}),w=t(382),j=t(1843),k=t(2674),C=t(2556),E=r.createContext(null),S=r.createContext(null),O=function(){return r.useContext(S)},P=function(){return r.useContext(E)},z=new s.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});c.ZP.use(u.Db).use(d.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(y=globalThis.backendaioptions)||void 0===y?void 0:y.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var N=function(){var e=(0,k.s0)();return(0,r.useLayoutEffect)((function(){var n=function(n){var t=n.detail;e(t,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},q=function(e){var n=e.children,t=e.value,c=e.styles,d=e.shadowRoot,p=e.dispatchEvent,m=(0,r.useMemo)((function(){return(0,o.Df)()}),[]),g=function(){var e,n=(0,r.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),t=(0,i.Z)(n,2),a=t[0],o=t[1],l=(0,u.$G)().i18n;return(0,r.useEffect)((function(){setTimeout((function(){return null===l||void 0===l?void 0:l.changeLanguage(a)}),0)}),[]),(0,r.useEffect)((function(){var e=function(e){var n,t;o(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var i=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.lang)||"en";null===l||void 0===l||l.changeLanguage(i)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[l]),[a]}(),h=(0,i.Z)(g,1)[0],x=(0,w.x)(),b=(0,r.useMemo)((function(){return{value:t,dispatchEvent:p,moveTo:function(e){p("moveTo",{path:e})}}}),[t,p]);return(0,C.jsx)(C.Fragment,{children:Z&&(0,C.jsx)(a.RelayEnvironmentProvider,{environment:Z,children:(0,C.jsxs)(r.StrictMode,{children:[(0,C.jsxs)("style",{children:[c,"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n"]}),(0,C.jsx)(s.QueryClientProvider,{client:z,children:(0,C.jsx)(S.Provider,{value:d,children:(0,C.jsx)(E.Provider,{value:b,children:(0,C.jsx)(l.ZP,{getPopupContainer:function(e){return d},locale:"ko"===h?f.Z:v.Z,theme:x,children:(0,C.jsx)(o.V9,{container:d,cache:m,children:(0,C.jsx)(r.Suspense,{fallback:"",children:(0,C.jsxs)(j.VK,{children:[(0,C.jsx)(N,{}),n]})})})})})})})]})})})}},9277:function(e,n,t){var i=t(1413),r=t(4925),a=t(4036),o=(t(4519),t(2556)),l=["direction","wrap","justify","align","gap","style","children"];n.Z=function(e){var n=e.direction,t=void 0===n?"row":n,s=e.wrap,c=void 0===s?"nowrap":s,u=e.justify,d=void 0===u?"flex-start":u,v=e.align,f=void 0===v?"center":v,p=e.gap,m=void 0===p?0:p,g=e.style,h=e.children,x=(0,r.Z)(e,l),b=a.Z.useToken().token,y=[d,f],Z=null===y||void 0===y?void 0:y.map((function(e){var n;switch(e){case"start":n="flex-start";break;case"end":n="flex-end";break;case"between":n="space-between";break;case"around":n="space-around";break;default:n=e}return n})),w=(0,i.Z)({display:"flex",flexDirection:t,flexWrap:c,justifyContent:Z[0],alignItems:Z[1]},g);return(0,o.jsx)("div",(0,i.Z)((0,i.Z)({style:(0,i.Z)({alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",gap:"string"===typeof m?b["padding"+m.toUpperCase()]:m},w)},x),{},{children:h}))}},8159:function(e,n,t){t.r(n);var i=t(1413),r=t(6459),a=(t(4519),t(8499)),o=t(3842),l=t(2513),s=t(3572),c=t(4027),u=t(8818),d=t(3861),v=t(8501),f=t(558),p=t(1748),m=t(1502),g=t(9277),h=t(2556),x=a.Z.Text;n.default=function(e){var n,t=Object.assign({},((0,r.Z)(e),e)),a=(0,p.$G)().t,b=(0,m.useWebComponentInfo)(),y=b.value,Z=b.dispatchEvent;try{n=JSON.parse(y||"")}catch(C){n={open:!1,servicePorts:[]}}var w=n,j=w.open,k=w.servicePorts;return(0,h.jsx)(o.Z,(0,i.Z)((0,i.Z)({open:j,onCancel:function(){Z("cancel",null)},centered:!0,title:a("environment.ManageApps")},t),{},{footer:[(0,h.jsxs)(g.Z,{direction:"row",justify:"between",children:[(0,h.jsx)(l.ZP,{type:"text",danger:!0,children:a("button.Reset")}),(0,h.jsx)(l.ZP,{type:"primary",icon:(0,h.jsx)(d.Z,{}),children:a("button.Save")})]})],children:(0,h.jsx)(s.Z,{initialValues:{apps:k},onFinish:function(e){console.log("Saved settings. ",e)},autoComplete:"off",children:(0,h.jsxs)(g.Z,{direction:"column",gap:"xs",children:[(0,h.jsxs)(c.Z.Compact,{block:!0,children:[(0,h.jsx)(x,{style:{width:"30%"},children:a("environment.AppName")}),(0,h.jsx)(x,{style:{width:"30%"},children:a("environment.Protocol")}),(0,h.jsx)(x,{style:{width:"30%"},children:a("environment.Port")}),(0,h.jsx)(x,{style:{width:"10%",textAlign:"center"}})]}),(0,h.jsx)(s.Z.List,{name:"apps",children:function(e,n){var t=n.add,r=n.remove;return(0,h.jsxs)(g.Z,{direction:"column",gap:"sm",children:[e.map((function(e){return(0,h.jsxs)(g.Z,{direction:"row",gap:"xs",children:[(0,h.jsxs)(c.Z.Compact,{block:!0,children:[(0,h.jsx)(s.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"app"],rules:[{required:!0,message:a("environment.AppNameMustNotBeEmpty")}],noStyle:!0,children:(0,h.jsx)(u.Z,{})})),(0,h.jsx)(s.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"protocol"],noStyle:!0,children:(0,h.jsx)(u.Z,{})})),(0,h.jsx)(s.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"port"],noStyle:!0,children:(0,h.jsx)(u.Z,{})}))]},e.key),(0,h.jsx)(l.ZP,{type:"text",onClick:function(){return r(e.name)},style:{width:"10%"},icon:(0,h.jsx)(v.Z,{})})]})})),(0,h.jsx)(l.ZP,{type:"dashed",onClick:function(){return t()},block:!0,icon:(0,h.jsx)(f.Z,{}),children:a("button.Add")})]})}})]})})}))}},8501:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(7462),r=t(4519),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=t(9491),l=function(e,n){return r.createElement(o.Z,(0,i.Z)({},e,{ref:n,icon:a}))};var s=r.forwardRef(l)},558:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(7462),r=t(4519),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=t(9491),l=function(e,n){return r.createElement(o.Z,(0,i.Z)({},e,{ref:n,icon:a}))};var s=r.forwardRef(l)},4027:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(4942),r=t(9439),a=t(3270),o=t.n(a),l=t(5882),s=t(4519),c=t(145),u=t(564),d=t(2746),v=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),f=v.Provider,p=function(e){var n=e.className,t=e.direction,r=e.index,a=e.marginDirection,o=e.children,l=e.split,c=e.wrap,u=e.style,d=s.useContext(v),f=d.horizontalSize,p=d.verticalSize,m=d.latestIndex,g={};return d.supportFlexGap||("vertical"===t?r<m&&(g={marginBottom:f/(l?2:1)}):g=Object.assign(Object.assign({},r<m&&(0,i.Z)({},a,f/(l?2:1))),c&&{paddingBottom:p})),null===o||void 0===o?null:s.createElement(s.Fragment,null,s.createElement("div",{className:n,style:Object.assign(Object.assign({},g),u)},o),r<m&&l&&s.createElement("span",{className:"".concat(n,"-split"),style:g},l))},m=t(3522),g=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},h={small:8,middle:16,large:24};var x=s.forwardRef((function(e,n){var t,a,d,v=s.useContext(u.E_),x=v.getPrefixCls,b=v.space,y=v.direction,Z=e.size,w=void 0===Z?(null===b||void 0===b?void 0:b.size)||"small":Z,j=e.align,k=e.className,C=e.rootClassName,E=e.children,S=e.direction,O=void 0===S?"horizontal":S,P=e.prefixCls,z=e.split,N=e.style,q=e.wrap,R=void 0!==q&&q,T=e.classNames,L=e.styles,V=g(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),F=(0,c.Z)(),_=s.useMemo((function(){return(Array.isArray(w)?w:[w,w]).map((function(e){return function(e){return"string"===typeof e?h[e]:e||0}(e)}))}),[w]),I=(0,r.Z)(_,2),M=I[0],A=I[1],B=(0,l.Z)(E,{keepEmpty:!0}),W=void 0===j&&"horizontal"===O?"center":j,D=x("space",P),G=(0,m.Z)(D),H=(0,r.Z)(G,2),$=H[0],Q=H[1],J=o()(D,null===b||void 0===b?void 0:b.className,Q,"".concat(D,"-").concat(O),(t={},(0,i.Z)(t,"".concat(D,"-rtl"),"rtl"===y),(0,i.Z)(t,"".concat(D,"-align-").concat(W),W),t),k,C),K=o()("".concat(D,"-item"),null!==(a=null===T||void 0===T?void 0:T.item)&&void 0!==a?a:null===(d=null===b||void 0===b?void 0:b.classNames)||void 0===d?void 0:d.item),U="rtl"===y?"marginLeft":"marginRight",Y=0,X=B.map((function(e,n){var t,i;null!==e&&void 0!==e&&(Y=n);var r=e&&e.key||"".concat(K,"-").concat(n);return s.createElement(p,{className:K,key:r,direction:O,index:n,marginDirection:U,split:z,wrap:R,style:null!==(t=null===L||void 0===L?void 0:L.item)&&void 0!==t?t:null===(i=null===b||void 0===b?void 0:b.styles)||void 0===i?void 0:i.item},e)})),ee=s.useMemo((function(){return{horizontalSize:M,verticalSize:A,latestIndex:Y,supportFlexGap:F}}),[M,A,Y,F]);if(0===B.length)return null;var ne={};return R&&(ne.flexWrap="wrap",F||(ne.marginBottom=-A)),F&&(ne.columnGap=M,ne.rowGap=A),$(s.createElement("div",Object.assign({ref:n,className:J,style:Object.assign(Object.assign(Object.assign({},ne),null===b||void 0===b?void 0:b.style),N)},V),s.createElement(f,{value:ee},X)))}));var b=x;b.Compact=d.ZP;var y=b},6459:function(e,n,t){function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return i}})}}]);
//# sourceMappingURL=159.5d7d1351.chunk.js.map