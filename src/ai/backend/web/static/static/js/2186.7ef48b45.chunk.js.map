{"version":3,"file":"static/js/2186.7ef48b45.chunk.js","mappings":"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","sources":["components/DatePickerISO.tsx","components/SessionLauncherErrorTourProps.tsx","components/SessionLauncherFormIncompatibleValueChecker.tsx","__generated__/SessionOwnerSetterCardQuery.graphql.ts","components/SessionOwnerSetterCard.tsx","components/SessionLauncherPreview.tsx","components/SessionNameFormItem.tsx","hooks/useRecentSessionHistory.tsx","components/SessionTemplateModal.tsx","pages/SessionLauncherPage.tsx","components/HiddenFormItem.tsx","hooks/useValidateSessionName.tsx"],"sourcesContent":["import { useControllableValue } from 'ahooks';\nimport { DatePicker } from 'antd';\nimport { PickerProps } from 'antd/es/date-picker/generatePicker';\nimport { GetRef } from 'antd/lib';\nimport dayjs, { Dayjs } from 'dayjs';\nimport _ from 'lodash';\nimport React from 'react';\n\nexport interface DatePickerISOProps\n  extends Omit<PickerProps<Dayjs>, 'value' | 'onChange'> {\n  value?: string | undefined | null;\n  onChange?: (value: string | undefined) => void;\n  localFormat?: boolean;\n}\nconst DatePickerISO = React.forwardRef<\n  GetRef<typeof DatePicker>,\n  DatePickerISOProps\n>(({ value, onChange, localFormat, ...pickerProps }, ref) => {\n  const [, setControllableValue] = useControllableValue({\n    value,\n    onChange,\n  });\n\n  return (\n    <DatePicker\n      ref={ref}\n      value={value ? dayjs(value) : undefined}\n      onChange={(value) => {\n        if (_.isArray(value)) {\n          value = value[0];\n        }\n        const newValue = localFormat\n          ? value?.format()\n          : value?.tz()?.toISOString();\n        // \"2023-11-10T18:09:56+08:00\"\n        setControllableValue(newValue);\n      }}\n      {...pickerProps}\n    />\n  );\n});\n\nDatePickerISO.displayName = 'DatePickerISO';\nexport default DatePickerISO;\n","import { useBAISettingUserState } from '../hooks/useBAISetting';\nimport { Tour, type TourProps } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface SessionLauncherValidationTourProps extends Omit<TourProps, 'steps'> {}\nconst SessionLauncherValidationTour: React.FC<\n  SessionLauncherValidationTourProps\n> = ({ open, onClose, ...otherProps }) => {\n  const { t } = useTranslation();\n  const [hasOpenedValidationTour, setHasOpenedValidationTour] =\n    useBAISettingUserState('has_opened_tour_neo_session_validation');\n\n  const steps = [\n    {\n      title: t('tourGuide.neoSessionLauncher.ValidationErrorTitle'),\n      description: t('tourGuide.neoSessionLauncher.ValidationErrorText'),\n      target: () =>\n        document.getElementsByClassName('bai-card-error')?.[0] as HTMLElement,\n    },\n    {\n      title: t('tourGuide.neoSessionLauncher.ValidationErrorTitle'),\n      description: t(\n        'tourGuide.neoSessionLauncher.FixErrorFieldByModifyButton',\n      ),\n      target: () =>\n        (\n          document.getElementsByClassName('bai-card-error')?.[0] as HTMLElement\n        )?.querySelector('.ant-card-extra') as HTMLElement,\n    },\n    {\n      title: t('tourGuide.neoSessionLauncher.ValidationErrorTitle'),\n      description: t('tourGuide.neoSessionLauncher.FixErrorAndTryAgainText'),\n      target: () =>\n        document.querySelector(\n          '[data-test-id=\"neo-session-launcher-tour-step-navigation\"]',\n        ) as HTMLElement,\n    },\n  ];\n  return (\n    <Tour\n      steps={steps}\n      onClose={(e) => {\n        onClose?.(e);\n        setHasOpenedValidationTour(true);\n      }}\n      open={!hasOpenedValidationTour && open}\n      {...otherProps}\n    />\n  );\n};\n\nexport default SessionLauncherValidationTour;\n","import { SessionLauncherFormValue } from '../pages/SessionLauncherPage';\nimport { App, Form, type FormInstance } from 'antd';\nimport _ from 'lodash';\nimport React, { useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst SessionLauncherFormIncompatibleValueChecker: React.FC<{\n  form: FormInstance<SessionLauncherFormValue>;\n}> = ({ form }) => {\n  const mounts = Form.useWatch('mounts', form);\n  const app = App.useApp();\n  const { t } = useTranslation();\n\n  const hasIncompatibleMountsParam = useMemo(() => {\n    return _.isArray(mounts) && mounts.length > 0;\n  }, [mounts]);\n  useEffect(() => {\n    if (hasIncompatibleMountsParam) {\n      app.message.warning(\n        t('session.launcher.InvalidMountsSelectionWarning'),\n        5,\n      );\n      form.setFieldValue('mounts', undefined);\n    }\n  }, [hasIncompatibleMountsParam, t, app.message, form]);\n  return null;\n};\n\nexport default SessionLauncherFormIncompatibleValueChecker;\n","/**\n * @generated SignedSource<<b3429e7405e500fee4b598b5887f5d0e>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type SessionOwnerSetterCardQuery$variables = {\n  email: string;\n};\nexport type SessionOwnerSetterCardQuery$data = {\n  readonly keypairs: ReadonlyArray<{\n    readonly access_key: string | null | undefined;\n  } | null | undefined> | null | undefined;\n  readonly user: {\n    readonly domain_name: string | null | undefined;\n    readonly groups: ReadonlyArray<{\n      readonly id: string | null | undefined;\n      readonly name: string | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n};\nexport type SessionOwnerSetterCardQuery = {\n  response: SessionOwnerSetterCardQuery$data;\n  variables: SessionOwnerSetterCardQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"email\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"email\",\n    \"variableName\": \"email\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"access_key\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"domain_name\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"UserGroup\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"groups\",\n  \"plural\": true,\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    (v4/*: any*/)\n  ],\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypairs\",\n        \"plural\": true,\n        \"selections\": [\n          (v2/*: any*/)\n        ],\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypairs\",\n        \"plural\": true,\n        \"selections\": [\n          (v2/*: any*/),\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          (v5/*: any*/),\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"a8de553c14d6730a6825cba2f409be0d\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"SessionOwnerSetterCardQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query SessionOwnerSetterCardQuery(\\n  $email: String!\\n) {\\n  keypairs(email: $email) {\\n    access_key\\n    id\\n  }\\n  user(email: $email) {\\n    domain_name\\n    groups {\\n      name\\n      id\\n    }\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"ba086835ea654ab889e0e6aaefa0abfe\";\n\nexport default node;\n","import { SessionOwnerSetterCardQuery } from '../__generated__/SessionOwnerSetterCardQuery.graphql';\nimport { useCurrentUserRole } from '../hooks/backendai';\nimport { useTanQuery } from '../hooks/reactQueryAlias';\nimport HiddenFormItem from './HiddenFormItem';\nimport {\n  Button,\n  Card,\n  Col,\n  Descriptions,\n  Form,\n  Input,\n  Row,\n  Select,\n  Switch,\n  theme,\n} from 'antd';\nimport { CardProps } from 'antd/lib';\nimport {\n  BAICard,\n  BAICardProps,\n  BAIFlex,\n  BAISelect,\n  BAIProjectResourceGroupSelect,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { CheckIcon } from 'lucide-react';\nimport React, { Suspense, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, fetchQuery, useRelayEnvironment } from 'react-relay';\n\nexport interface SessionOwnerSetterFormValues {\n  owner?:\n    | {\n        email: string;\n        accesskey: string;\n        project: string;\n        resourceGroup: string;\n        enabled: true;\n        domainName: string;\n      }\n    | {\n        email?: string;\n        accesskey?: string;\n        project?: string;\n        resourceGroup?: string;\n        enabled: false;\n        domainName?: string;\n      };\n}\n\nconst SessionOwnerSetterCard: React.FC<CardProps> = (props) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const form = Form.useFormInstance<SessionOwnerSetterFormValues>();\n\n  const isActive = Form.useWatch(['owner', 'enabled'], form);\n\n  const [fetchingEmail, setFetchingEmail] = useState<string>();\n  const relayEvn = useRelayEnvironment();\n\n  const { data, isFetching } = useTanQuery({\n    queryKey: ['SessionOwnerSetterCard', 'ownerInfo', fetchingEmail],\n    queryFn: () => {\n      const email = form.getFieldValue(['owner', 'email']);\n      if (!email) return;\n\n      const query = graphql`\n        query SessionOwnerSetterCardQuery($email: String!) {\n          keypairs(email: $email) {\n            access_key\n          }\n          user(email: $email) {\n            domain_name\n            groups {\n              name\n              id\n            }\n          }\n        }\n      `;\n      return fetchQuery<SessionOwnerSetterCardQuery>(relayEvn, query, {\n        email,\n      }).toPromise();\n    },\n    enabled: !!fetchingEmail,\n  });\n\n  const ownerKeypairs = form.getFieldValue(['owner', 'email'])\n    ? data?.keypairs\n    : undefined;\n  const owner = form.getFieldValue(['owner', 'email']) ? data?.user : undefined;\n\n  const nonExistentOwner = !isFetching && fetchingEmail && !owner;\n\n  return (\n    <Card\n      title={t('session.launcher.SetSessionOwner')}\n      extra={\n        <Form.Item name={['owner', 'enabled']} valuePropName=\"checked\" noStyle>\n          <Switch />\n        </Form.Item>\n      }\n      styles={\n        isActive\n          ? undefined\n          : {\n              header: {\n                borderBottom: 'none',\n              },\n              body: {\n                display: isActive ? 'block' : 'none',\n              },\n            }\n      }\n      {...props}\n    >\n      <HiddenFormItem\n        name={['owner', 'domainName']}\n        value={owner?.domain_name}\n      />\n      <Form.Item dependencies={[['owner', 'enabled']]} noStyle>\n        {({ getFieldValue }) => {\n          return (\n            <>\n              <BAIFlex>\n                <Form.Item\n                  name={['owner', 'email']}\n                  label={t('session.launcher.OwnerEmail')}\n                  rules={[\n                    {\n                      required: isActive,\n                    },\n                    {\n                      type: 'email',\n                      message: t('general.validation.InvalidEmailAddress'),\n                    },\n                  ]}\n                  style={{ flex: 1 }}\n                  validateStatus={nonExistentOwner ? 'error' : undefined}\n                  help={\n                    nonExistentOwner\n                      ? t('credential.NoUserToDisplay')\n                      : undefined\n                  }\n                >\n                  <Input.Search\n                    onSearch={(v) => {\n                      // startTransition(()=>{\n                      form\n                        .validateFields([['owner', 'email']])\n                        .then(() => {\n                          setFetchingEmail(v);\n                        })\n                        .catch(() => {});\n                      // })\n                    }}\n                    onChange={() => {\n                      setFetchingEmail('');\n                      form.setFieldsValue({\n                        owner: {\n                          accesskey: '',\n                          project: undefined,\n                          resourceGroup: undefined,\n                        },\n                      });\n                    }}\n                    loading={isFetching}\n                    enterButton={\n                      !isFetching && owner ? (\n                        <Button icon={<CheckIcon />} />\n                      ) : undefined\n                    }\n                  />\n                </Form.Item>\n              </BAIFlex>\n              <Form.Item\n                name={['owner', 'accesskey']}\n                label={t('session.launcher.OwnerAccessKey')}\n                rules={[\n                  {\n                    required: getFieldValue(['owner', 'enabled']),\n                  },\n                ]}\n              >\n                <BAISelect\n                  options={_.map(ownerKeypairs, (k) => {\n                    return {\n                      label: k?.access_key,\n                      value: k?.access_key,\n                    };\n                  })}\n                  autoSelectOption\n                  disabled={_.isEmpty(fetchingEmail) || isFetching}\n                  // defaultActiveFirstOption\n                />\n              </Form.Item>\n              <Row gutter={token.marginSM}>\n                <Col span={12}>\n                  <Form.Item\n                    name={['owner', 'project']}\n                    label={t('session.launcher.OwnerGroup')}\n                    rules={[\n                      {\n                        required: getFieldValue(['owner', 'enabled']),\n                      },\n                    ]}\n                  >\n                    <BAISelect\n                      options={_.map(owner?.groups, (g) => {\n                        return {\n                          label: g?.name,\n                          value: g?.name,\n                        };\n                      })}\n                      autoSelectOption\n                      disabled={_.isEmpty(fetchingEmail) || isFetching}\n                    />\n                  </Form.Item>\n                </Col>\n                <Col span={12}>\n                  <Form.Item dependencies={[['owner', 'project']]} noStyle>\n                    {({ getFieldValue }) => {\n                      return (\n                        <Suspense\n                          fallback={\n                            <Form.Item\n                              label={t('session.launcher.OwnerResourceGroup')}\n                              rules={[\n                                {\n                                  required: getFieldValue(['owner', 'enabled']),\n                                },\n                              ]}\n                            >\n                              <Select loading />\n                            </Form.Item>\n                          }\n                        >\n                          <Form.Item\n                            name={['owner', 'resourceGroup']}\n                            label={t('session.launcher.OwnerResourceGroup')}\n                            rules={[\n                              {\n                                required: getFieldValue(['owner', 'enabled']),\n                              },\n                            ]}\n                          >\n                            {getFieldValue(['owner', 'project']) ? (\n                              <BAIProjectResourceGroupSelect\n                                projectName={getFieldValue([\n                                  'owner',\n                                  'project',\n                                ])}\n                                disabled={\n                                  _.isEmpty(fetchingEmail) || isFetching\n                                }\n                                autoSelectDefault\n                              />\n                            ) : (\n                              <Select disabled />\n                            )}\n                          </Form.Item>\n                        </Suspense>\n                      );\n                    }}\n                  </Form.Item>\n                </Col>\n              </Row>\n            </>\n          );\n        }}\n      </Form.Item>\n    </Card>\n  );\n};\n\nexport const SessionOwnerSetterPreviewCard: React.FC<BAICardProps> = (\n  props,\n) => {\n  const { t } = useTranslation();\n  const form = Form.useFormInstance();\n  const isActive = Form.useWatch(['owner', 'enabled'], form);\n  const currentUserRole = useCurrentUserRole();\n  return (\n    (currentUserRole === 'admin' || currentUserRole === 'superadmin') &&\n    isActive && (\n      <BAICard\n        title={t('session.launcher.SetSessionOwner')}\n        showDivider\n        size=\"small\"\n        status={\n          form.getFieldError(['owner', 'email']).length > 0 ||\n          form.getFieldError(['owner', 'accesskey']).length > 0 ||\n          form.getFieldError(['owner', 'project']).length > 0 ||\n          form.getFieldError(['owner', 'resourceGroup']).length > 0\n            ? 'error'\n            : undefined\n        }\n        extraButtonTitle={t('button.Edit')}\n        {...props}\n      >\n        <Descriptions size=\"small\" column={1}>\n          <Descriptions.Item label={t('session.launcher.OwnerEmail')}>\n            {form.getFieldValue(['owner', 'email'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerAccessKey')}>\n            {form.getFieldValue(['owner', 'accesskey'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerGroup')}>\n            {form.getFieldValue(['owner', 'project'])}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('session.launcher.OwnerResourceGroup')}>\n            {form.getFieldValue(['owner', 'resourceGroup'])}\n          </Descriptions.Item>\n        </Descriptions>\n      </BAICard>\n    )\n  );\n};\n\nexport default SessionOwnerSetterCard;\n","import { preserveDotStartCase, getImageFullName } from '../helper';\nimport {\n  useBackendAIImageMetaData,\n  useSuspendedBackendaiClient,\n} from '../hooks';\nimport { useCurrentProjectValue } from '../hooks/useCurrentProject';\nimport {\n  SessionLauncherFormValue,\n  ResourceNumbersOfSession,\n  SessionLauncherStepKey,\n} from '../pages/SessionLauncherPage';\nimport ImageMetaIcon from './ImageMetaIcon';\nimport { ImageTags } from './ImageTags';\nimport { PortTag } from './PortSelectFormItem';\nimport { SessionOwnerSetterPreviewCard } from './SessionOwnerSetterCard';\nimport SourceCodeView from './SourceCodeView';\nimport {\n  Descriptions,\n  Typography,\n  Row,\n  Col,\n  Divider,\n  Tag,\n  Alert,\n  Card,\n  Table,\n  Form,\n  theme,\n  Button,\n  App,\n} from 'antd';\nimport { BAIAlert, BAICard, BAIDoubleTag, BAIFlex } from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\n\nconst SessionLauncherPreview: React.FC<{\n  onClickEditStep: (stepKey: SessionLauncherStepKey) => void;\n}> = ({ onClickEditStep }) => {\n  const app = App.useApp();\n  const { t } = useTranslation();\n  const form = Form.useFormInstance<SessionLauncherFormValue>();\n  const { token } = theme.useToken();\n  const baiClient = useSuspendedBackendaiClient();\n  const sessionType = Form.useWatch('sessionType', { form, preserve: true });\n  const supportBatchTimeout = baiClient?.supports('batch-timeout') ?? false;\n  const supportExtendedImageInfo =\n    baiClient?.supports('extended-image-info') ?? false;\n  const currentProject = useCurrentProjectValue();\n  const [, { getBaseVersion, getBaseImage, tagAlias }] =\n    useBackendAIImageMetaData();\n\n  return (\n    <>\n      {form.getFieldValue('bootstrap_script') && (\n        <BAIAlert\n          description={t('session.launcher.UsingBootstrapScriptInfo')}\n          ghostInfoBg={false}\n          action={\n            <Button\n              size=\"small\"\n              type=\"text\"\n              onClick={() => {\n                app.modal.info({\n                  title: t('session.launcher.BootstrapScriptDetail'),\n                  content: (\n                    <BAIFlex direction=\"column\" align=\"start\">\n                      <Typography.Paragraph>\n                        {t('userSettings.BootstrapScriptDescription')}\n                      </Typography.Paragraph>\n                      <SourceCodeView language={'shell'}>\n                        {form.getFieldValue('bootstrap_script')}\n                      </SourceCodeView>\n                    </BAIFlex>\n                  ),\n                  width: 800,\n                });\n              }}\n            >\n              {t('notification.SeeDetail')}\n            </Button>\n          }\n          type=\"info\"\n          showIcon\n        />\n      )}\n      <BAICard\n        title={t('session.launcher.SessionType')}\n        showDivider\n        size=\"small\"\n        status={\n          form.getFieldError('sessionName').length > 0 ||\n          form.getFieldError(['batch', 'command']).length > 0 ||\n          form.getFieldError(['batch', 'scheduleDate']).length > 0\n            ? 'error'\n            : undefined\n        }\n        extraButtonTitle={t('button.Edit')}\n        onClickExtraButton={() => {\n          onClickEditStep('sessionType');\n        }}\n      >\n        <Descriptions size=\"small\" column={1}>\n          <Descriptions.Item label={t('session.SessionType')}>\n            {form.getFieldValue('sessionType')}\n          </Descriptions.Item>\n          {!_.isEmpty(form.getFieldValue('sessionName')) && (\n            <Descriptions.Item label={t('session.launcher.SessionName')}>\n              {form.getFieldValue('sessionName')}\n            </Descriptions.Item>\n          )}\n          {sessionType === 'batch' && (\n            <>\n              <Descriptions.Item\n                label={t('session.launcher.StartUpCommand')}\n                styles={{\n                  label: {\n                    whiteSpace: 'nowrap',\n                  },\n                  content: {\n                    overflow: 'auto',\n                  },\n                }}\n              >\n                {form.getFieldValue(['batch', 'command']) ? (\n                  <SourceCodeView language=\"shell\">\n                    {form.getFieldValue(['batch', 'command'])}\n                  </SourceCodeView>\n                ) : (\n                  <Typography.Text type=\"secondary\">\n                    {t('general.None')}\n                  </Typography.Text>\n                )}\n              </Descriptions.Item>\n              <Descriptions.Item label={t('session.launcher.SessionStartTime')}>\n                {form.getFieldValue(['batch', 'scheduleDate']) ? (\n                  dayjs(form.getFieldValue(['batch', 'scheduleDate'])).format(\n                    'LLL (Z)',\n                  )\n                ) : (\n                  <Typography.Text type=\"secondary\">\n                    {t('general.None')}\n                  </Typography.Text>\n                )}\n              </Descriptions.Item>\n              {supportBatchTimeout ? (\n                <Descriptions.Item\n                  label={t('session.launcher.BatchJobTimeoutDuration')}\n                >\n                  {form.getFieldValue(['batch', 'timeout']) ? (\n                    <Typography.Text>\n                      {form.getFieldValue(['batch', 'timeout'])}\n                      {form.getFieldValue(['batch', 'timeoutUnit']) || 's'}\n                    </Typography.Text>\n                  ) : (\n                    <Typography.Text type=\"secondary\">\n                      {t('general.None')}\n                    </Typography.Text>\n                  )}\n                </Descriptions.Item>\n              ) : null}\n            </>\n          )}\n        </Descriptions>\n      </BAICard>\n      <SessionOwnerSetterPreviewCard\n        onClickExtraButton={() => {\n          onClickEditStep('sessionType');\n        }}\n      />\n      <BAICard\n        title={t('session.launcher.Environments')}\n        showDivider\n        size=\"small\"\n        status={\n          _.some(\n            form.getFieldValue(\n              'envvars',\n            ) as SessionLauncherFormValue['envvars'],\n            (_v, idx) => {\n              return (\n                form.getFieldError(['envvars', idx, 'variable']).length > 0 ||\n                form.getFieldError(['envvars', idx, 'value']).length > 0\n              );\n            },\n          )\n            ? 'error'\n            : undefined\n        }\n        extraButtonTitle={t('button.Edit')}\n        onClickExtraButton={() => {\n          onClickEditStep('environment');\n        }}\n      >\n        <Descriptions size=\"small\" column={1}>\n          <Descriptions.Item label={t('session.launcher.Project')}>\n            {currentProject.name}\n          </Descriptions.Item>\n          <Descriptions.Item label={t('general.Image')}>\n            {supportExtendedImageInfo ? (\n              <Row style={{ flexFlow: 'nowrap' }}>\n                <Col>\n                  <ImageMetaIcon\n                    image={\n                      form.getFieldValue('environments')?.version ||\n                      form.getFieldValue('environments')?.manual\n                    }\n                    style={{ marginRight: token.marginXS }}\n                  />\n                </Col>\n                <Col>\n                  <BAIFlex direction=\"row\" wrap=\"wrap\">\n                    {form.getFieldValue('environments')?.manual ? (\n                      <Typography.Text\n                        code\n                        style={{ wordBreak: 'break-all' }}\n                        copyable={{\n                          text: form.getFieldValue('environments')?.manual,\n                        }}\n                      >\n                        {form.getFieldValue('environments')?.manual}\n                      </Typography.Text>\n                    ) : (\n                      <>\n                        <Typography.Text>\n                          {tagAlias(\n                            form.getFieldValue('environments')?.image\n                              ?.base_image_name,\n                          )}\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        <Typography.Text>\n                          {form.getFieldValue('environments')?.image?.version}\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        <Typography.Text>\n                          {\n                            form.getFieldValue('environments')?.image\n                              ?.architecture\n                          }\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        {/* TODO: replace this with AliasedImageDoubleTags after image list query with ImageNode is implemented. */}\n                        {_.map(\n                          form.getFieldValue('environments')?.image?.tags,\n                          (tag: { key: string; value: string }) => {\n                            const isCustomized = _.includes(\n                              tag.key,\n                              'customized_',\n                            );\n                            const tagValue = isCustomized\n                              ? _.find(\n                                  form.getFieldValue('environments')?.image\n                                    ?.labels,\n                                  {\n                                    key: 'ai.backend.customized-image.name',\n                                  },\n                                )?.value\n                              : tag.value;\n                            const aliasedTag = tagAlias(tag.key + tagValue);\n                            return _.isEqual(\n                              aliasedTag,\n                              preserveDotStartCase(tag.key + tagValue),\n                            ) || isCustomized ? (\n                              <BAIDoubleTag\n                                key={tag.key}\n                                values={[\n                                  {\n                                    label: tagAlias(tag.key),\n                                    color: isCustomized ? 'cyan' : 'blue',\n                                  },\n                                  {\n                                    label: tagValue,\n                                    color: isCustomized ? 'cyan' : 'blue',\n                                  },\n                                ]}\n                              />\n                            ) : (\n                              <Tag\n                                key={tag.key}\n                                color={isCustomized ? 'cyan' : 'blue'}\n                              >\n                                {aliasedTag}\n                              </Tag>\n                            );\n                          },\n                        )}\n                        <Typography.Text\n                          style={{ color: token.colorPrimary }}\n                          copyable={{\n                            text:\n                              getImageFullName(\n                                form.getFieldValue('environments')?.image,\n                              ) || form.getFieldValue('environments')?.version,\n                          }}\n                        />\n                      </>\n                    )}\n                  </BAIFlex>\n                </Col>\n              </Row>\n            ) : (\n              <Row style={{ flexFlow: 'nowrap', gap: token.sizeXS }}>\n                <Col>\n                  <ImageMetaIcon\n                    image={\n                      form.getFieldValue('environments')?.version ||\n                      form.getFieldValue('environments')?.manual\n                    }\n                  />\n                </Col>\n                <Col>\n                  {/* {form.getFieldValue('environments').image} */}\n                  <BAIFlex direction=\"row\" wrap=\"wrap\">\n                    {form.getFieldValue('environments')?.manual ? (\n                      <Typography.Text\n                        code\n                        style={{ wordBreak: 'break-all' }}\n                        copyable={{\n                          text: form.getFieldValue('environments')?.manual,\n                        }}\n                      >\n                        {form.getFieldValue('environments')?.manual}\n                      </Typography.Text>\n                    ) : (\n                      <>\n                        <Typography.Text>\n                          {tagAlias(\n                            getBaseImage(\n                              form.getFieldValue('environments')?.version,\n                            ),\n                          )}\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        <Typography.Text>\n                          {getBaseVersion(\n                            form.getFieldValue('environments')?.version,\n                          )}\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        <Typography.Text>\n                          {\n                            form.getFieldValue('environments')?.image\n                              ?.architecture\n                          }\n                        </Typography.Text>\n                        <Divider type=\"vertical\" />\n                        <ImageTags\n                          tag={form.getFieldValue([\n                            'environments',\n                            'image',\n                            'tag',\n                          ])}\n                          labels={\n                            form.getFieldValue('environments')?.image\n                              ?.labels as Array<{\n                              key: string;\n                              value: string;\n                            }>\n                          }\n                        />\n                        <Typography.Text\n                          style={{ color: token.colorPrimary }}\n                          copyable={{\n                            text:\n                              getImageFullName(\n                                form.getFieldValue('environments')?.image,\n                              ) || form.getFieldValue('environments')?.version,\n                          }}\n                        />\n                      </>\n                    )}\n                  </BAIFlex>\n                </Col>\n              </Row>\n            )}\n          </Descriptions.Item>\n          {form.getFieldValue('envvars')?.length > 0 && (\n            <Descriptions.Item\n              label={t('session.launcher.EnvironmentVariable')}\n            >\n              {form.getFieldValue('envvars')?.length ? (\n                <BAIFlex align=\"stretch\" direction=\"column\">\n                  <SourceCodeView language={'shell'}>\n                    {_.map(\n                      form.getFieldValue('envvars'),\n                      (v: { variable: string; value: string }) =>\n                        `${v?.variable || ''}=\"${v?.value || ''}\"`,\n                    ).join('\\n')}\n                  </SourceCodeView>\n                </BAIFlex>\n              ) : (\n                <Typography.Text type=\"secondary\">-</Typography.Text>\n              )}\n            </Descriptions.Item>\n          )}\n        </Descriptions>\n      </BAICard>\n      <BAICard\n        title={t('session.launcher.ResourceAllocation')}\n        showDivider\n        status={\n          _.some(form.getFieldValue('resource'), (_v, key) => {\n            return (\n              // @ts-ignore\n              form.getFieldError(['resource', key]).length > 0\n            );\n          }) ||\n          form.getFieldError(['num_of_sessions']).length > 0 ||\n          form.getFieldError('resourceGroup').length > 0\n            ? 'error'\n            : undefined\n        }\n        size=\"small\"\n        extraButtonTitle={t('button.Edit')}\n        onClickExtraButton={() => {\n          onClickEditStep('environment');\n        }}\n      >\n        <BAIFlex direction=\"column\" align=\"stretch\">\n          {_.some(\n            form.getFieldValue('resource'),\n            (_v, key: keyof SessionLauncherFormValue['resource']) => {\n              return (\n                // @ts-ignore\n                form.getFieldWarning(['resource', key]).length > 0\n              );\n            },\n          ) && (\n            <Alert\n              type=\"warning\"\n              showIcon\n              title={t('session.launcher.EnqueueComputeSessionWarning')}\n            />\n          )}\n\n          <Descriptions column={2}>\n            <Descriptions.Item label={t('general.ResourceGroup')} span={2}>\n              {form.getFieldValue('resourceGroup') || (\n                <Typography.Text type=\"secondary\">\n                  {t('general.None')}\n                </Typography.Text>\n              )}\n            </Descriptions.Item>\n            <Descriptions.Item\n              label={t('session.launcher.ResourceAllocationPerContainer')}\n              span={2}\n            >\n              <BAIFlex\n                direction=\"row\"\n                align=\"start\"\n                gap={'sm'}\n                wrap=\"wrap\"\n                style={{ flex: 1 }}\n              >\n                {form.getFieldValue('allocationPreset') === 'custom' ? (\n                  // t('session.launcher.CustomAllocation')\n                  ''\n                ) : (\n                  <Tag>{form.getFieldValue('allocationPreset')}</Tag>\n                )}\n\n                <ResourceNumbersOfSession\n                  resource={form.getFieldValue('resource')}\n                />\n                {/* {_.chain(\n                              form.getFieldValue('allocationPreset') ===\n                                'custom'\n                                ? form.getFieldValue('resource')\n                                : JSON.parse(\n                                    form.getFieldValue('selectedPreset')\n                                      ?.resource_slots || '{}',\n                                  ),\n                            )\n                              .map((value, type) => {\n                                // @ts-ignore\n                                if (resourceSlots[type] === undefined)\n                                  return undefined;\n                                const resource_opts = {\n                                  shmem:\n                                    form.getFieldValue('selectedPreset')\n                                      .shared_memory,\n                                };\n                                return (\n                                  <ResourceNumber\n                                    key={type}\n                                    // @ts-ignore\n                                    type={type}\n                                    value={value}\n                                    opts={resource_opts}\n                                  />\n                                );\n                              })\n                              .compact()\n                              .value()} */}\n              </BAIFlex>\n            </Descriptions.Item>\n            {baiClient.supports('agent-select') &&\n              !baiClient?._config?.hideAgents && (\n                <Descriptions.Item label={t('session.launcher.AgentNode')}>\n                  {_.castArray(form.getFieldValue('agent')).join(', ') ||\n                    t('session.launcher.AutoSelect')}\n                </Descriptions.Item>\n              )}\n            <Descriptions.Item label={t('session.launcher.NumberOfContainer')}>\n              {form.getFieldValue('cluster_size') === 1\n                ? form.getFieldValue('num_of_sessions')\n                : form.getFieldValue('cluster_size')}\n            </Descriptions.Item>\n            <Descriptions.Item label={t('session.launcher.ClusterMode')}>\n              {form.getFieldValue('cluster_mode') === 'single-node'\n                ? t('session.launcher.SingleNode')\n                : t('session.launcher.MultiNode')}\n            </Descriptions.Item>\n          </Descriptions>\n          <Card\n            size=\"small\"\n            type=\"inner\"\n            title={t('session.launcher.TotalAllocation')}\n          >\n            <BAIFlex direction=\"row\" gap=\"xxs\">\n              <ResourceNumbersOfSession\n                resource={form.getFieldValue('resource')}\n                containerCount={\n                  form.getFieldValue('cluster_size') === 1\n                    ? form.getFieldValue('num_of_sessions')\n                    : form.getFieldValue('cluster_size')\n                }\n              />\n            </BAIFlex>\n          </Card>\n        </BAIFlex>\n      </BAICard>\n      <BAICard\n        title={t('webui.menu.Data&Storage')}\n        showDivider\n        size=\"small\"\n        status={\n          form.getFieldError('mount_id_map').length > 0 ? 'error' : undefined\n        }\n        extraButtonTitle={t('button.Edit')}\n        onClickExtraButton={() => {\n          onClickEditStep('storage');\n        }}\n      >\n        <BAIFlex direction=\"column\" align=\"stretch\" gap={'xs'}>\n          {form.getFieldValue('mount_ids')?.length > 0 ? (\n            <Table\n              rowKey=\"name\"\n              size=\"small\"\n              pagination={false}\n              columns={[\n                {\n                  dataIndex: 'name',\n                  title: t('data.folders.Name'),\n                },\n                {\n                  dataIndex: 'alias',\n                  title: t('session.launcher.FolderAlias'),\n                  render: (value, record) => {\n                    return _.isEmpty(value) ? (\n                      <Typography.Text\n                        type=\"secondary\"\n                        style={{\n                          opacity: 0.7,\n                        }}\n                      >\n                        {`/home/work/${record.name}`}\n                      </Typography.Text>\n                    ) : (\n                      value\n                    );\n                  },\n                },\n              ]}\n              dataSource={_.map(form.getFieldValue('mount_ids'), (v) => {\n                const name = form.getFieldValue('vfoldersNameMap')?.[v] || v;\n                return {\n                  name,\n                  alias: form.getFieldValue('mount_id_map')?.[v],\n                };\n              })}\n            ></Table>\n          ) : (\n            <Alert\n              type=\"warning\"\n              showIcon\n              title={t('session.launcher.NoFolderMounted')}\n            />\n          )}\n          {form.getFieldValue('autoMountedFolderNames')?.length > 0 ? (\n            <Descriptions size=\"small\">\n              <Descriptions.Item label={t('data.AutomountFolders')}>\n                <BAIFlex gap=\"xs\" wrap=\"wrap\">\n                  {_.map(\n                    form.getFieldValue('autoMountedFolderNames'),\n                    (name) => {\n                      return <Tag key={name}>{name}</Tag>;\n                    },\n                  )}\n                </BAIFlex>\n              </Descriptions.Item>\n            </Descriptions>\n          ) : null}\n        </BAIFlex>\n      </BAICard>\n      <BAICard\n        title=\"Network\"\n        showDivider\n        size=\"small\"\n        status={form.getFieldError('ports').length > 0 ? 'error' : undefined}\n        extraButtonTitle={t('button.Edit')}\n        onClickExtraButton={() => {\n          onClickEditStep('network');\n        }}\n      >\n        <Descriptions size=\"small\">\n          <Descriptions.Item label={t('session.launcher.PreOpenPortTitle')}>\n            <BAIFlex direction=\"row\" gap=\"xs\" style={{ flex: 1 }} wrap=\"wrap\">\n              {/* {form.getFieldValue('environments').image} */}\n              {_.sortBy(form.getFieldValue('ports'), (v) => parseInt(v)).map(\n                (v, idx) => (\n                  <PortTag key={idx + v} value={v} style={{ margin: 0 }}>\n                    {v}\n                  </PortTag>\n                ),\n              )}\n\n              {!_.isArray(form.getFieldValue('ports')) ||\n              form.getFieldValue('ports')?.length === 0 ? (\n                <Typography.Text type=\"secondary\">\n                  {t('general.None')}\n                </Typography.Text>\n              ) : null}\n            </BAIFlex>\n          </Descriptions.Item>\n        </Descriptions>\n      </BAICard>\n    </>\n  );\n};\n\nexport default SessionLauncherPreview;\n","import { useValidateSessionName } from '../hooks/useValidateSessionName';\nimport { Form, type FormItemProps, Input } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface SessionNameFormItemProps extends FormItemProps {}\n\nexport interface SessionNameFormItemValue {\n  sessionName: string;\n}\n\nconst SessionNameFormItem: React.FC<SessionNameFormItemProps> = ({\n  ...formItemProps\n}) => {\n  const { t } = useTranslation();\n  const validationRules = useValidateSessionName();\n  return (\n    <Form.Item\n      label={t('session.launcher.SessionName')}\n      name=\"sessionName\"\n      // Original rule : /^(?=.{4,64}$)\\w[\\w.-]*\\w$/\n      // https://github.com/lablup/backend.ai/blob/main/src/ai/backend/manager/api/session.py#L355-L356\n      rules={validationRules}\n      {...formItemProps}\n    >\n      <Input\n        allowClear\n        autoComplete=\"off\"\n        count={{\n          max: 64,\n          show: true,\n        }}\n      />\n    </Form.Item>\n  );\n};\n\nexport default SessionNameFormItem;\n","import { SessionHistory, useBAISettingUserState } from './useBAISetting';\nimport { useEventNotStable, generateRandomString } from 'backend.ai-ui';\nimport _ from 'lodash';\n\nexport const useRecentSessionHistory = () => {\n  const [recentSessions, setRecentSessionHistory] = useBAISettingUserState(\n    'recentSessionHistory',\n  );\n\n  const push = useEventNotStable(\n    ({\n      id,\n      params,\n      createdAt,\n      name,\n    }: SelectivePartial<SessionHistory, 'id' | 'createdAt'>) => {\n      const newHistory: SessionHistory = {\n        id: id ?? generateRandomString(8),\n        params,\n        createdAt: createdAt ?? new Date().toISOString(),\n        name: name,\n      };\n      // push new history to the top of recentSessionHistory and keep it up to 5\n      const newRecentSessionHistory = _.sortBy(\n        [newHistory, ...(recentSessions || [])],\n        '-createdAt',\n      ).slice(0, 5);\n      setRecentSessionHistory(newRecentSessionHistory);\n    },\n  );\n  const clear = useEventNotStable(() => setRecentSessionHistory([]));\n  const remove = useEventNotStable((id: string) => {\n    const newRecentSessionHistory = (recentSessions || []).filter(\n      (item) => item.id !== id,\n    );\n    setRecentSessionHistory(newRecentSessionHistory);\n  });\n\n  const update = useEventNotStable((id: string, name: string) => {\n    const newRecentSessionHistory = (recentSessions || []).map((item) => {\n      if (item.id === id) {\n        return {\n          ...item,\n          name,\n        };\n      }\n      return item;\n    });\n    setRecentSessionHistory(newRecentSessionHistory);\n  });\n\n  return [\n    recentSessions,\n    {\n      push,\n      clear,\n      remove,\n      update,\n    },\n  ] as const;\n};\n\nexport const usePinnedSessionHistory = () => {\n  const [pinnedSessionHistory, setPinnedSessionHistory] =\n    useBAISettingUserState('pinnedSessionHistory');\n  const [recentSessionHistory] = useBAISettingUserState('recentSessionHistory');\n\n  const pin = useEventNotStable((id: string) => {\n    const pinnedItem = (recentSessionHistory || []).find(\n      (item) => item.id === id,\n    );\n    pinnedItem &&\n      setPinnedSessionHistory([...(pinnedSessionHistory || []), pinnedItem]);\n  });\n\n  const unpin = useEventNotStable((id: string) => {\n    const newPinnedSessionHistory = (pinnedSessionHistory || []).filter(\n      (item) => item.id !== id,\n    );\n    setPinnedSessionHistory(newPinnedSessionHistory);\n  });\n\n  const update = useEventNotStable((id: string, name: string) => {\n    const newPinnedSessionHistory = (pinnedSessionHistory || []).map((item) => {\n      if (item.id === id) {\n        return {\n          ...item,\n          name,\n        };\n      }\n      return item;\n    });\n    setPinnedSessionHistory(newPinnedSessionHistory);\n  });\n\n  return [\n    pinnedSessionHistory,\n    {\n      pin,\n      unpin,\n      update,\n    },\n  ] as const;\n};\n","import { useBackendAIImageMetaData } from '../hooks';\nimport { SessionHistory } from '../hooks/useBAISetting';\nimport {\n  usePinnedSessionHistory,\n  useRecentSessionHistory,\n} from '../hooks/useRecentSessionHistory';\nimport {\n  ResourceNumbersOfSession,\n  SessionLauncherFormValue,\n} from '../pages/SessionLauncherPage';\nimport ImageMetaIcon from './ImageMetaIcon';\nimport QuestionIconWithTooltip from './QuestionIconWithTooltip';\nimport { Button, theme, Tooltip, Typography } from 'antd';\nimport { createStyles } from 'antd-style';\nimport {\n  BAIModal,\n  BAIModalProps,\n  BAITable,\n  BAIFlex,\n  BAILink,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { PinIcon } from 'lucide-react';\nimport React, { Key, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyle = createStyles(({ css }) => ({\n  fixEditableVerticalAlign: css`\n    & {\n      margin-top: 0px !important;\n    }\n  `,\n}));\n\ninterface SessionTemplateModalProps\n  extends Omit<BAIModalProps, 'onOk' | 'onCancel'> {\n  onRequestClose: (formValue?: SessionLauncherFormValue) => void;\n}\n\ninterface ParsedSessionHistory\n  extends SessionLauncherFormValue,\n    SessionHistory {\n  pinned?: boolean;\n}\n\nconst SessionTemplateModal: React.FC<SessionTemplateModalProps> = ({\n  ...modalProps\n}) => {\n  const { t } = useTranslation();\n  const { styles } = useStyle();\n  const [sessionHistory, { update: updateSessionHistory }] =\n    useRecentSessionHistory();\n  const [hoverRowKey, setHoverRowKey] = useState<Key | null>(null);\n\n  const [, { getImageAliasName, getBaseVersion }] = useBackendAIImageMetaData();\n  const [pinnedSessionHistory, { pin, unpin, update: updatePinnedHistory }] =\n    usePinnedSessionHistory();\n\n  const [, setSelectedHistoryId] = useState<string>();\n  const { token } = theme.useToken();\n\n  const parsedSessionHistory: Array<ParsedSessionHistory> = useMemo(() => {\n    const parseToFormValues = (history: SessionHistory, isPinned: boolean) => {\n      const params = new URLSearchParams(history.params);\n      const formValues: SessionLauncherFormValue = JSON.parse(\n        params.get('formValues') || '{}',\n      );\n      return {\n        ...formValues,\n        pinned: isPinned,\n        name: history.name,\n      };\n    };\n\n    // const params = new URLSearchParams(history.params);\n    //   const formValues: SessionLauncherFormValue = JSON.parse(\n    //     params.get('formValues') || '{}',\n    //   );\n    const recent = _.map(sessionHistory, (history) => ({\n      ...history,\n      ...parseToFormValues(history, false),\n    }));\n\n    const pinned = _.map(pinnedSessionHistory, (history) => ({\n      ...history,\n      ...parseToFormValues(history, true),\n    }));\n\n    return _.chain([...pinned, ...recent])\n      .unionBy('id')\n      .value();\n  }, [sessionHistory, pinnedSessionHistory]);\n\n  return (\n    <BAIModal\n      width={800}\n      title={t('session.launcher.RecentHistory')}\n      footer={null}\n      onCancel={() => {\n        // reset\n        setSelectedHistoryId(undefined);\n        modalProps.onRequestClose();\n      }}\n      {...modalProps}\n    >\n      <BAIFlex direction=\"column\" align=\"stretch\" gap=\"sm\">\n        <Typography.Text>\n          {t('session.launcher.YouCanStartWithHistory')}\n        </Typography.Text>\n        <BAITable<ParsedSessionHistory>\n          rowSelection={{\n            selectedRowKeys: pinnedSessionHistory?.map((item) => item.id),\n            columnWidth: 0,\n            hideSelectAll: true,\n            renderCell: () => null,\n          }}\n          scroll={{ x: 'max-content' }}\n          dataSource={parsedSessionHistory}\n          pagination={false}\n          onRow={(record) => ({\n            onMouseEnter: () => setHoverRowKey(record.id),\n            onMouseLeave: () => setHoverRowKey(null),\n          })}\n          rowKey={(record) => record.id}\n          columns={[\n            {\n              title: (\n                <BAIFlex gap={'xxs'}>\n                  <PinIcon />\n                  <QuestionIconWithTooltip\n                    title={t('session.launcher.PinnedHistoryTooltip')}\n                  />\n                </BAIFlex>\n              ),\n              dataIndex: 'pinned',\n              width: 40,\n              render: (_value, record) => {\n                const isPinned = !!record.pinned;\n                const isHovered = hoverRowKey === record.id;\n                return isPinned ? (\n                  <Button\n                    size=\"small\"\n                    onClick={() => {\n                      unpin(record.id);\n                      // TODO: add it to recent session history\n                    }}\n                    type=\"link\"\n                  >\n                    <PinIcon />\n                  </Button>\n                ) : (\n                  <Button\n                    size=\"small\"\n                    onClick={() => pin(record.id)}\n                    type=\"link\"\n                  >\n                    <PinIcon\n                      style={{\n                        color: isHovered\n                          ? token.colorTextQuaternary\n                          : 'transparent',\n                      }}\n                    />\n                  </Button>\n                );\n              },\n            },\n            {\n              title: t('session.launcher.SessionNameShort'),\n              dataIndex: 'name',\n              render: (name, record) => {\n                const displayName = name || record.id.split('-')[0];\n                return (\n                  <Typography.Text\n                    className={styles.fixEditableVerticalAlign}\n                    editable={{\n                      onChange(value) {\n                        if (!_.isEmpty(value)) {\n                          updateSessionHistory(record.id, value);\n                          record.pinned &&\n                            updatePinnedHistory(record.id, value);\n                        }\n                      },\n                      text: displayName,\n                    }}\n                  >\n                    <BAILink\n                      type=\"hover\"\n                      onClick={() => {\n                        modalProps.onRequestClose?.(\n                          JSON.parse(\n                            new URLSearchParams(record.params || '').get(\n                              'formValues',\n                            ) || '{}',\n                          ),\n                        );\n                      }}\n                    >\n                      {displayName}\n                    </BAILink>\n                  </Typography.Text>\n                );\n              },\n            },\n            {\n              title: t('session.launcher.Environments'),\n              dataIndex: ['environments', 'version'],\n              render: (_version, record) => {\n                const imageStr =\n                  record.environments?.version || record.environments?.manual;\n                return (\n                  imageStr && (\n                    <Tooltip title={imageStr} placement=\"right\">\n                      <BAIFlex gap={'xxs'}>\n                        <ImageMetaIcon image={imageStr} />\n                        <Typography.Text>\n                          {getImageAliasName(imageStr)}{' '}\n                          {getBaseVersion(imageStr)}\n                        </Typography.Text>\n                      </BAIFlex>\n                    </Tooltip>\n                  )\n                );\n              },\n              onCell: () => ({\n                style: { maxWidth: 250, textOverflow: 'ellipsis' },\n              }),\n            },\n            {\n              title: t('session.launcher.ResourceAllocation'),\n              dataIndex: 'resource',\n              render: (resource) => {\n                // return JSON.stringify(resource)\n                return (\n                  <BAIFlex gap={'xs'}>\n                    <ResourceNumbersOfSession resource={resource} />\n                  </BAIFlex>\n                );\n              },\n            },\n            // {\n            //   dataIndex: 'mounts',\n            //   render: (value, record) => {\n            //     return _.join(record.mounts,', ');\n            //   }\n            // },\n            {\n              title: t('session.launcher.CreatedAt'),\n              dataIndex: 'createdAt',\n              render: (createdAt: string) => {\n                return dayjs(createdAt).fromNow();\n              },\n            },\n          ]}\n        />\n      </BAIFlex>\n      {/* <Tabs\n        defaultActiveKey=\"history\"\n        items={[\n          {\n            key: 'template',\n            label: t('session.launcher.Template'),\n            children: <div>Template</div>,\n          },\n          {\n            key: 'history',\n            label: t('session.launcher.RecentHistory'),\n            children: (\n\n            ),\n          },\n        ]}\n      /> */}\n    </BAIModal>\n  );\n};\n\nexport default SessionTemplateModal;\n","import DatePickerISO from '../components/DatePickerISO';\nimport EnvVarFormList, {\n  sanitizeSensitiveEnv,\n  EnvVarFormListValue,\n} from '../components/EnvVarFormList';\nimport ImageEnvironmentSelectFormItems, {\n  ImageEnvironmentFormInput,\n} from '../components/ImageEnvironmentSelectFormItems';\nimport { mainContentDivRefState } from '../components/MainLayout/MainLayout';\nimport PortSelectFormItem, {\n  PortSelectFormValues,\n} from '../components/PortSelectFormItem';\nimport ResourceAllocationFormItems, {\n  RESOURCE_ALLOCATION_INITIAL_FORM_VALUES,\n  ResourceAllocationFormValue,\n} from '../components/SessionFormItems/ResourceAllocationFormItems';\nimport SessionLauncherValidationTour from '../components/SessionLauncherErrorTourProps';\nimport SessionLauncherFormIncompatibleValueChecker from '../components/SessionLauncherFormIncompatibleValueChecker';\nimport SessionLauncherPreview from '../components/SessionLauncherPreview';\nimport SessionNameFormItem, {\n  SessionNameFormItemValue,\n} from '../components/SessionNameFormItem';\nimport SessionOwnerSetterCard, {\n  SessionOwnerSetterFormValues,\n} from '../components/SessionOwnerSetterCard';\nimport SessionTemplateModal from '../components/SessionTemplateModal';\nimport VFolderTableFormItem, {\n  VFolderTableFormValues,\n} from '../components/VFolderTableFormItem';\nimport { formatDuration, convertToBinaryUnit } from '../helper';\nimport { useSuspendedBackendaiClient, useWebUINavigate } from '../hooks';\nimport { useCurrentUserRole } from '../hooks/backendai';\nimport { useCurrentResourceGroupState } from '../hooks/useCurrentProject';\nimport { useRecentSessionHistory } from '../hooks/useRecentSessionHistory';\n// @ts-ignore\nimport customCSS from './SessionLauncherPage.css?raw';\nimport {\n  DoubleRightOutlined,\n  LeftOutlined,\n  PlayCircleFilled,\n  PlayCircleOutlined,\n  QuestionCircleOutlined,\n  RightOutlined,\n} from '@ant-design/icons';\nimport { useDebounceFn, useToggle } from 'ahooks';\nimport {\n  App,\n  Button,\n  Card,\n  Checkbox,\n  Col,\n  Form,\n  Grid,\n  Input,\n  InputNumber,\n  Popconfirm,\n  Radio,\n  Row,\n  Select,\n  Space,\n  Steps,\n  Switch,\n  Tooltip,\n  Typography,\n  theme,\n} from 'antd';\nimport type { StepsProps } from 'antd';\nimport {\n  filterOutEmpty,\n  BAIFlex,\n  useErrorMessageResolver,\n  BAIButton,\n  generateRandomString,\n  useBAILogger,\n  BAIResourceNumberWithIcon,\n  useUpdatableState,\n  BAIIntervalView,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport { useAtomValue } from 'jotai';\nimport _ from 'lodash';\nimport React, {\n  useEffect,\n  useEffectEvent,\n  useLayoutEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\nimport { useStartSession } from 'src/hooks/useStartSession';\nimport {\n  JsonParam,\n  NumberParam,\n  StringParam,\n  useQueryParams,\n  withDefault,\n} from 'use-query-params';\n\ntype SessionLauncherFormData = Omit<\n  Required<OptionalFieldsOnly<SessionLauncherFormValue>>,\n  'autoMountedFolderNames' | 'mounts'\n>;\n\nexport interface SessionResources {\n  group_name?: string;\n  domain?: string;\n  type?: 'interactive' | 'batch' | 'inference' | 'system';\n  cluster_mode: 'single-node' | 'multi-node';\n  cluster_size: number;\n  maxWaitSeconds?: number;\n  starts_at?: string;\n  startupCommand?: string;\n  bootstrap_script?: string;\n  owner_access_key?: string;\n  enqueueOnly?: boolean;\n  config?: {\n    resources?: {\n      cpu: number;\n      mem: string;\n      [key: string]: number | string;\n    };\n    resource_opts?: {\n      shmem?: string;\n      allow_fractional_resource_fragmentation?: boolean;\n    };\n    mount_ids?: string[];\n    mount_id_map?: {\n      [key: string]: string;\n    };\n    environ?: {\n      [key: string]: string;\n    };\n    scaling_group?: string;\n    preopen_ports?: number[];\n    agent_list?: string[];\n  };\n}\n\ninterface SessionLauncherValue {\n  sessionType: 'interactive' | 'batch' | 'inference' | 'system';\n  batch: {\n    enabled: boolean;\n    scheduleDate?: string;\n    command?: string;\n    timeoutEnabled?: boolean;\n    timeout?: string;\n    timeoutUnit?: string;\n  };\n  allocationPreset: string;\n  envvars: EnvVarFormListValue[];\n  hpcOptimization: {\n    autoEnabled: boolean;\n    OMP_NUM_THREADS?: string;\n    OPENBLAS_NUM_THREADS?: string;\n  };\n  bootstrap_script?: string;\n}\n\nexport type SessionLauncherFormValue = SessionLauncherValue &\n  SessionNameFormItemValue &\n  ImageEnvironmentFormInput &\n  ResourceAllocationFormValue &\n  VFolderTableFormValues &\n  PortSelectFormValues &\n  SessionOwnerSetterFormValues;\n\ntype SessionMode = 'normal' | 'inference' | 'import';\n\nexport type AppOption = {\n  'session-name'?: string;\n  'session-uuid'?: string;\n  'access-key'?: string;\n  mode?: SessionMode;\n  'app-services'?: Array<string>;\n  runtime?: string;\n  filename?: string;\n  // [key in string]: any;\n};\n\nexport type SessionLauncherStepKey =\n  | 'sessionType'\n  | 'environment'\n  | 'storage'\n  | 'network'\n  | 'review';\n\ntype StepItem = NonNullable<StepsProps['items']>[number];\n\ninterface StepPropsWithKey extends StepItem {\n  key: SessionLauncherStepKey;\n}\n\nconst SessionLauncherPage = () => {\n  const app = App.useApp();\n  const { logger } = useBAILogger();\n  const { getErrorMessage } = useErrorMessageResolver();\n\n  const mainContentDivRef = useAtomValue(mainContentDivRefState);\n  const baiClient = useSuspendedBackendaiClient();\n  const supportsMountById = baiClient.supports('mount-by-id');\n  const supportBatchTimeout = baiClient?.supports('batch-timeout') ?? false;\n  const currentUserRole = useCurrentUserRole();\n  const [, setCurrentGlobalResourceGroup] = useCurrentResourceGroupState();\n\n  const { startSession, defaultFormValues, upsertSessionNotification } =\n    useStartSession();\n  const StepParam = withDefault(NumberParam, 0);\n  const FormValuesParam = withDefault(JsonParam, defaultFormValues);\n  const AppOptionParam = withDefault(JsonParam, {});\n  const [\n    {\n      step: currentStep,\n      formValues: formValuesFromQueryParams,\n      redirectTo,\n      // TODO: handle appOption to launch app with specific options\n      // appOption: appOptionFromQueryParams,\n    },\n    setQuery,\n  ] = useQueryParams({\n    step: StepParam,\n    formValues: FormValuesParam,\n    redirectTo: StringParam,\n    appOption: AppOptionParam,\n  });\n\n  const { search } = useLocation();\n  const webuiNavigate = useWebUINavigate();\n\n  const [isOpenTemplateModal, { toggle: toggleIsOpenTemplateModal }] =\n    useToggle();\n  const [, { push: pushSessionHistory }] = useRecentSessionHistory();\n\n  const { run: syncFormToURLWithDebounce } = useDebounceFn(\n    () => {\n      // To sync the latest form values to URL,\n      // 'trailing' is set to true, and get the form values here.\"\n      const currentValue = form.getFieldsValue();\n      setQuery(\n        {\n          formValues: _.assign(\n            _.omit(form.getFieldsValue(), [\n              'environments.image',\n              'environments.customizedTag',\n              'autoMountedFolderNames',\n              'owner',\n              'envvars',\n            ]),\n            {\n              envvars: sanitizeSensitiveEnv(currentValue.envvars),\n            },\n          ),\n        },\n        'replaceIn',\n      );\n    },\n    {\n      leading: false,\n      wait: 500,\n      trailing: true,\n    },\n  );\n\n  const setCurrentStep = (nextStep: number) => {\n    setQuery(\n      {\n        step: nextStep,\n      },\n      'pushIn',\n    );\n  };\n  const { token } = theme.useToken();\n\n  const { t } = useTranslation();\n\n  const screens = Grid.useBreakpoint();\n\n  const [form] = Form.useForm<SessionLauncherFormValue>();\n\n  useEffect(() => {\n    if (!_.isEmpty(formValuesFromQueryParams)) {\n      form.validateFields().catch(() => {});\n    }\n    // Run this memo only for the first time\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const validateSilently = useEffectEvent(() => {\n    const id = _.isEmpty(formValuesFromQueryParams)\n      ? null\n      : setTimeout(() => {\n          form.validateFields().catch(() => {\n            // ignore errors in preview, it will be handled in UI preview.\n            return undefined;\n          });\n        }, 500);\n    return id;\n  });\n  useEffect(() => {\n    const id = validateSilently();\n    return () => {\n      id && clearTimeout(id);\n    };\n  }, []);\n\n  const mergedInitialValues: SessionLauncherFormValue = useMemo(() => {\n    return _.merge(\n      {},\n      defaultFormValues,\n      RESOURCE_ALLOCATION_INITIAL_FORM_VALUES,\n      formValuesFromQueryParams,\n    );\n  }, [defaultFormValues, formValuesFromQueryParams]);\n\n  // ScrollTo top when step is changed\n  useEffect(() => {\n    mainContentDivRef.current?.scrollTo(0, 0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentStep]);\n\n  // before initialFormValues is set, use getFieldValue and useWatch will return undefined\n  const sessionType =\n    Form.useWatch('sessionType', { form, preserve: true }) ||\n    form.getFieldValue('sessionType') ||\n    formValuesFromQueryParams.sessionType;\n\n  const steps: Array<StepPropsWithKey> = filterOutEmpty([\n    {\n      title: t('session.launcher.SessionType'),\n      key: 'sessionType',\n      // status: form.getFieldError('name').length > 0 ? 'error' : undefined,\n    },\n    {\n      title: `${t('session.launcher.Environments')} & ${t(\n        'session.launcher.ResourceAllocation',\n      )} `,\n      key: 'environment',\n    },\n    sessionType !== 'inference' && {\n      title: t('webui.menu.Data&Storage'),\n      key: 'storage',\n    },\n    {\n      title: t('session.launcher.Network'),\n      key: 'network',\n    },\n    {\n      title: t('session.launcher.ConfirmAndLaunch'),\n      icon: <PlayCircleFilled />,\n      // @ts-ignore\n      key: 'review',\n    },\n  ]);\n\n  const currentStepKey = steps[currentStep]?.key;\n\n  const hasError = _.some(\n    form.getFieldsError(),\n    (item) => item.errors.length > 0,\n  );\n\n  const [finalStepLastValidateTime, setFinalStepLastValidateTime] =\n    useUpdatableState('first'); // Force re-render after validation in final step.\n\n  useEffect(() => {\n    if (currentStep === steps.length - 1) {\n      form\n        .validateFields()\n        .catch(() => {})\n        .finally(() => setFinalStepLastValidateTime());\n    }\n  }, [currentStep, form, setFinalStepLastValidateTime, steps.length]);\n\n  useEffect(() => {\n    if (finalStepLastValidateTime !== 'first') {\n      if (hasError) {\n        setValidationTourOpen(true);\n      } else {\n        setValidationTourOpen(false);\n      }\n    }\n  }, [finalStepLastValidateTime, hasError]);\n\n  const [validationTourOpen, setValidationTourOpen] = useState(false);\n\n  const [isQueryReset, setIsQueryReset] = useState(false);\n  useLayoutEffect(() => {\n    if (isQueryReset) {\n      form.resetFields();\n      setIsQueryReset(false);\n    }\n  }, [isQueryReset, form]);\n\n  return (\n    <BAIFlex\n      direction=\"column\"\n      align=\"stretch\"\n      style={{\n        justifyContent: 'revert',\n        // height: 500,\n        // overflow: 'scroll',\n      }}\n      gap={'md'}\n    >\n      <style>{customCSS}</style>\n      <BAIFlex direction=\"row\" gap=\"md\" align=\"start\">\n        <BAIFlex\n          direction=\"column\"\n          align=\"stretch\"\n          style={{ flex: 1, maxWidth: 700 }}\n        >\n          <BAIFlex direction=\"row\" justify=\"between\">\n            <Typography.Title level={4} style={{ marginTop: 0 }}>\n              {t('session.launcher.StartNewSession')}\n            </Typography.Title>\n            <BAIFlex direction=\"row\" gap={'sm'}>\n              <Button\n                type=\"link\"\n                // icon={<BlockOutlined />}\n                // disabled\n                style={{ paddingRight: 0, paddingLeft: 0 }}\n                onClick={() => toggleIsOpenTemplateModal()}\n              >\n                {t('session.launcher.RecentHistory')}\n              </Button>\n            </BAIFlex>\n          </BAIFlex>\n          {/* <Suspense fallback={<FlexActivityIndicator />}> */}\n          <Form.Provider\n            onFormChange={() => {\n              // use OnFormChange instead of Form's onValuesChange,\n              // because onValuesChange will not be triggered when form is changed programmatically\n              syncFormToURLWithDebounce();\n            }}\n          >\n            <Form\n              form={form}\n              layout=\"vertical\"\n              initialValues={mergedInitialValues}\n            >\n              <SessionLauncherFormIncompatibleValueChecker form={form} />\n              <BAIFlex\n                direction=\"column\"\n                align=\"stretch\"\n                gap=\"md\"\n                // style={{  }}\n              >\n                {/* Step 0 fields */}\n                <Card\n                  title={t('session.launcher.SessionType')}\n                  style={{\n                    display:\n                      currentStepKey === 'sessionType' ? 'block' : 'none',\n                  }}\n                >\n                  <Form.Item name=\"sessionType\">\n                    <Radio.Group\n                      options={[\n                        {\n                          label: (\n                            <>\n                              <Typography.Text code>\n                                {t('session.launcher.InteractiveMode')}\n                              </Typography.Text>{' '}\n                              <Typography.Text type=\"secondary\">\n                                {t('session.launcher.InteractiveModeDesc')}\n                              </Typography.Text>\n                            </>\n                          ),\n                          value: 'interactive',\n                        },\n                        {\n                          label: (\n                            <>\n                              <Typography.Text code>\n                                {t('session.launcher.BatchMode')}\n                              </Typography.Text>{' '}\n                              <Typography.Text type=\"secondary\">\n                                {t('session.launcher.BatchModeDesc')}\n                              </Typography.Text>\n                            </>\n                          ),\n                          value: 'batch',\n                        },\n                      ]}\n                    />\n                  </Form.Item>\n                  <SessionNameFormItem />\n                  <Form.Item\n                    name=\"bootstrap_script\"\n                    label=\"Bootstrap Script\"\n                    hidden\n                  >\n                    <Input />\n                  </Form.Item>\n                </Card>\n\n                {sessionType === 'batch' && (\n                  <Card\n                    title={t('session.launcher.BatchModeConfig')}\n                    style={{\n                      display:\n                        currentStepKey === 'sessionType' ? 'block' : 'none',\n                    }}\n                  >\n                    <Form.Item\n                      label={t('session.launcher.StartUpCommand')}\n                      name={['batch', 'command']}\n                      rules={[\n                        {\n                          required: true,\n                          type: 'string',\n                        },\n                      ]}\n                    >\n                      <Input.TextArea autoSize />\n                    </Form.Item>\n                    <Form.Item\n                      noStyle\n                      dependencies={[['batch', 'scheduleDate']]}\n                    >\n                      {() => {\n                        const scheduleDate = form.getFieldValue([\n                          'batch',\n                          'scheduleDate',\n                        ]);\n                        return (\n                          <BAIIntervalView\n                            delay={1000}\n                            callback={() => {\n                              const scheduleDate = form.getFieldValue([\n                                'batch',\n                                'scheduleDate',\n                              ]);\n                              if (scheduleDate) {\n                                if (dayjs(scheduleDate).isBefore(dayjs())) {\n                                  if (\n                                    form.getFieldError([\n                                      'batch',\n                                      'scheduleDate',\n                                    ]).length === 0\n                                  ) {\n                                    form.validateFields([\n                                      ['batch', 'scheduleDate'],\n                                    ]);\n                                  }\n                                  return undefined;\n                                } else {\n                                  return dayjs(scheduleDate).fromNow();\n                                }\n                              } else {\n                                return undefined;\n                              }\n                            }}\n                            triggerKey={scheduleDate ? scheduleDate : 'none'}\n                            render={(time) => {\n                              return (\n                                <Form.Item\n                                  label={t('session.launcher.SessionStartTime')}\n                                  extra={time}\n                                >\n                                  <BAIFlex direction=\"row\" gap={'xs'}>\n                                    <Form.Item\n                                      noStyle\n                                      name={['batch', 'enabled']}\n                                      valuePropName=\"checked\"\n                                    >\n                                      <Checkbox\n                                        onChange={(e) => {\n                                          if (\n                                            e.target.checked &&\n                                            _.isEmpty(\n                                              form.getFieldValue([\n                                                'batch',\n                                                'scheduleDate',\n                                              ]),\n                                            )\n                                          ) {\n                                            form.setFieldValue(\n                                              ['batch', 'scheduleDate'],\n                                              dayjs()\n                                                .add(2, 'minutes')\n                                                .toISOString(),\n                                            );\n                                          } else if (\n                                            e.target.checked === false\n                                          ) {\n                                            form.setFieldValue(\n                                              ['batch', 'scheduleDate'],\n                                              undefined,\n                                            );\n                                          }\n                                          form.validateFields([\n                                            ['batch', 'scheduleDate'],\n                                          ]);\n                                        }}\n                                      >\n                                        {t('session.launcher.Enable')}\n                                      </Checkbox>\n                                    </Form.Item>\n                                    <Form.Item\n                                      noStyle\n                                      // dependencies={[['batch', 'enabled']]}\n                                      shouldUpdate={(prev, next) => {\n                                        return (\n                                          // @ts-ignore\n                                          prev.batch?.enabled !==\n                                          next.batch?.enabled\n                                        );\n                                      }}\n                                    >\n                                      {() => {\n                                        const disabled =\n                                          form.getFieldValue('batch')\n                                            ?.enabled !== true;\n                                        return (\n                                          <>\n                                            <Form.Item\n                                              name={['batch', 'scheduleDate']}\n                                              noStyle\n                                              rules={[\n                                                {\n                                                  // required: true,\n                                                  validator: async (\n                                                    _rule,\n                                                    value,\n                                                  ) => {\n                                                    if (\n                                                      value &&\n                                                      dayjs(value).isBefore(\n                                                        dayjs(),\n                                                      )\n                                                    ) {\n                                                      return Promise.reject(\n                                                        t(\n                                                          'session.launcher.StartTimeMustBeInTheFuture',\n                                                        ),\n                                                      );\n                                                    }\n                                                    return Promise.resolve();\n                                                  },\n                                                },\n                                              ]}\n                                            >\n                                              <DatePickerISO\n                                                disabled={disabled}\n                                                showTime\n                                                localFormat\n                                                disabledDate={(value) => {\n                                                  return value.isBefore(\n                                                    dayjs().startOf('day'),\n                                                  );\n                                                }}\n                                              />\n                                            </Form.Item>\n                                            {/* <Form.Item\n                                              noStyle\n                                              name={['batch', 'scheduleTime']}\n                                            >\n                                              <TimePicker disabled={disabled} />\n                                            </Form.Item> */}\n                                          </>\n                                        );\n                                      }}\n                                    </Form.Item>\n                                  </BAIFlex>\n                                </Form.Item>\n                              );\n                            }}\n                          />\n                        );\n                      }}\n                    </Form.Item>\n\n                    {supportBatchTimeout ? (\n                      <Form.Item\n                        noStyle\n                        dependencies={[\n                          ['batch', 'timeoutEnabled'],\n                          ['batch', 'timeoutUnit'],\n                        ]}\n                      >\n                        {() => {\n                          const timeout = form.getFieldValue([\n                            'batch',\n                            'timeout',\n                          ]);\n                          const unit = form.getFieldValue([\n                            'batch',\n                            'timeoutUnit',\n                          ]);\n\n                          const timeDuration = dayjs.duration(\n                            timeout,\n                            unit ?? 's',\n                          );\n\n                          const formattedDuration = formatDuration(\n                            timeDuration,\n                            t,\n                          );\n\n                          const durationText =\n                            !_.isNull(timeout) && _.toFinite(timeout) > 0\n                              ? formattedDuration\n                              : null;\n                          return (\n                            <Form.Item\n                              label={t(\n                                'session.launcher.BatchJobTimeoutDuration',\n                              )}\n                              tooltip={t(\n                                'session.launcher.BatchJobTimeoutDurationDesc',\n                              )}\n                              // extra={durationText}\n                              help={durationText}\n                            >\n                              <BAIFlex direction=\"row\" gap={'xs'}>\n                                <Form.Item\n                                  noStyle\n                                  name={['batch', 'timeoutEnabled']}\n                                  valuePropName=\"checked\"\n                                >\n                                  <Checkbox\n                                    onChange={(e) => {\n                                      if (e.target.checked === false) {\n                                        form.setFieldValue(\n                                          ['batch', 'timeout'],\n                                          undefined,\n                                        );\n                                      }\n                                      form.validateFields([\n                                        ['batch', 'timeout'],\n                                      ]);\n                                    }}\n                                  >\n                                    {t('session.launcher.Enable')}\n                                  </Checkbox>\n                                </Form.Item>\n                                <Form.Item\n                                  noStyle\n                                  dependencies={[['batch', 'timeoutEnabled']]}\n                                >\n                                  {() => {\n                                    const disabled =\n                                      form.getFieldValue([\n                                        'batch',\n                                        'timeoutEnabled',\n                                      ]) !== true;\n                                    return (\n                                      <>\n                                        <Space.Compact>\n                                          <Form.Item\n                                            name={['batch', 'timeout']}\n                                            label={t(\n                                              'session.launcher.BatchJobTimeoutDuration',\n                                            )}\n                                            noStyle\n                                            dependencies={[\n                                              ['batch', 'timeoutEnabled'],\n                                            ]}\n                                            rules={[\n                                              {\n                                                min: 0,\n                                                type: 'number',\n                                                message: t(\n                                                  'error.AllowsPositiveNumberOnly',\n                                                ),\n                                              },\n                                              {\n                                                required: !disabled,\n                                              },\n                                            ]}\n                                          >\n                                            <InputNumber\n                                              disabled={disabled}\n                                              min={1}\n                                              style={{\n                                                width: '100%',\n                                              }}\n                                              onChange={() => {\n                                                form.validateFields([\n                                                  ['batch', 'timeoutUnit'],\n                                                ]);\n                                              }}\n                                            />\n                                          </Form.Item>\n                                          <Form.Item\n                                            noStyle\n                                            name={['batch', 'timeoutUnit']}\n                                            dependencies={[\n                                              ['batch', 'timeout'],\n                                              ['batch', 'timeoutEnabled'],\n                                            ]}\n                                            rules={[\n                                              ({ getFieldValue }) => ({\n                                                validator() {\n                                                  const timeout = getFieldValue(\n                                                    ['batch', 'timeout'],\n                                                  );\n                                                  const timeoutEnabled =\n                                                    getFieldValue([\n                                                      'batch',\n                                                      'timeoutEnabled',\n                                                    ]);\n                                                  if (\n                                                    timeoutEnabled === true &&\n                                                    (timeout === undefined ||\n                                                      timeout === null ||\n                                                      timeout < 1)\n                                                  ) {\n                                                    return Promise.reject();\n                                                  }\n                                                  return Promise.resolve();\n                                                },\n                                              }),\n                                            ]}\n                                          >\n                                            <Select\n                                              tabIndex={-1}\n                                              disabled={disabled}\n                                              style={{ width: 100 }}\n                                              options={[\n                                                {\n                                                  label: t('time.Sec'),\n                                                  value: 's',\n                                                },\n                                                {\n                                                  label: t('time.Min'),\n                                                  value: 'm',\n                                                },\n                                                {\n                                                  label: t('time.Hour'),\n                                                  value: 'h',\n                                                },\n                                                {\n                                                  label: t('time.Day'),\n                                                  value: 'd',\n                                                },\n                                                {\n                                                  label: t('time.Week'),\n                                                  value: 'w',\n                                                },\n                                              ]}\n                                            />\n                                          </Form.Item>\n                                        </Space.Compact>\n                                      </>\n                                    );\n                                  }}\n                                </Form.Item>\n                              </BAIFlex>\n                            </Form.Item>\n                          );\n                        }}\n                      </Form.Item>\n                    ) : null}\n                  </Card>\n                )}\n\n                {(currentUserRole === 'admin' ||\n                  currentUserRole === 'superadmin') && (\n                  <SessionOwnerSetterCard\n                    style={{\n                      display:\n                        currentStepKey === 'sessionType' ? 'block' : 'none',\n                    }}\n                  />\n                )}\n\n                {sessionType === 'inference' && (\n                  <Card title=\"Inference Mode Configuration\">\n                    <Form.Item\n                      name={['inference', 'vFolderName']}\n                      label={t('session.launcher.ModelStorageToMount')}\n                      rules={[\n                        {\n                          required: true,\n                        },\n                      ]}\n                    >\n                      <Select />\n                      {/* <VFolderSelect\n                          filter={(vf) => vf.usage_mode === 'model'}\n                          autoSelectDefault\n                          /> */}\n                    </Form.Item>\n                  </Card>\n                )}\n\n                {/* Step Start*/}\n                <Card\n                  title={t('session.launcher.Environments')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <ErrorBoundary\n                    fallbackRender={() => {\n                      return null;\n                    }}\n                  >\n                    <ImageEnvironmentSelectFormItems />\n                  </ErrorBoundary>\n                  <Form.Item label={t('session.launcher.EnvironmentVariable')}>\n                    <EnvVarFormList\n                      name={'envvars'}\n                      formItemProps={{\n                        validateTrigger: ['onChange', 'onBlur'],\n                      }}\n                    />\n                  </Form.Item>\n                </Card>\n                <Card\n                  title={t('session.launcher.ResourceAllocation')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <ResourceAllocationFormItems\n                    enableAgentSelect={\n                      !baiClient._config.hideAgents &&\n                      baiClient.supports('agent-select')\n                    }\n                    enableNumOfSessions\n                    enableResourcePresets\n                    showRemainingWarning\n                  />\n                </Card>\n                <Card\n                  title={t('session.launcher.HPCOptimization')}\n                  style={{\n                    display:\n                      currentStepKey === 'environment' ? 'block' : 'none',\n                  }}\n                >\n                  <Form.Item noStyle>\n                    <BAIFlex direction=\"row\" gap={'sm'}>\n                      <Typography.Text>\n                        {t('session.launcher.SwitchOpenMPoptimization')}\n                      </Typography.Text>\n                      <Form.Item\n                        label={t('session.launcher.SwitchOpenMPoptimization')}\n                        name={['hpcOptimization', 'autoEnabled']}\n                        valuePropName=\"checked\"\n                        required\n                        noStyle\n                      >\n                        <Switch\n                          checkedChildren={'ON'}\n                          unCheckedChildren={'OFF'}\n                          onChange={(checked) => {\n                            if (checked) {\n                              form.setFieldsValue({\n                                hpcOptimization: {\n                                  autoEnabled: true,\n                                  OMP_NUM_THREADS: undefined,\n                                  OPENBLAS_NUM_THREADS: undefined,\n                                },\n                              });\n                            } else {\n                              form.setFieldsValue({\n                                hpcOptimization: {\n                                  autoEnabled: false,\n                                  OMP_NUM_THREADS: '1',\n                                  OPENBLAS_NUM_THREADS: '1',\n                                },\n                              });\n                            }\n                          }}\n                        />\n                      </Form.Item>\n                    </BAIFlex>\n                  </Form.Item>\n                  <Form.Item\n                    noStyle\n                    shouldUpdate={(prev, next) => {\n                      return (\n                        prev.hpcOptimization?.autoEnabled !==\n                        next.hpcOptimization?.autoEnabled\n                      );\n                    }}\n                  >\n                    {() => {\n                      const enabled = form.getFieldValue([\n                        'hpcOptimization',\n                        'autoEnabled',\n                      ]);\n                      return (\n                        <Row\n                          gutter={token.marginMD}\n                          style={{\n                            display: enabled ? 'none' : undefined,\n                            marginTop: token.marginMD,\n                          }}\n                        >\n                          <Col xs={24} sm={12}>\n                            <Form.Item\n                              style={{ flex: 1 }}\n                              label={t('session.launcher.NumOpenMPthreads')}\n                              name={['hpcOptimization', 'OMP_NUM_THREADS']}\n                              tooltip={\n                                <>\n                                  {t('session.launcher.OpenMPOptimization')}\n                                  <Trans\n                                    i18nKey={\n                                      'session.launcher.DescOpenMPOptimization'\n                                    }\n                                  />\n                                </>\n                              }\n                              required\n                            >\n                              <InputNumber\n                                min={1}\n                                max={1000}\n                                step={1}\n                                stringMode\n                                style={{ width: '100%' }}\n                              />\n                            </Form.Item>\n                          </Col>\n                          <Col xs={24} sm={12}>\n                            <Form.Item\n                              style={{ flex: 1 }}\n                              label={t('session.launcher.NumOpenBLASthreads')}\n                              name={['hpcOptimization', 'OPENBLAS_NUM_THREADS']}\n                              tooltip={\n                                <>\n                                  {t('session.launcher.OpenMPOptimization')}\n                                  <Trans\n                                    i18nKey={\n                                      'session.launcher.DescOpenMPOptimization'\n                                    }\n                                  />\n                                </>\n                              }\n                              required\n                            >\n                              <InputNumber\n                                min={1}\n                                max={1000}\n                                step={1}\n                                stringMode\n                                style={{ width: '100%' }}\n                              />\n                            </Form.Item>\n                          </Col>\n                        </Row>\n                      );\n                    }}\n                  </Form.Item>\n                </Card>\n                {/* Step Start*/}\n                <Card\n                  title={t('webui.menu.Data&Storage')}\n                  style={{\n                    display: currentStepKey === 'storage' ? 'block' : 'none',\n                  }}\n                >\n                  <Form.Item noStyle dependencies={['owner']}>\n                    {({ getFieldValue }) => {\n                      const ownerInfo = getFieldValue('owner');\n                      const isValidOwner =\n                        ownerInfo?.enabled &&\n                        _.every(_.omit(ownerInfo, 'enabled'), (key) => {\n                          return key !== undefined;\n                        });\n\n                      return (\n                        <VFolderTableFormItem\n                          rowKey={supportsMountById ? 'id' : 'name'}\n                          rowFilter={(vfolder) => {\n                            return (\n                              vfolder.status === 'ready' &&\n                              !vfolder.name?.startsWith('.')\n                            );\n                          }}\n                          tableProps={{\n                            ownerEmail: isValidOwner\n                              ? ownerInfo?.email\n                              : undefined,\n                          }}\n                        />\n                      );\n                    }}\n                  </Form.Item>\n                </Card>\n\n                {/* Step Start*/}\n                <Card\n                  title={t('session.launcher.Network')}\n                  style={{\n                    display: currentStepKey === 'network' ? 'block' : 'none',\n                  }}\n                >\n                  <PortSelectFormItem />\n                </Card>\n\n                {/* Step Start*/}\n                {currentStepKey === 'review' && (\n                  <SessionLauncherPreview\n                    onClickEditStep={(stepKey) => {\n                      const nextStep = _.findIndex(steps, { key: stepKey });\n                      setCurrentStep(nextStep);\n                    }}\n                  />\n                )}\n\n                <BAIFlex direction=\"row\" justify=\"between\">\n                  <BAIFlex gap={'sm'}>\n                    <Popconfirm\n                      title={t('button.Reset')}\n                      description={t('session.launcher.ResetFormConfirm')}\n                      onConfirm={() => {\n                        setQuery({}, 'replace');\n                        setIsQueryReset(true);\n                      }}\n                      icon={\n                        <QuestionCircleOutlined\n                          style={{ color: token.colorError }}\n                        />\n                      }\n                      okText={t('button.Reset')}\n                      okButtonProps={{\n                        danger: true,\n                      }}\n                    >\n                      <Button\n                        danger\n                        type=\"link\"\n                        style={{ paddingRight: 0, paddingLeft: 0 }}\n                      >\n                        {t('button.Reset')}\n                      </Button>\n                    </Popconfirm>\n                    {/* {currentStep === steps.length - 1 && (\n                      <Button\n                        icon={<SaveOutlined />}\n                        disabled\n                        onClick={() => {\n                          message.info(\n                            'Not implemented yet: Template edit modal',\n                          );\n                        }}\n                      >\n                        Save as a template\n                      </Button>\n                    )} */}\n                  </BAIFlex>\n                  <BAIFlex\n                    data-test-id=\"neo-session-launcher-tour-step-navigation\"\n                    direction=\"row\"\n                    gap=\"sm\"\n                  >\n                    {currentStep > 0 && (\n                      <Button\n                        onClick={() => {\n                          setCurrentStep(currentStep - 1);\n                        }}\n                        icon={<LeftOutlined />}\n                      >\n                        {t('button.Previous')}\n                      </Button>\n                    )}\n                    {currentStep === steps.length - 1 ? (\n                      <Tooltip\n                        title={\n                          hasError\n                            ? t('session.launcher.PleaseCompleteForm')\n                            : undefined\n                        }\n                      >\n                        <BAIButton\n                          type=\"primary\"\n                          icon={<PlayCircleOutlined />}\n                          disabled={hasError}\n                          action={async () => {\n                            const usedSearchParams = search;\n                            const values = await form\n                              .validateFields()\n                              .catch((e) => {\n                                logger.error('validation errors', e);\n                              });\n\n                            // validation failed do nothing\n                            if (!values) {\n                              return;\n                            }\n\n                            if (\n                              _.isEmpty(values.mount_ids) ||\n                              values.mount_ids?.length === 0\n                            ) {\n                              const isConformed = await app.modal.confirm({\n                                title: t('session.launcher.NoFolderMounted'),\n                                content: (\n                                  <>\n                                    {t(\n                                      'session.launcher.HomeDirectoryDeletionDialog',\n                                    )}\n                                    <br />\n                                    <br />\n                                    {t(\n                                      'session.launcher.LaunchConfirmationDialog',\n                                    )}\n                                    <br />\n                                    <br />\n                                    {t('dialog.ask.DoYouWantToProceed')}\n                                  </>\n                                ),\n                                okText: t('session.launcher.Start'),\n                                closable: true,\n                              });\n                              if (!isConformed) return;\n                            }\n\n                            await startSession(values)\n                              .then((results) => {\n                                // After sending a create request, navigate to job page and set current resource group\n                                if (\n                                  results?.fulfilled &&\n                                  results.fulfilled.length > 0\n                                ) {\n                                  // Do not await here to speed up the navigation\n                                  upsertSessionNotification(results.fulfilled);\n                                  setCurrentGlobalResourceGroup(\n                                    values.resourceGroup,\n                                  );\n                                  pushSessionHistory({\n                                    params: usedSearchParams,\n                                    name: results.fulfilled[0].value\n                                      .sessionName,\n                                  });\n                                }\n                                // If at least one session creation is successful, navigate to job page and show success notifications\n                                if (\n                                  results?.fulfilled &&\n                                  results.fulfilled.length > 0\n                                ) {\n                                  webuiNavigate(redirectTo || '/job');\n                                }\n\n                                // If there are any failed session creations, show the first error message\n                                if (\n                                  results?.rejected &&\n                                  results.rejected.length > 0\n                                ) {\n                                  const error = results.rejected[0].reason;\n                                  app.modal.error({\n                                    title: error?.title,\n                                    content: getErrorMessage(error),\n                                  });\n                                }\n                              })\n                              .catch((error) => {\n                                // Unexpected error in `then` of allSettled\n                                logger.error(\n                                  'Unexpected error during session creation:',\n                                  error,\n                                );\n                                app.message.error(t('error.UnexpectedError'));\n                              });\n                          }}\n                        >\n                          {t('session.launcher.Launch')}\n                        </BAIButton>\n                      </Tooltip>\n                    ) : (\n                      <Button\n                        type=\"primary\"\n                        ghost\n                        onClick={() => {\n                          setCurrentStep(currentStep + 1);\n                        }}\n                      >\n                        {t('button.Next')} <RightOutlined />\n                      </Button>\n                    )}\n                    {currentStep !== steps.length - 1 && (\n                      <Button\n                        onClick={() => {\n                          setCurrentStep(steps.length - 1);\n                        }}\n                      >\n                        {t('session.launcher.SkipToConfirmAndLaunch')}\n                        <DoubleRightOutlined />\n                      </Button>\n                    )}\n                  </BAIFlex>\n                </BAIFlex>\n              </BAIFlex>\n            </Form>\n          </Form.Provider>\n          {/* </Suspense> */}\n        </BAIFlex>\n        {screens.lg && (\n          <BAIFlex\n            data-test-id=\"neo-session-launcher-tour-step\"\n            style={{ position: 'sticky', top: 80 }}\n          >\n            <Steps\n              size=\"small\"\n              orientation=\"vertical\"\n              current={currentStep}\n              onChange={(nextCurrent) => {\n                setCurrentStep(nextCurrent);\n              }}\n              items={_.map(steps, (s, idx) => ({\n                ...s,\n                status: idx === currentStep ? 'process' : 'wait',\n              }))}\n            />\n          </BAIFlex>\n        )}\n      </BAIFlex>\n      <SessionTemplateModal\n        onRequestClose={(formValue) => {\n          if (formValue) {\n            const fieldsValue = _.merge(\n              {\n                // reset fields related to optional and nested fields\n                sessionName: '',\n                ports: [],\n                vfoldersNameMap: {},\n                mount_ids: [],\n                mount_id_map: {},\n                bootstrap_script: '',\n                num_of_sessions: 1,\n                owner: {\n                  enabled: false,\n                  accesskey: '',\n                  domainName: '',\n                  email: undefined,\n                  project: '',\n                  resourceGroup: '',\n                },\n                environments: {\n                  manual: '',\n                },\n                batch: {\n                  enabled: false,\n                  command: undefined,\n                  scheduleDate: undefined,\n                },\n                agent: ['auto'], // Add the missing 'agent' property\n              } as SessionLauncherFormData,\n              formValue,\n            );\n\n            if (!_.isEmpty(fieldsValue.sessionName)) {\n              fieldsValue.sessionName =\n                fieldsValue.sessionName + '-' + generateRandomString(4);\n            }\n            form.setFieldsValue(fieldsValue as SessionLauncherFormData);\n            setCurrentStep(steps.length - 1);\n            form.validateFields().catch(() => {});\n          }\n          toggleIsOpenTemplateModal();\n        }}\n        open={isOpenTemplateModal}\n      />\n      {currentStep === steps.length - 1 ? (\n        <ErrorBoundary fallback={null}>\n          <SessionLauncherValidationTour\n            open={validationTourOpen}\n            onClose={() => {\n              setValidationTourOpen(false);\n            }}\n            scrollIntoViewOptions\n          />\n        </ErrorBoundary>\n      ) : undefined}\n    </BAIFlex>\n  );\n};\n\ntype FormOrResourceRequired = {\n  resource: ResourceAllocationFormValue['resource'];\n  containerCount?: number;\n};\n\nexport const ResourceNumbersOfSession: React.FC<FormOrResourceRequired> = ({\n  resource,\n  containerCount = 1,\n}) => {\n  return (\n    <>\n      {_.map(\n        _.omit(resource, 'shmem', 'accelerator', 'acceleratorType'),\n        (value, type) => {\n          return value === '0' ? null : (\n            <BAIResourceNumberWithIcon\n              key={type}\n              // @ts-ignore\n              type={type}\n              value={\n                type === 'mem'\n                  ? (convertToBinaryUnit(value.toString(), '')?.number || 0) *\n                      containerCount +\n                    ''\n                  : _.toNumber(value) * containerCount + ''\n              }\n              opts={{\n                shmem: resource.shmem\n                  ? (convertToBinaryUnit(resource.shmem, '')?.number || 0) *\n                    containerCount\n                  : undefined,\n              }}\n            />\n          );\n        },\n      )}\n      {resource &&\n      resource.accelerator &&\n      resource.acceleratorType &&\n      _.isNumber(resource.accelerator) ? (\n        <BAIResourceNumberWithIcon\n          // @ts-ignore\n          type={resource.acceleratorType}\n          value={_.toString(resource.accelerator * containerCount)}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default SessionLauncherPage;\n","import { Form, type FormItemProps } from 'antd';\nimport React, { useEffect } from 'react';\n\ninterface HiddenFormItemProps extends Omit<FormItemProps, 'children'> {\n  value: any;\n}\nconst HiddenFormItem: React.FC<HiddenFormItemProps> = ({ value, ...props }) => {\n  const form = Form.useFormInstance();\n  useEffect(() => {\n    form.setFieldValue(props.name, value);\n  }, [value, form, props.name]);\n  return (\n    <Form.Item {...props} hidden>\n      <div />\n    </Form.Item>\n  );\n};\n\nexport default HiddenFormItem;\n","import type { RuleObject } from 'antd/es/form';\nimport { FormItemProps } from 'antd/lib';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\n\nexport const useValidateSessionName = (\n  currentName?: string | null,\n): Exclude<FormItemProps['rules'], undefined> => {\n  'use memo';\n  const { t } = useTranslation();\n  return [\n    {\n      min: 4,\n      message: t('session.validation.SessionNameTooShort'),\n    },\n    {\n      max: 64,\n      message: t('session.validation.SessionNameTooLong64'),\n    },\n    {\n      validator(_f: RuleObject, value: string) {\n        if (_.isEmpty(value)) {\n          return Promise.resolve();\n        }\n        if (!/^\\w/.test(value)) {\n          return Promise.reject(\n            t('session.validation.SessionNameShouldStartWith'),\n          );\n        }\n\n        if (!/\\w$/.test(value)) {\n          return Promise.reject(\n            t('session.validation.SessionNameShouldEndWith'),\n          );\n        }\n\n        if (!/^[\\w.-]*$/.test(value)) {\n          return Promise.reject(\n            t('session.validation.SessionNameInvalidCharacter'),\n          );\n        }\n        return Promise.resolve();\n      },\n    },\n    currentName ? { required: true } : {},\n  ];\n};\n"],"names":["DatePickerISO","React","_ref","ref","value","onChange","localFormat","pickerProps","_objectWithoutProperties","_excluded","setControllableValue","useControllableValue","_jsx","DatePicker","_objectSpread","dayjs","undefined","_value","_value2","_value2$tz","_","newValue","format","tz","toISOString","displayName","open","onClose","otherProps","t","useTranslation","hasOpenedValidationTour","setHasOpenedValidationTour","useBAISettingUserState","steps","title","description","target","_document$getElements","document","getElementsByClassName","_document$getElements2","_document$getElements3","querySelector","Tour","e","form","mounts","Form","useWatch","app","App","useApp","hasIncompatibleMountsParam","useMemo","length","useEffect","message","warning","setFieldValue","node","v0","v1","v2","v3","v4","v5","hash","SessionOwnerSetterPreviewCard","props","useFormInstance","isActive","currentUserRole","useCurrentUserRole","BAICard","showDivider","size","status","getFieldError","extraButtonTitle","children","_jsxs","Descriptions","column","Item","label","getFieldValue","token","theme","useToken","fetchingEmail","setFetchingEmail","useState","relayEvn","useRelayEnvironment","data","isFetching","useTanQuery","queryKey","queryFn","email","query","_SessionOwnerSetterCardQuery","fetchQuery","toPromise","enabled","ownerKeypairs","keypairs","owner","user","nonExistentOwner","Card","extra","name","valuePropName","noStyle","Switch","styles","header","borderBottom","body","display","HiddenFormItem","domain_name","dependencies","_Fragment","BAIFlex","rules","required","type","style","flex","validateStatus","help","Input","Search","onSearch","v","validateFields","then","catch","setFieldsValue","accesskey","project","resourceGroup","loading","enterButton","Button","icon","CheckIcon","BAISelect","options","k","access_key","autoSelectOption","disabled","Row","gutter","marginSM","Col","span","groups","g","_ref2","Suspense","fallback","Select","BAIProjectResourceGroupSelect","projectName","autoSelectDefault","_baiClient$supports","_baiClient$supports2","_form$getFieldValue","_form$getFieldValue2","_form$getFieldValue3","_form$getFieldValue4","_form$getFieldValue5","_form$getFieldValue6","_form$getFieldValue6$","_form$getFieldValue7","_form$getFieldValue7$","_form$getFieldValue8","_form$getFieldValue8$","_form$getFieldValue9","_form$getFieldValue9$","_form$getFieldValue1","_form$getFieldValue10","_form$getFieldValue11","_form$getFieldValue12","_form$getFieldValue13","_form$getFieldValue14","_form$getFieldValue15","_form$getFieldValue16","_form$getFieldValue17","_form$getFieldValue18","_form$getFieldValue19","_form$getFieldValue20","_form$getFieldValue21","_form$getFieldValue22","_form$getFieldValue23","_form$getFieldValue24","_form$getFieldValue25","_baiClient$_config","_form$getFieldValue26","_form$getFieldValue29","_form$getFieldValue30","onClickEditStep","baiClient","useSuspendedBackendaiClient","sessionType","preserve","supportBatchTimeout","supports","supportExtendedImageInfo","currentProject","useCurrentProjectValue","getBaseVersion","getBaseImage","tagAlias","useBackendAIImageMetaData","BAIAlert","ghostInfoBg","action","onClick","modal","info","content","direction","align","Typography","Paragraph","SourceCodeView","language","width","showIcon","onClickExtraButton","whiteSpace","overflow","Text","_v","idx","flexFlow","ImageMetaIcon","image","version","manual","marginRight","marginXS","wrap","code","wordBreak","copyable","text","base_image_name","Divider","architecture","tags","tag","_$find","_form$getFieldValue0","_form$getFieldValue0$","isCustomized","key","tagValue","labels","aliasedTag","preserveDotStartCase","BAIDoubleTag","values","color","Tag","colorPrimary","getImageFullName","gap","sizeXS","ImageTags","concat","variable","join","getFieldWarning","Alert","ResourceNumbersOfSession","resource","_config","hideAgents","containerCount","Table","rowKey","pagination","columns","dataIndex","render","record","opacity","dataSource","_form$getFieldValue27","_form$getFieldValue28","alias","parseInt","map","PortTag","margin","formItemProps","Object","assign","_objectDestructuringEmpty","validationRules","useValidateSessionName","allowClear","autoComplete","count","max","show","useRecentSessionHistory","recentSessions","setRecentSessionHistory","push","useEventNotStable","id","params","createdAt","newHistory","generateRandomString","Date","newRecentSessionHistory","slice","clear","remove","filter","item","update","useStyle","createStyles","css","fixEditableVerticalAlign","_templateObject","_taggedTemplateLiteral","modalProps","sessionHistory","updateSessionHistory","hoverRowKey","setHoverRowKey","getImageAliasName","pinnedSessionHistory","pin","unpin","updatePinnedHistory","usePinnedSessionHistory","setPinnedSessionHistory","recentSessionHistory","pinnedItem","find","newPinnedSessionHistory","setSelectedHistoryId","parsedSessionHistory","parseToFormValues","history","isPinned","URLSearchParams","formValues","JSON","parse","get","pinned","recent","unionBy","BAIModal","footer","onCancel","onRequestClose","BAITable","rowSelection","selectedRowKeys","columnWidth","hideSelectAll","renderCell","scroll","x","onRow","onMouseEnter","onMouseLeave","PinIcon","QuestionIconWithTooltip","isHovered","colorTextQuaternary","split","className","editable","BAILink","_modalProps$onRequest","call","_version","_record$environments","_record$environments2","imageStr","environments","Tooltip","placement","onCell","maxWidth","textOverflow","fromNow","_ref3","_convertToBinaryUnit","_convertToBinaryUnit2","BAIResourceNumberWithIcon","convertToBinaryUnit","toString","number","opts","shmem","accelerator","acceleratorType","SessionLauncherPage","_steps$currentStep","logger","useBAILogger","getErrorMessage","useErrorMessageResolver","mainContentDivRef","useAtomValue","mainContentDivRefState","supportsMountById","setCurrentGlobalResourceGroup","useCurrentResourceGroupState","startSession","defaultFormValues","upsertSessionNotification","useStartSession","StepParam","withDefault","NumberParam","FormValuesParam","JsonParam","AppOptionParam","step","currentStep","formValuesFromQueryParams","redirectTo","setQuery","useQueryParams","StringParam","appOption","search","useLocation","webuiNavigate","useWebUINavigate","isOpenTemplateModal","toggle","toggleIsOpenTemplateModal","useToggle","pushSessionHistory","run","syncFormToURLWithDebounce","useDebounceFn","currentValue","getFieldsValue","envvars","sanitizeSensitiveEnv","leading","wait","trailing","setCurrentStep","nextStep","screens","Grid","useBreakpoint","useForm","validateSilently","useEffectEvent","setTimeout","clearTimeout","mergedInitialValues","RESOURCE_ALLOCATION_INITIAL_FORM_VALUES","_mainContentDivRef$cu","current","scrollTo","filterOutEmpty","PlayCircleFilled","currentStepKey","hasError","getFieldsError","errors","finalStepLastValidateTime","setFinalStepLastValidateTime","useUpdatableState","finally","setValidationTourOpen","validationTourOpen","isQueryReset","setIsQueryReset","useLayoutEffect","resetFields","justifyContent","justify","Title","level","marginTop","paddingRight","paddingLeft","Provider","onFormChange","layout","initialValues","SessionLauncherFormIncompatibleValueChecker","Radio","SessionNameFormItem","hidden","TextArea","autoSize","scheduleDate","BAIIntervalView","delay","callback","isBefore","triggerKey","time","Checkbox","checked","add","shouldUpdate","prev","next","_prev$batch","_next$batch","batch","validator","async","_rule","Promise","reject","resolve","showTime","disabledDate","startOf","timeout","unit","timeDuration","formattedDuration","formatDuration","durationText","tooltip","Space","Compact","min","InputNumber","tabIndex","SessionOwnerSetterCard","ErrorBoundary","fallbackRender","ImageEnvironmentSelectFormItems","EnvVarFormList","validateTrigger","ResourceAllocationFormItems","enableAgentSelect","enableNumOfSessions","enableResourcePresets","showRemainingWarning","checkedChildren","unCheckedChildren","hpcOptimization","autoEnabled","OMP_NUM_THREADS","OPENBLAS_NUM_THREADS","_prev$hpcOptimization","_next$hpcOptimization","marginMD","xs","sm","Trans","i18nKey","stringMode","ownerInfo","isValidOwner","VFolderTableFormItem","rowFilter","vfolder","_vfolder$name","startsWith","tableProps","ownerEmail","PortSelectFormItem","SessionLauncherPreview","stepKey","Popconfirm","onConfirm","QuestionCircleOutlined","colorError","okText","okButtonProps","danger","LeftOutlined","BAIButton","PlayCircleOutlined","_values$mount_ids","usedSearchParams","error","mount_ids","confirm","closable","results","fulfilled","sessionName","rejected","reason","ghost","RightOutlined","DoubleRightOutlined","lg","position","top","Steps","orientation","nextCurrent","items","s","SessionTemplateModal","formValue","fieldsValue","ports","vfoldersNameMap","mount_id_map","bootstrap_script","num_of_sessions","domainName","command","agent","SessionLauncherValidationTour","scrollIntoViewOptions","currentName","$","_c","t0","t1","t2","t3","t4","t5","t6","_f","test"],"ignoreList":[],"sourceRoot":""}