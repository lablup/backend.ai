/*! For license information please see 6608.7496ca50.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6608],{86608:(e,n,t)=>{t.r(n),t.d(n,{default:()=>X});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"limit"},t={defaultValue:null,kind:"LocalArgument",name:"offset"},a={defaultValue:null,kind:"LocalArgument",name:"order"},r=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"orderBy",variableName:"order"}],i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"VERSION"}}],s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c=[{alias:null,args:null,concreteType:"ArtifactRevisionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ArtifactRevision",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,t,a],kind:"Fragment",metadata:null,name:"ReservoirPageQuery",selections:[{alias:null,args:r,concreteType:"ArtifactConnection",kind:"LinkedField",name:"artifacts",plural:!1,selections:[i,{alias:null,args:null,concreteType:"ArtifactEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Artifact",kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"BAIArtifactTableArtifactFragment"},{args:null,kind:"FragmentSpread",name:"BAIImportArtifactModalArtifactFragment"},{alias:null,args:o,concreteType:"ArtifactRevisionConnection",kind:"LinkedField",name:"revisions",plural:!1,selections:[{alias:null,args:null,concreteType:"ArtifactRevisionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ArtifactRevision",kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"BAIImportArtifactModalArtifactRevisionFragment"}],storageKey:null}],storageKey:null}],storageKey:'revisions(first:1,orderBy:{"direction":"DESC","field":"VERSION"})'}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,t,e],kind:"Operation",name:"ReservoirPageQuery",selections:[{alias:null,args:r,concreteType:"ArtifactConnection",kind:"LinkedField",name:"artifacts",plural:!1,selections:[i,{alias:null,args:null,concreteType:"ArtifactEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Artifact",kind:"LinkedField",name:"node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updatedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scannedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"latestVersion",args:o,concreteType:"ArtifactRevisionConnection",kind:"LinkedField",name:"revisions",plural:!1,selections:c,storageKey:'revisions(first:1,orderBy:{"direction":"DESC","field":"VERSION"})'},{alias:null,args:null,concreteType:"SourceInfo",kind:"LinkedField",name:"source",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"ArtifactRevisionConnection",kind:"LinkedField",name:"revisions",plural:!1,selections:c,storageKey:'revisions(first:1,orderBy:{"direction":"DESC","field":"VERSION"})'}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"ec2a8d9f69b1a5fcf7c081dca907619b",id:null,metadata:{},name:"ReservoirPageQuery",operationKind:"query",text:"query ReservoirPageQuery(\n  $order: [ArtifactOrderBy!]\n  $limit: Int!\n  $offset: Int!\n  $filter: ArtifactFilter!\n) {\n  artifacts(orderBy: $order, limit: $limit, offset: $offset, filter: $filter) {\n    count\n    edges {\n      node {\n        id\n        ...BAIArtifactTableArtifactFragment\n        ...BAIImportArtifactModalArtifactFragment\n        revisions(first: 1, orderBy: {field: VERSION, direction: DESC}) {\n          edges {\n            node {\n              id\n              ...BAIImportArtifactModalArtifactRevisionFragment\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment BAIArtifactDescriptionsFragment on Artifact {\n  name\n  description\n  source {\n    name\n    url\n  }\n  ...BAIArtifactTypeTagFragment\n}\n\nfragment BAIArtifactRevisionDownloadButtonFragment on ArtifactRevision {\n  status\n}\n\nfragment BAIArtifactStatusTagFragment on ArtifactRevision {\n  status\n}\n\nfragment BAIArtifactTableArtifactFragment on Artifact {\n  id\n  name\n  description\n  updatedAt\n  scannedAt\n  ...BAIArtifactTypeTagFragment\n  latestVersion: revisions(first: 1, orderBy: {field: VERSION, direction: DESC}) {\n    edges {\n      node {\n        id\n        version\n        size\n        status\n        ...BAIArtifactStatusTagFragment\n        ...BAIArtifactRevisionDownloadButtonFragment\n      }\n    }\n  }\n}\n\nfragment BAIArtifactTypeTagFragment on Artifact {\n  type\n}\n\nfragment BAIImportArtifactModalArtifactFragment on Artifact {\n  id\n  ...BAIArtifactDescriptionsFragment\n}\n\nfragment BAIImportArtifactModalArtifactRevisionFragment on ArtifactRevision {\n  id\n  version\n  size\n  status\n}\n"}}}();a.hash="3e4e710b7e988970fb8f7459c537c32d";const r=a;var i=t(19885),l=t(61774),o=t(68343),s=t(89644),c=t(88153),d=t(22252),u=t(35054),f=t(57010),g=t(66610),m=t(8627),p=t(11918),y=t(43419),v=t.n(y),A=t(61931),k=t(13211),S=t(9034);const b=e=>{const{value:n,formatter:t,precision:a,decimalSeparator:r,groupSeparator:i="",prefixCls:l}=e;let o;if("function"===typeof t)o=t(n);else{const e=String(n),t=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(t&&"-"!==e){const e=t[1];let n=t[2]||"0",s=t[4]||"";n=n.replace(/\B(?=(\d{3})+(?!\d))/g,i),"number"===typeof a&&(s=s.padEnd(a,"0").slice(0,a>0?a:0)),s&&(s=`${r}${s}`),o=[g.createElement("span",{key:"int",className:`${l}-content-value-int`},e,n),s&&g.createElement("span",{key:"decimal",className:`${l}-content-value-decimal`},s)]}else o=e}return g.createElement("span",{className:`${l}-content-value`},o)};var F=t(18229),O=t(12290),x=t(99937);const h=e=>{const{componentCls:n,marginXXS:t,padding:a,colorTextDescription:r,titleFontSize:i,colorTextHeading:l,contentFontSize:o,fontFamily:s}=e;return{[n]:Object.assign(Object.assign({},(0,F.dF)(e)),{[`${n}-title`]:{marginBottom:t,color:r,fontSize:i},[`${n}-skeleton`]:{paddingTop:a},[`${n}-content`]:{color:l,fontSize:o,fontFamily:s,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:t},[`${n}-content-suffix`]:{marginInlineStart:t}}})}},I=(0,O.OF)("Statistic",(e=>{const n=(0,x.oX)(e,{});return[h(n)]}),(e=>{const{fontSizeHeading3:n,fontSize:t}=e;return{titleFontSize:t,contentFontSize:n}}));var E=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};const T=e=>{const{prefixCls:n,className:t,rootClassName:a,style:r,valueStyle:i,value:l=0,title:o,valueRender:s,prefix:c,suffix:d,loading:u=!1,formatter:f,precision:m,decimalSeparator:p=".",groupSeparator:y=",",onMouseEnter:F,onMouseLeave:O}=e,x=E(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:h,direction:T,className:j,style:R}=(0,k.TP)("statistic"),$=h("statistic",n),[C,B,L]=I($),w=g.createElement(b,{decimalSeparator:p,groupSeparator:y,prefixCls:$,formatter:f,precision:m,value:l}),D=v()($,{[`${$}-rtl`]:"rtl"===T},j,t,a,B,L),K=(0,A.A)(x,{aria:!0,data:!0});return C(g.createElement("div",Object.assign({},K,{className:D,style:Object.assign(Object.assign({},R),r),onMouseEnter:F,onMouseLeave:O}),o&&g.createElement("div",{className:`${$}-title`},o),g.createElement(S.A,{paragraph:!1,loading:u,className:`${$}-skeleton`},g.createElement("div",{style:i,className:`${$}-content`},c&&g.createElement("span",{className:`${$}-content-prefix`},c),s?s(w):w,d&&g.createElement("span",{className:`${$}-content-suffix`},d)))))},j=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function R(e,n){const{format:t=""}=n,a=new Date(e).getTime(),r=Date.now();return function(e,n){let t=e;const a=/\[[^\]]*]/g,r=(n.match(a)||[]).map((e=>e.slice(1,-1))),i=n.replace(a,"[]"),l=j.reduce(((e,n)=>{let[a,r]=n;if(e.includes(a)){const n=Math.floor(t/r);return t-=n*r,e.replace(new RegExp(`${a}+`,"g"),(e=>{const t=e.length;return n.toString().padStart(t,"0")}))}return e}),i);let o=0;return l.replace(a,(()=>{const e=r[o];return o+=1,e}))}(Math.max(a-r,0),t)}var $=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};const C=1e3/30;const B=e=>{const{value:n,format:t="HH:mm:ss",onChange:a,onFinish:r}=e,i=$(e,["value","format","onChange","onFinish"]),l=(0,m.A)(),o=g.useRef(null),s=()=>{const e=function(e){return new Date(e).getTime()}(n);e>=Date.now()&&(o.current=setInterval((()=>{l(),null===a||void 0===a||a(e-Date.now()),e<Date.now()&&(null===r||void 0===r||r(),o.current&&(clearInterval(o.current),o.current=null))}),C))};g.useEffect((()=>(s(),()=>{o.current&&(clearInterval(o.current),o.current=null)})),[n]);return g.createElement(T,Object.assign({},i,{value:n,valueRender:e=>(0,p.Ob)(e,{title:void 0}),formatter:(e,n)=>R(e,Object.assign(Object.assign({},n),{format:t}))}))},L=g.memo(B);T.Countdown=L;const w=T;var D=t(84395),K=t(63872),N=t(8348),M=t.n(N);const P=(0,t(5335).A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var V=t(54070),z=t(89737),_=t(19022),q=t(84970),H=t(83203),Q=t(66906);const X=()=>{const{t:e}=(0,V.Bd)(),{token:n}=c.A.useToken(),t=(0,_.Zp)(),[a,m]=(0,g.useState)(null),[p,y]=(0,g.useState)([]),[v,{toggle:A}]=(0,s.A)(),{baiPaginationOption:k,tablePaginationOption:S,setTablePaginationOption:b}=(0,l.aW)({current:1,pageSize:10}),[F,O]=(0,o.R)({filter:(0,H.withDefault)(H.JsonParam,{})}),x=(0,g.useMemo)((()=>({offset:k.offset,limit:k.limit,order:[{field:"UPDATED_AT",direction:"DESC"}],filter:F.filter})),[k.offset,k.limit,F.filter]),h=(0,g.useDeferredValue)(x),[I,E]=(0,i.Tw)(i.eI),[T,j]=(0,g.useTransition)(),R=(0,g.useDeferredValue)(I),$=(0,z.useLazyLoadQuery)(r,h,{fetchKey:R===i.eI?void 0:R,fetchPolicy:R===i.eI?"store-and-network":"network-only"}),{artifacts:C}=$;return(0,Q.jsxs)(K.OO,{direction:"column",align:"stretch",gap:"md",children:[(0,Q.jsx)(d.A,{gutter:[16,16],children:(0,Q.jsx)(u.A,{xs:12,sm:8,lg:6,xl:4,children:(0,Q.jsx)(f.A,{size:"small",variant:"borderless",hoverable:!0,style:{cursor:"pointer",border:`1px solid ${n.colorPrimary}`},children:(0,Q.jsx)(w,{title:"MODEL",value:C.count,prefix:(0,Q.jsx)(P,{size:16}),valueStyle:{color:n.colorPrimary}})})})}),(0,Q.jsx)(K.Zu,{activeTabKey:"artifacts",tabList:[{key:"artifacts",tab:e("reservoirPage.ReservoirArtifacts")}],styles:{body:{padding:`${n.paddingSM}px ${n.paddingLG}px ${n.paddingLG}px ${n.paddingLG}px`}},children:(0,Q.jsxs)(K.OO,{direction:"column",align:"stretch",gap:"sm",children:[(0,Q.jsxs)(K.OO,{justify:"between",wrap:"wrap",gap:"sm",children:[(0,Q.jsx)(K.OO,{gap:"sm",align:"start",justify:"between",style:{flexShrink:1},wrap:"wrap",children:(0,Q.jsx)(K.tX,{combinationMode:"AND",onChange:e=>{j((()=>{O({filter:null!==e&&void 0!==e?e:{}},"replaceIn")}))},value:F.filter,filterProperties:[{fixedOperator:"contains",key:"name",propertyLabel:e("reservoirPage.Name"),type:"string"},{fixedOperator:"contains",key:"source",propertyLabel:e("reservoirPage.Source"),type:"string"},{fixedOperator:"contains",key:"registry",propertyLabel:e("reservoirPage.Registry"),type:"string"}]})}),(0,Q.jsxs)(K.OO,{gap:"sm",align:"center",children:[(0,Q.jsx)(q.A,{value:I,autoUpdateDelay:1e4,loading:T,onChange:()=>j((()=>{E()}))}),(0,Q.jsx)(D.Ay,{type:"primary",icon:(0,Q.jsx)(K.KB,{style:{fontSize:"1.5em"}}),onClick:()=>A(),children:e("reservoirPage.FromHuggingFace")})]})]}),(0,Q.jsx)(K.N3,{artifactFragment:C.edges.map((e=>e.node)),onClickPull:(e,n)=>{C.edges.forEach((t=>{if(t.node.id===e)return m(t.node),void t.node.revisions.edges.forEach((e=>{e.node.id!==n||y([e.node])}))}))},loading:T,pagination:{pageSize:S.pageSize,current:S.current,total:C.count,onChange:(e,n)=>{j((()=>{M().isNumber(e)&&M().isNumber(n)&&b({current:e,pageSize:n})}))}}})]})}),(0,Q.jsx)(K.VC,{selectedArtifactFrgmt:a,selectedArtifactRevisionFrgmt:p,open:!!a&&!M().isEmpty(p),onOk:()=>{m(null),y([])},onCancel:()=>{m(null),y([])}}),(0,Q.jsx)(K.lC,{open:v,onOk:(e,n)=>{A(),t(`/reservoir/${(0,K.om)(n)}`)},onCancel:A})]})}}}]);
//# sourceMappingURL=6608.7496ca50.chunk.js.map