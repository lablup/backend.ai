/*! For license information please see 3420.075931a7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[3420,6214],{36214:(e,n,l)=>{l.r(n),l.d(n,{default:()=>t});var i=l(12221),a=(l(55093),l(79569));const t=e=>{let{text:n,children:l}=e;return(0,a.jsx)(i.A.Text,{copyable:!0,code:!0,children:n||l})}},53032:(e,n,l)=>{l.d(n,{A:()=>y});var i=l(72375),a=l(23441),t=l(69949),o=l(88543),r=l(72338),s=l(75197),d=l(79597),u=l(38398),c=l(80899),m=l(78502),g=l.n(m),p=l(55093),v=l(33364),h=l(79569);const y=e=>{let{onRequestClose:n,onCancel:l,endpoint_id:m,...y}=e;const{t:x}=(0,v.Bd)(),f=(0,a.CX)(),k=(0,p.useRef)(null),S=(0,t.ET)({mutationFn:e=>{const n={valid_until:e.valid_until};return(0,i.hu)({method:"POST",url:`/services/${m}/token`,body:n,client:f})}});return(0,h.jsx)(o.A,{...y,destroyOnClose:!0,onOk:e=>{var l;null===(l=k.current)||void 0===l||l.validateFields().then((e=>{const l=e.datetime.unix();S.mutate({valid_until:l},{onSuccess:()=>{s.Ay.success(x("modelService.TokenGenerated")),n(!0)},onError:e=>{var n;null!==e&&void 0!==e&&null!==(n=e.message)&&void 0!==n&&n.includes("valid_until is older than now")?s.Ay.error(x("modelService.TokenExpiredDateError")):(s.Ay.error(x("modelService.TokenGenerationFailed")),console.log(e))}})}))},onCancel:()=>{n()},okText:x("modelService.Generate"),confirmLoading:S.isPending,centered:!0,title:x("modelService.GenerateNewToken"),children:(0,h.jsx)(d.A,{ref:k,preserve:!1,labelCol:{span:10},initialValues:{datetime:g()().add(24,"hour")},validateTrigger:["onChange","onBlur"],style:{maxWidth:500},children:(0,h.jsxs)(r.A,{direction:"column",gap:"sm",align:"stretch",children:[(0,h.jsx)(u.A,{type:"info",showIcon:!0,message:x("modelService.TokenExpiredDateHelp")}),(0,h.jsx)(r.A,{direction:"row",align:"stretch",justify:"around",children:(0,h.jsx)(d.A.Item,{name:"datetime",label:x("modelService.ExpiredDate"),rules:[{type:"object",required:!0,message:x("modelService.PleaseSelectTime")},()=>({validator:(e,n)=>n.isAfter(g()())?Promise.resolve():Promise.reject(new Error(x("modelService.TokenExpiredDateError")))})],children:(0,h.jsx)(c.A,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:200}})})})]})})})}},51989:(e,n,l)=>{l.d(n,{A:()=>c});var i,a=l(88543),t=l(36214),o=l(99142),r=l(76082),s=(l(55093),l(33364)),d=l(63821),u=l(79569);const c=e=>{let{onRequestClose:n,onCancel:c,inferenceSessionErrorFrgmt:m,...g}=e;const{t:p}=(0,s.Bd)(),v=(0,d.useFragment)(void 0!==i?i:i=l(36414),m);return(0,u.jsx)(a.A,{centered:!0,title:p("modelService.ServingRouteErrorModalTitle"),onCancel:()=>{n()},footer:[(0,u.jsx)(o.Ay,{onClick:()=>{n()},children:p("button.Close")})],...g,children:(0,u.jsxs)(r.A,{bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},labelStyle:{minWidth:100},style:{marginTop:20},children:[(0,u.jsx)(r.A.Item,{label:p("modelService.SessionId"),children:(0,u.jsx)(t.default,{children:null===v||void 0===v?void 0:v.session_id})}),(0,u.jsx)(r.A.Item,{label:p("dialog.error.Error"),children:null===v||void 0===v?void 0:v.errors[0].repr})]})})}},20936:(e,n,l)=>{l.d(n,{A:()=>c});var i=l(72375),a=l(23441),t=l(69949),o=l(81530),r=l(83191),s=l(12221),d=(l(55093),l(42588)),u=l(79569);const c=e=>{let{uuid:n,clickable:l}=e;const c=(0,o.hd)(),m=(0,i.QE)(),g=(0,d.zy)(),p=(0,a.f0)(),{data:v}=(0,t.nj)({queryKey:["VFolderSelectQuery"],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",c.id),m({method:"GET",url:`/folders?${e.toString()}`})},staleTime:1e3}),h=null===v||void 0===v?void 0:v.find((e=>e.id===n.replaceAll("-","")));return h&&(l?(0,u.jsxs)(s.A.Link,{onClick:()=>{p({pathname:g.pathname,search:`?folder=${h.id}`})},children:[(0,u.jsx)(r.A,{})," ",h.name]}):(0,u.jsxs)("div",{children:[(0,u.jsx)(r.A,{})," ",h.name]}))}},36414:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InferenceSessionErrorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],type:"InferenceSessionError",abstractKey:null,hash:"3aff870b3138311d3e5415b7bbb32f53"},a=i},55334:(e,n,l)=>{l.d(n,{A:()=>j});var i,a,t=l(69949),o=l(72338),r=l(46735),s=l(99159),d=l(66596),u=l(52010),c=l(16954),m=l(38398),g=l(99142),p=l(78502),v=l.n(p),h=l(46976),y=l.n(h),x=(l(55093),l(33364)),f=l(63821),k=l(79569);const S=e=>{var n,o;let{endpointFrgmt:d,endpointTokenFrgmt:u,basePath:p="v1"}=e;const{t:h}=(0,x.Bd)(),S=(0,f.useFragment)(void 0!==i?i:i=l(73687),d),j=(0,f.useFragment)(void 0!==a?a:a=l(45367),u),A=y().maxBy(null===j||void 0===j?void 0:j.items,(e=>null===e||void 0===e?void 0:e.created_at)),_=v().utc(null===A||void 0===A?void 0:A.valid_until).tz().isAfter(v()())?null===A||void 0===A?void 0:A.token:void 0,{data:b,isFetching:F,refetch:T}=(0,t.nN)({queryKey:["models",null===S||void 0===S?void 0:S.url],queryFn:()=>fetch(new URL(p+"/models",(null===S||void 0===S?void 0:S.url)||"").toString()).then((e=>e.json()))});return F?(0,k.jsx)(c.A,{active:!0}):(0,k.jsx)(r.A,{endpointId:(null===S||void 0===S?void 0:S.endpoint_id)||"",baseURL:new URL(p,(null===S||void 0===S?void 0:S.url)||"").toString(),models:y().map(null===b||void 0===b?void 0:b.data,(e=>({id:e.id,name:e.id}))),fetchOnClient:!0,style:{flex:1},allowCustomModel:y().isEmpty(null===b||void 0===b?void 0:b.data),alert:y().isEmpty(null===b||void 0===b?void 0:b.data)&&(0,k.jsx)(m.A,{type:"warning",showIcon:!0,message:h("chatui.CannotFindModel"),action:(0,k.jsx)(g.Ay,{icon:(0,k.jsx)(s.A,{}),onClick:()=>{T()},children:h("button.Refresh")})}),modelId:null!==(n=null===b||void 0===b||null===(o=b.data)||void 0===o?void 0:o[0].id)&&void 0!==n?n:"custom",modelToken:_,showCompareMenuItem:!0})},j=e=>{let{endpointFrgmt:n=null,endpointTokenFrgmt:l=null,basePath:i,...a}=e;const{token:t}=d.A.useToken();return(0,k.jsx)(u.A,{...a,styles:{body:{height:"80vh",display:"flex"},content:{padding:0}},footer:null,centered:!0,width:"80%",style:{maxWidth:t.screenLGMax},destroyOnClose:!0,children:(0,k.jsx)(o.A,{direction:"column",align:"stretch",style:{flex:1},children:(0,k.jsx)(S,{basePath:i,endpointFrgmt:n,endpointTokenFrgmt:l})})})}},46735:(e,n,l)=>{l.d(n,{A:()=>me});var i=l(72375),a=l(23441),t=l(55093);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const[n,i]=(0,t.useState)(0);return(0,t.useEffect)((()=>{(0,t.startTransition)((()=>{(async e=>{const{encode:n}=await l.e(2471).then(l.bind(l,32471));return n(e).length})(e).then(i).catch((()=>{i(e.length)}))}))}),[e]),n};var r=l(72338),s=l(42741),d=l(79569);const u=e=>{let{style:n,loading:l,autoFocus:i,onStop:a,onSend:o,...r}=e;const u=(0,t.useRef)(null);return(0,t.useEffect)((()=>{i&&u.current&&u.current.focus()}),[i]),(0,d.jsx)(s.A,{ref:u,...r,loading:l,onSubmit:()=>{null===o||void 0===o||o()},onCancel:()=>{null===a||void 0===a||a()},submitType:"enter"})};var c=l(47543),m=l(46976),g=l.n(m),p=l(33364);const v=e=>{let{models:n,allowCustomModel:l,...i}=e;const{t:a}=(0,p.Bd)();return(0,d.jsx)(c.A,{placeholder:a("chatui.SelectModel"),style:{fontWeight:"normal"},showSearch:!0,options:g().concat(l?[{label:"Custom",value:"custom"}]:[],g().chain(n).groupBy("group").mapValues((e=>g().map(e,(e=>({label:e.label,value:e.name}))))).map(((e,n)=>({label:"undefined"===n?"Others":n,options:e}))).value()),popupMatchSelectWidth:!1,...i})};var h=l(2556),y=l(99142),x=l(18939),f=l(72450),k=l(60569);const S=e=>{let{copyable:n,defaultIcon:l,...i}=e;const[a,o]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{if(a){const e=setTimeout((()=>{o(!1)}),2e3);return()=>clearTimeout(e)}}),[a]),(0,d.jsx)(h.A,{title:a?"Copied!":"Copy",open:!!a||void 0,children:(0,d.jsx)(k.CopyToClipboard,{text:(null===n||void 0===n?void 0:n.text)||"",onCopy:async()=>{o(!0)},children:(0,d.jsx)(y.Ay,{icon:a?(0,d.jsx)(x.A,{}):l||(0,d.jsx)(f.A,{}),...i})})})};var j=l(12221),A=l(80963),_=l(23593),b=l(86533),F=l(55529);const{Text:T}=j.A,C=e=>{let{children:n}=e;return(0,d.jsx)(_.o,{components:{p(e){let{node:n,...l}=e;return(0,d.jsx)("p",{...l,style:{whiteSpace:"pre-wrap"}})},code(e){const{children:n,className:l,node:i,ref:a,...t}=e,o=/language-(\w+)/.exec(l||""),r=String(n).replace(/\n$/,"");return o?(0,d.jsx)(A.A,{title:(0,d.jsx)(T,{style:{fontWeight:"normal"},type:"secondary",children:o[1]}),type:"inner",size:"small",extra:(0,d.jsx)(S,{type:"text",copyable:{text:"s"}}),styles:{body:{padding:0},header:{margin:0}},children:(0,d.jsx)("div",{style:{margin:"-0.5em 0",width:"100%"},children:(0,d.jsx)(K,{ref:a,...t,PreTag:"div",language:o[1],style:F.A,wrapLongLines:!0,wrapLines:!0,children:r})})}):(0,d.jsx)("code",{...t,className:l,children:n})}},children:n})},w=e=>{let{children:n,...l}=e;return(0,d.jsx)(b.A,{...l,children:n})},K=t.memo(w),L=t.memo(C);var E=l(77538),I=l(300),M=l(66596),R=l(66355),D=l(85632),O=l(78502),U=l.n(O),z=l(48787),B=l.n(z),H=l(2660),V=l.n(H);U().extend(B()),U().extend(V());const P=e=>{let{extra:n,message:l,placement:i="left",containerStyle:a,enableExtraHover:o,isStreaming:s}=e;const{token:u}=M.A.useToken(),[c,m]=(0,t.useState)(!1),p=(0,I.A)(l.content,{wait:50});return(0,d.jsxs)(r.A,{direction:"left"===i?"row":"row-reverse",justify:"start",align:"baseline",style:{marginLeft:"left"===i?"0":"15%",marginRight:"right"===i?"0":20,...a},gap:"sm",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:["user"!==l.role?(0,d.jsx)(R.A,{icon:"\ud83e\udd16",style:{fontSize:u.fontSizeHeading3}}):null,(0,d.jsxs)(r.A,{direction:"column",align:"left"===i?"start":"end",wrap:"wrap",style:{flex:1},gap:"xs",children:[g().map(l.experimental_attachments,((e,n)=>g().includes(null===e||void 0===e?void 0:e.contentType,"image/")?(0,d.jsx)(r.A,{style:{border:"none",textAlign:"end"},align:"end",children:(0,d.jsx)(D.A,{src:null===e||void 0===e?void 0:e.url,alt:null===e||void 0===e?void 0:e.name,style:{maxWidth:"50vw",maxHeight:"12vh",borderRadius:u.borderRadius}},`${null===l||void 0===l?void 0:l.id}-${n}`)}):(0,d.jsx)(E.A.FileCard,{item:{uid:`${null===l||void 0===l?void 0:l.id}-${n}`,name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.url),type:null===e||void 0===e?void 0:e.contentType,description:null===e||void 0===e?void 0:e.name,url:null===e||void 0===e?void 0:e.url}},n))),(0,d.jsx)(r.A,{align:"stretch",direction:"column",style:{borderRadius:u.borderRadius,borderColor:u.colorBorderSecondary,borderWidth:u.lineWidth,padding:"1em",paddingTop:0,paddingBottom:0,backgroundColor:"user"!==l.role?u.colorBgContainer:u.colorBgContainerDisabled,maxWidth:"100%"},children:(0,d.jsx)(L,{children:p+(s?"\n\u25cf":"")})}),(0,d.jsx)(r.A,{style:{fontSize:u.fontSizeSM,...o?{opacity:c?1:0,transition:"opacity 0.2s",transitionDelay:c?"0s":"0.2s"}:{}},children:n})]})]})};var $=l(68098),N=l(68347);const q=e=>{let{autoScroll:n,atBottom:l,lastMessageContent:i,...a}=e;const o=(0,$.E)(a.onScrollToBottom);return(0,t.useEffect)((()=>{l&&n&&(null===o||void 0===o||o("auto"))}),[l,n,i,o]),(0,d.jsx)(y.Ay,{icon:(0,d.jsx)(N.A,{}),shape:"circle",onClick:()=>{o&&o("click")}})};var G=l(62153),W=l(95673);const Y=e=>{let{messages:n,isStreaming:l}=e;const i=(0,t.useRef)(null),[a,o]=(0,t.useState)(!0),{token:s}=M.A.useToken(),u="undefined"!==typeof window?1.5*window.innerHeight:0;return(0,d.jsxs)(r.A,{direction:"column",align:"stretch",style:{height:"100%",flex:1},children:[(0,d.jsx)(W.aY,{atBottomStateChange:o,atBottomThreshold:60,computeItemKey:(e,n)=>n.id,data:n,followOutput:"auto",initialTopMostItemIndex:(null===n||void 0===n?void 0:n.length)-1,itemContent:(e,i)=>(0,d.jsx)(P,{message:i,placement:"user"===i.role?"right":"left",containerStyle:{paddingLeft:s.paddingMD,paddingRight:s.paddingMD,paddingTop:0===e?s.paddingMD:0,paddingBottom:e===n.length-1?s.paddingMD:0},isStreaming:"user"!==i.role&&l&&e===n.length-1,enableExtraHover:"user"===i.role,extra:"user"!==i.role?(0,d.jsx)(G.Ay,{children:(0,d.jsx)(S,{type:"text",size:"small",copyable:{text:i.content}})}):(0,d.jsx)(G.Ay,{children:null})},i.id),overscan:u,ref:i}),(0,d.jsx)("div",{style:{position:"absolute",right:"50%",transform:"translateX(+50%)",bottom:s.marginSM,opacity:a?0:1,transition:"opacity 0.2s",transitionDelay:a?"0s":"0.2s"},children:(0,d.jsx)(q,{atBottom:a,autoScroll:l,onScrollToBottom:e=>{const n=i.current;switch(e){case"auto":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"auto",index:"LAST"});break;case"click":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"smooth",index:"LAST"})}},lastMessageContent:g().get(g().last(n),"content")})})]})};var Q=l(74145),J=l(13659),X=l(57893),Z=l(55887),ee=l(27872),ne=l(64690),le=l(75970),ie=l(62976),ae=l(4463),te=l(35364),oe=l(29759),re=l(79597),se=l(1364),de=l(38398),ue=l(25913),ce=l(16649);const me=e=>{var n;let{models:l=[],endpointId:c,baseURL:m,headers:h,credentials:x,apiKey:f,fetchOnClient:k,allowCustomModel:S,alert:_,leftExtra:b,inputMessage:F,submitKey:T,onInputChange:C,onSubmitChange:w,showCompareMenuItem:K,modelToken:L,...I}=e;const R=(0,a.f0)(),[D,O]=(0,t.useState)(!1),[U,z]=(0,ie.A)(I,{valuePropName:"modelId",trigger:"onModelChange",defaultValue:null===l||void 0===l||null===(n=l[0])||void 0===n?void 0:n.id}),B=(0,t.useRef)(null),H=(0,t.useRef)(null),{messages:V,error:P,input:$,setInput:N,stop:q,isLoading:G,append:W,setMessages:me}=(0,J.Y_)({api:m,headers:h,credentials:x,body:{modelId:U},fetch:async(e,n)=>{if(k||"custom"===U){var l,i,a;const e=JSON.parse(null===n||void 0===n?void 0:n.body),t=(0,Q.r)({baseURL:S?null===(l=B.current)||void 0===l?void 0:l.getFieldValue("baseURL"):m,apiKey:(S?null===(i=B.current)||void 0===i?void 0:i.getFieldValue("token"):f)||"dummy"}),o=await(0,ae.gM)({abortSignal:(null===n||void 0===n?void 0:n.signal)||void 0,model:t(S?null===(a=B.current)||void 0===a?void 0:a.getFieldValue("modelId"):U),messages:null===e||void 0===e?void 0:e.messages});return he(Date.now()),o.toDataStreamResponse()}return fetch(e,n)}}),{token:ge}=M.A.useToken(),{t:pe}=(0,p.Bd)(),[ve,he]=(0,t.useState)(null);(0,t.useEffect)((()=>{g().isUndefined(F)||N(F)}),[F,N]),(0,t.useEffect)((()=>{!g().isUndefined(T)&&$&&W({role:"user",content:$})}),[T]);const ye=o($),xe=(0,t.useMemo)((()=>g().map(V,(e=>null===e||void 0===e?void 0:e.content)).join("")),[V]),fe=ye+o(xe),ke=(0,t.useMemo)((()=>{const e=g().last(V);return"assistant"===(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.content:""}),[V]),Se=o(ke),je=(0,t.useMemo)((()=>Se>0&&ve?Se/((Date.now()-ve)/1e3):0),[Se,ve]),[Ae,_e]=(0,t.useState)([]),be=(0,i.LY)([K&&{key:"compare",label:pe("chatui.CompareWithOtherModels"),icon:(0,d.jsx)(ce.A,{}),onClick:()=>{R(`/serving?tab=chatting&endpointId=${c}&modelId=${U}`)}},K&&{type:"divider"},{key:"clear",danger:!0,label:pe("chatui.DeleteChatHistory"),icon:(0,d.jsx)(X.A,{}),onClick:()=>{me([])}}]);return(0,d.jsxs)(A.A,{ref:H,bordered:!0,extra:[],...I,title:(0,d.jsx)(r.A,{direction:"column",align:"stretch",gap:"sm",children:(0,d.jsxs)(r.A,{direction:"row",gap:"xs",children:[b,(0,d.jsx)(v,{models:l,value:U,onChange:z,allowCustomModel:S}),(0,d.jsx)(te.A,{menu:{items:be},trigger:["click"],children:(0,d.jsx)(y.Ay,{type:"link",onClick:e=>e.preventDefault(),icon:(0,d.jsx)(Z.A,{}),style:{color:ge.colorTextSecondary,width:ge.sizeMS}})})]})}),style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},styles:{body:{backgroundColor:ge.colorFillQuaternary,borderRadius:0,flex:1,display:"flex",flexDirection:"column",padding:0,height:"50%",position:"relative"},actions:{paddingLeft:ge.paddingContentHorizontal,paddingRight:ge.paddingContentHorizontal},header:{zIndex:1}},actions:[(0,d.jsx)(u,{autoFocus:!0,value:$,placeholder:"Say something...",header:(0,d.jsx)(s.A.Header,{closable:!1,title:pe("chatui.Attachments"),open:!!D&&!g().isEmpty(Ae),onOpenChange:O,styles:{content:{padding:0}},children:(0,d.jsx)(E.A,{beforeUpload:()=>!1,getDropContainer:()=>H.current,accept:"image/*,text/*",items:Ae,onChange:e=>{let{fileList:n}=e;return _e(n)},placeholder:e=>"drop"===e?{title:pe("chatui.DropFileHere")}:{icon:(0,d.jsx)(ee.A,{}),title:pe("chatui.UploadFiles"),description:pe("chatui.UploadFilesDescription")}})}),prefix:(0,d.jsx)(E.A,{beforeUpload:()=>!1,getDropContainer:()=>H.current,accept:"image/*,text/*",items:Ae,onChange:e=>{let{fileList:n}=e;_e(n),O(!0)},placeholder:e=>"drop"===e?{title:pe("chatui.DropFileHere")}:{icon:(0,d.jsx)(ee.A,{}),title:pe("chatui.UploadFiles"),description:pe("chatui.UploadFilesDescription")},children:(0,d.jsx)(oe.A,{dot:!g().isEmpty(Ae)&&!D,children:(0,d.jsx)(y.Ay,{type:"text",icon:(0,d.jsx)(ne.A,{})})})}),onChange:e=>{N(e),C&&C(e)},loading:G,onStop:()=>{q()},onSend:()=>{if($||!g().isEmpty(Ae)){const e=g().map(Ae,(e=>e.originFileObj)),n=g().filter(e,Boolean),l=new DataTransfer;g().forEach(n,(e=>{l.items.add(e)})),W({role:"user",content:$},{experimental_attachments:l.files}),setTimeout((()=>{N(""),_e([]),O(!1)}),0),null===w||void 0===w||w()}},style:{flex:1}})],children:[(0,d.jsx)(r.A,{direction:"row",style:{padding:ge.paddingSM,paddingRight:ge.paddingContentHorizontalLG,paddingLeft:ge.paddingContentHorizontalLG,backgroundColor:ge.colorBgContainer,display:S&&"custom"===U?"flex":"none"},children:(0,d.jsxs)(re.A,{ref:B,layout:"horizontal",size:"small",requiredMark:"optional",style:{flex:1},initialValues:{baseURL:m,token:L},children:[_?(0,d.jsx)("div",{style:{marginBottom:ge.size},children:_}):null,(0,d.jsx)(re.A.Item,{label:"baseURL",name:"baseURL",rules:[{type:"url"},{required:!0}],children:(0,d.jsx)(se.A,{placeholder:"https://domain/v1"})}),(0,d.jsx)(re.A.Item,{label:"Model ID",name:"modelId",rules:[{required:!0}],children:(0,d.jsx)(se.A,{placeholder:"llm-model"})}),(0,d.jsx)(re.A.Item,{label:"Token",name:"token",children:(0,d.jsx)(se.A,{})})]},m)}),g().isEmpty(null===P||void 0===P?void 0:P.message)?null:(0,d.jsx)(de.A,{message:null===P||void 0===P?void 0:P.message,type:"error",showIcon:!0,style:{margin:ge.marginSM},closable:!0}),(0,d.jsx)(Y,{messages:V,isStreaming:G}),(0,d.jsx)(r.A,{justify:"end",align:"end",style:{margin:ge.marginSM},children:(0,d.jsx)(ue.A,{children:(0,d.jsxs)(r.A,{gap:"xs",children:[(0,d.jsx)(le.A,{}),(0,d.jsxs)(r.A,{gap:"xxs",children:[(0,d.jsx)(j.A.Text,{children:je.toFixed(2)}),(0,d.jsx)(j.A.Text,{type:"secondary",children:"tok/s"})]}),(0,d.jsxs)(r.A,{gap:"xxs",children:[(0,d.jsx)(j.A.Text,{children:fe}),(0,d.jsx)(j.A.Text,{type:"secondary",children:"total tokens"})]})]})})})]})}},45367:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatUIModalEndpointTokenListFragment",selections:[{alias:null,args:null,concreteType:"EndpointToken",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valid_until",storageKey:null}],storageKey:null}],type:"EndpointTokenList",abstractKey:null,hash:"978a0d212433e32468a98dad175d1900"},a=i},73687:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatUIModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"f75cc1d0067e6a7d85e506a61c62a351"},a=i},73420:(e,n,l)=>{l.a(e,(async(e,i)=>{try{l.r(n),l.d(n,{default:()=>ie});var a,t=l(36214),o=l(88175),r=l(18744),s=l(53032),d=l(72338),u=l(75863),c=l(90184),m=l(51989),g=l(42388),p=l(33835),v=l(20936),h=l(55334),y=l(72375),x=l(23441),f=l(7971),k=l(54690),S=l(69949),j=l(60047),A=l(3207),_=l(38116),b=l(68260),F=l(77175),T=l(83191),C=l(73665),w=l(99159),K=l(61539),L=l(43605),E=l(8181),I=l(42927),M=l(66596),R=l(67089),D=l(12221),O=l(2556),U=l(99142),z=l(25913),B=l(65489),H=l(90803),V=l(80963),P=l(76082),$=l(8656),N=l(78502),q=l.n(N),G=l(46976),W=l.n(G),Y=l(20706),Q=l(55093),J=l(33364),X=l(63821),Z=l(42588),ee=l(79569),ne=e([p,j]);[p,j]=ne.then?(await ne)():ne;const le=(e,n)=>{const l=q()(e.created_at),i=q()(n.created_at);return l.diff(i)},ie=()=>{var e,n,i,N,G,ne,ie,ae;const{t:te}=(0,J.Bd)(),{token:oe}=M.A.useToken(),{message:re}=R.A.useApp(),{baiPaginationOption:se}=(0,k.w4)({current:1,pageSize:100}),{serviceId:de}=(0,Z.g)(),[ue,ce]=(0,x.Tw)("initial-fetch"),[me,ge]=(0,Q.useTransition)(),[pe,ve]=(0,Q.useTransition)(),[he,ye]=(0,Q.useState)(null),[xe,fe]=(0,Q.useState)(!1),[ke,Se]=(0,Q.useState)(!1),[je]=(0,f.U6)(),Ae=(0,x.CX)(),_e=(0,x.f0)(),{open:be}=(0,u.useFolderExplorerOpener)(),[Fe,Te]=(0,Q.useState)(),{endpoint:Ce,endpoint_token_list:we}=(0,X.useLazyLoadQuery)(void 0!==a?a:a=l(83555),{tokenListOffset:se.offset,tokenListLimit:se.limit,endpointId:de||""},{fetchPolicy:"initial-fetch"===ue?"store-and-network":"network-only",fetchKey:ue}),Ke=(0,S.ET)({mutationFn:()=>{if(Ce)return(0,y.hu)({method:"POST",url:`/services/${Ce.endpoint_id}/errors/clear`,client:Ae})}}),Le=(0,S.ET)({mutationFn:e=>(0,y.hu)({method:"POST",url:`/services/${e}/sync`,client:Ae})}),Ee=function(){let e="default";switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()){case"HEALTHY":e="success";break;case"PROVISIONING":e="processing";break;case"UNHEALTHY":e="warning"}return e},Ie=Ae.supports("modify-endpoint")&&null!==Ce&&void 0!==Ce&&Ce.image_object?`${Ce.image_object.registry}/${null!==(e=Ce.image_object.namespace)&&void 0!==e?e:Ce.image_object.name}:${Ce.image_object.tag}@${Ce.image_object.architecture}`:null===Ce||void 0===Ce?void 0:Ce.image,Me=JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_opts)||"{}"),Re=[{label:te("modelService.EndpointName"),children:(0,ee.jsx)(D.A.Text,{copyable:!0,children:null===Ce||void 0===Ce?void 0:Ce.name})},{label:te("modelService.Status"),children:(0,ee.jsx)(r.A,{endpointFrgmt:Ce})},{label:te("modelService.EndpointId"),children:null===Ce||void 0===Ce?void 0:Ce.endpoint_id},{label:te("modelService.SessionOwner"),children:(0,ee.jsx)(o.A,{endpointFrgmt:Ce})},{label:te("modelService.NumberOfReplicas"),children:null!==(n=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==n?n:null===Ce||void 0===Ce?void 0:Ce.desired_session_count},{label:te("modelService.ServiceEndpoint"),children:null!==Ce&&void 0!==Ce&&Ce.url?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(D.A.Text,{copyable:!0,children:null===Ce||void 0===Ce?void 0:Ce.url}),(0,ee.jsx)(O.A,{title:"LLM Chat Test",children:(0,ee.jsx)(U.Ay,{type:"link",icon:(0,ee.jsx)(Y.A,{}),onClick:()=>{Se(!0)},disabled:"HEALTHY"!==(null===Ce||void 0===Ce?void 0:Ce.status)})})]}):(0,ee.jsx)(D.A.Text,{type:"secondary",children:te("modelService.NoServiceEndpoint")})},{label:te("modelService.OpenToPublic"),children:null!==Ce&&void 0!==Ce&&Ce.open_to_public?(0,ee.jsx)(A.A,{}):(0,ee.jsx)(_.A,{})},{label:te("modelService.Resources"),children:(0,ee.jsxs)(d.A,{direction:"row",wrap:"wrap",gap:"md",children:[(0,ee.jsx)(O.A,{title:te("session.ResourceGroup"),children:(0,ee.jsx)(z.A,{children:null===Ce||void 0===Ce?void 0:Ce.resource_group})}),W().map(JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_slots)||"{}"),((e,n)=>(0,ee.jsx)(g.A,{type:n,value:e,opts:Me},n)))]}),span:{xl:2}},{label:te("session.launcher.ModelStorage"),children:(0,ee.jsx)(Q.Suspense,{fallback:(0,ee.jsx)(B.A,{indicator:(0,ee.jsx)(b.A,{spin:!0})}),children:(0,ee.jsxs)(d.A,{direction:"column",align:"start",children:[(0,ee.jsx)(v.A,{uuid:null===Ce||void 0===Ce?void 0:Ce.model,clickable:!0}),Ae.supports("endpoint-extra-mounts")&&(null===Ce||void 0===Ce?void 0:Ce.model_mount_destination)&&(0,ee.jsxs)(d.A,{direction:"row",align:"center",gap:"xxs",children:[(0,ee.jsx)(F.A,{type:"secondary"}),(0,ee.jsx)(D.A.Text,{type:"secondary",children:null===Ce||void 0===Ce?void 0:Ce.model_mount_destination})]})]})})}];return Ae.supports("endpoint-extra-mounts")&&Re.push({label:te("modelService.AdditionalMounts"),children:(0,ee.jsx)(d.A,{direction:"column",align:"start",children:W().map(null===Ce||void 0===Ce?void 0:Ce.extra_mounts,(e=>(0,ee.jsx)(d.A,{direction:"row",gap:"xxs",children:(0,ee.jsxs)(D.A.Link,{onClick:()=>{(null===e||void 0===e?void 0:e.row_id)&&be(null===e||void 0===e?void 0:e.row_id)},children:[(0,ee.jsx)(T.A,{})," ",null===e||void 0===e?void 0:e.name]})},null===e||void 0===e?void 0:e.row_id)))})}),Re.push({label:te("session.launcher.EnvironmentVariable"),children:(0,ee.jsx)(D.A.Text,{style:{fontFamily:"monospace"},children:W().isEmpty(JSON.parse((null===Ce||void 0===Ce?void 0:Ce.environ)||"{}"))?"-":null===Ce||void 0===Ce?void 0:Ce.environ}),span:{sm:1}}),Re.push({label:te("modelService.Image"),children:(Ae.supports("modify-endpoint")?null===Ce||void 0===Ce?void 0:Ce.image_object:null===Ce||void 0===Ce?void 0:Ce.image)&&(0,ee.jsxs)(d.A,{direction:"row",gap:"xs",children:[(0,ee.jsx)(c.A,{image:Ie||null}),(0,ee.jsx)(t.default,{children:Ie}),null!==Ce&&void 0!==Ce&&null!==(i=Ce.runtime_variant)&&void 0!==i&&i.human_readable_name?(0,ee.jsx)(z.A,{children:null===Ce||void 0===Ce||null===(N=Ce.runtime_variant)||void 0===N?void 0:N.human_readable_name}):null]}),span:{xl:3}}),(0,ee.jsxs)(d.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,ee.jsx)(H.A,{items:[{title:te("modelService.Services"),onClick:e=>{e.preventDefault(),_e("/serving")},href:"/serving"},{title:te("modelService.RoutingInfo")}]}),(0,ee.jsxs)(d.A,{direction:"row",justify:"between",children:[(0,ee.jsx)(D.A.Title,{level:3,style:{margin:0},children:(null===Ce||void 0===Ce?void 0:Ce.name)||""}),(0,ee.jsxs)(d.A,{gap:"xxs",children:[((null===Ce||void 0===Ce?void 0:Ce.retries)||0)>0?(0,ee.jsx)(O.A,{title:te("modelService.ClearErrors"),children:(0,ee.jsx)(U.Ay,{loading:pe,icon:(0,ee.jsx)(C.A,{}),onClick:()=>{ve((()=>{Ke.mutate(void 0,{onSuccess:()=>ge((()=>{ce()}))})}))}})}):(0,ee.jsx)(ee.Fragment,{}),(0,ee.jsx)(U.Ay,{loading:me,icon:(0,ee.jsx)(w.A,{}),disabled:(0,j.isDestroyingStatus)(null!==(G=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==G?G:null===Ce||void 0===Ce?void 0:Ce.desired_session_count,null===Ce||void 0===Ce?void 0:Ce.status),onClick:()=>{ge((()=>{ce()}))},children:te("button.Refresh")})]})]}),(0,ee.jsx)(V.A,{title:te("modelService.ServiceInfo"),extra:(0,ee.jsx)(U.Ay,{type:"primary",icon:(0,ee.jsx)(K.A,{}),disabled:(0,j.isDestroyingStatus)(null!==(ne=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==ne?ne:null===Ce||void 0===Ce?void 0:Ce.desired_session_count,null===Ce||void 0===Ce?void 0:Ce.status)||!(null===Ce||void 0===Ce||!Ce.created_user_email)&&(null===Ce||void 0===Ce?void 0:Ce.created_user_email)!==je.email,onClick:()=>{_e("/service/update/"+de)},children:te("button.Edit")}),children:(0,ee.jsx)(P.A,{bordered:!0,column:{xxl:3,xl:3,lg:2,md:1,sm:1,xs:1},style:{backgroundColor:oe.colorBgBase},items:Re})}),(0,ee.jsx)(V.A,{title:te("modelService.GeneratedTokens"),extra:(0,ee.jsx)(U.Ay,{type:"primary",icon:(0,ee.jsx)(L.A,{}),disabled:(0,j.isDestroyingStatus)(null!==(ie=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==ie?ie:null===Ce||void 0===Ce?void 0:Ce.desired_session_count,null===Ce||void 0===Ce?void 0:Ce.status),onClick:()=>{fe(!0)},children:te("modelService.GenerateToken")}),children:(0,ee.jsx)($.A,{scroll:{x:"max-content"},rowKey:"token",columns:[{title:"#",fixed:"left",render:(e,n,l)=>++l,showSorterTooltip:!1},{title:"Token",dataIndex:"token",fixed:"left",render:(e,n)=>(0,ee.jsx)(D.A.Text,{ellipsis:!0,copyable:!0,style:{width:150},children:n.token})},{title:"Status",render:(e,n)=>{const l=q().utc(n.valid_until).isBefore();return(0,ee.jsx)(z.A,{color:l?"red":"green",children:l?"Expired":"Valid"})}},{title:"Valid Until",dataIndex:"valid_until",render:(e,n)=>(0,ee.jsx)("span",{children:n.valid_until?q().utc(n.valid_until).tz().format("ll LTS"):"-"}),defaultSortOrder:"descend",sortDirections:["descend","ascend","descend"],sorter:le},{title:"Created at",dataIndex:"created_at",render:(e,n)=>(0,ee.jsx)("span",{children:q()(n.created_at).format("ll LT")}),defaultSortOrder:"descend",sortDirections:["descend","ascend","descend"],sorter:le}],pagination:!1,dataSource:(0,y.tS)(null===we||void 0===we?void 0:we.items),bordered:!0})}),(0,ee.jsx)(V.A,{title:te("modelService.RoutesInfo"),extra:null!==Ce&&void 0!==Ce&&Ce.endpoint_id?(0,ee.jsx)(U.Ay,{icon:(0,ee.jsx)(E.A,{}),loading:Le.isPending,disabled:(0,j.isDestroyingStatus)(null!==(ae=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==ae?ae:null===Ce||void 0===Ce?void 0:Ce.desired_session_count,null===Ce||void 0===Ce?void 0:Ce.status),onClick:()=>{(null===Ce||void 0===Ce?void 0:Ce.endpoint_id)&&Le.mutateAsync(null===Ce||void 0===Ce?void 0:Ce.endpoint_id,{onSuccess:e=>{null!==e&&void 0!==e&&e.success?(re.success(te("modelService.SyncRoutesRequested")),ge((()=>{ce()}))):re.error(te("modelService.SyncRoutesFailed"))},onError:e=>{re.error(te("modelService.SyncRoutesFailed"))}})},children:te("modelService.SyncRoutes")}):null,children:(0,ee.jsx)($.A,{scroll:{x:"max-content"},columns:[{title:te("modelService.RouteId"),dataIndex:"routing_id",fixed:"left"},{title:te("modelService.SessionId"),dataIndex:"session",render:e=>(0,ee.jsx)(D.A.Link,{onClick:()=>{Te(e)},children:e})},{title:te("modelService.Status"),render:(e,n)=>n.status&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(z.A,{color:Ee(null===n||void 0===n?void 0:n.status),style:{marginRight:0},children:n.status.toUpperCase()},null===n||void 0===n?void 0:n.status),"FAILED_TO_START"===n.status&&n.session&&(0,ee.jsx)(U.Ay,{size:"small",type:"text",icon:(0,ee.jsx)(I.A,{}),style:{color:oe.colorTextSecondary},onClick:()=>{n.session&&(e=>{if(null===Ce)return;const{errors:n}=Ce||{},l=null===n||void 0===n?void 0:n.find((n=>{let{session_id:l}=n;return e===l}));ye(l||null)})(n.session)}})]})},{title:te("modelService.TrafficRatio"),dataIndex:"traffic_ratio"}],pagination:!1,dataSource:null===Ce||void 0===Ce?void 0:Ce.routings,rowKey:"routing_id",bordered:!0})}),(0,ee.jsx)(m.A,{open:!!he,inferenceSessionErrorFrgmt:he,onRequestClose:()=>ye(null)}),(0,ee.jsx)(s.A,{open:xe,onRequestClose:e=>{fe(!xe),e&&ge((()=>{ce()}))},endpoint_id:(null===Ce||void 0===Ce?void 0:Ce.endpoint_id)||""}),(0,ee.jsx)(h.A,{endpointFrgmt:Ce,endpointTokenFrgmt:we,open:ke,onCancel:()=>{Se(!1)}}),(0,ee.jsx)(p.A,{open:!Fe,sessionId:Fe,onClose:()=>{Te(void 0)}})]})};i()}catch(le){i(le)}}))},83555:(e,n,l)=>{l.r(n),l.d(n,{default:()=>a});const i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"endpointId"},n={defaultValue:null,kind:"LocalArgument",name:"tokenListLimit"},l={defaultValue:null,kind:"LocalArgument",name:"tokenListOffset"},i={kind:"Variable",name:"endpoint_id",variableName:"endpointId"},a=[i],t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"image",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"retries",storageKey:null},T={alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"model_mount_destiation",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"routing_id",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"session",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"traffic_ratio",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},V=[i,{kind:"Variable",name:"limit",variableName:"tokenListLimit"},{kind:"Variable",name:"offset",variableName:"tokenListOffset"}],P={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},N={alias:null,args:null,concreteType:"EndpointToken",kind:"LinkedField",name:"items",plural:!0,selections:[$,{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valid_until",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,n,l],kind:"Fragment",metadata:null,name:"EndpointDetailPageQuery",selections:[{alias:null,args:a,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[t,o,r,s,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[t,d,u,c,m,g,p,v,y,x,f,k],storageKey:null},S,j,A,_,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[b,{args:null,kind:"FragmentSpread",name:"InferenceSessionErrorModalFragment"}],storageKey:null},F,T,C,w,K,L,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[E,t],storageKey:null},I,M,R,D,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[O,U,z,B,o],storageKey:null},H,{args:null,kind:"FragmentSpread",name:"EndpointOwnerInfoFragment"},{args:null,kind:"FragmentSpread",name:"EndpointStatusTagFragment"},{args:null,kind:"FragmentSpread",name:"ChatUIModalFragment"}],storageKey:null},{alias:null,args:V,concreteType:"EndpointTokenList",kind:"LinkedField",name:"endpoint_token_list",plural:!1,selections:[P,N,{args:null,kind:"FragmentSpread",name:"ChatUIModalEndpointTokenListFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,l,n],kind:"Operation",name:"EndpointDetailPageQuery",selections:[{alias:null,args:a,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[t,o,r,s,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[t,d,u,c,m,g,p,v,y,x,f,k,$],storageKey:null},S,j,A,_,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[b,{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],storageKey:null},F,T,C,w,K,L,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[E,t,$],storageKey:null},I,M,R,D,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[O,U,z,B,o,$],storageKey:null},H,$,{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null}],storageKey:null},{alias:null,args:V,concreteType:"EndpointTokenList",kind:"LinkedField",name:"endpoint_token_list",plural:!1,selections:[P,N],storageKey:null}]},params:{cacheID:"601f1e8fd3c2c54f7372901fcfb85d16",id:null,metadata:{},name:"EndpointDetailPageQuery",operationKind:"query",text:'query EndpointDetailPageQuery(\n  $endpointId: UUID!\n  $tokenListOffset: Int!\n  $tokenListLimit: Int!\n) {\n  endpoint(endpoint_id: $endpointId) {\n    name\n    status\n    endpoint_id\n    image @deprecatedSince(version: "23.09.9")\n    image_object @since(version: "23.09.9") {\n      name\n      namespace @since(version: "24.12.0")\n      humanized_name\n      tag\n      registry\n      architecture\n      is_local\n      digest\n      resource_limits {\n        key\n        min\n        max\n      }\n      labels {\n        key\n        value\n      }\n      size_bytes\n      supported_accelerators\n      id\n    }\n    desired_session_count @deprecatedSince(version: "24.12.0")\n    replicas @since(version: "24.12.0")\n    url\n    open_to_public\n    errors {\n      session_id\n      ...InferenceSessionErrorModalFragment\n    }\n    retries\n    runtime_variant @since(version: "24.03.5") {\n      human_readable_name\n    }\n    model\n    model_mount_destiation @deprecatedSince(version: "24.03.4")\n    model_mount_destination @since(version: "24.03.4")\n    model_definition_path @since(version: "24.03.4")\n    extra_mounts @since(version: "24.03.4") {\n      row_id\n      name\n      id\n    }\n    environ\n    resource_group\n    resource_slots\n    resource_opts\n    routings {\n      routing_id\n      session\n      traffic_ratio\n      endpoint\n      status\n      id\n    }\n    created_user_email @since(version: "23.09.8")\n    ...EndpointOwnerInfoFragment\n    ...EndpointStatusTagFragment\n    ...ChatUIModalFragment\n    id\n  }\n  endpoint_token_list(offset: $tokenListOffset, limit: $tokenListLimit, endpoint_id: $endpointId) {\n    total_count\n    items {\n      id\n      token\n      endpoint_id\n      domain\n      project\n      session_owner\n      created_at\n      valid_until\n    }\n    ...ChatUIModalEndpointTokenListFragment\n  }\n}\n\nfragment ChatUIModalEndpointTokenListFragment on EndpointTokenList {\n  items {\n    id\n    token\n    created_at\n    valid_until\n  }\n}\n\nfragment ChatUIModalFragment on Endpoint {\n  endpoint_id\n  url\n  status\n}\n\nfragment EndpointOwnerInfoFragment on Endpoint {\n  id\n  created_user_email @since(version: "23.09.8")\n  session_owner_email @since(version: "23.09.8")\n}\n\nfragment EndpointStatusTagFragment on Endpoint {\n  id\n  status\n}\n\nfragment InferenceSessionErrorModalFragment on InferenceSessionError {\n  session_id\n  errors {\n    repr\n  }\n}\n'}}}();i.hash="23220b0711092ccafa65873e29fe290e";const a=i},77175:(e,n,l)=>{l.d(n,{A:()=>s});var i=l(40991),a=l(55093);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var o=l(36462),r=function(e,n){return a.createElement(o.A,(0,i.A)({},e,{ref:n,icon:t}))};const s=a.forwardRef(r)},8181:(e,n,l)=>{l.d(n,{A:()=>s});var i=l(40991),a=l(55093);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var o=l(36462),r=function(e,n){return a.createElement(o.A,(0,i.A)({},e,{ref:n,icon:t}))};const s=a.forwardRef(r)},73665:(e,n,l)=>{l.d(n,{A:()=>s});var i=l(40991),a=l(55093);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};var o=l(36462),r=function(e,n){return a.createElement(o.A,(0,i.A)({},e,{ref:n,icon:t}))};const s=a.forwardRef(r)},20706:(e,n,l)=>{l.d(n,{A:()=>i});const i=(0,l(26490).A)("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]])}}]);
//# sourceMappingURL=3420.075931a7.chunk.js.map