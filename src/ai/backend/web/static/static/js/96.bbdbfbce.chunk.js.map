{"version":3,"file":"static/js/96.bbdbfbce.chunk.js","mappings":"8OAOIA,EAAwB,SAA+BC,EAAOC,GAChE,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,GAAS,CAAC,EAAGJ,EAAO,CACpEC,IAAKA,EACLI,KAAMC,EAAAA,IAEV,EAOA,QAJ2BJ,EAAAA,WAAiBH,G,2DCH5C,MA+EA,EA1E6CC,IAC3C,MAAMO,GAAUC,EAAAA,EAAAA,QAEL,OACL,EAAEC,IAAMC,EAAAA,EAAAA,MACRC,GAAgBC,EAAAA,EAAAA,MAEtB,OADAC,EAAAA,EAAAA,OAEEC,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACd,IAAKM,EAASS,OAAO,SAASC,aAAa,cAAejB,EAAKkB,SAAA,EACnEC,EAAAA,EAAAA,KAACJ,EAAAA,EAAKK,KAAI,CACRC,KAAK,MACLC,MAAOb,EAAE,sBACTc,MAAO,CACL,CACEC,UAAU,GAEZ,CACEC,QAAS,IAAIC,OAAO,qCACpBC,QAASlB,EAAE,8BAEb,CACEmB,KAAM,SACNC,IAAK,OAGTC,MAAO,CACLC,KAAM,GACNb,UAEFC,EAAAA,EAAAA,KAACa,EAAAA,EAAK,CAACC,YAAaxB,EAAE,2BAExBU,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACL7B,MAAMc,EAAAA,EAAAA,KAACpB,EAAqB,IAC5B6B,KAAK,UACLO,QAASA,KAAO,IAADC,EACE,QAAfA,EAAA7B,EAAQ8B,eAAO,IAAAD,GAAfA,EACIE,iBACDC,MAAMC,IACL,MAAMC,EAAkCD,EAAOE,IA1CjDC,QAAQ,SAAU,KAClBA,QAAQ,aAAc,6BA0CpB,MAAMC,EAAuD,CAC3DC,YAAa,sBAAuBC,EAAAA,EAAAA,IAAqB,GACzDC,aAAc,CACZC,YAAa,+BAEfC,iBAAkB,sBAAwBR,GAEtCS,EAAS,IAAIC,gBACnBD,EAAOE,IAAI,OAAQ,KACnBF,EAAOE,IAAI,aAAcC,KAAKC,UAAUV,IACxCM,EAAOE,IACL,YACAC,KAAKC,UAAU,CACbC,QAAS,UACTC,SAAUf,EAAYgB,MAAM,KAAKC,SAGrC/C,EAAc,kBAAkBuC,EAAOS,aAAc,CACnDC,MAAO,CACLC,KAAM,CACJC,SAAU,UACVxC,MAAOb,EAAE,4BAGb,IAEHsD,OAAM,QAAS,EAClB7C,SAEDT,EAAE,gCAEA,E,cCjFX,MAiBA,EAjByBuD,KACvB,MAAM,EAAEvD,IAAMC,EAAAA,EAAAA,OACR,MAAEuD,GAAUC,EAAAA,EAAMC,WACxB,OACEhD,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,CACNC,MAAO5D,EAAE,yBACT6D,aAAW,EACXxC,MAAO,CACLyC,SAAU,IACVC,aAAcP,EAAMQ,WACpBvD,UAEFC,EAAAA,EAAAA,KAACuD,EAAc,KACP,C","sources":["../node_modules/.pnpm/@ant-design+icons@5.5.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js","components/ImportNotebook.tsx","pages/ImportAndRunPage.tsx"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CloudDownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudDownloadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CloudDownloadOutlined = function CloudDownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CloudDownloadOutlinedSvg\n  }));\n};\n\n/**![cloud-download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYyNCA3MDYuM2gtNzQuMVY0NjRjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djI0Mi4zSDQwMGMtNi43IDAtMTAuNCA3LjctNi4zIDEyLjlsMTEyIDE0MS43YTggOCAwIDAwMTIuNiAwbDExMi0xNDEuN2M0LjEtNS4yLjQtMTIuOS02LjMtMTIuOXoiIC8+PHBhdGggZD0iTTgxMS40IDM2Ni43Qzc2NS42IDI0NS45IDY0OC45IDE2MCA1MTIuMiAxNjBTMjU4LjggMjQ1LjggMjEzIDM2Ni42QzEyNy4zIDM4OS4xIDY0IDQ2Ny4yIDY0IDU2MGMwIDExMC41IDg5LjUgMjAwIDE5OS45IDIwMEgzMDRjNC40IDAgOC0zLjYgOC04di02MGMwLTQuNC0zLjYtOC04LThoLTQwLjFjLTMzLjcgMC02NS40LTEzLjQtODktMzcuNy0yMy41LTI0LjItMzYtNTYuOC0zNC45LTkwLjYuOS0yNi40IDkuOS01MS4yIDI2LjItNzIuMSAxNi43LTIxLjMgNDAuMS0zNi44IDY2LjEtNDMuN2wzNy45LTkuOSAxMy45LTM2LjZjOC42LTIyLjggMjAuNi00NC4xIDM1LjctNjMuNGEyNDUuNiAyNDUuNiAwIDAxNTIuNC00OS45YzQxLjEtMjguOSA4OS41LTQ0LjIgMTQwLTQ0LjJzOTguOSAxNS4zIDE0MCA0NC4yYzE5LjkgMTQgMzcuNSAzMC44IDUyLjQgNDkuOSAxNS4xIDE5LjMgMjcuMSA0MC43IDM1LjcgNjMuNGwxMy44IDM2LjUgMzcuOCAxMEM4NDYuMSA0NTQuNSA4ODQgNTAzLjggODg0IDU2MGMwIDMzLjEtMTIuOSA2NC4zLTM2LjMgODcuN2ExMjMuMDcgMTIzLjA3IDAgMDEtODcuNiAzNi4zSDcyMGMtNC40IDAtOCAzLjYtOCA4djYwYzAgNC40IDMuNiA4IDggOGg0MC4xQzg3MC41IDc2MCA5NjAgNjcwLjUgOTYwIDU2MGMwLTkyLjctNjMuMS0xNzAuNy0xNDguNi0xOTMuM3oiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(CloudDownloadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CloudDownloadOutlined';\n}\nexport default RefIcon;","import { generateRandomString } from '../helper';\nimport { useSuspendedBackendaiClient, useWebUINavigate } from '../hooks';\nimport {\n  AppOption,\n  SessionLauncherFormValue,\n} from '../pages/SessionLauncherPage';\nimport { SessionLauncherPageLocationState } from './LocationStateBreadCrumb';\nimport { CloudDownloadOutlined } from '@ant-design/icons';\nimport { Button, Form, FormInstance, FormProps, Input } from 'antd';\nimport { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst regularizeGithubURL = (url: string) => {\n  url = url.replace('/blob/', '/');\n  url = url.replace('github.com', 'raw.githubusercontent.com');\n  return url;\n};\nconst ImportNotebook: React.FC<FormProps> = (props) => {\n  const formRef = useRef<FormInstance<{\n    url: string;\n  }> | null>(null);\n  const { t } = useTranslation();\n  const webuiNavigate = useWebUINavigate();\n  useSuspendedBackendaiClient();\n  return (\n    <Form ref={formRef} layout=\"inline\" requiredMark=\"optional\" {...props}>\n      <Form.Item\n        name=\"url\"\n        label={t('import.NotebookURL')}\n        rules={[\n          {\n            required: true,\n          },\n          {\n            pattern: new RegExp('^(https?)://([\\\\w./-]{1,}).ipynb$'),\n            message: t('import.InvalidNotebookURL'),\n          },\n          {\n            type: 'string',\n            max: 2048,\n          },\n        ]}\n        style={{\n          flex: 1,\n        }}\n      >\n        <Input placeholder={t('import.NotebookURL')} />\n      </Form.Item>\n      <Button\n        icon={<CloudDownloadOutlined />}\n        type=\"primary\"\n        onClick={() => {\n          formRef.current\n            ?.validateFields()\n            .then((values) => {\n              const notebookURL = regularizeGithubURL(values.url);\n              const launcherValue: DeepPartial<SessionLauncherFormValue> = {\n                sessionName: 'imported-notebook-' + generateRandomString(5),\n                environments: {\n                  environment: 'cr.backend.ai/stable/python',\n                },\n                bootstrap_script: '#!/bin/sh\\ncurl -O ' + notebookURL,\n              };\n              const params = new URLSearchParams();\n              params.set('step', '4');\n              params.set('formValues', JSON.stringify(launcherValue));\n              params.set(\n                'appOption',\n                JSON.stringify({\n                  runtime: 'jupyter',\n                  filename: notebookURL.split('/').pop(),\n                } as AppOption),\n              );\n              webuiNavigate(`/session/start?${params.toString()}`, {\n                state: {\n                  from: {\n                    pathname: '/import',\n                    label: t('webui.menu.Import&Run'),\n                  },\n                } as SessionLauncherPageLocationState,\n              });\n            })\n            .catch(() => {});\n        }}\n      >\n        {t('import.GetAndRunNotebook')}\n      </Button>\n    </Form>\n  );\n};\n\nexport default ImportNotebook;\n","import BAICard from '../components/BAICard';\nimport ImportNotebook from '../components/ImportNotebook';\nimport { theme } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst ImportAndRunPage = () => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  return (\n    <BAICard\n      title={t('import.ImportNotebook')}\n      showDivider\n      style={{\n        maxWidth: 728,\n        marginBottom: token.paddingMD,\n      }}\n    >\n      <ImportNotebook />\n    </BAICard>\n  );\n};\n\nexport default ImportAndRunPage;\n"],"names":["CloudDownloadOutlined","props","ref","React","AntdIcon","_extends","icon","CloudDownloadOutlinedSvg","formRef","useRef","t","useTranslation","webuiNavigate","useWebUINavigate","useSuspendedBackendaiClient","_jsxs","Form","layout","requiredMark","children","_jsx","Item","name","label","rules","required","pattern","RegExp","message","type","max","style","flex","Input","placeholder","Button","onClick","_formRef$current","current","validateFields","then","values","notebookURL","url","replace","launcherValue","sessionName","generateRandomString","environments","environment","bootstrap_script","params","URLSearchParams","set","JSON","stringify","runtime","filename","split","pop","toString","state","from","pathname","catch","ImportAndRunPage","token","theme","useToken","BAICard","title","showDivider","maxWidth","marginBottom","paddingMD","ImportNotebook"],"sourceRoot":""}