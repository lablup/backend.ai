{"version":3,"file":"static/js/1147.f102ec84.chunk.js","mappings":"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","sources":["components/SettingItem.tsx","components/SettingList.tsx","components/MaintenanceSettingList.tsx","pages/MaintenancePage.tsx","../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RedoOutlined.js","../node_modules/.pnpm/@ant-design+icons@5.5.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@ant-design/icons/es/icons/RedoOutlined.js"],"sourcesContent":["import Flex from './Flex';\nimport { Badge, Checkbox, Select, SelectProps, Typography, theme } from 'antd';\nimport { createStyles } from 'antd-style';\nimport React, { ReactElement, ReactNode } from 'react';\n\nexport interface SettingItemProps {\n  type: 'custom' | 'checkbox' | 'select';\n  title: string;\n  description?: string | ReactElement;\n  children?: ReactNode;\n  defaultValue?: any;\n  value?: any;\n  setValue?: (value: any) => void;\n  selectProps?: Omit<SelectProps, 'value' | 'onChange' | 'defaultValue'>;\n  onChange?: (value: any) => void;\n}\n\nconst useStyles = createStyles(({ css }) => ({\n  baiSettingItemCheckbox: css`\n    .ant-checkbox {\n      align-self: flex-start;\n      margin-top: 0.2rem;\n    }\n  `,\n}));\n\nconst SettingItem: React.FC<SettingItemProps> = ({\n  type,\n  title,\n  description,\n  children,\n  defaultValue,\n  value,\n  selectProps,\n  onChange,\n}) => {\n  const { token } = theme.useToken();\n  const { styles } = useStyles();\n\n  return (\n    <Flex direction=\"column\" align=\"start\" gap={'xxs'}>\n      <Flex direction=\"row\" gap={'xxs'}>\n        <Typography.Text\n          strong\n          style={{\n            fontSize: token.fontSize,\n          }}\n        >\n          {title}\n        </Typography.Text>\n        {value !== undefined && value !== null && defaultValue !== value && (\n          <Badge dot status=\"warning\" />\n        )}\n      </Flex>\n      {type === 'custom' && (\n        <>\n          {description}\n          {children}\n        </>\n      )}\n      {type === 'checkbox' && (\n        <Checkbox\n          checked={value}\n          onChange={onChange}\n          className={styles.baiSettingItemCheckbox}\n        >\n          {description}\n        </Checkbox>\n      )}\n      {type === 'select' && (\n        <>\n          {description}\n          <Select\n            value={value}\n            popupMatchSelectWidth={false}\n            onChange={onChange}\n            {...selectProps}\n          ></Select>\n        </>\n      )}\n    </Flex>\n  );\n};\n\nexport default SettingItem;\n","import BAIModal from './BAIModal';\nimport Flex from './Flex';\nimport SettingItem from './SettingItem';\nimport { SettingItemProps } from './SettingItem';\nimport { RedoOutlined, SearchOutlined } from '@ant-design/icons';\nimport { useToggle } from 'ahooks';\nimport { Alert, Button, Checkbox, Input, Tabs, Typography, theme } from 'antd';\nimport { createStyles } from 'antd-style';\nimport _ from 'lodash';\nimport { useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = createStyles(({ css }) => ({\n  TabStyles: css`\n    .ant-tabs-tab-active {\n      font-weight: var(--token-fontWeightSuperStrong, 700);\n    }\n    .ant-typography-secondary {\n      font-weight: normal !important;\n    }\n  `,\n}));\n\nexport type SettingGroup = Array<{\n  title: string;\n  settingItems: SettingItemProps[];\n}>;\n\ninterface SettingPageProps {\n  settingGroup: SettingGroup;\n  tabDirection?: 'top' | 'left';\n  showChangedOptionFilter?: boolean;\n  showResetButton?: boolean;\n  showSearchBar?: boolean;\n}\n\nconst SettingList: React.FC<SettingPageProps> = ({\n  settingGroup,\n  tabDirection = 'left',\n  showChangedOptionFilter,\n  showResetButton,\n  showSearchBar,\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { styles } = useStyles();\n  const [searchValue, setSearchValue] = useState('');\n  const [changedOptionFilter, setChangedOptionFilter] = useState(false);\n  const [isOpenResetChangesModal, { toggle: setIsOpenResetChangesModal }] =\n    useToggle(false);\n\n  const appendedAllSettingGroup = useMemo(() => {\n    return [\n      {\n        title: t('general.All'),\n        settingItems: _.flatMap(settingGroup, (item) => item.settingItems),\n      },\n      ...settingGroup,\n    ];\n    // eslint-disable-next-line\n  }, [settingGroup]);\n\n  const searchedItemFilter = (item: SettingItemProps) => {\n    return (\n      item.title.toLowerCase().includes(searchValue.toLowerCase()) ||\n      (typeof item.description === 'string' &&\n        item.description.toLowerCase().includes(searchValue.toLowerCase()))\n    );\n  };\n\n  const changedItemValidator = (item: SettingItemProps) => {\n    if (item.value === null || item.value === undefined) {\n      return false;\n    }\n    return item.value !== item.defaultValue;\n  };\n  return (\n    <>\n      <Flex\n        direction=\"column\"\n        gap={'md'}\n        align=\"stretch\"\n        style={{\n          padding: token.paddingContentHorizontal,\n          maxWidth: token.screenLG,\n        }}\n      >\n        <Flex justify=\"start\" gap={'xs'}>\n          {!!showSearchBar && (\n            <Input\n              prefix={<SearchOutlined />}\n              placeholder={t('settings.SearchPlaceholder')}\n              onChange={(e) => setSearchValue(e.target.value)}\n              value={searchValue}\n            />\n          )}\n          {!!showChangedOptionFilter && (\n            <Checkbox\n              onChange={(e) => setChangedOptionFilter(e.target.checked)}\n              style={{ whiteSpace: 'nowrap' }}\n            >\n              {t('settings.ShowOnlyChanged')}\n            </Checkbox>\n          )}\n          {!!showResetButton && (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={() => setIsOpenResetChangesModal()}\n            >\n              {t('button.Reset')}\n            </Button>\n          )}\n        </Flex>\n        <Tabs\n          className={styles.TabStyles}\n          tabPosition={tabDirection ? 'left' : 'top'}\n          tabBarStyle={{ minWidth: 200 }}\n          items={_.map(appendedAllSettingGroup, (settingGroup) => {\n            const filteredItems = settingGroup.settingItems.filter((item) => {\n              return (\n                (!changedOptionFilter || changedItemValidator(item)) &&\n                searchedItemFilter(item)\n              );\n            });\n            return {\n              key: settingGroup.title,\n              label: (\n                <>\n                  <Typography.Text>{settingGroup.title}</Typography.Text>\n                  <Typography.Text type=\"secondary\">{` (${filteredItems.length})`}</Typography.Text>\n                </>\n              ),\n              children: (\n                <Flex direction=\"column\" gap={'lg'} align=\"start\">\n                  {filteredItems.map((item) => (\n                    <SettingItem {...item} />\n                  ))}\n                </Flex>\n              ),\n            };\n          })}\n        />\n      </Flex>\n      <BAIModal\n        open={isOpenResetChangesModal}\n        title={t('dialog.ask.DoYouWantToResetChanges')}\n        okText={t('button.Reset')}\n        okButtonProps={{ danger: true }}\n        onOk={() => {\n          _.flatMap(settingGroup, (item) => item.settingItems).forEach(\n            (option) => {\n              option?.setValue && option.setValue(option.defaultValue);\n            },\n          );\n          setIsOpenResetChangesModal();\n        }}\n        cancelText={t('button.Cancel')}\n        onCancel={() => setIsOpenResetChangesModal()}\n      >\n        <Alert\n          showIcon\n          message={t('dialog.warning.CannotBeUndone')}\n          type=\"warning\"\n        />\n      </BAIModal>\n    </>\n  );\n};\n\nexport default SettingList;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport {\n  CLOSING_DURATION,\n  useSetBAINotification,\n} from '../hooks/useBAINotification';\nimport SettingList, { SettingGroup } from './SettingList';\nimport { RedoOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst MaintenanceSettingList = () => {\n  const [isRecalculating, setIsRecalculating] = useState(false);\n  const [isRescanning, setIsRescanning] = useState(false);\n\n  const { t } = useTranslation();\n  const { upsertNotification } = useSetBAINotification();\n  const baiClient = useSuspendedBackendaiClient();\n\n  const recalculateUsage = () => {\n    setIsRecalculating(true);\n\n    upsertNotification({\n      message: t('maintenance.RecalculateUsage'),\n      description: t('maintenance.Recalculating'),\n      open: true,\n      backgroundTask: {\n        status: 'pending',\n        promise: baiClient.maintenance\n          .recalculate_usage()\n          .finally(() => setIsRecalculating(false)),\n        statusDescriptions: {\n          pending: t('maintenance.Recalculating'),\n          resolved: t('maintenance.RecalculationFinished'),\n          rejected: t('maintenance.RecalculationFailed'),\n        },\n      },\n    });\n  };\n\n  const rescanImages = () => {\n    setIsRescanning(true);\n    const notiKey = upsertNotification({\n      message: t('maintenance.RescanImages'),\n      description: t('maintenance.RescanImageScanning'),\n      open: true,\n      backgroundTask: {\n        status: 'pending',\n      },\n    });\n    // If values can be passed through resolve, please refactor the following function using promises\n    baiClient.maintenance\n      .rescan_images()\n      .then(({ rescan_images }) => {\n        if (rescan_images.ok) {\n          upsertNotification({\n            key: notiKey,\n            backgroundTask: {\n              status: 'pending',\n              percent: 0,\n              taskId: rescan_images.task_id,\n              statusDescriptions: {\n                pending: t('maintenance.RescanImageScanning'),\n                resolved: t('maintenance.RescanImageFinished'),\n                rejected: t('maintenance.RescanFailed'),\n              },\n            },\n            duration: 0,\n          });\n        } else {\n          throw new Error(t('maintenance.RescanFailed'));\n        }\n      })\n      .catch((err: any) => {\n        upsertNotification({\n          key: notiKey,\n          // description: painKiller.relieve(err?.title),\n          backgroundTask: {\n            status: 'rejected',\n            statusDescriptions: {\n              rejected: err?.message || t('maintenance.RescanFailed'),\n            },\n          },\n          open: true,\n          duration: CLOSING_DURATION,\n        });\n      })\n      .finally(() => {\n        setIsRescanning(false);\n      });\n  };\n\n  const settingGroupList: SettingGroup = [\n    {\n      title: t('maintenance.Fix'),\n      settingItems: [\n        {\n          type: 'custom',\n          title: t('maintenance.MatchDatabase'),\n          description: t('maintenance.DescMatchDatabase'),\n          children: (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={recalculateUsage}\n              loading={isRecalculating}\n            >\n              {isRecalculating\n                ? t('maintenance.Recalculating')\n                : t('maintenance.RecalculateUsage')}\n            </Button>\n          ),\n        },\n      ],\n    },\n    {\n      title: t('maintenance.ImagesEnvironment'),\n      settingItems: [\n        {\n          type: 'custom',\n          title: t('maintenance.RescanImageList'),\n          description: t('maintenance.DescRescanImageList'),\n          children: (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={rescanImages}\n              loading={isRescanning}\n            >\n              {isRescanning\n                ? t('maintenance.RescanImageScanning')\n                : t('maintenance.RescanImages')}\n            </Button>\n          ),\n        },\n      ],\n    },\n  ];\n\n  return <SettingList settingGroup={settingGroupList} showSearchBar />;\n};\n\nexport default MaintenanceSettingList;\n","import MaintenanceSettingList from '../components/MaintenanceSettingList';\nimport { Card } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { StringParam, useQueryParam, withDefault } from 'use-query-params';\n\ntype TabKey = 'maintenance';\n\nconst tabParam = withDefault(StringParam, 'maintenance');\n\nconst MaintenancePage = () => {\n  const { t } = useTranslation();\n  const [curTabKey, setCurTabKey] = useQueryParam('tab', tabParam);\n\n  return (\n    <Card\n      activeTabKey=\"maintenance\"\n      onTabChange={(key) => setCurTabKey(key as TabKey)}\n      tabList={[\n        {\n          key: 'maintenance',\n          tab: t('webui.menu.Maintenance'),\n        },\n      ]}\n      styles={{ body: { padding: 0 } }}\n    >\n      {curTabKey === 'maintenance' && <MaintenanceSettingList />}\n    </Card>\n  );\n};\n\nexport default MaintenancePage;\n","// This icon file is generated automatically.\nvar RedoOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\" } }] }, \"name\": \"redo\", \"theme\": \"outlined\" };\nexport default RedoOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar RedoOutlined = function RedoOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: RedoOutlinedSvg\n  }));\n};\n\n/**![redo](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc1OC4yIDgzOS4xQzg1MS44IDc2NS45IDkxMiA2NTEuOSA5MTIgNTIzLjkgOTEyIDMwMyA3MzMuNSAxMjQuMyA1MTIuNiAxMjQgMjkxLjQgMTIzLjcgMTEyIDMwMi44IDExMiA1MjMuOWMwIDEyNS4yIDU3LjUgMjM2LjkgMTQ3LjYgMzEwLjIgMy41IDIuOCA4LjYgMi4yIDExLjQtMS4zbDM5LjQtNTAuNWMyLjctMy40IDIuMS04LjMtMS4yLTExLjEtOC4xLTYuNi0xNS45LTEzLjctMjMuNC0yMS4yYTMxOC42NCAzMTguNjQgMCAwMS02OC42LTEwMS43QzIwMC40IDYwOSAxOTIgNTY3LjEgMTkyIDUyMy45czguNC04NS4xIDI1LjEtMTI0LjVjMTYuMS0zOC4xIDM5LjItNzIuMyA2OC42LTEwMS43IDI5LjQtMjkuNCA2My42LTUyLjUgMTAxLjctNjguNkM0MjYuOSAyMTIuNCA0NjguOCAyMDQgNTEyIDIwNHM4NS4xIDguNCAxMjQuNSAyNS4xYzM4LjEgMTYuMSA3Mi4zIDM5LjIgMTAxLjcgNjguNiAyOS40IDI5LjQgNTIuNSA2My42IDY4LjYgMTAxLjcgMTYuNyAzOS40IDI1LjEgODEuMyAyNS4xIDEyNC41cy04LjQgODUuMS0yNS4xIDEyNC41YTMxOC42NCAzMTguNjQgMCAwMS02OC42IDEwMS43Yy05LjMgOS4zLTE5LjEgMTgtMjkuMyAyNkw2NjguMiA3MjRhOCA4IDAgMDAtMTQuMSAzbC0zOS42IDE2Mi4yYy0xLjIgNSAyLjYgOS45IDcuNyA5LjlsMTY3IC44YzYuNyAwIDEwLjUtNy43IDYuMy0xMi45bC0zNy4zLTQ3Ljl6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(RedoOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RedoOutlined';\n}\nexport default RefIcon;"],"names":["useStyles","createStyles","_ref","css","baiSettingItemCheckbox","_ref2","type","title","description","children","defaultValue","value","selectProps","onChange","token","theme","useToken","styles","_jsxs","Flex","direction","align","gap","_jsx","Typography","Text","strong","style","fontSize","undefined","Badge","dot","status","_Fragment","Checkbox","checked","className","Select","popupMatchSelectWidth","TabStyles","settingGroup","tabDirection","showChangedOptionFilter","showResetButton","showSearchBar","t","useTranslation","searchValue","setSearchValue","useState","changedOptionFilter","setChangedOptionFilter","isOpenResetChangesModal","toggle","setIsOpenResetChangesModal","useToggle","appendedAllSettingGroup","useMemo","settingItems","_","item","padding","paddingContentHorizontal","maxWidth","screenLG","justify","Input","prefix","SearchOutlined","placeholder","e","target","whiteSpace","Button","icon","RedoOutlined","onClick","Tabs","tabPosition","tabBarStyle","minWidth","items","filteredItems","filter","changedItemValidator","toLowerCase","includes","searchedItemFilter","key","label","length","map","SettingItem","BAIModal","open","okText","okButtonProps","danger","onOk","forEach","option","setValue","cancelText","onCancel","Alert","showIcon","message","MaintenanceSettingList","isRecalculating","setIsRecalculating","isRescanning","setIsRescanning","upsertNotification","useSetBAINotification","baiClient","useSuspendedBackendaiClient","settingGroupList","recalculateUsage","backgroundTask","promise","maintenance","recalculate_usage","finally","statusDescriptions","pending","resolved","rejected","loading","rescanImages","notiKey","rescan_images","then","ok","Error","percent","taskId","task_id","duration","catch","err","CLOSING_DURATION","SettingList","tabParam","withDefault","StringParam","MaintenancePage","curTabKey","setCurTabKey","useQueryParam","Card","activeTabKey","onTabChange","tabList","tab","body","props","ref","React","AntdIcon","_extends","RedoOutlinedSvg"],"sourceRoot":""}