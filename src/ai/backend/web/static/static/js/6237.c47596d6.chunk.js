/*! For license information please see 6237.c47596d6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6237],{46237:(e,a,n)=>{n.r(a),n.d(a,{default:()=>Oa});const l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"}],a=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"}],concreteType:"DeleteKeyPair",kind:"LinkedField",name:"delete_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserCredentialListDeleteMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserCredentialListDeleteMutation",selections:a},params:{cacheID:"00d579de4db39e2f3e48067fb19aaf72",id:null,metadata:{},name:"UserCredentialListDeleteMutation",operationKind:"mutation",text:"mutation UserCredentialListDeleteMutation(\n  $access_key: String!\n) {\n  delete_keypair(access_key: $access_key) {\n    ok\n    msg\n  }\n}\n"}}}();l.hash="b955bc28ed14b19b153f202b0f1e6e22";const i=l,r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"},{defaultValue:null,kind:"LocalArgument",name:"props"}],a=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyKeyPair",kind:"LinkedField",name:"modify_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserCredentialListModifyMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserCredentialListModifyMutation",selections:a},params:{cacheID:"49292a75a914ad1eeb6f8e2667974b95",id:null,metadata:{},name:"UserCredentialListModifyMutation",operationKind:"mutation",text:"mutation UserCredentialListModifyMutation(\n  $access_key: String!\n  $props: ModifyKeyPairInput!\n) {\n  modify_keypair(access_key: $access_key, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="b3504d39bac9dd8ac749460ba5e510c0";const t=r,s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"domain_name"},a={defaultValue:null,kind:"LocalArgument",name:"email"},n={defaultValue:null,kind:"LocalArgument",name:"filter"},l={defaultValue:null,kind:"LocalArgument",name:"is_active"},i={defaultValue:null,kind:"LocalArgument",name:"limit"},r={defaultValue:null,kind:"LocalArgument",name:"offset"},t={defaultValue:null,kind:"LocalArgument",name:"order"},s=[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"is_active",variableName:"is_active"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"}],o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_admin",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"num_queries",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"concurrency_used",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null};return{fragment:{argumentDefinitions:[e,a,n,l,i,r,t],kind:"Fragment",metadata:null,name:"UserCredentialListQuery",selections:[{alias:null,args:s,concreteType:"KeyPairList",kind:"LinkedField",name:"keypair_list",plural:!1,selections:[{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"items",plural:!0,selections:[o,d,u,c,m,g,p,y,k,{args:null,kind:"FragmentSpread",name:"KeypairSettingModalFragment"},{args:null,kind:"FragmentSpread",name:"KeypairInfoModalFragment"}],storageKey:null},v],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,r,n,t,e,a,l],kind:"Operation",name:"UserCredentialListQuery",selections:[{alias:null,args:s,concreteType:"KeyPairList",kind:"LinkedField",name:"keypair_list",plural:!1,selections:[{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"items",plural:!0,selections:[o,d,u,c,m,g,p,y,k,{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null}],storageKey:null},v],storageKey:null}]},params:{cacheID:"3318983898774e0fa0110bbe3a8f1ad5",id:null,metadata:{},name:"UserCredentialListQuery",operationKind:"query",text:'query UserCredentialListQuery(\n  $limit: Int!\n  $offset: Int!\n  $filter: String\n  $order: String\n  $domain_name: String\n  $email: String\n  $is_active: Boolean\n) {\n  keypair_list(limit: $limit, offset: $offset, filter: $filter, order: $order, domain_name: $domain_name, email: $email, is_active: $is_active) {\n    items {\n      id\n      user_id\n      access_key\n      is_admin\n      resource_policy\n      created_at\n      rate_limit\n      num_queries\n      concurrency_used @since(version: "24.09.0")\n      ...KeypairSettingModalFragment\n      ...KeypairInfoModalFragment\n    }\n    total_count\n  }\n}\n\nfragment KeypairInfoModalFragment on KeyPair {\n  user_id\n  access_key\n  secret_key\n  is_admin\n  created_at\n  last_used\n  resource_policy\n  num_queries\n  rate_limit\n  concurrency_used @since(version: "24.09.0")\n}\n\nfragment KeypairSettingModalFragment on KeyPair {\n  rate_limit\n  access_key\n  resource_policy\n}\n'}}}();s.hash="591117e6f6a9853325076522a5e68177";const o=s;var d=n(30105),u=n(312),c=n(56276),m=n(11863);const g=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"},{defaultValue:null,kind:"LocalArgument",name:"email"}],a=[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KeypairInfoModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KeypairInfoModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"ae75c283d1803be0e160390a438f1ef0",id:null,metadata:{},name:"KeypairInfoModalQuery",operationKind:"query",text:'query KeypairInfoModalQuery(\n  $domain_name: String\n  $email: String\n) {\n  user(domain_name: $domain_name, email: $email) {\n    main_access_key @since(version: "24.03.0")\n    id\n  }\n}\n'}}}();g.hash="4e1858d8f369f238aa329976b4678e7b";const p=g,y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairInfoModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_queries",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"concurrency_used",storageKey:null}],type:"KeyPair",abstractKey:null,hash:"11d6baebc6283f59151dab410a2a80d2"},k=y;var v=n(87272),f=n(69319),_=n(86425),b=n(49969),S=n(7265),h=n(47671),x=n.n(h),A=n(431),K=n(84372),F=n(26862);const j=["keypairInfoModalFrgmt","onRequestClose"],M=e=>{var a;let{keypairInfoModalFrgmt:n=null,onRequestClose:l}=e,i=(0,m.A)(e,j);const{token:r}=v.A.useToken(),t=(0,K.useFragment)(k,n),{user:s}=(0,K.useLazyLoadQuery)(p,{email:null===t||void 0===t?void 0:t.user_id},{fetchPolicy:i.open&&null!==t&&void 0!==t&&t.user_id?"network-only":"store-only"});return(0,F.jsxs)(S.IbE,(0,c.A)((0,c.A)({title:(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(f.A.Text,{style:{fontSize:r.fontSizeHeading5},children:(0,A.t)("credential.KeypairDetail")}),(null===s||void 0===s?void 0:s.main_access_key)===(null===t||void 0===t?void 0:t.access_key)&&(0,F.jsx)(_.A,{color:"red",children:(0,A.t)("credential.MainAccessKey")})]}),onCancel:()=>l(),footer:null},i),{},{children:[(0,F.jsxs)(b.A,{title:(0,A.t)("credential.Information"),size:"small",column:1,labelStyle:{width:"40%"},children:[(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.UserID"),children:null===t||void 0===t?void 0:t.user_id}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.AccessKey"),children:null===t||void 0===t?void 0:t.access_key}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.SecretKey"),children:(0,F.jsx)(f.A.Text,{copyable:{text:null!==(a=null===t||void 0===t?void 0:t.secret_key)&&void 0!==a?a:""},children:null!==t&&void 0!==t&&t.secret_key?"********":""})}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.Permission"),children:null!==t&&void 0!==t&&t.is_admin?(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(_.A,{color:"red",children:"admin"}),(0,F.jsx)(_.A,{color:"green",children:"user"})]}):(0,F.jsx)(_.A,{color:"green",children:"user"})}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.CreatedAt"),children:x()(null===t||void 0===t?void 0:t.created_at).format("lll")}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.LastUsed"),children:null!==t&&void 0!==t&&t.last_used?x()(null===t||void 0===t?void 0:t.last_used).format("lll"):"-"})]}),(0,F.jsx)("br",{}),(0,F.jsxs)(b.A,{title:(0,A.t)("credential.Allocation"),size:"small",column:1,labelStyle:{width:"40%"},children:[(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.ResourcePolicy"),children:null===t||void 0===t?void 0:t.resource_policy}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.NumberOfQueries"),children:null===t||void 0===t?void 0:t.num_queries}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.ConcurrentSessions"),children:null===t||void 0===t?void 0:t.concurrency_used}),(0,F.jsx)(b.A.Item,{label:"".concat((0,A.t)("credential.RateLimit")," ").concat((0,A.t)("credential.For900Seconds")),children:null===t||void 0===t?void 0:t.rate_limit})]})]}))},P=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"},{defaultValue:null,kind:"LocalArgument",name:"props"}],a=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyKeyPair",kind:"LinkedField",name:"modify_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KeypairSettingModalModifyMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KeypairSettingModalModifyMutation",selections:a},params:{cacheID:"0bf2a12bbaaabcbf7577479149266c0b",id:null,metadata:{},name:"KeypairSettingModalModifyMutation",operationKind:"mutation",text:"mutation KeypairSettingModalModifyMutation(\n  $access_key: String!\n  $props: ModifyKeyPairInput!\n) {\n  modify_keypair(access_key: $access_key, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();P.hash="59732bd851a981ce0e4bd3bda1b4c602";const I=P,T=function(){var e={defaultValue:null,kind:"LocalArgument",name:"props"},a={defaultValue:null,kind:"LocalArgument",name:"user_id"},n=[{alias:null,args:[{kind:"Variable",name:"props",variableName:"props"},{kind:"Variable",name:"user_id",variableName:"user_id"}],concreteType:"CreateKeyPair",kind:"LinkedField",name:"create_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,a],kind:"Fragment",metadata:null,name:"KeypairSettingModalCreateMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e],kind:"Operation",name:"KeypairSettingModalCreateMutation",selections:n},params:{cacheID:"2911946ae5cad21bdff21cc88cf64c74",id:null,metadata:{},name:"KeypairSettingModalCreateMutation",operationKind:"mutation",text:"mutation KeypairSettingModalCreateMutation(\n  $user_id: String!\n  $props: KeyPairInput!\n) {\n  create_keypair(user_id: $user_id, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();T.hash="a81bb2d7d4e5a095deaf58a442f4211d";const U=T,L={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],type:"KeyPair",abstractKey:null,hash:"a453330249f3d6cb4a241e19f2314614"},C=L;var w=n(59991);const D=function(){var e=[{alias:null,args:null,concreteType:"KeyPairResourcePolicy",kind:"LinkedField",name:"keypair_resource_policies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairResourcePolicySelectQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"KeypairResourcePolicySelectQuery",selections:e},params:{cacheID:"f1b8b8a22196df6830db5af46e0050cb",id:null,metadata:{},name:"KeypairResourcePolicySelectQuery",operationKind:"query",text:"query KeypairResourcePolicySelectQuery {\n  keypair_resource_policies {\n    name\n  }\n}\n"}}}();D.hash="8d526f411223d503c43d6bedff672a64";const O=D;var N=n(31871),V=n(28529),E=n(29268),R=n(60669),q=n.n(R),$=n(99118);const Q=e=>{let a=Object.assign({},((0,w.A)(e),e));const{t:n}=(0,$.Bd)(),[l,i]=(0,V.A)({value:a.value,onChange:a.onChange}),{keypair_resource_policies:r}=(0,K.useLazyLoadQuery)(O,{},{fetchPolicy:"store-and-network"});return(0,F.jsx)(E.A,(0,c.A)((0,c.A)({showSearch:!0,placeholder:n("credential.SelectPolicy"),options:q().map(r,(e=>({value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}))).sort(((e,a)=>(0,N._f)(null===e||void 0===e?void 0:e.label,null===a||void 0===a?void 0:a.label)))},a),{},{value:l,onChange:(e,a)=>{i(e,a)}}))};var z=n(36961),B=n(66203),X=n(91129),G=n(22787),Y=n(24213),H=n(72927),W=n(29262);const Z=["keypairSettingModalFrgmt","onRequestClose"],J=e=>{let{keypairSettingModalFrgmt:a=null,onRequestClose:n}=e,l=(0,m.A)(e,Z);const{t:i}=(0,$.Bd)(),{message:r}=z.A.useApp(),t=(0,W.useRef)(null),s=(0,K.useFragment)(C,a),[o,d]=(0,K.useMutation)(U),[u,g]=(0,K.useMutation)(I);return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:i(s?"credential.ModifyKeypairResourcePolicy":"credential.AddCredential"),width:500,destroyOnHidden:!0,onOk:()=>{var e;null===(e=t.current)||void 0===e||e.validateFields().then((e=>{var a,l;s?u({variables:{access_key:null!==(a=s.access_key)&&void 0!==a?a:"",props:{rate_limit:e.rate_limit,resource_policy:e.resource_policy}},onCompleted:(e,a)=>{var l,t;if(null===(l=e.modify_keypair)||void 0===l||!l.ok||a)return r.error(null===e||void 0===e||null===(t=e.modify_keypair)||void 0===t?void 0:t.msg),void n(!1);r.success(i("notification.SuccessfullyUpdated")),n(!0)},onError:e=>{r.error(e.message),n(!1)}}):o({variables:{user_id:null!==(l=e.user_id)&&void 0!==l?l:"",props:{rate_limit:e.rate_limit,resource_policy:e.resource_policy}},onCompleted:(e,a)=>{var l,t;if(null===(l=e.create_keypair)||void 0===l||!l.ok||a)return r.error(null===e||void 0===e||null===(t=e.create_keypair)||void 0===t?void 0:t.msg),void n(!1);r.success(i("credential.KeypairCreated")),n(!0)},onError:e=>{r.error(e.message),n(!1)}})})).catch((()=>{}))},okButtonProps:{loading:d||g},onCancel:()=>n(!1)},l),{},{children:(0,F.jsxs)(B.A,{ref:t,layout:"vertical",initialValues:s?(0,c.A)({},s):{},children:[!s&&(0,F.jsx)(B.A.Item,{name:"user_id",label:i("credential.UserIDAsEmail"),rules:[{required:!0},{type:"email"}],children:(0,F.jsx)(X.A,{})}),(0,F.jsxs)(G.A,{gutter:16,children:[(0,F.jsx)(Y.A,{span:12,children:(0,F.jsx)(B.A.Item,{name:"resource_policy",label:i("credential.ResourcePolicy"),rules:[{required:!0}],children:(0,F.jsx)(Q,{})})}),(0,F.jsx)(Y.A,{span:12,children:(0,F.jsx)(B.A.Item,{name:"rate_limit",label:i("credential.RateLimitFor15min"),rules:[{required:!0},{type:"number",min:0,max:5e4},{validator:(e,a)=>a<=100?Promise.reject(i("credential.WarningLessRateLimit")):Promise.resolve(),warningOnly:!0}],children:(0,F.jsx)(H.A,{min:0,max:5e4,style:{width:"100%"}})})})]})]})}))};var ee=n(53156),ae=n(1658),ne=n(76184),le=n(33651),ie=n(69266),re=n(37717),te=n(95655),se=n(87894),oe=n(55324),de=n(86305),ue=n(31495);const ce=()=>{const{t:e}=(0,$.Bd)(),{token:a}=v.A.useToken(),{message:n,modal:l}=z.A.useApp(),{logger:r}=(0,S.Q7t)(),[s,c]=(0,ue.useQueryParam)("action",ue.StringParam),[m,g]=(0,S.TwB)("first"),[p,y]=(0,ue.useQueryParams)({activeType:(0,ue.withDefault)(ue.StringParam,"active"),order:(0,ue.withDefault)(ue.StringParam,void 0),filter:(0,ue.withDefault)(ue.StringParam,void 0)}),[k,b]=(0,W.useState)(null),[h,A]=(0,W.useState)(!1),[j,P]=(0,W.useState)(null),[I,T]=(0,W.useTransition)(),[U,L]=(0,W.useTransition)(),{baiPaginationOption:C,tablePaginationOption:w,setTablePaginationOption:D}=(0,d.L0)({current:1,pageSize:20}),O={limit:C.limit,offset:C.offset,is_active:"active"===p.activeType,filter:p.filter,order:p.order},N=(0,W.useDeferredValue)(O),V=(0,W.useDeferredValue)(m),{keypair_list:E}=(0,K.useLazyLoadQuery)(o,N,{fetchKey:V,fetchPolicy:V===S.eIE?"store-and-network":"network-only"}),[R,Q]=(0,K.useMutation)(t),[B,X]=(0,K.useMutation)(i);return(0,W.useEffect)((()=>{"add"===s&&(A(!0),c(void 0))}),[s,c]),(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[(0,F.jsxs)(S.OOm,{justify:"between",align:"start",gap:"xs",wrap:"wrap",children:[(0,F.jsxs)(S.OOm,{gap:"sm",align:"start",children:[(0,F.jsx)(u.A,{value:p.activeType,onChange:e=>{y({activeType:e.target.value},"replaceIn"),D({current:1,pageSize:w.pageSize})},optionType:"button",options:[{label:e("general.Active"),value:"active"},{label:e("general.Inactive"),value:"inactive"}]}),(0,F.jsx)(S.Af6,{filterProperties:[{key:"email",propertyLabel:e("credential.UserID"),type:"string"},{key:"access_key",propertyLabel:e("credential.AccessKey"),type:"string"},{key:"is_admin",propertyLabel:e("credential.Permission"),type:"boolean",strictSelection:!0,defaultOperator:"==",options:[{label:"admin",value:"true"},{label:"user",value:"false"}]},{key:"resource_policy",propertyLabel:e("credential.ResourcePolicy"),type:"string"}],value:p.filter,onChange:e=>{y({filter:e},"replaceIn")}})]}),(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(ie.A,{title:e("button.Refresh"),children:(0,F.jsx)(re.Ay,{loading:V!==m,onClick:()=>{g()},icon:(0,F.jsx)(ee.A,{})})}),(0,F.jsx)(re.Ay,{type:"primary",icon:(0,F.jsx)(se.A,{}),onClick:()=>{A(!0)},children:e("credential.AddCredential")})]})]}),(0,F.jsx)(S.zxw,{rowKey:"id",scroll:{x:"max-content"},loading:N!==O,dataSource:(0,S.faj)(null===E||void 0===E?void 0:E.items),columns:(0,S.YM3)([{key:"accessKey",title:e("credential.AccessKey"),sorter:!0,render:(e,a)=>(0,F.jsx)(S.mQ0,{monospace:!0,children:a.access_key})},{key:"userID",title:e("credential.UserID"),dataIndex:"email",fixed:"left",sorter:!0,render:(e,a)=>a.user_id},{key:"control",title:e("general.Control"),fixed:"left",render:(i,t)=>(0,F.jsxs)(S.OOm,{gap:a.marginXS,children:[(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(ae.A,{style:{color:a.colorInfo}}),onClick:()=>{T((()=>{P(t)}))}}),(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(ne.A,{style:{color:a.colorInfo}}),onClick:()=>{L((()=>{b(t)}))}}),"inactive"===p.activeType&&(0,F.jsx)(ie.A,{title:e("credential.Activate"),children:(0,F.jsx)(te.A,{title:e("credential.ActivateCredential"),description:t.user_id,okText:e("credential.Activate"),placement:"left",onConfirm:()=>{var a;R({variables:{access_key:null!==(a=t.access_key)&&void 0!==a?a:"",props:{is_active:!0}},onCompleted:(a,l)=>{var i,r;null!==a&&void 0!==a&&null!==(i=a.modify_keypair)&&void 0!==i&&i.ok&&!l?(n.success(e("credential.KeypairStatusUpdatedSuccessfully")),g()):n.error(null===a||void 0===a||null===(r=a.modify_keypair)||void 0===r?void 0:r.msg)},onError:e=>{n.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},children:(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(oe.A,{})})})}),"active"===p.activeType?(0,F.jsx)(ie.A,{title:e("credential.Deactivate"),children:(0,F.jsx)(te.A,{title:e("credential.DeactivateCredential"),description:t.user_id,okButtonProps:{loading:Q},okType:"danger",okText:e("credential.Deactivate"),placement:"left",onConfirm:()=>{var a;R({variables:{access_key:null!==(a=t.access_key)&&void 0!==a?a:"",props:{is_active:!1}},onCompleted:(a,l)=>{var i,r;null!==a&&void 0!==a&&null!==(i=a.modify_keypair)&&void 0!==i&&i.ok&&!l?(n.success(e("credential.KeypairStatusUpdatedSuccessfully")),g()):n.error(null===a||void 0===a||null===(r=a.modify_keypair)||void 0===r?void 0:r.msg)},onError:e=>{n.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},children:(0,F.jsx)(re.Ay,{type:"text",danger:!0,icon:(0,F.jsx)(de.A,{})})})}):(0,F.jsx)(re.Ay,{type:"text",danger:!0,icon:(0,F.jsx)(le.A,{}),loading:X,onClick:()=>{l.confirm({title:e("credential.DeleteCredential"),content:(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",children:[(0,F.jsx)(f.A.Text,{children:e("credential.YouAreAboutToDeleteCredential")}),(0,F.jsx)(f.A.Text,{strong:!0,children:t.user_id}),(0,F.jsx)("br",{}),(0,F.jsx)(f.A.Text,{type:"danger",children:e("dialog.warning.CannotBeUndone")})]}),onOk:()=>{var a;B({variables:{access_key:null!==(a=t.access_key)&&void 0!==a?a:""},onCompleted:(a,l)=>{var i,r;null!==a&&void 0!==a&&null!==(i=a.delete_keypair)&&void 0!==i&&i.ok&&!l?(n.success(e("credential.KeypairSuccessfullyDeleted")),g()):n.error(null===a||void 0===a||null===(r=a.delete_keypair)||void 0===r?void 0:r.msg)},onError:e=>{n.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},okButtonProps:{danger:!0},okText:e("button.Delete")})}})]})},{key:"permission",title:e("credential.Permission"),dataIndex:"is_admin",render:e=>e?(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(_.A,{color:"red",children:"admin"}),(0,F.jsx)(_.A,{color:"green",children:"user"})]}):(0,F.jsx)(_.A,{color:"green",children:"user"}),sorter:!0},{key:"keyAge",title:e("credential.KeyAge"),dataIndex:"created_at",render:a=>"".concat(x()().diff(a,"day")).concat(e("credential.Days")),sorter:!0},{key:"createdAt",title:e("credential.CreatedAt"),dataIndex:"created_at",render:e=>x()(e).format("lll"),sorter:!0},{key:"resourcePolicy",title:e("credential.ResourcePolicy"),dataIndex:"resource_policy",sorter:!0},{key:"allocation",title:e("credential.Allocation"),render:n=>(0,F.jsxs)(S.OOm,{direction:"column",align:"start",children:[(0,F.jsxs)(f.A.Text,{children:[n.concurrency_used,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:a.marginXXS,fontSize:a.fontSizeSM},children:e("credential.Sessions")})]}),(0,F.jsxs)(f.A.Text,{style:{fontSize:a.fontSizeSM},children:[n.rate_limit,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:a.marginXXS,fontSize:a.fontSizeSM},children:e("credential.ReqPer15Min")})]}),(0,F.jsxs)(f.A.Text,{style:{fontSize:a.fontSizeSM},children:[n.num_queries,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:a.marginXXS,fontSize:a.fontSizeSM},children:e("credential.Queries")})]})]})}]),showSorterTooltip:!1,pagination:{pageSize:w.pageSize,total:(null===E||void 0===E?void 0:E.total_count)||0,current:w.current,onChange(e,a){q().isNumber(e)&&q().isNumber(a)&&D({current:e,pageSize:a})}},onChangeOrder:e=>{y({order:e},"replaceIn")}}),(0,F.jsx)(M,{keypairInfoModalFrgmt:j,open:!!j||I,loading:I,onRequestClose:()=>{P(null)}}),(0,F.jsx)(J,{keypairSettingModalFrgmt:k,loading:U,open:!!k||U||h,onRequestClose:e=>{b(null),A(!1),e&&g()}})]})},me=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],a=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserManagementModifyMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserManagementModifyMutation",selections:a},params:{cacheID:"cd14b770d01d9b6e13257faa0f84f3cd",id:null,metadata:{},name:"UserManagementModifyMutation",operationKind:"mutation",text:"mutation UserManagementModifyMutation(\n  $email: String!\n  $props: ModifyUserInput!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();me.hash="ebfe36ddd47871027ed7d1e84b98c347";const ge=me,pe=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},a={defaultValue:null,kind:"LocalArgument",name:"first"},n={defaultValue:null,kind:"LocalArgument",name:"offset"},l={defaultValue:null,kind:"LocalArgument",name:"order"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"}],r={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null};return{fragment:{argumentDefinitions:[e,a,n,l],kind:"Fragment",metadata:null,name:"UserManagementQuery",selections:[{alias:null,args:i,concreteType:"UserConnection",kind:"LinkedField",name:"user_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:t,action:"THROW"},{kind:"RequiredField",field:s,action:"THROW"},{args:null,kind:"FragmentSpread",name:"BAIUserNodesFragment"},{args:null,kind:"FragmentSpread",name:"PurgeUsersModalFragment"},{args:null,kind:"FragmentSpread",name:"UpdateUsersModalFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,e,l],kind:"Operation",name:"UserManagementQuery",selections:[{alias:null,args:i,concreteType:"UserConnection",kind:"LinkedField",name:"user_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"node",plural:!1,selections:[t,s,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},{alias:null,args:null,concreteType:"GroupConnection",kind:"LinkedField",name:"project_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GroupEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"GroupNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"918def1d0f2c60d08702c9ac873a9aef",id:null,metadata:{},name:"UserManagementQuery",operationKind:"query",text:"query UserManagementQuery(\n  $first: Int\n  $offset: Int\n  $filter: String\n  $order: String\n) {\n  user_nodes(first: $first, offset: $offset, filter: $filter, order: $order) {\n    count\n    edges {\n      node {\n        id\n        email\n        ...BAIUserNodesFragment\n        ...PurgeUsersModalFragment\n        ...UpdateUsersModalFragment\n      }\n    }\n  }\n}\n\nfragment BAIUserNodesFragment on UserNode {\n  id\n  email\n  full_name\n  role\n  description\n  username\n  created_at\n  modified_at\n  status\n  domain_name\n  resource_policy\n  allowed_client_ip\n  container_gids\n  container_main_gid\n  container_uid\n  status_info\n  sudo_session_enabled\n  need_password_change\n  totp_activated\n  project_nodes {\n    count\n    edges {\n      node {\n        name\n        id\n      }\n    }\n  }\n}\n\nfragment PurgeUsersModalFragment on UserNode {\n  id\n  email\n  username\n  full_name\n}\n\nfragment UpdateUsersModalFragment on UserNode {\n  id\n  email\n  username\n  full_name\n}\n"}}}();pe.hash="d2ccfab1390005e74fcb30ffb9db75bb";const ye=pe;var ke=n(15584),ve=n(37138);const fe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],a=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"PurgeUser",kind:"LinkedField",name:"purge_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PurgeUsersModalMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PurgeUsersModalMutation",selections:a},params:{cacheID:"595da6c69d09ff89319849df0acc2143",id:null,metadata:{},name:"PurgeUsersModalMutation",operationKind:"mutation",text:"mutation PurgeUsersModalMutation(\n  $email: String!\n  $props: PurgeUserInput!\n) {\n  purge_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();fe.hash="56a4331dd3e14bbb16ed0d0cb64294f2";const _e=fe,be={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PurgeUsersModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],type:"UserNode",abstractKey:null,hash:"2e870bb6b98badf196d37a4402ac903d"},Se=be;var he=n(96922);const xe=["usersFrgmt"],Ae=e=>{const a=(0,ke.c)(60);let n,l;if(a[0]!==e){var i=e;({usersFrgmt:l}=i),n=(0,m.A)(i,xe),a[0]=e,a[1]=n,a[2]=l}else n=a[1],l=a[2];const{t:r}=(0,$.Bd)(),{message:t}=z.A.useApp(),s=(0,W.useRef)(null),{token:o}=v.A.useToken(),[d,u]=(0,W.useState)(!1),{getErrorMessage:g}=(0,S.B78)();let p;a[3]===Symbol.for("react.memo_cache_sentinel")?(p=Se,a[3]=p):p=a[3];const y=(0,K.useFragment)(p,l);let k;a[4]===Symbol.for("react.memo_cache_sentinel")?(k=_e,a[4]=k):k=a[4];const f=(0,S.Swy)(k);let _;a[5]!==n||a[6]!==g||a[7]!==t||a[8]!==f||a[9]!==r||a[10]!==y?(_=e=>{var a;const l=q().compact(y);null===(a=s.current)||void 0===a||a.validateFields().then((a=>{u(!0);const i=a.deleteVfolder||!1,s=l.map((e=>{var a;return f({email:null!==(a=e.email)&&void 0!==a?a:"",props:{purge_shared_vfolders:i,delegate_endpoint_ownership:i}}).catch((a=>Promise.reject({user:e,error:a})))}));Promise.allSettled(s).then((a=>{const i=a.filter(Ke),s=a.filter(Fe);if(s.length>0){var o,d,u;const e=s.map((e=>e.reason.user.email||r("credential.WrongEmail"))).join(", ");e&&t.error(r("credential.FailedToDeleteUsers",{users:e}));const a=(null===(o=s[0])||void 0===o||null===(d=o.reason)||void 0===d||null===(u=d.error)||void 0===u?void 0:u.length)>0&&s[0].reason.error[0];a&&t.error(g(a))}var c,m;i.length>0&&(t.success(r("credential.UsersPermanentlyDeleted",{total:l.length,count:i.length})),null===(c=(m=n).onOk)||void 0===c||c.call(m,e))})).finally((()=>{u(!1)}))})).catch(je)},a[5]=n,a[6]=g,a[7]=t,a[8]=f,a[9]=r,a[10]=y,a[11]=_):_=a[11];const b=_;let h,x,A,j,M,P,I,T,U,L,C,w,D,O,N,V,E,R;return a[12]!==r?(h=r("credential.PermanentlyDeleteUsers"),a[12]=r,a[13]=h):h=a[13],a[14]!==r?(x=r("button.Delete"),a[14]=r,a[15]=x):x=a[15],a[16]!==b?(A=e=>b(e),a[16]=b,a[17]=A):A=a[17],a[18]!==r?(j=r("credential.TypePermanentlyDelete",{text:r("credential.PermanentlyDelete")}),a[18]=r,a[19]=j):j=a[19],a[20]!==r?(M=r("credential.PermanentlyDelete"),a[20]=r,a[21]=M):M=a[21],a[22]!==M?(P={placeholder:M},a[22]=M,a[23]=P):P=a[23],a[24]!==r?(I=r("credential.PermanentlyDelete"),a[24]=r,a[25]=I):I=a[25],a[26]!==r?(T=r("credential.PurgeUsersWarningAlertTitle"),a[26]=r,a[27]=T):T=a[27],a[28]!==o.paddingXXS?(U={margin:0,padding:0,paddingTop:o.paddingXXS,listStyle:"circle",listStylePosition:"inside",maxHeight:165,overflowY:"auto"},a[28]=o.paddingXXS,a[29]=U):U=a[29],a[30]!==y?(L=q().map(y,Me),a[30]=y,a[31]=L):L=a[31],a[32]!==U||a[33]!==L?(C=(0,F.jsx)("ul",{style:U,children:L}),a[32]=U,a[33]=L,a[34]=C):C=a[34],a[35]!==T||a[36]!==C?(w=(0,F.jsx)(S.RfO,{title:T,type:"warning",description:C,showIcon:!0}),a[35]=T,a[36]=C,a[37]=w):w=a[37],a[38]!==r?(D=r("credential.UsersPermanentlyDeleteConfirmMessage"),a[38]=r,a[39]=D):D=a[39],a[40]!==D?(O=(0,F.jsx)(S.mQ0,{children:D}),a[40]=D,a[41]=O):O=a[41],a[42]!==r?(N=r("credential.DeleteSharedVirtualFolders"),a[42]=r,a[43]=N):N=a[43],a[44]!==N?(V=(0,F.jsx)(B.A,{ref:s,children:(0,F.jsx)(B.A.Item,{name:"deleteVfolder",valuePropName:"checked",children:(0,F.jsx)(he.A,{children:N})})}),a[44]=N,a[45]=V):V=a[45],a[46]!==w||a[47]!==O||a[48]!==V?(E=(0,F.jsxs)(S.OOm,{direction:"column",gap:"sm",justify:"start",align:"stretch",children:[w,O,V]}),a[46]=w,a[47]=O,a[48]=V,a[49]=E):E=a[49],a[50]!==n||a[51]!==d||a[52]!==I||a[53]!==E||a[54]!==h||a[55]!==x||a[56]!==A||a[57]!==j||a[58]!==P?(R=(0,F.jsx)(S.Qox,(0,c.A)((0,c.A)({},n),{},{title:h,okText:x,onOk:A,confirmLoading:d,inputLabel:j,inputProps:P,confirmText:I,content:E})),a[50]=n,a[51]=d,a[52]=I,a[53]=E,a[54]=h,a[55]=x,a[56]=A,a[57]=j,a[58]=P,a[59]=R):R=a[59],R};function Ke(e){return"fulfilled"===e.status}function Fe(e){return"rejected"===e.status}function je(){}function Me(e){return(0,F.jsx)("li",{children:e.email},e.id)}const Pe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],a=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UpdateUsersModalMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UpdateUsersModalMutation",selections:a},params:{cacheID:"be538ad11b2958697ead1ef50a1924cc",id:null,metadata:{},name:"UpdateUsersModalMutation",operationKind:"mutation",text:"mutation UpdateUsersModalMutation(\n  $email: String!\n  $props: ModifyUserInput!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();Pe.hash="0868256d1ec014157447373ca9b56f4e";const Ie=Pe,Te={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"UpdateUsersModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],type:"UserNode",abstractKey:null,hash:"38f8b5d5f53c9a1edaad681cf1d0c8c9"},Ue=Te;var Le=n(60463);const Ce=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"max_vfolder_count",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"max_session_count_per_model_session",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"max_quota_scope_size",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"max_customized_image_count",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserResourcePolicySelectQuery",selections:[{alias:null,args:null,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policies",plural:!0,selections:[e,a,n,l,i,r,t,{args:null,kind:"FragmentSpread",name:"UserResourcePolicySettingModalFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UserResourcePolicySelectQuery",selections:[{alias:null,args:null,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policies",plural:!0,selections:[e,a,n,l,i,r,t],storageKey:null}]},params:{cacheID:"e071e72804236e9dbbbb86ca78b26844",id:null,metadata:{},name:"UserResourcePolicySelectQuery",operationKind:"query",text:'query UserResourcePolicySelectQuery {\n  user_resource_policies {\n    id\n    name\n    created_at\n    max_vfolder_count @since(version: "23.09.6")\n    max_session_count_per_model_session @since(version: "23.09.10")\n    max_quota_scope_size @since(version: "23.09.2")\n    max_customized_image_count @since(version: "24.03.0")\n    ...UserResourcePolicySettingModalFragment\n  }\n}\n\nfragment UserResourcePolicySettingModalFragment on UserResourcePolicy {\n  id\n  name\n  max_vfolder_count @since(version: "23.09.6")\n  max_session_count_per_model_session @since(version: "23.09.10")\n  max_quota_scope_size @since(version: "23.09.2")\n  max_customized_image_count @since(version: "24.03.0")\n}\n'}}}();Ce.hash="5726bc665516f441e11765f3a7f91cf6";const we=Ce,De=e=>{let a=Object.assign({},((0,w.A)(e),e));const{t:n}=(0,$.Bd)(),{user_resource_policies:l}=(0,K.useLazyLoadQuery)(we,{},{fetchPolicy:"store-and-network"});return(0,F.jsx)(E.A,(0,c.A)({showSearch:!0,placeholder:n("credential.SelectPolicy"),options:q().map(l,(e=>({value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}))).sort(((e,a)=>(0,N._f)(null===e||void 0===e?void 0:e.label,null===a||void 0===a?void 0:a.label)))},a))};var Oe=n(46952);const Ne=["userFrgmt"],Ve=e=>{const a=(0,ke.c)(155);let n,l;if(a[0]!==e){var i=e;({userFrgmt:l}=i),n=(0,m.A)(i,Ne),a[0]=e,a[1]=n,a[2]=l}else n=a[1],l=a[2];const r=(0,W.useRef)(null),[t,s]=(0,W.useState)(!1),{token:o}=v.A.useToken(),{t:d}=(0,$.Bd)(),{message:u}=z.A.useApp(),{getErrorMessage:g}=(0,S.B78)(),{logger:p}=(0,S.Q7t)();let y;a[3]===Symbol.for("react.memo_cache_sentinel")?(y=Ue,a[3]=y):y=a[3];const k=(0,K.useFragment)(y,l);let f;a[4]===Symbol.for("react.memo_cache_sentinel")?(f=Ie,a[4]=f):f=a[4];const _=(0,S.Swy)(f);let b,h,x,A,j,M,P,I,T,U,L,C,w,D,O,N,V,E,R,Q,X,G,Y,Z,J,ee,ae,ne,le,ie,re,te,se,oe,de,ue,ce,me,ge,pe,ye,ve,fe,_e,be,Se,he,xe,Ae,Ke,Fe,je,Me,Pe,Te,Ce,we,Ve,Xe,Ge,Ye,He;return a[5]!==d?(b=d("credential.UpdateUsers"),a[5]=d,a[6]=b):b=a[6],a[7]!==d?(h=d("button.Update"),a[7]=d,a[8]=h):h=a[8],a[9]!==g||a[10]!==p||a[11]!==u||a[12]!==n||a[13]!==_||a[14]!==d||a[15]!==k?(x=e=>{var a;null===(a=r.current)||void 0===a||a.validateFields().then((a=>{s(!0);const l=q().compact(k),i=q().omitBy({domain_name:a.domain_name,group_ids:a.group_ids,status:a.status,resource_policy:a.resource_policy,container_uid:a.container_uid,container_main_gid:a.container_main_gid,container_gids:q().isEmpty(a.container_gids)?void 0:q().map(a.container_gids,Ee)},Re),r=l.map((e=>_({email:e.email||"",props:i}).catch((a=>Promise.reject({user:e,error:a})))));Promise.allSettled(r).then((a=>{const i=a.filter(qe),r=a.filter($e);if(r.length>0){var t,s,o;const e=r.map((e=>e.reason.user.email||d("credential.WrongEmail"))).join(", ");e&&u.error(d("credential.FailedToUpdateUsers",{users:e}));const a=(null===(t=r[0])||void 0===t||null===(s=t.reason)||void 0===s||null===(o=s.error)||void 0===o?void 0:o.length)>0&&r[0].reason.error[0];a&&u.error(g(a))}var c,m;i.length>0&&(u.success(d("credential.UpdatedUsers",{count:i.length,total:l.length})),null===(c=(m=n).onOk)||void 0===c||c.call(m,e))})).finally((()=>{s(!1)}))})).catch((e=>{p.error("Validation failed:",e)}))},a[9]=g,a[10]=p,a[11]=u,a[12]=n,a[13]=_,a[14]=d,a[15]=k,a[16]=x):x=a[16],a[17]!==d?(A=d("credential.UpdateUsersWarningAlertTitle"),a[17]=d,a[18]=A):A=a[18],a[19]!==o.paddingXXS?(j={margin:0,padding:0,paddingTop:o.paddingXXS,listStyle:"circle",listStylePosition:"inside",maxHeight:165,overflowY:"auto"},a[19]=o.paddingXXS,a[20]=j):j=a[20],a[21]!==k?(M=q().map(k,Qe),a[21]=k,a[22]=M):M=a[22],a[23]!==j||a[24]!==M?(P=(0,F.jsx)("ul",{style:j,children:M}),a[23]=j,a[24]=M,a[25]=P):P=a[25],a[26]!==o.marginSM?(I={marginBottom:o.marginSM},a[26]=o.marginSM,a[27]=I):I=a[27],a[28]!==I||a[29]!==A||a[30]!==P?(T=(0,F.jsx)(S.RfO,{type:"warning",showIcon:!0,title:A,description:P,style:I}),a[28]=I,a[29]=A,a[30]=P,a[31]=T):T=a[31],a[32]!==d?(U=d("credential.Domain"),a[32]=d,a[33]=U):U=a[33],a[34]===Symbol.for("react.memo_cache_sentinel")?(L=(0,F.jsx)(S.xrr,{loading:!0}),a[34]=L):L=a[34],a[35]!==U?(C=(0,F.jsx)(B.A.Item,{label:U,children:L}),a[35]=U,a[36]=C):C=a[36],a[37]!==d?(w=d("credential.Domain"),a[37]=d,a[38]=w):w=a[38],a[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,F.jsx)(S.dbm,{onChange:()=>{var e;null===(e=r.current)||void 0===e||e.setFieldValue("group_ids",[])},allowClear:!0}),a[39]=D):D=a[39],a[40]!==w?(O=(0,F.jsx)(B.A.Item,{name:"domain_name",label:w,children:D}),a[40]=w,a[41]=O):O=a[41],a[42]!==C||a[43]!==O?(N=(0,F.jsx)(W.Suspense,{fallback:C,children:O}),a[42]=C,a[43]=O,a[44]=N):N=a[44],a[45]!==d?(V=d("credential.Projects"),a[45]=d,a[46]=V):V=a[46],a[47]===Symbol.for("react.memo_cache_sentinel")?(E=(0,F.jsx)(S.xrr,{loading:!0}),a[47]=E):E=a[47],a[48]!==V?(R=(0,F.jsx)(B.A.Item,{label:V,children:E}),a[48]=V,a[49]=R):R=a[49],a[50]===Symbol.for("react.memo_cache_sentinel")?(Q=["domain_name"],a[50]=Q):Q=a[50],a[51]!==d?(X=(0,F.jsx)(B.A.Item,{noStyle:!0,dependencies:Q,children:e=>{const{getFieldValue:a}=e;return(0,F.jsx)(B.A.Item,{name:"group_ids",label:d("credential.Projects"),validateStatus:a("domain_name")?void 0:"warning",help:a("domain_name")?void 0:d("credential.validation.PleaseSelectDomain"),children:(0,F.jsx)(Le.A,{mode:"multiple",domain:a("domain_name"),disableDefaultFilter:!0,disabled:!a("domain_name")})})}}),a[51]=d,a[52]=X):X=a[52],a[53]!==R||a[54]!==X?(G=(0,F.jsx)(W.Suspense,{fallback:R,children:X}),a[53]=R,a[54]=X,a[55]=G):G=a[55],a[56]!==d?(Y=d("credential.UserStatus"),a[56]=d,a[57]=Y):Y=a[57],a[58]!==d?(Z=d("general.Active"),a[58]=d,a[59]=Z):Z=a[59],a[60]!==Z?(J={value:"active",label:Z},a[60]=Z,a[61]=J):J=a[61],a[62]!==d?(ee=d("general.Inactive"),a[62]=d,a[63]=ee):ee=a[63],a[64]!==ee?(ae={value:"inactive",label:ee},a[64]=ee,a[65]=ae):ae=a[65],a[66]!==d?(ne=d("credential.BeforeVerification"),a[66]=d,a[67]=ne):ne=a[67],a[68]!==ne?(le={value:"before-verification",label:ne},a[68]=ne,a[69]=le):le=a[69],a[70]!==d?(ie=d("credential.Deleted"),a[70]=d,a[71]=ie):ie=a[71],a[72]!==ie?(re={value:"deleted",label:ie},a[72]=ie,a[73]=re):re=a[73],a[74]!==J||a[75]!==ae||a[76]!==le||a[77]!==re?(te=(0,F.jsx)(S.xrr,{options:[J,ae,le,re]}),a[74]=J,a[75]=ae,a[76]=le,a[77]=re,a[78]=te):te=a[78],a[79]!==Y||a[80]!==te?(se=(0,F.jsx)(B.A.Item,{name:"status",label:Y,children:te}),a[79]=Y,a[80]=te,a[81]=se):se=a[81],a[82]!==d?(oe=d("resourcePolicy.ResourcePolicy"),a[82]=d,a[83]=oe):oe=a[83],a[84]===Symbol.for("react.memo_cache_sentinel")?(de=(0,F.jsx)(S.xrr,{loading:!0}),a[84]=de):de=a[84],a[85]!==oe?(ue=(0,F.jsx)(B.A.Item,{label:oe,children:de}),a[85]=oe,a[86]=ue):ue=a[86],a[87]!==d?(ce=d("resourcePolicy.ResourcePolicy"),a[87]=d,a[88]=ce):ce=a[88],a[89]===Symbol.for("react.memo_cache_sentinel")?(me=(0,F.jsx)(De,{allowClear:!0}),a[89]=me):me=a[89],a[90]!==ce?(ge=(0,F.jsx)(B.A.Item,{name:"resource_policy",label:ce,children:me}),a[90]=ce,a[91]=ge):ge=a[91],a[92]!==ue||a[93]!==ge?(pe=(0,F.jsx)(W.Suspense,{fallback:ue,children:ge}),a[92]=ue,a[93]=ge,a[94]=pe):pe=a[94],a[95]!==d?(ye=d("credential.ContainerUID"),a[95]=d,a[96]=ye):ye=a[96],a[97]!==d?(ve=d("credential.ContainerUIDTooltip"),a[97]=d,a[98]=ve):ve=a[98],a[99]!==d?(fe=d("credential.validation.PleaseEnterPositiveInteger"),a[99]=d,a[100]=fe):fe=a[100],a[101]!==fe?(_e=[{type:"number",min:1,message:fe}],a[101]=fe,a[102]=_e):_e=a[102],a[103]===Symbol.for("react.memo_cache_sentinel")?(be=(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1}),a[103]=be):be=a[103],a[104]!==ye||a[105]!==ve||a[106]!==_e?(Se=(0,F.jsx)(B.A.Item,{name:"container_uid",label:ye,tooltip:ve,rules:_e,children:be}),a[104]=ye,a[105]=ve,a[106]=_e,a[107]=Se):Se=a[107],a[108]!==d?(he=d("credential.ContainerGID"),a[108]=d,a[109]=he):he=a[109],a[110]!==d?(xe=d("credential.ContainerGIDTooltip"),a[110]=d,a[111]=xe):xe=a[111],a[112]!==d?(Ae=d("credential.validation.PleaseEnterPositiveInteger"),a[112]=d,a[113]=Ae):Ae=a[113],a[114]!==Ae?(Ke=[{type:"number",min:1,message:Ae}],a[114]=Ae,a[115]=Ke):Ke=a[115],a[116]===Symbol.for("react.memo_cache_sentinel")?(Fe=(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1}),a[116]=Fe):Fe=a[116],a[117]!==he||a[118]!==xe||a[119]!==Ke?(je=(0,F.jsx)(B.A.Item,{name:"container_main_gid",label:he,tooltip:xe,rules:Ke,children:Fe}),a[117]=he,a[118]=xe,a[119]=Ke,a[120]=je):je=a[120],a[121]!==d?(Me=d("credential.ContainerSupplementaryGIDs"),a[121]=d,a[122]=Me):Me=a[122],a[123]!==d?(Pe=d("credential.ContainerSupplementaryGIDsTooltip"),a[123]=d,a[124]=Pe):Pe=a[124],a[125]!==d?(Te=[()=>({validator:(e,a)=>q().isEmpty(a)||q().every(a,ze)?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterPositiveAndUnder2_31")))}),()=>({validator:(e,a)=>q().isEmpty(a)||q().every(a,Be)?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterValidNumber")))}),()=>({validator:(e,a)=>q().isEmpty(a)||q().uniq(a).length===a.length?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterUniqueNumbers")))})],a[125]=d,a[126]=Te):Te=a[126],a[127]===Symbol.for("react.memo_cache_sentinel")?(Ce=[","," "],a[127]=Ce):Ce=a[127],a[128]!==d?(we=d("credential.ContainerSupplementaryGIDsPlaceholder"),a[128]=d,a[129]=we):we=a[129],a[130]!==we?(Ve=(0,F.jsx)(S.xrr,{mode:"tags",tokenSeparators:Ce,open:!1,suffixIcon:null,placeholder:we}),a[130]=we,a[131]=Ve):Ve=a[131],a[132]!==Me||a[133]!==Pe||a[134]!==Te||a[135]!==Ve?(Xe=(0,F.jsx)(B.A.Item,{name:"container_gids",label:Me,tooltip:Pe,rules:Te,children:Ve}),a[132]=Me,a[133]=Pe,a[134]=Te,a[135]=Ve,a[136]=Xe):Xe=a[136],a[137]!==N||a[138]!==G||a[139]!==se||a[140]!==pe||a[141]!==Se||a[142]!==je||a[143]!==Xe?(Ge=(0,F.jsxs)(B.A,{ref:r,layout:"vertical",preserve:!1,children:[N,G,se,pe,Se,je,Xe]}),a[137]=N,a[138]=G,a[139]=se,a[140]=pe,a[141]=Se,a[142]=je,a[143]=Xe,a[144]=Ge):Ge=a[144],a[145]!==T||a[146]!==Ge?(Ye=(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",children:[T,Ge]}),a[145]=T,a[146]=Ge,a[147]=Ye):Ye=a[147],a[148]!==t||a[149]!==n||a[150]!==b||a[151]!==h||a[152]!==x||a[153]!==Ye?(He=(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:b,okText:h,confirmLoading:t},n),{},{onOk:x,children:Ye})),a[148]=t,a[149]=n,a[150]=b,a[151]=h,a[152]=x,a[153]=Ye,a[154]=He):He=a[154],He};function Ee(e){return q().toNumber(e)}function Re(e){return q().isNil(e)||""===e||q().isEmpty(e)}function qe(e){return"fulfilled"===e.status}function $e(e){return"rejected"===e.status}function Qe(e){return(0,F.jsx)("li",{children:e.email},e.id)}function ze(e){const a=q().toNumber(e);return a>0&&a<=Oe.tu}function Be(e){return q().isInteger(q().toNumber(e))}const Xe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],a=[{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},p={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]},y={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,l,i,r,t,s,o,d,c,m,g,p,y],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,l,i,r,t,s,o,d,c,m,g,p,y,u],storageKey:null}]},params:{cacheID:"d675c49fbcf67cc926cd8f0f3f7a0a93",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:'query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    resource_policy\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();Xe.hash="4c1eaa080e82b723c9491072604e8925";const Ge=Xe;var Ye=n(476),He=n(46061);const We=["userEmail","onRequestClose"],Ze=e=>{let{userEmail:a,onRequestClose:n}=e,l=(0,m.A)(e,We);const{t:i}=(0,$.Bd)(),{isTOTPSupported:r,isLoading:t}=(0,Ye.F4)(),{user:s}=(0,K.useLazyLoadQuery)(Ge,{email:a,isNotSupportSudoSessionEnabled:!1,isTOTPSupported:null!==r&&void 0!==r&&r}),o={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,F.jsxs)(S.IbE,(0,c.A)((0,c.A)({centered:!0,title:i("credential.UserDetail"),footer:null,onCancel:n},l),{},{children:[(0,F.jsxs)(b.A,{size:"small",column:o,title:i("credential.Information"),labelStyle:{width:"50%"},children:[(0,F.jsx)(b.A.Item,{label:i("credential.UserID"),children:null===s||void 0===s?void 0:s.email}),(0,F.jsx)(b.A.Item,{label:i("credential.Description"),children:null===s||void 0===s?void 0:s.description}),(0,F.jsx)(b.A.Item,{label:i("credential.UserName"),children:null===s||void 0===s?void 0:s.username}),(0,F.jsx)(b.A.Item,{label:i("credential.FullName"),children:null===s||void 0===s?void 0:s.full_name}),(0,F.jsx)(b.A.Item,{label:i("credential.MainAccessKey"),children:null===s||void 0===s?void 0:s.main_access_key}),(0,F.jsx)(b.A.Item,{label:i("credential.DescActiveUser"),children:"active"===(null===s||void 0===s?void 0:s.status)?i("button.Yes"):i("button.No")}),(0,F.jsx)(b.A.Item,{label:i("credential.DescRequirePasswordChange"),children:null!==s&&void 0!==s&&s.need_password_change?i("button.Yes"):i("button.No")}),(0,F.jsx)(b.A.Item,{label:i("credential.EnableSudoSession"),children:null!==s&&void 0!==s&&s.sudo_session_enabled?i("button.Yes"):i("button.No")}),r&&(0,F.jsx)(b.A.Item,{label:i("webui.menu.TotpActivated"),children:(0,F.jsx)(He.A,{spinning:t,children:null!==s&&void 0!==s&&s.totp_activated?i("button.Yes"):i("button.No")})})]}),(0,F.jsx)("br",{}),(0,F.jsxs)(b.A,{size:"small",column:o,title:i("credential.Association"),labelStyle:{width:"50%"},children:[(0,F.jsx)(b.A.Item,{label:i("credential.Role"),children:null===s||void 0===s?void 0:s.role}),(0,F.jsx)(b.A.Item,{label:i("credential.Domain"),children:null===s||void 0===s?void 0:s.domain_name}),(0,F.jsx)(b.A.Item,{label:i("credential.ResourcePolicy"),children:null===s||void 0===s?void 0:s.resource_policy})]}),(0,F.jsx)("br",{}),(0,F.jsx)(b.A,{title:i("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,F.jsx)(b.A.Item,{children:(0,F.jsx)(S.OOm,{gap:"xs",wrap:"wrap",children:q().map(null===s||void 0===s?void 0:s.groups,(e=>(0,F.jsx)(_.A,{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))})})})]}))},Je=function(){var e={defaultValue:null,kind:"LocalArgument",name:"email"},a={defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"},n={defaultValue:null,kind:"LocalArgument",name:"props"},l=[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],i={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},y={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:[e,a,n],kind:"Fragment",metadata:null,name:"UserSettingModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateUser",kind:"LinkedField",name:"create_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null},{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"keypair",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GeneratedKeypairListModalFragment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,n,a],kind:"Operation",name:"UserSettingModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateUser",kind:"LinkedField",name:"create_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x],storageKey:null},{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,concreteType:"UserInfo",kind:"LinkedField",name:"user_info",plural:!1,selections:[s],storageKey:null},t],storageKey:null}],storageKey:null}]},params:{cacheID:"e2216aeec5b3a041ac90522ef40e9b90",id:null,metadata:{},name:"UserSettingModalCreateMutation",operationKind:"mutation",text:"mutation UserSettingModalCreateMutation(\n  $email: String!\n  $props: UserInput!\n  $isNotSupportTotp: Boolean!\n) {\n  create_user(email: $email, props: $props) {\n    ok\n    msg\n    user {\n      id\n      email\n      username\n      need_password_change\n      full_name\n      description\n      status\n      domain_name\n      role\n      groups {\n        id\n        name\n      }\n      resource_policy\n      sudo_session_enabled\n      totp_activated @skipOnClient(if: $isNotSupportTotp)\n      allowed_client_ip\n      main_access_key\n      container_uid\n      container_main_gid\n      container_gids\n      ...TOTPActivateModalFragment\n    }\n    keypair {\n      ...GeneratedKeypairListModalFragment\n      id\n    }\n  }\n}\n\nfragment GeneratedKeypairListModalFragment on KeyPair {\n  access_key\n  secret_key\n  user_info {\n    email\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();Je.hash="6eac042d5d8dba3d8446023d51158e3d";const ea=Je,aa=function(){var e={defaultValue:null,kind:"LocalArgument",name:"email"},a={defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"},n={defaultValue:null,kind:"LocalArgument",name:"props"},l=[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],i={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},y={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:[e,a,n],kind:"Fragment",metadata:null,name:"UserSettingModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,n,a],kind:"Operation",name:"UserSettingModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x],storageKey:null}],storageKey:null}]},params:{cacheID:"0f0585f16e798616c877e40a868728ea",id:null,metadata:{},name:"UserSettingModalModifyMutation",operationKind:"mutation",text:"mutation UserSettingModalModifyMutation(\n  $email: String!\n  $props: ModifyUserInput!\n  $isNotSupportTotp: Boolean!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n    user {\n      id\n      email\n      username\n      need_password_change\n      full_name\n      description\n      status\n      domain_name\n      role\n      groups {\n        id\n        name\n      }\n      resource_policy\n      sudo_session_enabled\n      totp_activated @skipOnClient(if: $isNotSupportTotp)\n      allowed_client_ip\n      main_access_key\n      container_uid\n      container_main_gid\n      container_gids\n      ...TOTPActivateModalFragment\n    }\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();aa.hash="8c396239b33e382efa79b54f230378b8";const na=aa,la=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"}],a=[{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserSettingModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,l,i,r,t,s,o,d,c,m,g,p,y,k,v,f,_,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserSettingModalQuery",selections:[{alias:null,args:a,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,l,i,r,t,s,o,d,c,m,g,p,y,k,v,f,_,u],storageKey:null}]},params:{cacheID:"ce891f6376e333692778e57d40812a10",id:null,metadata:{},name:"UserSettingModalQuery",operationKind:"query",text:"query UserSettingModalQuery(\n  $email: String\n  $isNotSupportTotp: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    resource_policy\n    sudo_session_enabled\n    totp_activated @skipOnClient(if: $isNotSupportTotp)\n    allowed_client_ip\n    main_access_key\n    container_uid\n    container_main_gid\n    container_gids\n    ...TOTPActivateModalFragment\n    id\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();la.hash="fcd314cd2f431ffb74017e8c3b0d71bc";const ia=la;var ra=n(63590);const ta=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"}],a=[{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AccessKeySelectQuery",selections:[{alias:null,args:a,concreteType:"KeyPair",kind:"LinkedField",name:"keypairs",plural:!0,selections:[n,l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AccessKeySelectQuery",selections:[{alias:null,args:a,concreteType:"KeyPair",kind:"LinkedField",name:"keypairs",plural:!0,selections:[n,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"f8b8c1a3ee357c66b8050c241b494312",id:null,metadata:{},name:"AccessKeySelectQuery",operationKind:"query",text:"query AccessKeySelectQuery(\n  $email: String!\n) {\n  keypairs(email: $email) {\n    access_key\n    is_active\n    id\n  }\n}\n"}}}();ta.hash="7facb8a400bfd30d710d936f1551e2fb";const sa=ta,oa=["userEmail","fetchKey"],da=e=>{let{userEmail:a,fetchKey:n}=e,l=(0,m.A)(e,oa);const{t:i}=(0,$.Bd)(),{keypairs:r}=(0,K.useLazyLoadQuery)(sa,{email:a},{fetchPolicy:"store-and-network",fetchKey:n}),t=q().map(r,(e=>({value:null===e||void 0===e?void 0:e.access_key,label:null===e||void 0===e?void 0:e.access_key,disabled:!(null!==e&&void 0!==e&&e.is_active)})));return(0,F.jsx)(S.xrr,(0,c.A)({placeholder:i("credential.SelectAccessKey"),options:t},l))},ua={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"GeneratedKeypairListModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,concreteType:"UserInfo",kind:"LinkedField",name:"user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null}],type:"KeyPair",abstractKey:null,hash:"a3a1b6d9c401dfb603fdda3157146445"},ca=ua;var ma=n(99555),ga=n(52251),pa=n(86714);const ya=["keypairFragment","onRequestClose"],ka=e=>{let{keypairFragment:a,onRequestClose:n}=e,l=(0,m.A)(e,ya);const{t:i}=(0,$.Bd)(),r=(0,K.useFragment)(ca,a);return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:i("credential.NewCredentialCreated"),width:600,destroyOnHidden:!0,okText:i("button.Download"),onOk:()=>{r&&(0,ma.RM)(q().map(r,(e=>{var a;return{email:null===e||void 0===e||null===(a=e.user_info)||void 0===a?void 0:a.email,"access key":null===e||void 0===e?void 0:e.access_key,"secret key":null===e||void 0===e?void 0:e.secret_key}})),"backendai_api_keypair")},okButtonProps:{icon:(0,F.jsx)(pa.A,{})},cancelText:i("button.Close"),onCancel:n},l),{},{children:(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[(0,F.jsx)(ga.A,{showIcon:!0,type:"success",title:i("credential.GeneratedKeypairSuccess")}),(0,F.jsx)(ga.A,{showIcon:!0,type:"warning",title:i("credential.GeneratedKeypairWarning")}),(0,F.jsx)(S.mQ0,{children:i("credential.GeneratedKeypairInfo")}),(0,F.jsx)(S.zxw,{size:"small",style:{overflowX:"auto"},scroll:{x:"max-content",y:500},pagination:!1,dataSource:r,rowKey:"access_key",columns:[{title:i("general.E-Mail"),dataIndex:["user_info","email"],key:"email",sorter:(e,a)=>{var n,l;return(0,N._f)(null===e||void 0===e||null===(n=e.user_info)||void 0===n?void 0:n.email,null===a||void 0===a||null===(l=a.user_info)||void 0===l?void 0:l.email)},defaultSortOrder:"ascend"},{title:i("credential.AccessKey"),dataIndex:"access_key",key:"access_key",render:e=>(0,F.jsx)(S.mQ0,{copyable:!0,monospace:!0,children:e}),sorter:(e,a)=>(0,N._f)(null===e||void 0===e?void 0:e.access_key,null===a||void 0===a?void 0:a.access_key)},{title:i("credential.SecretKey"),dataIndex:"secret_key",key:"secret_key",render:e=>(0,F.jsx)(S.mQ0,{copyable:{text:e},children:"**********"}),sorter:(e,a)=>(0,N._f)(null===e||void 0===e?void 0:e.secret_key,null===a||void 0===a?void 0:a.secret_key)}]})]})}))};var va=n(90632),fa=n(62748),_a=n(80391),ba=n(44032),Sa=n(39648),ha=n(71905);const xa=["userEmail","onRequestClose"],Aa={superadmin:["superadmin","user"],admin:["user"]},Ka=e=>{let{userEmail:a=null,onRequestClose:n}=e,l=(0,m.A)(e,xa);const{t:i}=(0,$.Bd)(),{token:r}=v.A.useToken(),{modal:t}=z.A.useApp(),s=(0,W.useRef)(null),{logger:o}=(0,S.Q7t)(),d=(0,Ye.Am)(),u=(0,ve.eZ)(),g=(0,ve.CX)(),{isTOTPSupported:p,isLoading:y}=(0,Ye.F4)(),[k,{toggle:b}]=(0,_a.A)(!1),[h,x]=(0,S.TwB)("initial-fetch"),A=(0,W.useDeferredValue)(l.open),[j,M]=(0,W.useState)(),{user:P}=(0,K.useLazyLoadQuery)(ia,{email:null!==a&&void 0!==a?a:"",isNotSupportTotp:!p},{fetchPolicy:A&&a?"network-only":"store-only",fetchKey:h}),[I,T]=(0,K.useMutation)(na),[U,L]=(0,K.useMutation)(ea),C=(0,ra.ET)({mutationFn:e=>g.remove_totp(e)});return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({centered:!0,title:i(P?"credential.ModifyUserDetail":"credential.CreateUser"),destroyOnHidden:!0,onOk:()=>{var e;null===(e=s.current)||void 0===e||e.validateFields().then((async e=>{const a=(0,c.A)((0,c.A)({},q().omit(e,"email","password_confirm")),{},{container_gids:q().map(e.container_gids,(e=>q().toNumber(e))),need_password_change:e.need_password_change||!1});P?I({variables:{email:(null===e||void 0===e?void 0:e.email)||"",props:a,isNotSupportTotp:!p},onCompleted:(e,a)=>{var l,r,t;const s=null===a||void 0===a||null===(l=a[0])||void 0===l?void 0:l.message,d=!1===(null===e||void 0===e||null===(r=e.modify_user)||void 0===r?void 0:r.ok)?e.modify_user.msg:void 0;var u;if(!1===(null===(t=e.modify_user)||void 0===t?void 0:t.ok)||null!==a&&void 0!==a&&a[0])return ba.Ay.error(d||s||i("error.UnknownError")),void o.error(null===e||void 0===e||null===(u=e.modify_user)||void 0===u?void 0:u.msg,s);ba.Ay.success(i("environment.SuccessfullyModified")),n(!0)},onError:e=>{ba.Ay.error(i("dialog.ErrorOccurred")),o.error(e)}}):U({variables:{email:(null===e||void 0===e?void 0:e.email)||"",props:(0,c.A)((0,c.A)({},a),{},{password:e.password}),isNotSupportTotp:!p},onCompleted:(e,a)=>{var l,r,t,s;const d=null===a||void 0===a||null===(l=a[0])||void 0===l?void 0:l.message,u=!1===(null===e||void 0===e||null===(r=e.create_user)||void 0===r?void 0:r.ok)?e.create_user.msg:void 0;var c;return u&&u.includes("already exists")||d&&d.includes("The user already exists")?(ba.Ay.error(i("credential.UserAccountCreatedError")),void o.error(null===e||void 0===e||null===(c=e.create_user)||void 0===c?void 0:c.msg,d)):!1===(null===(t=e.create_user)||void 0===t?void 0:t.ok)||null!==a&&void 0!==a&&a[0]?(ba.Ay.error(u||d||i("error.UnknownError")),void o.error(e,a)):void(null!==(s=e.create_user)&&void 0!==s&&s.keypair?M([e.create_user.keypair]):n(!0))},onError:e=>{ba.Ay.error(i("dialog.ErrorOccurred")),o.error(e)}})})).catch((e=>o.error(e)))},confirmLoading:T||L,onCancel:()=>n(!1),loading:A!==l.open},l),{},{children:(0,F.jsxs)(W.Suspense,{fallback:(0,F.jsx)(Sa.A,{active:!0}),children:[(0,F.jsxs)(B.A,{ref:s,preserve:!1,validateTrigger:["onChange","onBlur"],initialValues:P?(0,c.A)((0,c.A)({},P),{},{container_gids:P.container_gids?q().map(P.container_gids,(e=>String(e))):void 0}):{need_password_change:!1,status:"active",domain_name:u,role:"user",is_active:!0,resource_policy:"default"},layout:"vertical",children:[(0,F.jsx)(B.A.Item,{name:"email",label:i("general.E-Mail"),rules:[{required:!P},{type:"email"}],children:(0,F.jsx)(X.A,{disabled:!!P})}),(0,F.jsx)(B.A.Item,{name:"username",label:i("credential.UserName"),rules:[{max:64},{required:!0}],children:(0,F.jsx)(X.A,{placeholder:i("maxLength.64chars")})}),(0,F.jsx)(B.A.Item,{name:"full_name",label:i("credential.FullName"),rules:[{max:64}],children:(0,F.jsx)(X.A,{placeholder:i("maxLength.64chars")})}),(0,F.jsx)(B.A.Item,{name:"password",label:i(P?"general.NewPassword":"general.Password"),rules:[{required:!P},{pattern:/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[_\W]).{8,}$/,message:i("webui.menu.InvalidPasswordMessage")}],children:(0,F.jsx)(X.A.Password,{})}),(0,F.jsx)(B.A.Item,{name:"password_confirm",dependencies:["password"],label:i(P?"webui.menu.NewPasswordAgain":"general.ConfirmPassword"),rules:[{required:!P,message:""},e=>{let{getFieldValue:a}=e;return{validator:(e,n)=>!n&&a("password")?Promise.reject(new Error(i("webui.menu.PleaseConfirmYourPassword"))):n&&a("password")!==n?Promise.reject(new Error(i("environment.PasswordsDoNotMatch"))):Promise.resolve()}}],children:(0,F.jsx)(X.A.Password,{})}),(0,F.jsx)(B.A.Item,{name:"need_password_change",label:i("credential.DescRequirePasswordChange"),valuePropName:"checked",tooltip:i("credential.TooltipForRequirePasswordChange"),children:(0,F.jsx)(he.A,{})}),(0,F.jsx)(B.A.Item,{name:"description",label:i("credential.Description"),rules:[{max:500}],children:(0,F.jsx)(X.A.TextArea,{placeholder:i("maxLength.500chars")})}),(0,F.jsx)(B.A.Item,{name:"status",label:i("credential.UserStatus"),children:(0,F.jsx)(E.A,{options:[{value:"active",label:i("general.Active")},{value:"inactive",label:i("general.Inactive")},{value:"before-verification",label:i("credential.BeforeVerification")},{value:"deleted",label:i("credential.Deleted")}]})}),!!d&&d in Aa&&(0,F.jsx)(B.A.Item,{name:"role",label:i("credential.Role"),children:(0,F.jsx)(E.A,{options:q().map(Aa[d],(e=>({value:e,label:e})))})}),(0,F.jsx)(B.A.Item,{name:"sudo_session_enabled",label:i("credential.EnableSudoSession"),valuePropName:"checked",children:(0,F.jsx)(he.A,{})}),!!p&&(0,F.jsx)(B.A.Item,{name:"totp_activated",label:i("webui.menu.TotpActivated"),valuePropName:"checked",extra:(null===P||void 0===P?void 0:P.email)!==(null===g||void 0===g?void 0:g.email)&&(0,F.jsx)(f.A.Text,{type:"secondary",style:{fontSize:r.fontSizeSM},children:i("credential.AdminCanOnlyRemoveTotp")}),children:(0,F.jsx)(ha.A,{loading:y||C.isPending,disabled:(null===P||void 0===P?void 0:P.email)!==(null===g||void 0===g?void 0:g.email)&&!(null!==P&&void 0!==P&&P.totp_activated),onChange:e=>{var a;e?b():null!==P&&void 0!==P&&P.totp_activated&&(null===(a=s.current)||void 0===a||a.setFieldValue("totp_activated",!0),t.confirm({title:i("totp.TurnOffTotp"),icon:(0,F.jsx)(fa.A,{}),content:i("totp.ConfirmTotpRemovalBody"),okText:i("button.Yes"),okType:"danger",cancelText:i("button.No"),onOk(){C.mutate((null===P||void 0===P?void 0:P.email)||"",{onSuccess:()=>{var e;ba.Ay.success(i("totp.RemoveTotpSetupCompleted")),x(),null===(e=s.current)||void 0===e||e.setFieldValue("totp_activated",!1)},onError:e=>{o.error(e)}})},onCancel(){var e;null===(e=s.current)||void 0===e||e.setFieldValue("totp_activated",!0)}}))}})}),(0,F.jsx)(B.A.Item,{name:"resource_policy",label:i("resourcePolicy.ResourcePolicy"),rules:[{required:!P}],children:(0,F.jsx)(De,{})}),(0,F.jsx)(B.A.Item,{name:"domain_name",label:i("credential.Domain"),rules:[{required:!0}],children:(0,F.jsx)(S.dbm,{onChange:()=>{var e;null===(e=s.current)||void 0===e||e.setFieldValue("group_ids",[])}})}),(0,F.jsx)(W.Suspense,{fallback:(0,F.jsx)(B.A.Item,{label:i("credential.Projects"),children:(0,F.jsx)(E.A,{loading:!0})}),children:(0,F.jsx)(B.A.Item,{noStyle:!0,dependencies:["domain_name"],children:e=>{let{getFieldValue:a}=e;return(0,F.jsx)(B.A.Item,{name:"group_ids",label:i("credential.Projects"),getValueFromEvent:e=>e,getValueProps:e=>({value:q().isArray(e)?e:q().map(null===P||void 0===P?void 0:P.groups,(e=>null===e||void 0===e?void 0:e.id))}),children:(0,F.jsx)(Le.A,{mode:"multiple",domain:a("domain_name"),disableDefaultFilter:!0})})}})}),(0,F.jsx)(B.A.Item,{name:"allowed_client_ip",label:i("credential.AllowedClientIP"),extra:i("credential.AllowedClientIPHint"),rules:[{validator:async(e,a)=>{if(!a||0===a.length)return Promise.resolve();const n=a.filter((e=>!(0,N.hD)(e)));return n.length>0?Promise.reject(new Error("".concat(i("credential.InvalidIP"),": ").concat(n.join(", ")))):Promise.resolve()}}],children:(0,F.jsx)(E.A,{mode:"tags",tokenSeparators:[","," "],tagRender:e=>{const a=q().isString(e.label)&&(0,N.hD)(e.label);return(0,F.jsx)(_.A,(0,c.A)((0,c.A)({color:a?void 0:"red"},e),{},{children:e.label}))},open:!1,suffixIcon:null,placeholder:i("credential.AllowedClientIPPlaceholder")})}),(0,F.jsx)(B.A.Item,{name:"container_uid",label:i("credential.ContainerUID"),tooltip:i("credential.ContainerUIDTooltip"),rules:[{type:"number",min:1,message:i("credential.validation.PleaseEnterPositiveInteger")}],children:(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1})}),(0,F.jsx)(B.A.Item,{name:"container_main_gid",label:i("credential.ContainerGID"),tooltip:i("credential.ContainerGIDTooltip"),rules:[{type:"number",min:1,message:i("credential.validation.PleaseEnterPositiveInteger")}],children:(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1})}),(0,F.jsx)(B.A.Item,{name:"container_gids",label:i("credential.ContainerSupplementaryGIDs"),tooltip:i("credential.ContainerSupplementaryGIDsTooltip"),rules:[()=>({validator:(e,a)=>q().isEmpty(a)||q().every(a,(e=>{const a=q().toNumber(e);return a>0&&a<=Oe.tu}))?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterPositiveAndUnder2_31")))}),()=>({validator:(e,a)=>q().isEmpty(a)||q().every(a,(e=>q().isInteger(q().toNumber(e))))?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterValidNumber")))}),()=>({validator:(e,a)=>q().isEmpty(a)||q().uniq(a).length===a.length?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterUniqueNumbers")))})],children:(0,F.jsx)(S.xrr,{mode:"tags",tokenSeparators:[","," "],open:!1,suffixIcon:null,placeholder:i("credential.ContainerSupplementaryGIDsPlaceholder")})}),!!P&&a&&(0,F.jsx)(W.Suspense,{fallback:(0,F.jsx)(B.A.Item,{label:i("credential.MainAccessKey"),children:(0,F.jsx)(E.A,{loading:!0})}),children:(0,F.jsx)(B.A.Item,{name:"main_access_key",label:i("credential.MainAccessKey"),children:(0,F.jsx)(da,{userEmail:a,fetchKey:h})})})]}),!!p&&(0,F.jsx)(va.A,{userFrgmt:P,open:k,onRequestClose:e=>{var a;e?x():null===(a=s.current)||void 0===a||a.setFieldValue("totp_activated",!1);b()}}),(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(ka,{open:!!j,keypairFragment:(0,S.faj)(j),onRequestClose:()=>{M(null),n(!0)}})})]})}))};const Fa=(0,n(61099).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var ja=n(17774),Ma=n(7075);const Pa=()=>{const e=(0,ke.c)(168),{logger:a}=(0,S.Q7t)(),{t:n}=(0,$.Bd)(),{token:l}=v.A.useToken(),[i,r]=(0,S.zui)(),t=(0,ve.CX)();let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=ja.tU.withDefault(""),e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={filter:s,order:ja.tU,status:(0,ja.M1)(["active","inactive"]).withDefault("active")},e[1]=o):o=e[1];const[c,m]=(0,ja.ab)(o),{message:g}=z.A.useApp(),[p,y]=(0,W.useState)(null),[k,f]=(0,W.useTransition)(),[_,b]=(0,W.useTransition)(),[h,x]=(0,W.useState)(null),[A,j]=(0,W.useState)(!1);let M;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[2]=M):M=e[2];const[P,I]=(0,W.useState)(M),[T,U]=(0,_a.A)(!1),{toggle:L}=U,[C,w]=(0,_a.A)(!1),{toggle:D}=w;let O;e[3]===Symbol.for("react.memo_cache_sentinel")?(O={current:1,pageSize:10},e[3]=O):O=e[3];const{baiPaginationOption:N,tablePaginationOption:V,setTablePaginationOption:E}=(0,d.aW)(O),[R,Q]=(0,W.useState)(),B="active"===c.status?'status == "active"':'status != "active"',X=N.limit,G=N.offset;let Y;e[4]!==c.filter||e[5]!==B?(Y=(0,S.r2g)([c.filter,B]),e[4]=c.filter,e[5]=B,e[6]=Y):Y=e[6];const H=c.order||"-created_at";let Z;e[7]!==N.limit||e[8]!==N.offset||e[9]!==Y||e[10]!==H?(Z={first:X,offset:G,filter:Y,order:H},e[7]=N.limit,e[8]=N.offset,e[9]=Y,e[10]=H,e[11]=Z):Z=e[11];const J=Z,ee=(0,W.useDeferredValue)(J),ne=(0,W.useDeferredValue)(i),[le,ie]=(0,Ma.q)("table_column_overrides.UserManagement");let ue;e[12]===Symbol.for("react.memo_cache_sentinel")?(ue=ye,e[12]=ue):ue=e[12];const ce=ne===S.eIE?"store-and-network":"network-only";let me;e[13]!==ne||e[14]!==ce?(me={fetchKey:ne,fetchPolicy:ce},e[13]=ne,e[14]=ce,e[15]=me):me=e[15];const{user_nodes:pe}=(0,K.useLazyLoadQuery)(ue,ee,me);let fe;e[16]===Symbol.for("react.memo_cache_sentinel")?(fe=ge,e[16]=fe):fe=e[16];const[_e,be]=(0,K.useMutation)(fe);let Se,he,xe;e[17]!==n?(Se=n("general.Control"),e[17]=n,e[18]=Se):Se=e[18],e[19]!==_e||e[20]!==be||e[21]!==a||e[22]!==g||e[23]!==R||e[24]!==n||e[25]!==l.colorInfo||e[26]!==l.marginXXS||e[27]!==r?(he=(e,i)=>{const t="active"===(null===i||void 0===i?void 0:i.status);return(0,F.jsxs)(S.OOm,{gap:l.marginXXS,children:[(0,F.jsx)(re.Ay,{type:"text",title:n("credential.UserDetail"),icon:(0,F.jsx)(ae.A,{style:{color:l.colorInfo}}),onClick:()=>{f((()=>{y((null===i||void 0===i?void 0:i.email)||null)}))}}),(0,F.jsx)(re.Ay,{type:"text",title:n("button.Edit"),icon:(0,F.jsx)(Fa,{style:{color:l.colorInfo}}),onClick:()=>{b((()=>{x((null===i||void 0===i?void 0:i.email)||null)}))}}),(0,F.jsx)(te.A,{title:n(t?"credential.DeactivateUser":"credential.ActivateUser"),placement:"left",okType:t?"danger":"primary",okText:n(t?"credential.Deactivate":"credential.Activate"),description:null===i||void 0===i?void 0:i.email,onConfirm:()=>{Q((null===i||void 0===i?void 0:i.id)||""),_e({variables:{email:(null===i||void 0===i?void 0:i.email)||"",props:{status:t?"inactive":"active"}},onCompleted:(e,l)=>{var i,t,s;const o=null===l||void 0===l||null===(i=l[0])||void 0===i?void 0:i.message,d=!1===(null===e||void 0===e||null===(t=e.modify_user)||void 0===t?void 0:t.ok)?e.modify_user.msg:void 0;var u;if(!1===(null===(s=e.modify_user)||void 0===s?void 0:s.ok)||null!==l&&void 0!==l&&l[0])return g.error(d||o||n("error.UnknownError")),void a.error(null===(u=e.modify_user)||void 0===u?void 0:u.msg,o);g.success(n("credential.StatusUpdatedSuccessfully")),r()},onError:e=>{g.error(null===e||void 0===e?void 0:e.message),a.error(e)}})},children:(0,F.jsx)(re.Ay,{title:n(t?"credential.Deactivate":"credential.Activate"),type:"text",danger:t,icon:t?(0,F.jsx)(de.A,{}):(0,F.jsx)(oe.A,{}),disabled:be&&R!==(null===i||void 0===i?void 0:i.id),loading:be&&R===(null===i||void 0===i?void 0:i.id)})})]})},e[19]=_e,e[20]=be,e[21]=a,e[22]=g,e[23]=R,e[24]=n,e[25]=l.colorInfo,e[26]=l.marginXXS,e[27]=r,e[28]=he):he=e[28],e[29]!==Se||e[30]!==he?(xe={key:"control",title:Se,fixed:!0,required:!0,render:he},e[29]=Se,e[30]=he,e[31]=xe):xe=e[31];const Ke=xe,Fe=c.status;let je,Me,Pe,Ie,Te,Ue,Le,Ce;e[32]!==m||e[33]!==E?(je=e=>{m({status:e.target.value}),E({current:1}),I([])},e[32]=m,e[33]=E,e[34]=je):je=e[34],e[35]!==n?(Me=n("general.Active"),e[35]=n,e[36]=Me):Me=e[36],e[37]!==Me?(Pe={label:Me,value:"active"},e[37]=Me,e[38]=Pe):Pe=e[38],e[39]!==n?(Ie=n("general.Inactive"),e[39]=n,e[40]=Ie):Ie=e[40],e[41]!==Ie?(Te={label:Ie,value:"inactive"},e[41]=Ie,e[42]=Te):Te=e[42],e[43]!==Pe||e[44]!==Te?(Ue=[Pe,Te],e[43]=Pe,e[44]=Te,e[45]=Ue):Ue=e[45],e[46]!==c.status||e[47]!==je||e[48]!==Ue?(Le=(0,F.jsx)(u.A,{value:Fe,onChange:je,optionType:"button",options:Ue}),e[46]=c.status,e[47]=je,e[48]=Ue,e[49]=Le):Le=e[49],e[50]!==t||e[51]!==n?(Ce=(0,S.YM3)([{key:"email",propertyLabel:n("general.E-Mail"),type:"string"},{key:"uuid",propertyLabel:"ID",type:"string",defaultOperator:"==",rule:{message:"Invalid UUID.",validate:Ia}},{key:"username",propertyLabel:n("credential.Name"),type:"string"},{key:"full_name",propertyLabel:n("credential.FullName"),type:"string"},t.supports("user-node-query-project-filter")&&{key:"project_name",propertyLabel:n("general.Project"),type:"string"},{key:"role",propertyLabel:n("credential.Role"),type:"string",strictSelection:!0,defaultOperator:"==",options:[{label:"superadmin",value:"superadmin"},{label:"user",value:"user"}]},{key:"resource_policy",propertyLabel:n("credential.ResourcePolicy"),type:"string"},{key:"description",propertyLabel:n("credential.Description"),type:"string"},{key:"status_info",propertyLabel:n("credential.StatusInfo"),type:"string"},{key:"need_password_change",propertyLabel:n("credential.DescRequirePasswordChange"),type:"boolean"},{key:"totp_activated",propertyLabel:n("credential.2FAEnabled"),type:"boolean"},{key:"sudo_session_enabled",propertyLabel:n("credential.EnableSudoSession"),type:"boolean"}]),e[50]=t,e[51]=n,e[52]=Ce):Ce=e[52];const we=c.filter||void 0;let De,Oe,Ne,Ee;e[53]!==m?(De=e=>{m({filter:e||""})},e[53]=m,e[54]=De):De=e[54],e[55]!==Ce||e[56]!==we||e[57]!==De?(Oe=(0,F.jsx)(S.Af6,{filterProperties:Ce,value:we,onChange:De}),e[55]=Ce,e[56]=we,e[57]=De,e[58]=Oe):Oe=e[58],e[59]!==Le||e[60]!==Oe?(Ne=(0,F.jsxs)(S.OOm,{direction:"row",gap:"sm",align:"start",wrap:"wrap",children:[Le,Oe]}),e[59]=Le,e[60]=Oe,e[61]=Ne):Ne=e[61],e[62]!==c.status||e[63]!==P.length||e[64]!==n||e[65]!==L||e[66]!==D||e[67]!==l.colorError||e[68]!==l.colorErrorBg||e[69]!==l.colorInfo||e[70]!==l.colorInfoBg?(Ee=P.length>0&&(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(S.mQ0,{children:n("general.NSelected",{count:P.length})}),(0,F.jsx)(S.Fvl,{icon:(0,F.jsx)(Fa,{style:{color:l.colorInfo}}),style:{backgroundColor:l.colorInfoBg},onClick:D}),"inactive"===c.status&&(0,F.jsx)(S.Fvl,{icon:(0,F.jsx)(S.Zm7,{}),style:{color:l.colorError,background:l.colorErrorBg},onClick:L})]}),e[62]=c.status,e[63]=P.length,e[64]=n,e[65]=L,e[66]=D,e[67]=l.colorError,e[68]=l.colorErrorBg,e[69]=l.colorInfo,e[70]=l.colorInfoBg,e[71]=Ee):Ee=e[71];const Re=ne!==i;let qe,$e,Qe,ze,Be,Xe,Ge,Ye,He,We;e[72]!==i||e[73]!==Re||e[74]!==r?(qe=(0,F.jsx)(S.u81,{loading:Re,value:i,onChange:r}),e[72]=i,e[73]=Re,e[74]=r,e[75]=qe):qe=e[75],e[76]===Symbol.for("react.memo_cache_sentinel")?($e=(0,F.jsx)(se.A,{}),Qe=()=>{j(!0)},e[76]=$e,e[77]=Qe):($e=e[76],Qe=e[77]),e[78]!==n?(ze=n("credential.CreateUser"),e[78]=n,e[79]=ze):ze=e[79],e[80]!==ze?(Be=(0,F.jsx)(re.Ay,{type:"primary",icon:$e,onClick:Qe,children:ze}),e[80]=ze,e[81]=Be):Be=e[81],e[82]!==Ee||e[83]!==qe||e[84]!==Be?(Xe=(0,F.jsxs)(S.OOm,{gap:"xs",children:[Ee,qe,Be]}),e[82]=Ee,e[83]=qe,e[84]=Be,e[85]=Xe):Xe=e[85],e[86]!==Ne||e[87]!==Xe?(Ge=(0,F.jsxs)(S.OOm,{justify:"between",align:"start",gap:"xs",wrap:"wrap",children:[Ne,Xe]}),e[86]=Ne,e[87]=Xe,e[88]=Ge):Ge=e[88],e[89]!==(null===pe||void 0===pe?void 0:pe.edges)?(Ye=(0,S.faj)(q().map(null===pe||void 0===pe?void 0:pe.edges,"node")),e[89]=null===pe||void 0===pe?void 0:pe.edges,e[90]=Ye):Ye=e[90],e[91]!==Ke?(He=e=>[e[0],Ke,...e.slice(1)],e[91]=Ke,e[92]=He):He=e[92],e[93]===Symbol.for("react.memo_cache_sentinel")?(We={x:"max-content"},e[93]=We):We=e[93];const Je=(null===pe||void 0===pe?void 0:pe.count)||0;let ea,aa,na,la,ia,ra,ta;e[94]!==l.marginXS?(ea={marginRight:l.marginXS},e[94]=l.marginXS,e[95]=ea):ea=e[95],e[96]!==E?(aa=(e,a)=>{q().isNumber(e)&&q().isNumber(a)&&(E({current:e,pageSize:a}),I([]))},e[96]=E,e[97]=aa):aa=e[97],e[98]!==Je||e[99]!==ea||e[100]!==aa||e[101]!==V.current||e[102]!==V.pageSize?(na={pageSize:V.pageSize,total:Je,current:V.current,style:ea,onChange:aa},e[98]=Je,e[99]=ea,e[100]=aa,e[101]=V.current,e[102]=V.pageSize,e[103]=na):na=e[103],e[104]!==(null===pe||void 0===pe?void 0:pe.edges)?(la=e=>{const a=q().chain(null===pe||void 0===pe?void 0:pe.edges).compact().value();I((()=>a.filter((a=>a.node&&e.includes(null===a||void 0===a?void 0:a.node.id)))))},e[104]=null===pe||void 0===pe?void 0:pe.edges,e[105]=la):la=e[105],e[106]!==P?(ia=q().compact(P.map(Ta)),e[106]=P,e[107]=ia):ia=e[107],e[108]!==la||e[109]!==ia?(ra={type:"checkbox",onChange:la,selectedRowKeys:ia},e[108]=la,e[109]=ia,e[110]=ra):ra=e[110],e[111]!==m?(ta=e=>{m({order:e}),I([])},e[111]=m,e[112]=ta):ta=e[112];const sa=ee!==J||ne!==i;let oa,da;e[113]!==le||e[114]!==ie?(oa={columnOverrides:le,onColumnOverridesChange:ie},e[113]=le,e[114]=ie,e[115]=oa):oa=e[115],e[116]!==c.order||e[117]!==Ye||e[118]!==He||e[119]!==na||e[120]!==ra||e[121]!==ta||e[122]!==sa||e[123]!==oa?(da=(0,F.jsx)(S.tiT,{usersFrgmt:Ye,customizeColumns:He,scroll:We,pagination:na,rowSelection:ra,onChangeOrder:ta,order:c.order,loading:sa,tableSettings:oa}),e[116]=c.order,e[117]=Ye,e[118]=He,e[119]=na,e[120]=ra,e[121]=ta,e[122]=sa,e[123]=oa,e[124]=da):da=e[124];const ua=p||"",ca=!!p||k;let ma,ga;e[125]===Symbol.for("react.memo_cache_sentinel")?(ma=()=>{y(null)},e[125]=ma):ma=e[125],e[126]!==k||e[127]!==ua||e[128]!==ca?(ga=(0,F.jsx)(Ze,{userEmail:ua,open:ca,loading:k,onRequestClose:ma}),e[126]=k,e[127]=ua,e[128]=ca,e[129]=ga):ga=e[129];const pa=!!h||_||A;let ya,ka,va,fa,ba,Sa,ha,xa,Aa,Pa,Ca;return e[130]!==r?(ya=e=>{x(null),j(!1),e&&r()},e[130]=r,e[131]=ya):ya=e[131],e[132]!==h||e[133]!==_||e[134]!==pa||e[135]!==ya?(ka=(0,F.jsx)(Ka,{userEmail:h,open:pa,loading:_,onRequestClose:ya}),e[132]=h,e[133]=_,e[134]=pa,e[135]=ya,e[136]=ka):ka=e[136],e[137]!==L||e[138]!==r?(va=()=>{L(),I([]),r()},e[137]=L,e[138]=r,e[139]=va):va=e[139],e[140]!==L?(fa=()=>{L()},e[140]=L,e[141]=fa):fa=e[141],e[142]!==P?(ba=q().compact(P.map(Ua)),e[142]=P,e[143]=ba):ba=e[143],e[144]!==T||e[145]!==va||e[146]!==fa||e[147]!==ba?(Sa=(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(Ae,{open:T,onOk:va,onCancel:fa,usersFrgmt:ba})}),e[144]=T,e[145]=va,e[146]=fa,e[147]=ba,e[148]=Sa):Sa=e[148],e[149]!==D||e[150]!==r?(ha=()=>{D(),I([]),r()},e[149]=D,e[150]=r,e[151]=ha):ha=e[151],e[152]!==D?(xa=()=>{D()},e[152]=D,e[153]=xa):xa=e[153],e[154]!==P?(Aa=q().compact(P.map(La)),e[154]=P,e[155]=Aa):Aa=e[155],e[156]!==C||e[157]!==ha||e[158]!==xa||e[159]!==Aa?(Pa=(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(Ve,{open:C,onOk:ha,onCancel:xa,userFrgmt:Aa})}),e[156]=C,e[157]=ha,e[158]=xa,e[159]=Aa,e[160]=Pa):Pa=e[160],e[161]!==Ge||e[162]!==da||e[163]!==ga||e[164]!==ka||e[165]!==Sa||e[166]!==Pa?(Ca=(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[Ge,da,ga,ka,Sa,Pa]}),e[161]=Ge,e[162]=da,e[163]=ga,e[164]=ka,e[165]=Sa,e[166]=Pa,e[167]=Ca):Ca=e[167],Ca};function Ia(e){return(0,S.aJy)(e)}function Ta(e){var a;return null===e||void 0===e||null===(a=e.node)||void 0===a?void 0:a.id}function Ua(e){return null===e||void 0===e?void 0:e.node}function La(e){return null===e||void 0===e?void 0:e.node}var Ca=n(41084),wa=n(55812),Da=n(85105);const Oa=()=>{const{t:e}=(0,$.Bd)(),[a]=(0,Ca.ok)(),n=a.get("tab")||"users",l=(0,wa.Zp)(),i=[{key:"users",label:e("credential.Users")},{key:"credentials",label:e("credential.Credentials")}];return(0,F.jsx)(S.Zuv,{activeTabKey:n,onTabChange:e=>l({pathname:"/credential",search:"?tab=".concat(e)}),tabList:i,children:(0,F.jsxs)(W.Suspense,{fallback:(0,F.jsx)(Sa.A,{active:!0}),children:["users"===n&&(0,F.jsx)(Da.A,{children:(0,F.jsx)(S.OOm,{direction:"column",align:"stretch",children:(0,F.jsx)(Pa,{})})}),"credentials"===n&&(0,F.jsx)(Da.A,{children:(0,F.jsx)(S.OOm,{direction:"column",align:"stretch",children:(0,F.jsx)(ce,{})})})]})})}},55324:(e,a,n)=>{n.d(a,{A:()=>l});const l=(0,n(61099).A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]])},86305:(e,a,n)=>{n.d(a,{A:()=>l});const l=(0,n(61099).A)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}}]);
//# sourceMappingURL=6237.c47596d6.chunk.js.map