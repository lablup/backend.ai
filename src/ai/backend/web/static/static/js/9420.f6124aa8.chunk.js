/*! For license information please see 9420.f6124aa8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[9420],{28172(e,t,n){n.d(t,{A:()=>o});const o=(0,n(35637).A)("folder-input",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]])},32543(e,t,n){n.d(t,{A:()=>y});var o=n(56276),r=n(11863),i=n(7871),a=n(46551),l=n(99457),c=n(93806),s=n(55685),d=n.n(s),m=n(33337);const u=["items","resizable","movable","bordered"];var p,h,v,b,g;const f=(0,c.rU)((e=>{let{css:t,token:n}=e;return{board:t(p||(p=(0,i.A)(["\n      .bai_board_placeholder {\n        border-radius: var(--token-borderRadius) !important;\n      }\n      .bai_board_placeholder--active {\n        background-color: var(--token-colorSplit) !important ;\n      }\n      .bai_board_placeholder--hover {\n        background-color: var(--token-colorPrimaryHover) !important ;\n        // FIXME: global token doesn't exist, so opacity fits color\n        opacity: 0.3;\n      }\n      .bai_board_handle button span {\n        color: "," !important;\n        padding-left: 5px !important;\n      }\n      .bai_board_header {\n        padding: 0 !important;\n        padding-top: ","px !important;\n      }\n      .bai_board_resizer button span {\n        color: "," !important;\n      }\n      .bai_board_container-override\n        > div:first-child\n        > div:nth-child(2)\n        > div:first-child {\n        padding: 0 !important;\n      }\n    "])),n.colorTextQuaternary,n.padding-1,n.colorTextQuaternary),disableResize:t(h||(h=(0,i.A)(["\n      .bai_board_resizer {\n        display: none !important;\n      }\n    "]))),disableMove:t(v||(v=(0,i.A)(["\n      .bai_board_handle {\n        display: none !important;\n      }\n      .bai_board_header {\n        display: none !important;\n      }\n    "]))),boardItems:t(b||(b=(0,i.A)(["\n      & > div:first-child {\n        border-radius: var(--token-borderRadius) !important;\n        background-color: var(--token-colorBgContainer) !important;\n        border: 1px solid "," !important;\n      }\n\n      & > div:first-child > div:first-child > div:first-child {\n        margin-bottom: var(--token-margin);\n        background-color: var(--token-colorBgContainer) !important;\n        position: absolute;\n        z-index: 1;\n      }\n    "])),n.colorBorderSecondary),disableBorder:t(g||(g=(0,i.A)(["\n      & > div:first-child {\n        border: none !important;\n      }\n    "])))}})),y=e=>{let{items:t,resizable:n=!1,movable:i=!1,bordered:c=!1}=e,s=(0,r.A)(e,u);const{styles:p}=f();return(0,m.jsx)(a.A,(0,o.A)({className:d()(p.board,!i&&p.disableMove,!n&&p.disableResize),empty:!0,renderItem:e=>{var t;return(0,m.jsx)(l.A,(0,o.A)((0,o.A)({className:d()(p.boardItems,!c&&p.disableBorder),i18nStrings:{dragHandleAriaLabel:"",dragHandleAriaDescription:"",resizeHandleAriaLabel:"",resizeHandleAriaDescription:""}},e),{},{children:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content}),e.id)},items:t,i18nStrings:(()=>{const e=(e,t,n)=>[e,t.length>0?"Conflicts with ".concat(t.map((e=>e.data.title)).join(", "),"."):"",n.length>0?"Disturbed ".concat(n.length," items."):""].filter(Boolean).join(" ");return{liveAnnouncementDndStarted:e=>"resize"===e?"Resizing":"Dragging",liveAnnouncementDndItemReordered:t=>{const n="column ".concat(t.placement.x+1),o="row ".concat(t.placement.y+1);return e("Item moved to ".concat("horizontal"===t.direction?n:o,"."),t.conflicts,t.disturbed)},liveAnnouncementDndItemResized:t=>{const n=t.isMinimalColumnsReached?" (minimal)":"",o=t.isMinimalRowsReached?" (minimal)":"",r="horizontal"===t.direction?"columns ".concat(t.placement.width).concat(n):"rows ".concat(t.placement.height).concat(o);return e("Item resized to ".concat(r,"."),t.conflicts,t.disturbed)},liveAnnouncementDndItemInserted:t=>{const n="column ".concat(t.placement.x+1),o="row ".concat(t.placement.y+1);return e("Item inserted to ".concat(n,", ").concat(o,"."),t.conflicts,t.disturbed)},liveAnnouncementDndCommitted:e=>"".concat(e," committed"),liveAnnouncementDndDiscarded:e=>"".concat(e," discarded"),liveAnnouncementItemRemoved:t=>e("Removed item ".concat(t.item.data.title,"."),[],t.disturbed),navigationAriaLabel:"Board navigation",navigationAriaDescription:"Click on non-empty item to move focus over",navigationItemAriaLabel:e=>e?e.data.title:"Empty"}})()},s))}},79420(e,t,n){n.r(t),n.d(t,{default:()=>ve});var o=n(56276),r=n(7813),i=n(59991),a=n(18249),l=n(41458),c=n(7749),s=n(96337),d=n(47476),m=n.n(d),u=n(58220),p=n(32397),h=n(33337);const v=e=>{let t=Object.assign({},((0,i.A)(e),e));const n=(0,a.CX)(),{token:r}=c.A.useToken(),{data:d}=(0,l.nj)({queryKey:["baiClient","service","get_announcement"],queryFn:()=>n.service.get_announcement()});return m().isEmpty(d.message)?"":(0,h.jsx)(s.RfO,(0,o.A)({description:(0,h.jsx)("div",{style:{marginBottom:-1*r.marginSM},children:(0,h.jsx)(u.Ay,{options:{overrides:{p:{props:{style:{marginTop:0,marginBottom:r.marginSM}}}}},children:d.message+"<p></p>"})})},t))};var b=n(32543),g=n(9095),f=n(11863),y=n(23177),A=n(59371),x=n(13848),j=n(6836),_=n(81262),w=n(85895),S=n(22722),k=n(19847),R=n(55638),I=n(59989),O=n(68632),z=n(28172),C=n(94109),B=n(56496);const M=["initialUrl"],L=e=>e=(e=e.replace("/blob/","/")).replace("github.com","raw.githubusercontent.com"),F=new RegExp("^(https?)://([\\w./-]{1,}).ipynb$"),U=(e,t)=>({sessionName:"imported-notebook-".concat((0,s.kXB)(5)),environments:{version:t},bootstrap_script:"#!/bin/sh\ncurl -O "+e}),D=e=>{const t=(0,y.c)(75);let n,r;if(t[0]!==e){var i=e;({initialUrl:n}=i),r=(0,f.A)(i,M),t[0]=e,t[1]=n,t[2]=r}else n=t[1],r=t[2];const l=(0,p.useRef)(null),{t:c}=(0,C.Bd)(),d=_.A.useApp(),m=(0,a.f0)(),u=(0,a.CX)(),{startSessionWithDefault:v,upsertSessionNotification:b}=(0,B.G)(),{getErrorMessage:g}=(0,s.B78)(),{logger:A}=(0,s.Q7t)();let D;t[3]!==d||t[4]!==u._config.default_import_environment||t[5]!==g||t[6]!==v||t[7]!==b||t[8]!==m?(D=async e=>{const t=L(e),n=t.split("/").pop(),o=U(t,u._config.default_import_environment),r=await v(o);if(r.fulfilled&&r.fulfilled.length>0&&(b(r.fulfilled,[{extraData:{appName:"jupyter",urlPostfix:"&redirect=/notebooks/"+n}}]),m("/session")),null!==r&&void 0!==r&&r.rejected&&r.rejected.length>0){const e=r.rejected[0].reason;d.modal.error({title:null===e||void 0===e?void 0:e.title,content:g(e)})}},t[3]=d,t[4]=u._config.default_import_environment,t[5]=g,t[6]=v,t[7]=b,t[8]=m,t[9]=D):D=t[9];const T=D;let N,H,G,E,V,q,P,K,X,Q,$,W,J,Y,Z,ee,te,ne,oe,re,ie,ae,le,ce,se,de,me,ue,pe,he,ve;return t[10]!==n?(N={url:n},t[10]=n,t[11]=N):N=t[11],t[12]!==T?(H=async e=>{await T(e.url)},t[12]=T,t[13]=H):H=t[13],t[14]!==c?(G=c("import.NotebookURL"),t[14]=c,t[15]=G):G=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(E={required:!0},t[16]=E):E=t[16],t[17]!==c?(V=c("import.InvalidNotebookURL"),t[17]=c,t[18]=V):V=t[18],t[19]!==V?(q={pattern:F,message:V},t[19]=V,t[20]=q):q=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(P={type:"string",max:2048},t[21]=P):P=t[21],t[22]!==q?(K=[E,q,P],t[22]=q,t[23]=K):K=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(X={flex:1},t[24]=X):X=t[24],t[25]!==c?(Q=c("import.NotebookURL"),t[25]=c,t[26]=Q):Q=t[26],t[27]!==Q?($=(0,h.jsx)(w.A,{placeholder:Q}),t[27]=Q,t[28]=$):$=t[28],t[29]!==$||t[30]!==G||t[31]!==K?(W=(0,h.jsx)(S.A.Item,{name:"url",label:G,rules:K,style:X,children:$}),t[29]=$,t[30]=G,t[31]=K,t[32]=W):W=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(J={width:"100%"},t[33]=J):J=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,h.jsx)(z.A,{}),t[34]=Y):Y=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(Z=async()=>{var e;null===(e=l.current)||void 0===e||e.submit()},t[35]=Z):Z=t[35],t[36]!==c?(ee=c("import.GetAndRunNotebook"),t[36]=c,t[37]=ee):ee=t[37],t[38]!==ee?(te=(0,h.jsx)(s.Fvl,{icon:Y,type:"primary",block:!0,action:Z,children:ee}),t[38]=ee,t[39]=te):te=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(ne=["click"],t[40]=ne):ne=t[40],t[41]!==c?(oe=c("import.StartWithOptions"),t[41]=c,t[42]=oe):oe=t[42],t[43]!==u._config.default_import_environment||t[44]!==n||t[45]!==A||t[46]!==m?(re=()=>{var e;null===(e=l.current)||void 0===e||e.validateFields().then((()=>{var e;const t=(null===(e=l.current)||void 0===e?void 0:e.getFieldValue("url"))||n||"",o=L(t),r=U(o,u._config.default_import_environment),i=new URLSearchParams;i.set("formValues",JSON.stringify(r)),i.set("step","4"),m({pathname:"/session/start",search:i.toString()})})).catch((e=>{A.error(e)}))},t[43]=u._config.default_import_environment,t[44]=n,t[45]=A,t[46]=m,t[47]=re):re=t[47],t[48]!==oe||t[49]!==re?(ie={items:[{key:"custom",label:oe,onClick:re}]},t[48]=oe,t[49]=re,t[50]=ie):ie=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,h.jsx)(s.Fvl,{icon:(0,h.jsx)(j.A,{}),type:"primary"}),t[51]=ae):ae=t[51],t[52]!==ie?(le=(0,h.jsx)(k.A,{trigger:ne,menu:ie,children:ae}),t[52]=ie,t[53]=le):le=t[53],t[54]!==te||t[55]!==le?(ce=(0,h.jsxs)(R.A.Compact,{style:J,children:[te,le]}),t[54]=te,t[55]=le,t[56]=ce):ce=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(se=(0,h.jsx)(I.A,{}),t[57]=se):se=t[57],t[58]!==c?(de=c("import.YouCanCreateNotebookCode"),t[58]=c,t[59]=de):de=t[59],t[60]!==de?(me=(0,h.jsx)(O.A.Paragraph,{children:de}),t[60]=de,t[61]=me):me=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(ue=[["url"]],t[62]=ue):ue=t[62],t[63]!==c?(pe=(0,h.jsx)(S.A.Item,{dependencies:ue,children:e=>{const{getFieldValue:t}=e,n=t("url")||"",o={url:n},r=encodeURIComponent(JSON.stringify(o));let i;globalThis.isElectron?i="https://cloud.backend.ai":(i=window.location.protocol+"//"+window.location.hostname,window.location.port&&(i=i+":"+window.location.port));const a="".concat(i,"/start?type=url&data=").concat(r),l='<a href="'.concat(a,'"><img src="https://www.backend.ai/assets/badge.svg" /></a>'),d="[![Run on Backend.AI](https://www.backend.ai/assets/badge.svg)](".concat(a,")"),m=F.test(n)&&n.length<=2048,u=!n||!m;return(0,h.jsxs)(s.OOm,{justify:"start",gap:"sm",wrap:"wrap",children:[(0,h.jsx)("img",{src:"/resources/badge.svg",style:{marginTop:5,marginBottom:5},width:"147"}),(0,h.jsxs)(s.OOm,{gap:"sm",children:[(0,h.jsx)(x.A,{size:"small",copyable:{text:l},disabled:u,children:c("import.NotebookBadgeCodeHTML")}),(0,h.jsx)(x.A,{size:"small",copyable:{text:d},disabled:u,children:c("import.NotebookBadgeCodeMarkdown")})]})]})}}),t[63]=c,t[64]=pe):pe=t[64],t[65]!==me||t[66]!==pe?(he=(0,h.jsxs)(s.OOm,{direction:"column",wrap:"wrap","data-testid":"panel-notebook-badge-code-section",children:[se,me,pe]}),t[65]=me,t[66]=pe,t[67]=he):he=t[67],t[68]!==r||t[69]!==W||t[70]!==N||t[71]!==ce||t[72]!==H||t[73]!==he?(ve=(0,h.jsxs)(S.A,(0,o.A)((0,o.A)({ref:l,layout:"vertical",initialValues:N,onFinish:H},r),{},{children:[W,ce,he]})),t[68]=r,t[69]=W,t[70]=N,t[71]=ce,t[72]=H,t[73]=he,t[74]=ve):ve=t[74],ve};D.displayName="ImportNotebookForm";const T=D;var N=n(3883),H=n(95906),G=n(26218),E=n(37777);const V=["urlType","initialUrl","initialBranch"],q=(e,t,n)=>{const o=e=>"'".concat(e.replace(/'/g,"'\\''"),"'");return["#!/bin/sh","# Create folder and download repository","curl -o /tmp/repo.zip ".concat(o(e)),"mkdir -p /home/work/".concat(o(t)),"cd /home/work/".concat(o(t)),"unzip -o /tmp/repo.zip",n?["# Move contents if in subfolder","if [ -d ".concat(o(n)," ]; then"),"  mv ".concat(o(n),"/* ."),"  rm -rf ".concat(o(n)),"fi"].join("\n"):void 0,"rm -f /tmp/repo.zip"].filter(Boolean).join("\n")},P=e=>{let{urlType:t,initialUrl:n,initialBranch:r}=e,i=(0,f.A)(e,V);const{logger:l}=(0,s.Q7t)(),c=(0,p.useRef)(null),d=(0,a.CX)(),{upsertNotification:m}=(0,E.js)(),u=_.A.useApp(),{getErrorMessage:v}=(0,s.B78)(),{t:b}=(0,C.Bd)(),g=(0,s.GgS)(),{startSessionWithDefault:y,upsertSessionNotification:A}=(0,B.G)(),x=async e=>{try{var n;const r="github"===t?await(async e=>{var t;const n=e.trim().replace(/\.git$/,"");let o;try{o=new URL(n)}catch(p){return H.Ay.error(b("import.InvalidGitHubURL")),null}const r=o.pathname.replace(/\/$/,""),i=r.split("/").filter(Boolean);if(i.length<2)return H.Ay.error(b("import.InvalidGitHubURL")),null;const a=i[0],l=i[1],c=r.match(/\/tree\/([\w./-]+)/);let s=null===c||void 0===c?void 0:c[1];if(!s){const e="https://api.github.com/repos/".concat(a,"/").concat(l);try{const t=await fetch(e);if(200!==t.status)return 404===t.status?(H.Ay.error(b("import.RepositoryNotFound")),null):(H.Ay.error(b("import.FailedToFetchRepositoryInformation")),null);s=(await t.json()).default_branch}catch(h){return H.Ay.error(b("import.FailedToFetchRepositoryInformation")),null}}const d=null!==(t=s)&&void 0!==t?t:"master",m=encodeURIComponent(d),u=d.replace(/\//g,"-");return{archiveUrl:"https://codeload.github.com/".concat(a,"/").concat(l,"/zip/").concat(m),repoName:l,branch:d,extractedDirectory:"".concat(l,"-").concat(u)}})(e.url):"gitlab"===t?((e,t)=>{const n=e.trim().replace(/\.git$/,"");let o;try{o=new URL(n)}catch(p){return H.Ay.error(b("import.InvalidGitLabURL")),null}const r=o.pathname.replace(/\/$/,""),i=r.split("/").filter(Boolean);if(i.length<2)return H.Ay.error("Invalid GitLab URL. Must be a valid GitLab repository URL"),null;const a=i[i.length-1],l=r.match(/\/-\/tree\/([^/]+)/),c=null===l||void 0===l?void 0:l[1],s=t&&t.trim()||c||"master",d=encodeURIComponent(s),m=s.replace(/\//g,"-"),u=l?r.slice(0,r.indexOf("/-/tree/")):r;return{archiveUrl:"".concat(o.origin).concat(u,"/-/archive/").concat(d,"/").concat(a,"-").concat(m,".zip"),repoName:a,branch:s,extractedDirectory:"".concat(a,"-").concat(m)}})(e.url,e.gitlabBranch):null;if(!r)return;const i=await g(r.repoName||"imported-from-repo"),a=await d.vfolder.create(i,e.storageHost,"",null!==(n=e.vfolder_usage_mode)&&void 0!==n?n:"general","rw");m({key:"folder-create-success-".concat(a.id),icon:"folder",message:"".concat(a.name,": ").concat(b("data.folders.FolderCreated")),toText:b("data.folders.OpenAFolder"),to:{search:new URLSearchParams({folder:a.id}).toString()},open:!0,duration:0});const l={sessionName:"importing-files-to-".concat(i),environments:{version:d._config.default_import_environment},sessionType:"batch",batch:{command:q(r.archiveUrl,i,r.extractedDirectory),enabled:!0},mount_ids:[a.id]},s=await y(l);var o;if(s.fulfilled&&s.fulfilled.length>0)A(s.fulfilled),null===(o=c.current)||void 0===o||o.resetFields();if(null!==s&&void 0!==s&&s.rejected&&s.rejected.length>0){const e=s.rejected[0].reason;u.modal.error({title:null===e||void 0===e?void 0:e.title,content:v(e)})}}catch(r){u.message.error(v(r))}};return(0,h.jsxs)(S.A,(0,o.A)((0,o.A)({ref:c,layout:"vertical"},i),{},{initialValues:{vfolder_usage_mode:"general",url:n,gitlabBranch:r},children:[(0,h.jsx)(S.A.Item,{children:b("github"===t?"import.RepoWillBeFolder":"import.GitlabRepoWillBeFolder")}),(0,h.jsx)(S.A.Item,{name:"url",label:b("github"==t?"import.GitHubURL":"import.GitlabURL"),rules:[{required:!0},{type:"string",max:2048},{pattern:"github"===t?/^(https?):\/\/github\.com\/([\w./-]{1,})$/:/^(https?):\/\/gitlab\.com\/([\w./-]{1,})$/,message:b("import.WrongURLType")}],children:(0,h.jsx)(w.A,{})}),"gitlab"===t&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(S.A.Item,{name:"gitlabBranch",label:b("import.GitlabDefaultBranch"),children:(0,h.jsx)(w.A,{placeholder:"master",maxLength:200})})}),(0,h.jsx)(S.A.Item,{name:"storageHost",label:b("import.StorageHost"),rules:[{required:!0}],children:(0,h.jsx)(N.A,{showUsageStatus:!0,autoSelectType:"usage"})}),(0,h.jsx)(S.A.Item,{label:b("import.VFolderUsageMode"),name:"vfolder_usage_mode",hidden:!0!==d._config.enableModelFolders,required:!0,children:(0,h.jsxs)(G.Ay.Group,{children:[(0,h.jsx)(G.Ay,{value:"general","data-testid":"general-usage-mode",children:b("data.General")}),(0,h.jsx)(G.Ay,{value:"model","data-testid":"model-usage-mode",children:b("data.Models")})]})}),(0,h.jsx)(S.A.Item,{children:(0,h.jsx)(s.Fvl,{icon:(0,h.jsx)(z.A,{}),action:async()=>{try{var e;const t=await(null===(e=c.current)||void 0===e?void 0:e.validateFields());if(!t)return;await x(t)}catch(t){l.error("Form validation failed:",t)}},block:!0,type:"primary",children:b("import.GetToFolder")})})]}))};const K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"};var X=n(16826);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Q.apply(this,arguments)}const $=(e,t)=>p.createElement(X.A,Q({},e,{ref:t,icon:K}));const W=p.forwardRef($);const J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M913.9 552.2L805 181.4v-.1c-7.6-22.9-25.7-36.5-48.3-36.5-23.4 0-42.5 13.5-49.7 35.2l-71.4 213H388.8l-71.4-213c-7.2-21.7-26.3-35.2-49.7-35.2-23.1 0-42.5 14.8-48.4 36.6L110.5 552.2c-4.4 14.7 1.2 31.4 13.5 40.7l368.5 276.4c2.6 3.6 6.2 6.3 10.4 7.8l8.6 6.4 8.5-6.4c4.9-1.7 9-4.7 11.9-8.9l368.4-275.4c12.4-9.2 18-25.9 13.6-40.6zM751.7 193.4c1-1.8 2.9-1.9 3.5-1.9 1.1 0 2.5.3 3.4 3L818 394.3H684.5l67.2-200.9zm-487.4 1c.9-2.6 2.3-2.9 3.4-2.9 2.7 0 2.9.1 3.4 1.7l67.3 201.2H206.5l57.8-200zM158.8 558.7l28.2-97.3 202.4 270.2-230.6-172.9zm73.9-116.4h122.1l90.8 284.3-212.9-284.3zM512.9 776L405.7 442.3H620L512.9 776zm157.9-333.7h119.5L580 723.1l90.8-280.8zm-40.7 293.9l207.3-276.7 29.5 99.2-236.8 177.5z"}}]},name:"gitlab",theme:"outlined"};function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Y.apply(this,arguments)}const Z=(e,t)=>p.createElement(X.A,Y({},e,{ref:t,icon:J}));const ee=p.forwardRef(Z),te=["initialTab","initialData"],ne=e=>{var t,n,r,i,a;const l=(0,y.c)(49);let c,d,m;if(l[0]!==e){var u=e;({initialTab:d,initialData:c}=u),m=(0,f.A)(u,te),l[0]=e,l[1]=c,l[2]=d,l[3]=m}else c=l[1],d=l[2],m=l[3];const{t:p}=(0,C.Bd)();let v;l[4]!==p?(v=p("start.StartFromURL"),l[4]=p,l[5]=v):v=l[5];const b=null===(t=c)||void 0===t?void 0:t.url;let g,x,j,_,w;l[6]!==b?(g=(0,h.jsx)(T,{initialUrl:b}),l[6]=b,l[7]=g):g=l[7],l[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,h.jsx)(s.lIp,{}),l[8]=x):x=l[8],l[9]!==p?(j=p("import.ImportNotebook"),l[9]=p,l[10]=j):j=l[10],l[11]!==j?(_=(0,h.jsxs)(s.OOm,{gap:"xs",children:[x," ",j]}),l[11]=j,l[12]=_):_=l[12],l[13]!==g||l[14]!==_?(w={key:"notebook",children:g,label:_},l[13]=g,l[14]=_,l[15]=w):w=l[15];const S=null===(n=c)||void 0===n?void 0:n.url,k=null===(r=c)||void 0===r?void 0:r.branch;let R,I,O,z,B;l[16]!==S||l[17]!==k?(R=(0,h.jsx)(P,{urlType:"github",initialUrl:S,initialBranch:k}),l[16]=S,l[17]=k,l[18]=R):R=l[18],l[19]===Symbol.for("react.memo_cache_sentinel")?(I=(0,h.jsx)(W,{style:{display:"inline"}}),l[19]=I):I=l[19],l[20]!==p?(O=p("import.ImportGithubRepo"),l[20]=p,l[21]=O):O=l[21],l[22]!==O?(z=(0,h.jsxs)(s.OOm,{gap:"xs",children:[I,O]}),l[22]=O,l[23]=z):z=l[23],l[24]!==R||l[25]!==z?(B={key:"github",children:R,label:z},l[24]=R,l[25]=z,l[26]=B):B=l[26];const M=null===(i=c)||void 0===i?void 0:i.url,L=null===(a=c)||void 0===a?void 0:a.branch;let F,U,D,N,H,G,E,V;return l[27]!==M||l[28]!==L?(F=(0,h.jsx)(P,{urlType:"gitlab",initialUrl:M,initialBranch:L}),l[27]=M,l[28]=L,l[29]=F):F=l[29],l[30]===Symbol.for("react.memo_cache_sentinel")?(U=(0,h.jsx)(ee,{style:{display:"inline"}}),l[30]=U):U=l[30],l[31]!==p?(D=p("import.ImportGitlabRepo"),l[31]=p,l[32]=D):D=l[32],l[33]!==D?(N=(0,h.jsxs)(s.OOm,{gap:"xs",children:[U,D]}),l[33]=D,l[34]=N):N=l[34],l[35]!==F||l[36]!==N?(H={key:"gitlab",children:F,label:N},l[35]=F,l[36]=N,l[37]=H):H=l[37],l[38]!==B||l[39]!==H||l[40]!==w?(G=[w,B,H],l[38]=B,l[39]=H,l[40]=w,l[41]=G):G=l[41],l[42]!==d||l[43]!==G?(E=(0,h.jsx)(A.A,{defaultActiveKey:d,items:G}),l[42]=d,l[43]=G,l[44]=E):E=l[44],l[45]!==m||l[46]!==v||l[47]!==E?(V=(0,h.jsx)(s.IbE,(0,o.A)((0,o.A)({title:v,width:800,footer:null},m),{},{children:E})),l[45]=m,l[46]=v,l[47]=E,l[48]=V):V=l[48],V};var oe=n(26264),re=n(14688),ie=n(46425);const ae=e=>{var t;let n=Object.assign({},((0,i.A)(e),e));const r=(0,oe.M)(),a=(null===(t=(0,p.useContext)(ie.Ay.ConfigContext).theme)||void 0===t?void 0:t.algorithm)===c.A.darkAlgorithm,l={token:{colorPrimary:(0,re.A)().secondary}};return(0,h.jsx)(ie.Ay,(0,o.A)((0,o.A)({},n),{},{theme:(0,o.A)((0,o.A)({},a?m().merge({},null===r||void 0===r?void 0:r.dark,l,n.theme):m().merge({},null===r||void 0===r?void 0:r.light,l,n.theme)),{},{algorithm:a?c.A.darkAlgorithm:c.A.defaultAlgorithm})}))};var le=n(83632);const ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},se.apply(this,arguments)}const de=(e,t)=>p.createElement(X.A,se({},e,{ref:t,icon:ce}));const me=p.forwardRef(de);var ue=n(31356),pe=n(69586),he=n(22905);const ve=()=>{var e,t,n,i,l,c;const{t:d}=(0,C.Bd)(),u=(0,a.CX)(),f=null!==(e=null===u||void 0===u||null===(t=u._config)||void 0===t?void 0:t.blockList)&&void 0!==e?e:[],y=null!==(n=null===u||void 0===u||null===(i=u._config)||void 0===i?void 0:i.inactiveList)&&void 0!==n?n:[],A=null!==(l=null===u||void 0===u||null===(c=u._config)||void 0===c?void 0:c.enableModelFolders)&&void 0!==l&&l,x=(0,a.f0)(),[j,_]=(0,p.useState)(!1),[w,S]=(0,p.useState)(!1),k=(0,ue.zy)(),[R,I]=(0,p.useState)(),{upsertNotification:O}=(0,E.js)(),[z]=(0,pe.A)(),[B,M]=(0,he.useQueryParams)({type:(0,he.withDefault)(he.StringParam,void 0),data:(0,he.withDefault)(he.JsonParam,void 0)}),L=(0,p.useMemo)((()=>{const e=k.search.substring(1);return B.type||!e||e.includes("=")?null:e}),[k.search,B.type]),F=(0,p.useEffectEvent)((()=>{if("url"===B.type&&B.data)I({initialTab:"notebook",initialData:B.data}),S(!0),M({type:void 0,data:void 0});else if(L){const e="https://github.com/".concat(L);I({initialTab:"notebook",initialData:{url:e}}),S(!0),M({type:void 0,data:void 0},"replace")}}));(0,p.useEffect)((()=>{F()}),[]),(0,p.useEffect)((()=>{z.length<=0||O({key:"invitedFolders",message:d("data.InvitedFoldersTooltip",{count:z.length}),to:{search:new URLSearchParams({invitation:"true"}).toString()},open:!0,duration:0})}),[z.length,d,O]);const U=(0,s.YM3)([{id:"createFolder",requiredMenuKey:"data",rowSpan:3,columnSpan:1,columnOffset:{6:0,4:0},data:{content:(0,h.jsx)(r.A,{title:d("start.CreateFolder"),description:d("start.CreateFolderDesc"),buttonText:d("start.button.CreateFolder"),icon:(0,h.jsx)(s.cQz,{}),onClick:()=>_(!0)})}},{id:"startSession",requiredMenuKey:"job",rowSpan:3,columnSpan:1,columnOffset:{6:1,4:1},data:{content:(0,h.jsx)(r.A,{title:d("start.StartSession"),description:d("start.StartSessionDesc"),buttonText:d("start.button.StartSession"),icon:(0,h.jsx)(s.Q2l,{}),onClick:()=>x("/session/start")})}},{id:"startBatchSession",requiredMenuKey:"job",rowSpan:3,columnSpan:1,columnOffset:{6:2,4:2},data:{content:(0,h.jsx)(r.A,{title:d("start.StartBatchSession"),description:d("start.StartBatchSessionDesc"),buttonText:d("start.button.StartSession"),icon:(0,h.jsx)(s.y1w,{}),onClick:()=>{const e=new URLSearchParams;e.set("step","0"),e.set("formValues",JSON.stringify({sessionType:"batch"})),x("/session/start?".concat(e.toString()))}})}},A&&{id:"modelService",rowSpan:3,requiredMenuKey:"serving",columnSpan:1,columnOffset:{6:0,4:0},data:{content:(0,h.jsx)(ae,{children:(0,h.jsx)(r.A,{title:d("start.ModelService"),description:d("start.ModelServiceDesc"),buttonText:d("start.button.ModelService"),icon:(0,h.jsx)(me,{}),onClick:()=>x("/service/start")})})}},{id:"importFromURL",requiredMenuKey:"import",rowSpan:3,columnSpan:1,columnOffset:{6:3,4:3},data:{content:(0,h.jsx)(r.A,{title:d("start.StartFromURL"),description:d("start.StartFromURLDesc"),buttonText:d("start.button.StartNow"),icon:(0,h.jsx)(s.xeu,{}),onClick:()=>{S(!0)}})}}]).filter((e=>!m().includes([...f,...y],e.requiredMenuKey))),[D,T]=(0,le.q)("start_page_board_items"),N=m().filter(U,(e=>!m().find(D,(t=>t.id===e.id)))),H=[...(0,s.YM3)(m().map(D,(e=>{var t;const n=null===(t=m().find(U,(t=>t.id===e.id)))||void 0===t?void 0:t.data;return n?(0,o.A)((0,o.A)({},e),{},{data:n}):void 0}))),...N];return(0,h.jsxs)(s.OOm,{direction:"column",gap:"md",align:"stretch",children:[(0,h.jsx)(v,{showIcon:!0,closable:!0}),(0,h.jsx)(b.A,{movable:!0,items:H,onItemsChange:e=>{const t=[...e.detail.items];T(m().map(t,(e=>m().omit(e,"data"))))}}),m().isEmpty(H)&&(0,h.jsx)(s.RfO,{type:"info",description:d("start.NoStartItems"),showIcon:!0}),(0,h.jsx)(s.XcZ,{children:(0,h.jsx)(g.A,{open:j,onRequestClose:e=>{_(!1),e&&x("/data")}})}),(0,h.jsx)(s.XcZ,{children:(0,h.jsx)(ne,{open:w,onCancel:()=>{S(!1),I(void 0)},initialTab:null===R||void 0===R?void 0:R.initialTab,initialData:null===R||void 0===R?void 0:R.initialData})})]})}}}]);
//# sourceMappingURL=9420.f6124aa8.chunk.js.map