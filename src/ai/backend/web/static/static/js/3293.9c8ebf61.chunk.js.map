{"version":3,"file":"static/js/3293.9c8ebf61.chunk.js","mappings":"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","sources":["components/FileUploadManager.tsx","__generated__/FolderExplorerModalQuery.graphql.ts","__generated__/FolderExplorerHeaderFragment.graphql.ts","__generated__/FileBrowserButtonFragment.graphql.ts","__generated__/useDefaultImagesWithFallbackQuery.graphql.ts","hooks/useDefaultImagesWithFallback.ts","__generated__/useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery.graphql.ts","__generated__/useMergedAllowedStorageHostPermission_KeypairQuery.graphql.ts","hooks/useMergedAllowedStorageHostPermission.ts","components/FileBrowserButton.tsx","__generated__/SFTPServerButtonFragment.graphql.ts","components/SFTPServerButton.tsx","components/FolderExplorerHeader.tsx","__generated__/VFolderNodeDescriptionPermissionRefreshQuery.graphql.ts","__generated__/VFolderNodeDescriptionFragment.graphql.ts","__generated__/useVirtualFolderNodePathFragment.graphql.ts","hooks/useVirtualFolderNodePath.ts","components/VirtualFolderNodeItems/VirtualFolderPath.tsx","components/VFolderNodeDescription.tsx","components/FolderExplorerModal.tsx","components/PortSelectFormItem.tsx","__generated__/useStartSessionCreationQuery.graphql.ts","hooks/useStartSession.tsx"],"sourcesContent":["import { useSetBAINotification } from '../hooks/useBAINotification';\nimport { useFolderExplorerOpener } from './FolderExplorerOpener';\nimport { theme, Typography } from 'antd';\nimport { RcFile } from 'antd/es/upload';\nimport {\n  BAIFlex,\n  BAILink,\n  toLocalId,\n  useConnectedBAIClient,\n} from 'backend.ai-ui';\nimport { atom, useAtom, useSetAtom } from 'jotai';\nimport { atomFamily } from 'jotai/utils';\nimport _ from 'lodash';\nimport PQueue from 'p-queue';\nimport { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSuspendedBackendaiClient } from 'src/hooks';\nimport { useBAISettingUserState } from 'src/hooks/useBAISetting';\nimport * as tus from 'tus-js-client';\n\ntype uploadStartFunction = (callbacks?: {\n  onProgress?: (\n    bytesUploaded: number,\n    bytesTotal: number,\n    fileName: string,\n  ) => void;\n}) => Promise<{ name: string; bytes: number }>;\n\ntype UploadRequest = {\n  vFolderId: string;\n  vFolderName: string;\n  uploadFileInfo: Array<{ file: RcFile; startFunction: uploadStartFunction }>;\n};\n\ntype UploadStatusInfo = {\n  vFolderName: string;\n  pendingFiles: Array<string>;\n  completedFiles: Array<string>;\n  failedFiles: Array<string>;\n  completedBytes: number;\n  totalExpectedSize: number;\n};\ntype UploadStatusMap = {\n  [vFolderId: string]: UploadStatusInfo;\n};\n\nconst uploadRequestAtom = atom<Array<UploadRequest>>([]);\nconst uploadStatusAtom = atom<UploadStatusMap>({});\nconst uploadStatusAtomFamily = atomFamily((vFolderId: string) => {\n  return atom(\n    (get) => get(uploadStatusAtom)[vFolderId],\n    (get, set, newStatus: UploadStatusInfo) => {\n      const prev = get(uploadStatusAtom);\n      set(uploadStatusAtom, {\n        ...prev,\n        [vFolderId]: newStatus,\n      });\n    },\n  );\n});\n\nconst useUploadStatusAtomStatus = (\n  vFolderId: string,\n): [UploadStatusInfo, (newStatus: UploadStatusInfo) => void] => {\n  return useAtom(uploadStatusAtomFamily(vFolderId));\n};\n\nconst FileUploadManager: React.FC = () => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const baiClient = useSuspendedBackendaiClient();\n  const { upsertNotification, closeNotification } = useSetBAINotification();\n  const { generateFolderPath } = useFolderExplorerOpener();\n  const [uploadRequests, setUploadRequests] = useAtom(uploadRequestAtom);\n  const [uploadStatus, setUploadStatus] = useAtom(uploadStatusAtom);\n  const [maxConcurrentUploads] = useBAISettingUserState(\n    'max_concurrent_uploads',\n  );\n  const queue = new PQueue({ concurrency: maxConcurrentUploads || 2 });\n\n  const pendingDeltaBytesRef = useRef<Record<string, number>>({});\n  const throttledUploadRequests = _.throttle(\n    (vFolderId: string, fileName: string) => {\n      const accumulatedDelta = pendingDeltaBytesRef.current[vFolderId] || 0;\n      pendingDeltaBytesRef.current[vFolderId] = 0;\n\n      setUploadStatus((prev) => {\n        const uploadedFilesCount = prev[vFolderId]?.completedFiles?.length || 0;\n        const totalUploadedFilesCount =\n          (prev[vFolderId]?.completedFiles?.length || 0) +\n          (prev[vFolderId]?.failedFiles?.length || 0) +\n          (prev[vFolderId]?.pendingFiles?.length || 0);\n\n        const totalExpectedSize = prev[vFolderId]?.totalExpectedSize || 0;\n        const currentCompletedBytes =\n          (prev[vFolderId]?.completedBytes || 0) + accumulatedDelta;\n\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          backgroundTask: {\n            status: 'pending',\n            percent:\n              totalExpectedSize > 0\n                ? (currentCompletedBytes / totalExpectedSize) * 100\n                : 0,\n            onChange: {\n              pending: {\n                description: (\n                  <BAIFlex direction=\"column\" align=\"start\">\n                    <Typography.Text>\n                      {t('explorer.UploadingFiles')} ( {uploadedFilesCount} /{' '}\n                      {totalUploadedFilesCount} )\n                    </Typography.Text>\n                    <Typography.Text\n                      ellipsis\n                      type=\"secondary\"\n                      style={{\n                        fontSize: token.fontSizeSM,\n                        maxWidth: '300px',\n                      }}\n                    >\n                      {fileName}\n                    </Typography.Text>\n                  </BAIFlex>\n                ),\n              },\n            },\n          },\n        });\n\n        return {\n          ...prev,\n          [vFolderId]: {\n            ...prev[vFolderId],\n            completedBytes: currentCompletedBytes,\n          },\n        };\n      });\n    },\n    200,\n    { leading: true, trailing: true },\n  );\n\n  useEffect(() => {\n    if (uploadRequests.length === 0 || !baiClient) return;\n\n    uploadRequests.forEach((uploadRequest) => {\n      const { vFolderId, vFolderName, uploadFileInfo } = uploadRequest;\n      const currUploadTotalSize = _.sumBy(\n        uploadFileInfo,\n        (info) => info.file.size,\n      );\n\n      setUploadStatus((prev) => {\n        const isFirstUpload = !prev[vFolderId];\n        const newTotalExpectedSize =\n          (prev[vFolderId]?.totalExpectedSize || 0) + currUploadTotalSize;\n        const currPct = isFirstUpload\n          ? 0\n          : ((prev[vFolderId]?.completedBytes || 0) / newTotalExpectedSize) *\n            100;\n\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: (\n            <span>\n              {t('explorer.VFolder')}:&nbsp;\n              <BAILink\n                style={{\n                  fontWeight: 'normal',\n                }}\n                to={generateFolderPath(vFolderId)}\n                onClick={() => {\n                  closeNotification('upload:' + vFolderId);\n                }}\n              >{`${vFolderName}`}</BAILink>\n            </span>\n          ),\n          backgroundTask: {\n            status: 'pending',\n            percent: currPct,\n            onChange: {\n              pending: t('explorer.ProcessingUpload'),\n            },\n          },\n          duration: 0,\n        });\n\n        return {\n          ...prev,\n          [vFolderId]: {\n            vFolderName,\n            pendingFiles: [\n              ...(prev[vFolderId]?.pendingFiles || []),\n              ...uploadFileInfo.map(\n                (info) => info.file.webkitRelativePath || info.file.name,\n              ),\n            ],\n            completedFiles: prev[vFolderId]?.completedFiles || [],\n            failedFiles: prev[vFolderId]?.failedFiles || [],\n            completedBytes: prev[vFolderId]?.completedBytes || 0,\n            totalExpectedSize: newTotalExpectedSize,\n          },\n        };\n      });\n\n      uploadFileInfo.forEach(({ file, startFunction }) => {\n        queue.add(async () => {\n          // Capture fileName before any async operations\n          const fileName = file.webkitRelativePath || file.name;\n          let previousBytesUploaded = 0;\n\n          try {\n            await startFunction({\n              onProgress: (bytesUploaded, _bytesTotal, fileName) => {\n                // Since bytesUploaded is cumulative, calculate delta from previous value\n                const deltaBytes = bytesUploaded - previousBytesUploaded;\n                previousBytesUploaded = bytesUploaded;\n                pendingDeltaBytesRef.current[vFolderId] =\n                  (pendingDeltaBytesRef.current[vFolderId] || 0) + deltaBytes;\n\n                throttledUploadRequests(vFolderId, fileName);\n              },\n            });\n\n            // Success case\n            throttledUploadRequests.flush();\n            delete pendingDeltaBytesRef.current[vFolderId];\n\n            setUploadStatus((prev) => ({\n              ...prev,\n              [vFolderId]: {\n                ...prev[vFolderId],\n                pendingFiles: prev[vFolderId].pendingFiles.filter(\n                  (f: string) => f !== fileName,\n                ),\n                completedFiles: [\n                  ...(prev[vFolderId]?.completedFiles || []),\n                  fileName,\n                ],\n              },\n            }));\n          } catch (error) {\n            // Error case - use the captured fileName regardless of error structure\n            throttledUploadRequests.flush();\n            delete pendingDeltaBytesRef.current[vFolderId];\n\n            setUploadStatus((prev) => ({\n              ...prev,\n              [vFolderId]: {\n                ...prev[vFolderId],\n                pendingFiles: prev[vFolderId].pendingFiles.filter(\n                  (f: string) => f !== fileName,\n                ),\n                failedFiles: [\n                  ...(prev[vFolderId]?.failedFiles || []),\n                  fileName,\n                ],\n              },\n            }));\n          }\n        });\n      });\n    });\n    setUploadRequests([]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uploadRequests]);\n\n  useEffect(() => {\n    Object.entries(uploadStatus).forEach(([vFolderId, status]) => {\n      if (!_.isEmpty(status?.pendingFiles)) return;\n\n      if (!_.isEmpty(status?.failedFiles)) {\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: t('explorer.UploadFailed', {\n            folderName: status?.vFolderName,\n          }),\n          backgroundTask: {\n            status: 'rejected',\n            percent: 0,\n            onChange: {\n              rejected: t('explorer.FileUploadFailed', {\n                folderName: status?.vFolderName,\n              }),\n            },\n          },\n          extraDescription: _.join(status?.failedFiles, ', '),\n        });\n      } else if (!_.isEmpty(status?.completedFiles)) {\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: (\n            <span>\n              {t('explorer.VFolder')}:&nbsp;\n              <BAILink\n                style={{\n                  fontWeight: 'normal',\n                }}\n                to={generateFolderPath(vFolderId)}\n                onClick={() => {\n                  closeNotification('upload:' + vFolderId);\n                }}\n              >{`${status?.vFolderName}`}</BAILink>\n            </span>\n          ),\n          backgroundTask: {\n            status: 'resolved',\n            percent: 100,\n            onChange: {\n              resolved: t('explorer.SuccessfullyUploadedToFolder'),\n            },\n          },\n          duration: 3,\n        });\n        setUploadStatus((prev) => ({\n          ...prev,\n          [vFolderId]: {\n            ...prev[vFolderId],\n            completedFiles: [],\n            completedBytes: 0,\n            totalExpectedSize: 0,\n          },\n        }));\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uploadStatus]);\n\n  return null;\n};\n\nexport default FileUploadManager;\n\nexport const useFileUploadManager = (id?: string, folderName?: string) => {\n  'use memo';\n\n  const baiClient = useConnectedBAIClient();\n  const { t } = useTranslation();\n  const { upsertNotification } = useSetBAINotification();\n\n  const setUploadRequests = useSetAtom(uploadRequestAtom);\n\n  const [uploadStatus, setUploadStatus] = useUploadStatusAtomStatus(\n    id ? toLocalId(id).replace(/-/g, '') : '', // since jotai atom doesn't use '-' in key, we need to replace it\n  );\n\n  const validateUploadRequest = (\n    requestedFiles: Array<RcFile>,\n    vfolderId: string,\n  ) => {\n    const maxPossibleFileSize = baiClient._config.maxFileUploadSize;\n    const maxRequestFileSize = _.map(\n      requestedFiles,\n      (file) => file.size,\n    ).reduce((max, size) => Math.max(max, size), 0);\n\n    if (maxPossibleFileSize > 0 && maxRequestFileSize > maxPossibleFileSize) {\n      upsertNotification({\n        open: true,\n        key: 'upload:' + vfolderId,\n        message: t('explorer.UploadFailed', {\n          folderName: folderName ?? '',\n        }),\n        description: t('data.explorer.FileUploadSizeLimit'),\n        duration: 3,\n        toText: t('data.folders.OpenAFolder'),\n        to: {\n          search: new URLSearchParams({\n            folder: vfolderId,\n          }).toString(),\n        },\n      });\n      return false;\n    }\n    return true;\n  };\n\n  const uploadFiles = async (\n    files: RcFile[],\n    vfolderId: string,\n    currentPath: string,\n  ) => {\n    if (!validateUploadRequest(files, vfolderId)) return;\n\n    const fileToUpload: Array<RcFile> = [];\n    const startUploadFunctionMap = _.map(files, (file) => {\n      fileToUpload.push(file);\n      return async (callbacks?: {\n        onProgress?: (\n          bytesUploaded: number,\n          bytesTotal: number,\n          fileName: string,\n        ) => void;\n      }) => {\n        const fileName = file.webkitRelativePath || file.name;\n\n        try {\n          const uploadPath = [currentPath, fileName].filter(Boolean).join('/');\n\n          const uploadUrl: string =\n            await baiClient.vfolder.create_upload_session(\n              uploadPath,\n              file,\n              vfolderId,\n            );\n\n          return await new Promise<{ name: string; bytes: number }>(\n            (resolve, reject) => {\n              try {\n                const upload = new tus.Upload(file, {\n                  endpoint: uploadUrl,\n                  uploadUrl: uploadUrl,\n                  retryDelays: [0, 3000, 5000, 10000, 20000],\n                  chunkSize: getOptimalChunkSize(file.size),\n                  storeFingerprintForResuming: false, // Disable localStorage storage\n                  metadata: {\n                    filename: file.name,\n                    filetype: file.type,\n                  },\n                  onProgress: (bytesUploaded, bytesTotal) => {\n                    callbacks?.onProgress?.(\n                      bytesUploaded,\n                      bytesTotal,\n                      fileName,\n                    );\n                  },\n                  onSuccess: () => {\n                    resolve({\n                      name: fileName,\n                      bytes: file.size,\n                    });\n                  },\n                  onError: (_error) => {\n                    // Always reject with consistent structure\n                    reject(new Error(`Upload failed for ${fileName}`));\n                  },\n                });\n                upload.start();\n              } catch (error) {\n                // Handle synchronous errors from tus.Upload constructor or start()\n                reject(\n                  new Error(`Failed to initialize upload for ${fileName}`),\n                );\n              }\n            },\n          );\n        } catch (error) {\n          // Handle API errors or any other errors\n          // Always throw with a consistent error message\n          throw new Error(`Failed to prepare upload for ${fileName}`);\n        }\n      };\n    });\n\n    const uploadRequestInfo: UploadRequest = {\n      vFolderId: vfolderId,\n      vFolderName: folderName ?? '',\n      uploadFileInfo: _.zipWith(\n        fileToUpload,\n        startUploadFunctionMap,\n        (file, startFunction) => ({\n          file,\n          startFunction,\n        }),\n      ),\n    };\n    setUploadRequests((prev) => [...prev, uploadRequestInfo]);\n  };\n\n  return {\n    uploadStatus,\n    setUploadStatus,\n    uploadFiles,\n  };\n};\n\nconst getOptimalChunkSize = (fileSize: number): number => {\n  const MB = 1024 * 1024;\n\n  if (fileSize >= 5 * 1024 * MB) {\n    return 200 * MB;\n  } else if (fileSize >= 1 * 1024 * MB) {\n    return 100 * MB;\n  } else if (fileSize >= 100 * MB) {\n    return 50 * MB;\n  } else {\n    return 15 * MB;\n  }\n};\n","/**\n * @generated SignedSource<<c5b354dfb4d1a8a1c7a812dceb5d2e21>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FolderExplorerModalQuery$variables = {\n  vfolderGlobalId: string;\n};\nexport type FolderExplorerModalQuery$data = {\n  readonly vfolder_node: {\n    readonly group: string | null | undefined;\n    readonly host: string | null | undefined;\n    readonly id: string;\n    readonly name: string | null | undefined;\n    readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n    readonly unmanaged_path: string | null | undefined;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"FolderExplorerHeaderFragment\" | \"VFolderNameTitleNodeFragment\" | \"VFolderNodeDescriptionFragment\">;\n  } | null | undefined;\n};\nexport type FolderExplorerModalQuery = {\n  response: FolderExplorerModalQuery$data;\n  variables: FolderExplorerModalQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"vfolderGlobalId\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"vfolderGlobalId\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"group\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"unmanaged_path\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permissions\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"host\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"FolderExplorerModalQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"FolderExplorerHeaderFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"VFolderNodeDescriptionFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"VFolderNameTitleNodeFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"FolderExplorerModalQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"user\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"permission\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"row_id\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"status\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"quota_scope_id\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"user_email\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"group_name\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"creator\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"usage_mode\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"ownership_type\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max_files\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max_size\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"created_at\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"last_used\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"num_files\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"cur_size\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"cloneable\",\n            \"storageKey\": null\n          },\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"58f5bbfd510cd6b79c3357b5995b0db4\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"FolderExplorerModalQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query FolderExplorerModalQuery(\\n  $vfolderGlobalId: String!\\n) {\\n  vfolder_node(id: $vfolderGlobalId) {\\n    group\\n    unmanaged_path @since(version: \\\"25.04.0\\\")\\n    permissions\\n    host\\n    id\\n    name\\n    ...FolderExplorerHeaderFragment\\n    ...VFolderNodeDescriptionFragment\\n    ...VFolderNameTitleNodeFragment\\n  }\\n}\\n\\nfragment EditableVFolderNameFragment on VirtualFolderNode {\\n  id\\n  name\\n  user\\n  group\\n  status\\n}\\n\\nfragment FileBrowserButtonFragment on VirtualFolderNode {\\n  id\\n  row_id\\n  host\\n}\\n\\nfragment FolderExplorerHeaderFragment on VirtualFolderNode {\\n  id\\n  user\\n  permission\\n  row_id\\n  unmanaged_path @since(version: \\\"25.04.0\\\")\\n  ...VFolderNameTitleNodeFragment\\n  ...VFolderNodeIdenticonFragment\\n  ...EditableVFolderNameFragment\\n  ...FileBrowserButtonFragment\\n  ...SFTPServerButtonFragment\\n}\\n\\nfragment SFTPServerButtonFragment on VirtualFolderNode {\\n  id\\n  row_id\\n  host\\n}\\n\\nfragment VFolderNameTitleNodeFragment on VirtualFolderNode {\\n  name\\n}\\n\\nfragment VFolderNodeDescriptionFragment on VirtualFolderNode {\\n  id\\n  host\\n  quota_scope_id\\n  user\\n  user_email\\n  group\\n  group_name\\n  creator\\n  usage_mode\\n  permission\\n  ownership_type\\n  max_files\\n  max_size\\n  created_at\\n  last_used\\n  num_files\\n  cur_size\\n  cloneable\\n  status\\n  permissions @since(version: \\\"24.09.0\\\")\\n  unmanaged_path @since(version: \\\"25.04.0\\\")\\n  ...VFolderPermissionCellFragment\\n  ...useVirtualFolderNodePathFragment\\n}\\n\\nfragment VFolderNodeIdenticonFragment on VirtualFolderNode {\\n  id\\n}\\n\\nfragment VFolderPermissionCellFragment on VirtualFolderNode {\\n  permissions\\n}\\n\\nfragment useVirtualFolderNodePathFragment on VirtualFolderNode {\\n  id\\n  host\\n  quota_scope_id\\n  user\\n  user_email\\n  group\\n  group_name\\n  creator\\n  usage_mode\\n  permission\\n  ownership_type\\n  max_files\\n  max_size\\n  created_at\\n  last_used\\n  num_files\\n  cur_size\\n  cloneable\\n  status\\n  permissions @since(version: \\\"24.09.0\\\")\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"d77b09a9578329829d7b76b18186e731\";\n\nexport default node;\n","/**\n * @generated SignedSource<<085d6287bf8917ac31e4b66fe0aafa94>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FolderExplorerHeaderFragment$data = {\n  readonly id: string;\n  readonly permission: string | null | undefined;\n  readonly row_id: string;\n  readonly unmanaged_path: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"EditableVFolderNameFragment\" | \"FileBrowserButtonFragment\" | \"SFTPServerButtonFragment\" | \"VFolderNameTitleNodeFragment\" | \"VFolderNodeIdenticonFragment\">;\n  readonly \" $fragmentType\": \"FolderExplorerHeaderFragment\";\n};\nexport type FolderExplorerHeaderFragment$key = {\n  readonly \" $data\"?: FolderExplorerHeaderFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FolderExplorerHeaderFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FolderExplorerHeaderFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"kind\": \"RequiredField\",\n      \"field\": {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"row_id\",\n        \"storageKey\": null\n      },\n      \"action\": \"THROW\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"unmanaged_path\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderNameTitleNodeFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderNodeIdenticonFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"EditableVFolderNameFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"FileBrowserButtonFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"SFTPServerButtonFragment\"\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"8c6e3cf5a92c8f51f54f315622c8bb75\";\n\nexport default node;\n","/**\n * @generated SignedSource<<8b5ecf7c81b113122135581b85955069>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FileBrowserButtonFragment$data = {\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly row_id: string | null | undefined;\n  readonly \" $fragmentType\": \"FileBrowserButtonFragment\";\n};\nexport type FileBrowserButtonFragment$key = {\n  readonly \" $data\"?: FileBrowserButtonFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FileBrowserButtonFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FileBrowserButtonFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"row_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"4efd44f6f555400c7682e3af18779331\";\n\nexport default node;\n","/**\n * @generated SignedSource<<15af007cd87fbd4d0b901ba12c0e395e>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useDefaultImagesWithFallbackQuery$variables = {\n  installed?: boolean | null | undefined;\n};\nexport type useDefaultImagesWithFallbackQuery$data = {\n  readonly images: ReadonlyArray<{\n    readonly architecture: string | null | undefined;\n    readonly id: string | null | undefined;\n    readonly labels: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly value: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly name: string | null | undefined;\n    readonly namespace: string | null | undefined;\n    readonly registry: string | null | undefined;\n    readonly resource_limits: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly max: string | null | undefined;\n      readonly min: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly tag: string | null | undefined;\n    readonly tags: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly value: string | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined> | null | undefined;\n};\nexport type useDefaultImagesWithFallbackQuery = {\n  response: useDefaultImagesWithFallbackQuery$data;\n  variables: useDefaultImagesWithFallbackQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"installed\"\n  }\n],\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"key\",\n  \"storageKey\": null\n},\nv2 = [\n  (v1/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"value\",\n    \"storageKey\": null\n  }\n],\nv3 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"is_installed\",\n        \"variableName\": \"installed\"\n      }\n    ],\n    \"concreteType\": \"Image\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"images\",\n    \"plural\": true,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"id\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"tag\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"registry\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"architecture\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"name\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"namespace\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KVPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"labels\",\n        \"plural\": true,\n        \"selections\": (v2/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KVPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"tags\",\n        \"plural\": true,\n        \"selections\": (v2/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ResourceLimit\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resource_limits\",\n        \"plural\": true,\n        \"selections\": [\n          (v1/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"min\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"selections\": (v3/*: any*/),\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"selections\": (v3/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"50986f0b2ceaf84de4cd397a2d793329\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useDefaultImagesWithFallbackQuery(\\n  $installed: Boolean\\n) {\\n  images(is_installed: $installed) {\\n    id\\n    tag\\n    registry\\n    architecture\\n    name @deprecatedSince(version: \\\"24.12.0\\\")\\n    namespace @since(version: \\\"24.12.0\\\")\\n    labels {\\n      key\\n      value\\n    }\\n    tags @since(version: \\\"24.12.0\\\") {\\n      key\\n      value\\n    }\\n    resource_limits {\\n      key\\n      min\\n      max\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"10405daea8947c9eb138ed58ff364fe0\";\n\nexport default node;\n","import { backendaiClientPromise } from '.';\nimport { atom, useAtom } from 'jotai';\nimport { atomWithDefault } from 'jotai/utils';\nimport _ from 'lodash';\nimport { useEffect, useEffectEvent } from 'react';\nimport { fetchQuery, graphql, useRelayEnvironment } from 'react-relay';\nimport {\n  useDefaultImagesWithFallbackQuery,\n  useDefaultImagesWithFallbackQuery$data,\n} from 'src/__generated__/useDefaultImagesWithFallbackQuery.graphql';\nimport { getImageFullName } from 'src/helper';\n\nconst IMAGES_QUERY = graphql`\n  query useDefaultImagesWithFallbackQuery($installed: Boolean) {\n    images(is_installed: $installed) {\n      id\n      tag\n      registry\n      architecture\n      name @deprecatedSince(version: \"24.12.0\")\n      namespace @since(version: \"24.12.0\")\n      labels {\n        key\n        value\n      }\n      tags @since(version: \"24.12.0\") {\n        key\n        value\n      }\n      resource_limits {\n        key\n        min\n        max\n      }\n    }\n  }\n`;\n\nconst defaultFileBrowserImageAtom = atomWithDefault<\n  string | null | undefined | Promise<string | null | undefined>\n>(async () => {\n  const baiClient = await backendaiClientPromise;\n  return _.isEmpty(baiClient._config?.defaultFileBrowserImage)\n    ? undefined\n    : baiClient._config?.defaultFileBrowserImage;\n});\n\nconst systemSSHImageAtom = atomWithDefault<\n  string | null | undefined | Promise<string | null | undefined>\n>(async () => {\n  const baiClient = await backendaiClientPromise;\n  return _.isEmpty(baiClient._config?.systemSSHImage)\n    ? undefined\n    : baiClient._config?.systemSSHImage;\n});\nconst systemSSHImageInfoAtom =\n  atom<NonNullable<useDefaultImagesWithFallbackQuery$data['images']>[number]>();\n\nexport const useDefaultFileBrowserImageWithFallback = () => {\n  'use memo';\n  const [defaultFileBrowserImage, setDefaultFileBrowserImage] = useAtom(\n    defaultFileBrowserImageAtom,\n  );\n  const relayEnv = useRelayEnvironment();\n\n  const getImage = useEffectEvent(() => {\n    if (defaultFileBrowserImage === undefined) {\n      // TODO: Currently, file browser filtering by server-side is not supported.\n      // Once supported, modify the query to fetch only relevant images.\n      fetchQuery<useDefaultImagesWithFallbackQuery>(\n        relayEnv,\n        IMAGES_QUERY,\n        {\n          installed: true,\n        },\n        {\n          fetchPolicy: 'store-or-network',\n        },\n      )\n        .toPromise()\n        .then((response) =>\n          response?.images?.filter((image) =>\n            image?.labels?.find(\n              (label) =>\n                label?.key === 'ai.backend.service-ports' &&\n                label?.value?.toLowerCase().includes('filebrowser'),\n            ),\n          ),\n        )\n        .then(async (filebrowserImages) => {\n          const firstImage = _.first(filebrowserImages);\n          setDefaultFileBrowserImage(\n            firstImage ? getImageFullName(firstImage) : null,\n          );\n        })\n        .catch(() => {\n          // in case of error, set null to disable file browser button\n          setDefaultFileBrowserImage(null);\n        });\n    }\n  });\n\n  useEffect(() => {\n    getImage();\n  }, []);\n\n  return defaultFileBrowserImage;\n};\n\nexport const useDefaultSystemSSHImageWithFallback = () => {\n  'use memo';\n  const [systemSSHImage, setSystemSSHImage] = useAtom(systemSSHImageAtom);\n  const [systemSSHImageInfo, setSystemSSHImageInfo] = useAtom(\n    systemSSHImageInfoAtom,\n  );\n  const relayEnv = useRelayEnvironment();\n\n  const getImage = useEffectEvent(() => {\n    if (systemSSHImage === undefined) {\n      // TODO: Currently, SSH/SFTP filtering by server-side is not supported.\n      // Once supported, modify the query to fetch only relevant images.\n      fetchQuery<useDefaultImagesWithFallbackQuery>(\n        relayEnv,\n        IMAGES_QUERY,\n        {\n          installed: true,\n        },\n        {\n          fetchPolicy: 'store-or-network',\n        },\n      )\n        .toPromise()\n        .then((response) =>\n          response?.images?.filter((image) =>\n            image?.labels?.find(\n              (label) =>\n                label?.key === 'ai.backend.role' &&\n                label?.value?.toLowerCase().includes('system'),\n            ),\n          ),\n        )\n        .then(async (sshImages) => {\n          const firstImage = _.first(sshImages);\n          setSystemSSHImage(firstImage ? getImageFullName(firstImage) : null);\n          setSystemSSHImageInfo(firstImage || undefined);\n        })\n        .catch(() => {\n          // in case of error, set null to disable SFTP button\n          setSystemSSHImage(null);\n        });\n    }\n  });\n\n  useEffect(() => {\n    getImage();\n  }, []);\n\n  return { systemSSHImage, systemSSHImageInfo };\n};\n","/**\n * @generated SignedSource<<01f84eec24a9462f4d8a239a0f8488c5>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$variables = {\n  domainName?: string | null | undefined;\n  projectId: string;\n  resourcePolicyName?: string | null | undefined;\n};\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$data = {\n  readonly domain: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n  readonly group: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n  readonly keypair_resource_policy: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n};\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery = {\n  response: useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$data;\n  variables: useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"domainName\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"projectId\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"resourcePolicyName\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"allowed_vfolder_hosts\",\n    \"storageKey\": null\n  }\n],\nv2 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"domainName\"\n      }\n    ],\n    \"concreteType\": \"Domain\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"domain\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"domain_name\",\n        \"variableName\": \"domainName\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"id\",\n        \"variableName\": \"projectId\"\n      }\n    ],\n    \"concreteType\": \"Group\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"group\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"resourcePolicyName\"\n      }\n    ],\n    \"concreteType\": \"KeyPairResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"keypair_resource_policy\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"selections\": (v2/*: any*/),\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"selections\": (v2/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"f7d16150a7d77cb465733a2933a08261\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery(\\n  $domainName: String\\n  $projectId: UUID!\\n  $resourcePolicyName: String\\n) {\\n  domain(name: $domainName) {\\n    allowed_vfolder_hosts\\n  }\\n  group(id: $projectId, domain_name: $domainName) {\\n    allowed_vfolder_hosts\\n  }\\n  keypair_resource_policy(name: $resourcePolicyName) {\\n    allowed_vfolder_hosts\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"616594ca9d6c787458c32688c1a25b1f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<0c48992dcb96317e2eeb05bd6a3f0b1a>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useMergedAllowedStorageHostPermission_KeypairQuery$variables = {\n  accessKey?: string | null | undefined;\n  domainName: string;\n};\nexport type useMergedAllowedStorageHostPermission_KeypairQuery$data = {\n  readonly keypair: {\n    readonly resource_policy: string;\n  };\n};\nexport type useMergedAllowedStorageHostPermission_KeypairQuery = {\n  response: useMergedAllowedStorageHostPermission_KeypairQuery$data;\n  variables: useMergedAllowedStorageHostPermission_KeypairQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"accessKey\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"domainName\"\n},\nv2 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"access_key\",\n    \"variableName\": \"accessKey\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"domain_name\",\n    \"variableName\": \"domainName\"\n  }\n],\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"resource_policy\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"selections\": [\n      {\n        \"kind\": \"RequiredField\",\n        \"field\": {\n          \"alias\": null,\n          \"args\": (v2/*: any*/),\n          \"concreteType\": \"KeyPair\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"keypair\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"kind\": \"RequiredField\",\n              \"field\": (v3/*: any*/),\n              \"action\": \"THROW\"\n            }\n          ],\n          \"storageKey\": null\n        },\n        \"action\": \"THROW\"\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypair\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"id\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"ca4270af888b8158a6bbb4fe9dc305ca\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useMergedAllowedStorageHostPermission_KeypairQuery(\\n  $domainName: String!\\n  $accessKey: String\\n) {\\n  keypair(domain_name: $domainName, access_key: $accessKey) {\\n    resource_policy\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"43280e755e9e0f52dcd74eb7aa29d60c\";\n\nexport default node;\n","import { useSuspendedBackendaiClient } from '.';\nimport { useSuspenseQuery } from '@tanstack/react-query';\nimport { graphql, useLazyLoadQuery } from 'react-relay';\nimport { useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery } from 'src/__generated__/useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery.graphql';\nimport { useMergedAllowedStorageHostPermission_KeypairQuery } from 'src/__generated__/useMergedAllowedStorageHostPermission_KeypairQuery.graphql';\n\nexport const useMergedAllowedStorageHostPermission = (\n  domain: string,\n  projectId: string,\n  userAccessKey: string,\n) => {\n  const baiClient = useSuspendedBackendaiClient();\n  const { keypair } =\n    useLazyLoadQuery<useMergedAllowedStorageHostPermission_KeypairQuery>(\n      graphql`\n        query useMergedAllowedStorageHostPermission_KeypairQuery(\n          $domainName: String!\n          $accessKey: String\n        ) {\n          keypair(domain_name: $domainName, access_key: $accessKey)\n            @required(action: THROW) {\n            resource_policy @required(action: THROW)\n          }\n        }\n      `,\n      {\n        domainName: domain,\n        accessKey: userAccessKey,\n      },\n      {\n        fetchPolicy: 'store-or-network',\n      },\n    );\n  const mergedAllowedVFolderHosts =\n    useLazyLoadQuery<useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery>(\n      graphql`\n        query useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery(\n          $domainName: String\n          $projectId: UUID!\n          $resourcePolicyName: String\n        ) {\n          domain(name: $domainName) {\n            allowed_vfolder_hosts\n          }\n          group(id: $projectId, domain_name: $domainName) {\n            allowed_vfolder_hosts\n          }\n          keypair_resource_policy(name: $resourcePolicyName) {\n            allowed_vfolder_hosts\n          }\n        }\n      `,\n      {\n        domainName: domain,\n        projectId,\n        resourcePolicyName: keypair?.resource_policy,\n      },\n      {\n        fetchPolicy: 'store-or-network',\n      },\n    );\n\n  const allowedPermissionForDomainsByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.domain?.allowed_vfolder_hosts || '{}',\n  );\n  const allowedPermissionForGroupsByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.group?.allowed_vfolder_hosts || '{}',\n  );\n  const allowedPermissionForResourcePolicyByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.keypair_resource_policy?.allowed_vfolder_hosts ||\n      '{}',\n  );\n\n  const _mergeDedupe = (arr: any[]) => [\n    ...new Set([].concat(...arr.filter(Boolean))),\n  ];\n\n  const { data: vhostInfo } = useSuspenseQuery({\n    queryKey: ['vhostInfo'],\n    queryFn: async () => {\n      return await baiClient.vfolder.list_hosts();\n    },\n    staleTime: 1000 * 60 * 5,\n    gcTime: 0,\n  });\n  const unitedAllowedPermissionByVolume = Object.assign(\n    {},\n    ...vhostInfo.allowed.map((volume: string) => {\n      return {\n        [volume]: _mergeDedupe([\n          allowedPermissionForDomainsByVolume[volume],\n          allowedPermissionForGroupsByVolume[volume],\n          allowedPermissionForResourcePolicyByVolume[volume],\n        ]),\n      };\n    }),\n  );\n\n  return {\n    StorageHostPermissionByDomain: allowedPermissionForDomainsByVolume,\n    StorageHostPermissionByGroup: allowedPermissionForGroupsByVolume,\n    StorageHostPermissionByResourcePolicy:\n      allowedPermissionForResourcePolicyByVolume,\n    unitedAllowedPermissionByVolume,\n  };\n};\n","import { PrimaryAppOption } from './ComputeSessionNodeItems/SessionActionButtons';\nimport { App, Image, Tooltip } from 'antd';\nimport {\n  BAIButton,\n  BAIButtonProps,\n  useErrorMessageResolver,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment } from 'react-relay';\nimport { FileBrowserButtonFragment$key } from 'src/__generated__/FileBrowserButtonFragment.graphql';\nimport { useCurrentDomainValue, useSuspendedBackendaiClient } from 'src/hooks';\nimport { useSetBAINotification } from 'src/hooks/useBAINotification';\nimport { useCurrentProjectValue } from 'src/hooks/useCurrentProject';\nimport { useDefaultFileBrowserImageWithFallback } from 'src/hooks/useDefaultImagesWithFallback';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\nimport {\n  startSessionErrorCodes,\n  StartSessionWithDefaultValue,\n  useStartSession,\n} from 'src/hooks/useStartSession';\n\ninterface FileBrowserButtonProps extends BAIButtonProps {\n  showTitle?: boolean;\n  vfolderFrgmt: FileBrowserButtonFragment$key;\n}\nconst FileBrowserButton: React.FC<FileBrowserButtonProps> = ({\n  showTitle = true,\n  vfolderFrgmt,\n  ...buttonProps\n}) => {\n  'use memo';\n  const { t } = useTranslation();\n  const { message, modal } = App.useApp();\n\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n\n  const { getErrorMessage } = useErrorMessageResolver();\n  const { startSessionWithDefault, upsertSessionNotification } =\n    useStartSession();\n  const { upsertNotification } = useSetBAINotification();\n\n  const filebrowserImage = useDefaultFileBrowserImageWithFallback();\n\n  const vfolder = useFragment(\n    graphql`\n      fragment FileBrowserButtonFragment on VirtualFolderNode {\n        id\n        row_id\n        host\n      }\n    `,\n    vfolderFrgmt,\n  );\n\n  const hasAccessPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder?.host ?? ''],\n    'mount-in-session',\n  );\n\n  const getTooltipTitle = () => {\n    if (!hasAccessPermission) {\n      return t('data.explorer.NoPermissionToMountFolder');\n    } else if (filebrowserImage === null) {\n      return t('data.explorer.NoImagesSupportingFileBrowser');\n    } else if (!showTitle && filebrowserImage) {\n      return t('data.explorer.ExecuteFileBrowser');\n    } else return '';\n  };\n\n  return (\n    <Tooltip title={getTooltipTitle()}>\n      <BAIButton\n        icon={\n          <Image\n            width=\"18px\"\n            src=\"/resources/icons/filebrowser.svg\"\n            alt=\"File Browser\"\n            preview={false}\n            style={\n              filebrowserImage\n                ? undefined\n                : {\n                    filter: 'grayscale(100%)',\n                  }\n            }\n          />\n        }\n        disabled={!filebrowserImage || !hasAccessPermission}\n        action={async () => {\n          if (!filebrowserImage) {\n            return;\n          }\n          const fileBrowserFormValue: StartSessionWithDefaultValue = {\n            sessionName: `filebrowser-${vfolder.row_id}`,\n            sessionType: 'interactive',\n            // use default file browser image if configured and allowed\n            environments: {\n              version: filebrowserImage,\n            },\n            allocationPreset: 'minimum-required',\n            cluster_mode: 'single-node',\n            cluster_size: 1,\n            mount_ids: [vfolder.row_id?.replaceAll('-', '') || ''],\n            resource: {\n              cpu: 1,\n              mem: '0.5g',\n            },\n          };\n\n          await startSessionWithDefault(fileBrowserFormValue)\n            .then((results) => {\n              if (results?.fulfilled && results.fulfilled.length > 0) {\n                upsertSessionNotification(results.fulfilled, [\n                  {\n                    extraData: {\n                      appName: 'filebrowser',\n                    } as PrimaryAppOption,\n                  },\n                ]);\n              }\n              if (results?.rejected && results.rejected.length > 0) {\n                const error = results.rejected[0].reason;\n                if (\n                  _.includes(\n                    error.message,\n                    startSessionErrorCodes.DUPLICATED_SESSION,\n                  )\n                ) {\n                  upsertNotification({\n                    key: `filebrowser-${vfolder.row_id}`,\n                    open: true,\n                  });\n                } else {\n                  modal.error({\n                    title: error?.title,\n                    content: getErrorMessage(error),\n                  });\n                }\n              }\n            })\n            .catch((error) => {\n              console.error('Unexpected error during session creation:', error);\n              message.error(t('error.UnexpectedError'));\n            });\n        }}\n        {...buttonProps}\n      >\n        {showTitle && t('data.explorer.ExecuteFileBrowser')}\n      </BAIButton>\n    </Tooltip>\n  );\n};\n\nexport default FileBrowserButton;\n","/**\n * @generated SignedSource<<8f8a686bdd2c54248b3b280fc98e39bb>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type SFTPServerButtonFragment$data = {\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly row_id: string | null | undefined;\n  readonly \" $fragmentType\": \"SFTPServerButtonFragment\";\n};\nexport type SFTPServerButtonFragment$key = {\n  readonly \" $data\"?: SFTPServerButtonFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"SFTPServerButtonFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"SFTPServerButtonFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"row_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"8bf5b2e08fd923cb5fc74aaa801b7e1f\";\n\nexport default node;\n","import { App, Image, Tooltip } from 'antd';\nimport {\n  BAIButton,\n  BAIButtonProps,\n  useErrorMessageResolver,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment } from 'react-relay';\nimport { SFTPServerButtonFragment$key } from 'src/__generated__/SFTPServerButtonFragment.graphql';\nimport { useCurrentDomainValue, useSuspendedBackendaiClient } from 'src/hooks';\nimport { useSetBAINotification } from 'src/hooks/useBAINotification';\nimport {\n  useCurrentProjectValue,\n  useResourceGroupsForCurrentProject,\n} from 'src/hooks/useCurrentProject';\nimport { useDefaultSystemSSHImageWithFallback } from 'src/hooks/useDefaultImagesWithFallback';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\nimport {\n  startSessionErrorCodes,\n  StartSessionWithDefaultValue,\n  useStartSession,\n} from 'src/hooks/useStartSession';\n\ninterface SFTPServerButtonProps extends BAIButtonProps {\n  showTitle?: boolean;\n  vfolderFrgmt: SFTPServerButtonFragment$key;\n}\n\nconst SFTPServerButton: React.FC<SFTPServerButtonProps> = ({\n  showTitle = true,\n  vfolderFrgmt,\n  ...buttonProps\n}) => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const { message, modal } = App.useApp();\n\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n  const { vhostInfo: vhostInfoByCurrentProject } =\n    useResourceGroupsForCurrentProject();\n\n  const { getErrorMessage } = useErrorMessageResolver();\n  const { startSessionWithDefault, upsertSessionNotification } =\n    useStartSession();\n  const { upsertNotification } = useSetBAINotification();\n\n  const { systemSSHImage, systemSSHImageInfo } =\n    useDefaultSystemSSHImageWithFallback();\n\n  const vfolder = useFragment(\n    graphql`\n      fragment SFTPServerButtonFragment on VirtualFolderNode {\n        id\n        row_id\n        host\n      }\n    `,\n    vfolderFrgmt,\n  );\n\n  // Verify that the current user has access to the volume of the vfolder.\n  // Check the project has SFTP scaling groups for the host of the vfolder.\n  const sftpScalingGroupByCurrentProject =\n    vhostInfoByCurrentProject?.volume_info[vfolder?.host || '']\n      ?.sftp_scaling_groups;\n  // Verify that the current project has access to the volumes in the folder.\n  // Check the user has 'mount-in-session' permission united by domain, project, and keypair resource policy.\n  const hasAccessPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder?.host ?? ''],\n    'mount-in-session',\n  );\n\n  const getTooltipTitle = () => {\n    if (!hasAccessPermission) {\n      return t('data.explorer.NoPermissionToMountFolder');\n    } else if (_.isEmpty(sftpScalingGroupByCurrentProject)) {\n      return t('data.explorer.NoSFTPSupportingScalingGroup');\n    } else if (!systemSSHImage) {\n      return t('data.explorer.NoImagesSupportingSystemSession');\n    } else if (!showTitle && systemSSHImage) {\n      return t('data.explorer.RunSSH/SFTPserver');\n    } else return '';\n  };\n\n  return (\n    <Tooltip title={getTooltipTitle()}>\n      <BAIButton\n        disabled={\n          _.isEmpty(sftpScalingGroupByCurrentProject) ||\n          !systemSSHImage ||\n          !hasAccessPermission\n        }\n        icon={\n          <Image\n            width=\"18px\"\n            src=\"/resources/icons/sftp.png\"\n            alt=\"SSH / SFTP\"\n            preview={false}\n          />\n        }\n        action={async () => {\n          const resource: StartSessionWithDefaultValue['resource'] = {\n            cpu:\n              _.toNumber(\n                _.find(systemSSHImageInfo?.resource_limits, { key: 'cpu' })\n                  ?.min,\n              ) || 2,\n            mem:\n              _.find(systemSSHImageInfo?.resource_limits, { key: 'mem' })\n                ?.min || '0.5g',\n          };\n\n          const sftpSessionConf: StartSessionWithDefaultValue = {\n            sessionName: `sftp-${vfolder?.row_id}`,\n            sessionType: 'system',\n            // use default system SSH image if configured and allowed\n            ...(baiClient._config?.systemSSHImage &&\n            baiClient._config?.allow_manual_image_name_for_session\n              ? {\n                  environments: {\n                    manual: baiClient._config.systemSSHImage,\n                  },\n                }\n              : // otherwise use the first image found\n                {\n                  environments: {\n                    version: systemSSHImage || '',\n                  },\n                }),\n            cluster_mode: 'single-node',\n            cluster_size: 1,\n            mount_ids: [vfolder?.row_id?.replaceAll('-', '') || ''],\n            resourceGroup: sftpScalingGroupByCurrentProject?.[0],\n            resource: {\n              cpu: resource.cpu < 2 ? 2 : resource.cpu,\n              mem: resource.mem,\n            },\n          };\n\n          await startSessionWithDefault(sftpSessionConf)\n            .then((results) => {\n              if (results?.fulfilled && results.fulfilled.length > 0) {\n                // set notification key for handling duplicate session creation\n                upsertSessionNotification(results.fulfilled, [\n                  {\n                    key: `sftp-${vfolder?.row_id}`,\n                  },\n                ]);\n              }\n              if (results?.rejected && results.rejected.length > 0) {\n                const error = results.rejected[0].reason;\n                if (\n                  _.includes(\n                    error.message,\n                    startSessionErrorCodes.DUPLICATED_SESSION,\n                  )\n                ) {\n                  upsertNotification({\n                    key: `sftp-${vfolder?.row_id}`,\n                    open: true,\n                  });\n                } else {\n                  modal.error({\n                    title: error?.title,\n                    content: getErrorMessage(error),\n                  });\n                }\n              }\n            })\n            .catch((error) => {\n              console.error('Unexpected error during session creation:', error);\n              message.error(t('error.UnexpectedError'));\n            });\n        }}\n        {...buttonProps}\n      >\n        {showTitle && t('data.explorer.RunSSH/SFTPserver')}\n      </BAIButton>\n    </Tooltip>\n  );\n};\n\nexport default SFTPServerButton;\n","import { FolderExplorerHeaderFragment$key } from '../__generated__/FolderExplorerHeaderFragment.graphql';\nimport EditableVFolderName from './EditableVFolderName';\nimport ErrorBoundaryWithNullFallback from './ErrorBoundaryWithNullFallback';\nimport FileBrowserButton from './FileBrowserButton';\nimport SFTPServerButton from './SFTPServerButton';\nimport VFolderNodeIdenticon from './VFolderNodeIdenticon';\nimport { theme, Typography, Skeleton, Grid } from 'antd';\nimport { BAIFlex } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { Suspense } from 'react';\nimport { graphql, useFragment } from 'react-relay';\n\ninterface FolderExplorerHeaderProps {\n  vfolderNodeFrgmt?: FolderExplorerHeaderFragment$key | null;\n  titleStyle?: React.CSSProperties;\n}\n\nconst FolderExplorerHeader: React.FC<FolderExplorerHeaderProps> = ({\n  vfolderNodeFrgmt,\n  titleStyle,\n}) => {\n  'use memo';\n\n  const { token } = theme.useToken();\n  const { lg } = Grid.useBreakpoint();\n\n  const vfolderNode = useFragment(\n    graphql`\n      fragment FolderExplorerHeaderFragment on VirtualFolderNode {\n        id\n        user\n        permission\n        row_id @required(action: THROW)\n        unmanaged_path @since(version: \"25.04.0\")\n        ...VFolderNameTitleNodeFragment\n        ...VFolderNodeIdenticonFragment\n        ...EditableVFolderNameFragment\n        ...FileBrowserButtonFragment\n        ...SFTPServerButtonFragment\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  return (\n    <BAIFlex\n      data-testid=\"folder-explorer-header\"\n      justify=\"between\"\n      gap={token.marginMD}\n      style={{ width: '100%' }}\n    >\n      <BAIFlex\n        data-testid=\"folder-explorer-title\"\n        gap={'xs'}\n        // reset font weight set by BAIModal header\n        style={{ flex: 1, fontWeight: 'normal', ...titleStyle }}\n      >\n        {vfolderNode ? (\n          <VFolderNodeIdenticon\n            vfolderNodeIdenticonFrgmt={vfolderNode}\n            style={{\n              fontSize: token.fontSizeHeading4,\n            }}\n          />\n        ) : (\n          <BAIFlex\n            style={{\n              borderColor: token.colorBorderSecondary,\n              borderWidth: 1,\n              borderStyle: 'solid',\n              width: token.fontSizeHeading3,\n              height: token.fontSizeHeading3,\n              borderRadius: token.borderRadius,\n            }}\n          />\n        )}\n        {vfolderNode && (\n          <EditableVFolderName\n            vfolderFrgmt={vfolderNode}\n            enableLink={false}\n            component={Typography.Title}\n            level={3}\n            style={{\n              margin: 0,\n              width: '100%',\n            }}\n            ellipsis\n            editable={{\n              triggerType: ['icon', 'text'],\n            }}\n            inputProps={{\n              size: 'large',\n              count: {\n                max: 64,\n                show: true,\n              },\n              style: {\n                fontWeight: 'normal',\n              },\n            }}\n          />\n        )}\n      </BAIFlex>\n      <BAIFlex\n        data-testid=\"folder-explorer-actions\"\n        justify=\"end\"\n        gap={token.marginSM}\n      >\n        {vfolderNode && !vfolderNode?.unmanaged_path ? (\n          <Suspense fallback={<Skeleton.Button active />}>\n            <ErrorBoundaryWithNullFallback>\n              <FileBrowserButton vfolderFrgmt={vfolderNode} showTitle={lg} />\n            </ErrorBoundaryWithNullFallback>\n            <ErrorBoundaryWithNullFallback>\n              <SFTPServerButton vfolderFrgmt={vfolderNode} showTitle={lg} />\n            </ErrorBoundaryWithNullFallback>\n          </Suspense>\n        ) : null}\n      </BAIFlex>\n    </BAIFlex>\n  );\n};\n\nexport default FolderExplorerHeader;\n","/**\n * @generated SignedSource<<b08d2a6eb206a397bad8ea27d9db9ef7>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type VFolderNodeDescriptionPermissionRefreshQuery$variables = {\n  id: string;\n};\nexport type VFolderNodeDescriptionPermissionRefreshQuery$data = {\n  readonly vfolder_node: {\n    readonly permission: string | null | undefined;\n    readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  } | null | undefined;\n};\nexport type VFolderNodeDescriptionPermissionRefreshQuery = {\n  response: VFolderNodeDescriptionPermissionRefreshQuery$data;\n  variables: VFolderNodeDescriptionPermissionRefreshQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"id\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"id\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permission\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permissions\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"id\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"3aee063a4b508648c2365ba6c7f0f44a\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query VFolderNodeDescriptionPermissionRefreshQuery(\\n  $id: String!\\n) {\\n  vfolder_node(id: $id) {\\n    permission\\n    permissions\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"36063c8300310d9ef6c369b49127a2a2\";\n\nexport default node;\n","/**\n * @generated SignedSource<<462af5f9df0e58aaa2ad869af29774cb>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type VFolderNodeDescriptionFragment$data = {\n  readonly cloneable: boolean | null | undefined;\n  readonly created_at: string | null | undefined;\n  readonly creator: string | null | undefined;\n  readonly cur_size: any | null | undefined;\n  readonly group: string | null | undefined;\n  readonly group_name: string | null | undefined;\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly last_used: string | null | undefined;\n  readonly max_files: number | null | undefined;\n  readonly max_size: any | null | undefined;\n  readonly num_files: number | null | undefined;\n  readonly ownership_type: string | null | undefined;\n  readonly permission: string | null | undefined;\n  readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  readonly quota_scope_id: string | null | undefined;\n  readonly status: string | null | undefined;\n  readonly unmanaged_path: string | null | undefined;\n  readonly usage_mode: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly user_email: string | null | undefined;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"VFolderPermissionCellFragment\" | \"useVirtualFolderNodePathFragment\">;\n  readonly \" $fragmentType\": \"VFolderNodeDescriptionFragment\";\n};\nexport type VFolderNodeDescriptionFragment$key = {\n  readonly \" $data\"?: VFolderNodeDescriptionFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"VFolderNodeDescriptionFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"VFolderNodeDescriptionFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"quota_scope_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user_email\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group_name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"creator\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"usage_mode\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"ownership_type\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"last_used\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"num_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cur_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cloneable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"status\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permissions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"unmanaged_path\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderPermissionCellFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"useVirtualFolderNodePathFragment\"\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"f4ca4470ea635f85c8c346eed0a5fe8c\";\n\nexport default node;\n","/**\n * @generated SignedSource<<7a027844ee7c6caf9ae1cc064636660b>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type useVirtualFolderNodePathFragment$data = {\n  readonly cloneable: boolean | null | undefined;\n  readonly created_at: string | null | undefined;\n  readonly creator: string | null | undefined;\n  readonly cur_size: any | null | undefined;\n  readonly group: string | null | undefined;\n  readonly group_name: string | null | undefined;\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly last_used: string | null | undefined;\n  readonly max_files: number | null | undefined;\n  readonly max_size: any | null | undefined;\n  readonly num_files: number | null | undefined;\n  readonly ownership_type: string | null | undefined;\n  readonly permission: string | null | undefined;\n  readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  readonly quota_scope_id: string | null | undefined;\n  readonly status: string | null | undefined;\n  readonly usage_mode: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly user_email: string | null | undefined;\n  readonly \" $fragmentType\": \"useVirtualFolderNodePathFragment\";\n};\nexport type useVirtualFolderNodePathFragment$key = {\n  readonly \" $data\"?: useVirtualFolderNodePathFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"useVirtualFolderNodePathFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"useVirtualFolderNodePathFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"quota_scope_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user_email\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group_name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"creator\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"usage_mode\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"ownership_type\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"last_used\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"num_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cur_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cloneable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"status\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permissions\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"439221036e87c57ca3ec1ce737e0cdf7\";\n\nexport default node;\n","import { useVirtualFolderNodePathFragment$key } from '../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { toLocalId } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { graphql, useFragment } from 'react-relay';\n\nexport const useVirtualFolderPath = (\n  vfolderNodeFrgmt: useVirtualFolderNodePathFragment$key,\n) => {\n  const vfolderNode = useFragment(\n    graphql`\n      fragment useVirtualFolderNodePathFragment on VirtualFolderNode {\n        id\n        host\n        quota_scope_id\n        user\n        user_email\n        group\n        group_name\n        creator\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n        permissions @since(version: \"24.09.0\")\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  const [quotaScopeType, quotaScopeIdWithoutType] = _.split(\n    vfolderNode?.quota_scope_id,\n    ':',\n  );\n  const vfolderId = toLocalId(vfolderNode?.id);\n  const vfolderIdPrefix1 = vfolderId.slice(0, 2);\n  const vfolderIdPrefix2 = vfolderId.slice(2, 4);\n  const vfolderIdRest = vfolderId.slice(4);\n  const vfolderPath = `${quotaScopeIdWithoutType.replaceAll('-', '')}/${vfolderIdPrefix1}/${vfolderIdPrefix2}/${vfolderIdRest.replaceAll('-', '')}`;\n\n  return {\n    quotaScopeType,\n    quotaScopeIdWithoutType,\n    vfolderId,\n    vfolderIdPrefix1,\n    vfolderIdPrefix2,\n    vfolderIdRest,\n    vfolderPath,\n  };\n};\n","import { useVirtualFolderNodePathFragment$key } from '../../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { useVirtualFolderPath } from '../../hooks/useVirtualFolderNodePath';\nimport { theme } from 'antd';\nimport { BAIFlex, BAIText } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React from 'react';\n\ninterface VirtualFolderPathProps {\n  vfolderNodeFrgmt: useVirtualFolderNodePathFragment$key;\n}\n\nconst VirtualFolderPath: React.FC<VirtualFolderPathProps> = ({\n  vfolderNodeFrgmt,\n}) => {\n  const {\n    quotaScopeType,\n    quotaScopeIdWithoutType,\n    vfolderId,\n    vfolderIdPrefix1,\n    vfolderIdPrefix2,\n    vfolderIdRest,\n  } = useVirtualFolderPath(vfolderNodeFrgmt);\n\n  const { token } = theme.useToken();\n\n  return (\n    <BAIFlex direction=\"row\" align=\"start\" justify=\"start\" wrap=\"wrap\" gap={3}>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        (root)\n      </BAIText>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        /\n      </BAIText>\n      <BAIFlex direction=\"column\" align=\"start\" justify=\"start\">\n        <BAIText\n          monospace\n          copyable={{\n            text: quotaScopeIdWithoutType,\n          }}\n          style={{ fontSize: '0.9em' }}\n        >\n          {_.truncate(quotaScopeIdWithoutType.replaceAll('-', ''), {\n            length: 15,\n          })}\n        </BAIText>\n        <BAIText\n          type=\"secondary\"\n          style={{\n            fontSize: token.fontSizeSM,\n          }}\n        >\n          Quota Scope ID ({_.upperFirst(quotaScopeType)})\n        </BAIText>\n      </BAIFlex>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        /\n      </BAIText>\n      <BAIFlex direction=\"column\" align=\"start\" justify=\"start\">\n        <BAIFlex gap={3}>\n          <BAIText monospace style={{ fontSize: '0.9em' }}>\n            {vfolderIdPrefix1}\n          </BAIText>\n          <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n            /\n          </BAIText>\n          <BAIText monospace style={{ fontSize: '0.9em' }}>\n            {vfolderIdPrefix2}\n          </BAIText>\n          <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n            /\n          </BAIText>\n          <BAIText\n            monospace\n            copyable={{\n              text: vfolderId,\n            }}\n            style={{ fontSize: '0.9em' }}\n          >\n            {_.truncate(vfolderIdRest.replaceAll('-', ''), { length: 7 })}\n          </BAIText>\n        </BAIFlex>\n        <BAIText\n          type=\"secondary\"\n          style={{\n            fontSize: token.fontSizeSM,\n          }}\n        >\n          VFolder ID\n        </BAIText>\n      </BAIFlex>\n    </BAIFlex>\n  );\n};\n\nexport default VirtualFolderPath;\n","import { VFolderNodeDescriptionFragment$key } from '../__generated__/VFolderNodeDescriptionFragment.graphql';\nimport { VFolderNodeDescriptionPermissionRefreshQuery } from '../__generated__/VFolderNodeDescriptionPermissionRefreshQuery.graphql';\nimport { useVirtualFolderNodePathFragment$key } from '../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { convertToDecimalUnit } from '../helper';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport { useCurrentUserInfo } from '../hooks/backendai';\nimport { useTanMutation } from '../hooks/reactQueryAlias';\nimport { useCurrentProjectValue } from '../hooks/useCurrentProject';\nimport { useVirtualFolderPath } from '../hooks/useVirtualFolderNodePath';\nimport BAISelect from './BAISelect';\nimport BAITag from './BAITag';\nimport { statusTagColor } from './VFolderNodes';\nimport VirtualFolderPath from './VirtualFolderNodeItems/VirtualFolderPath';\nimport { CheckCircleOutlined, UserOutlined } from '@ant-design/icons';\nimport {\n  App,\n  Descriptions,\n  theme,\n  Typography,\n  type DescriptionsProps,\n} from 'antd';\nimport {\n  filterOutEmpty,\n  BAIUserUnionIcon,\n  toLocalId,\n  BAIFlex,\n  useErrorMessageResolver,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport {\n  graphql,\n  fetchQuery,\n  useFragment,\n  useRelayEnvironment,\n} from 'react-relay';\n\ninterface VFolderNodeDescriptionProps extends DescriptionsProps {\n  vfolderNodeFrgmt: VFolderNodeDescriptionFragment$key;\n  onRequestRefresh?: () => void;\n}\n\nconst VFolderNodeDescription: React.FC<VFolderNodeDescriptionProps> = ({\n  vfolderNodeFrgmt,\n  onRequestRefresh,\n  ...props\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { message } = App.useApp();\n  const { getErrorMessage } = useErrorMessageResolver();\n\n  const relayEnv = useRelayEnvironment();\n  const currentProject = useCurrentProjectValue();\n  const baiClient = useSuspendedBackendaiClient();\n  const [currentUser] = useCurrentUserInfo();\n\n  const updateMutation = useTanMutation({\n    mutationFn: ({ permission, id }: { permission: string; id: string }) => {\n      return baiClient.vfolder.update_folder({ permission }, id);\n    },\n  });\n\n  const vfolderNode = useFragment(\n    graphql`\n      fragment VFolderNodeDescriptionFragment on VirtualFolderNode {\n        id\n        host\n        quota_scope_id\n        user\n        user_email\n        group\n        group_name\n        creator\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n        permissions @since(version: \"24.09.0\")\n        unmanaged_path @since(version: \"25.04.0\")\n        ...VFolderPermissionCellFragment\n        ...useVirtualFolderNodePathFragment\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  const { vfolderPath } = useVirtualFolderPath(\n    // Temporary type assertion to suppress TS error  not actually needed at runtime\n    vfolderNode as useVirtualFolderNodePathFragment$key,\n  );\n\n  const vfolderId = toLocalId(vfolderNode.id);\n\n  const items: DescriptionsProps['items'] = filterOutEmpty([\n    !vfolderNode?.unmanaged_path && {\n      key: 'path',\n      label: (\n        <Typography.Text\n          copyable={{\n            text: vfolderPath,\n          }}\n          style={{\n            color: token.colorTextLabel,\n          }}\n        >\n          {t('data.folders.Path')}\n        </Typography.Text>\n      ),\n      children: <VirtualFolderPath vfolderNodeFrgmt={vfolderNode} />,\n    },\n    {\n      key: 'status',\n      label: t('data.folders.Status'),\n      children: (\n        <BAITag\n          color={\n            vfolderNode.status\n              ? statusTagColor[\n                  vfolderNode.status as keyof typeof statusTagColor\n                ]\n              : undefined\n          }\n        >\n          {_.toUpper(vfolderNode.status || '')}\n        </BAITag>\n      ),\n    },\n    {\n      key: 'host',\n      label: t('data.Host'),\n      children: vfolderNode.host,\n    },\n    {\n      key: 'ownership_type',\n      label: t('data.folders.Ownership'),\n      children:\n        vfolderNode?.ownership_type === 'user' ? (\n          <BAIFlex gap={'xs'}>\n            <Typography.Text>{t('data.User')}</Typography.Text>\n            <UserOutlined style={{ color: token.colorTextTertiary }} />\n          </BAIFlex>\n        ) : (\n          <BAIFlex gap={'xs'}>\n            <Typography.Text>{t('data.Project')}</Typography.Text>\n            <BAIUserUnionIcon style={{ color: token.colorTextTertiary }} />\n          </BAIFlex>\n        ),\n    },\n    (vfolderNode?.user === currentUser.uuid ||\n      (baiClient.is_admin && vfolderNode?.group === currentProject?.id)) && {\n      key: 'permission',\n      label: t('data.folders.MountPermission'),\n      children: (\n        <BAISelect\n          defaultValue={\n            vfolderNode.permission === 'wd' ? 'rw' : vfolderNode.permission\n          }\n          options={[\n            { value: 'ro', label: t('data.ReadOnly') },\n            { value: 'rw', label: t('data.ReadWrite') },\n          ]}\n          onChange={(value) => {\n            updateMutation.mutate(\n              { permission: value, id: vfolderId },\n              {\n                onSuccess: () => {\n                  message.success(t('data.permission.PermissionModified'));\n                  document.dispatchEvent(\n                    new CustomEvent('backend-ai-folder-updated'),\n                  );\n\n                  // To update GraphQL relay node\n                  fetchQuery<VFolderNodeDescriptionPermissionRefreshQuery>(\n                    relayEnv,\n                    graphql`\n                      query VFolderNodeDescriptionPermissionRefreshQuery(\n                        $id: String!\n                      ) {\n                        vfolder_node(id: $id) {\n                          permission\n                          permissions\n                        }\n                      }\n                    `,\n                    {\n                      id: vfolderNode.id,\n                    },\n                  ).toPromise();\n                  onRequestRefresh?.();\n                },\n                onError: (error) => {\n                  message.error(getErrorMessage(error));\n                },\n              },\n            );\n          }}\n          popupMatchSelectWidth={false}\n        />\n      ),\n    },\n    {\n      key: 'owner',\n      label: t('data.folders.Owner'),\n      children:\n        vfolderNode?.user === currentUser?.uuid ||\n        (baiClient.is_admin && vfolderNode?.group === currentProject?.id) ? (\n          <BAIFlex justify=\"start\">\n            <CheckCircleOutlined />\n          </BAIFlex>\n        ) : null,\n    },\n    vfolderNode.user_email !== null && {\n      key: 'user_email',\n      label: t('data.User'),\n      children: (\n        <Typography.Text copyable>{vfolderNode.user_email}</Typography.Text>\n      ),\n    },\n    vfolderNode.group_name !== null && {\n      key: 'group_name',\n      label: t('data.Project'),\n      children: vfolderNode.group_name,\n    },\n    {\n      key: 'cloneable',\n      label: t('data.folders.Cloneable'),\n      children: vfolderNode.cloneable ? (\n        <BAIFlex justify=\"start\">\n          <CheckCircleOutlined />\n        </BAIFlex>\n      ) : null,\n    },\n    {\n      key: 'max_size',\n      label: t('data.folders.MaxSize'),\n      children: vfolderNode.max_size\n        ? convertToDecimalUnit(vfolderNode.max_size, 'g', 2)?.displayValue\n        : '',\n    },\n    {\n      key: 'usage',\n      label: t('data.UsageMode'),\n      children: vfolderNode.usage_mode,\n    },\n    {\n      key: 'created_at',\n      label: t('data.folders.CreatedAt'),\n      children: dayjs(vfolderNode.created_at).format('lll'),\n    },\n  ]);\n\n  return (\n    <Descriptions\n      bordered\n      column={1}\n      size=\"small\"\n      items={items}\n      styles={{\n        content: {\n          wordBreak: 'break-word',\n          overflowWrap: 'break-word',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport default VFolderNodeDescription;\n","import { useFileUploadManager } from './FileUploadManager';\nimport FolderExplorerHeader from './FolderExplorerHeader';\nimport VFolderNodeDescription from './VFolderNodeDescription';\nimport { Alert, Divider, Grid, Skeleton, Splitter, theme } from 'antd';\nimport { createStyles } from 'antd-style';\nimport { RcFile } from 'antd/es/upload';\nimport {\n  BAIFileExplorer,\n  BAIFileExplorerRef,\n  BAIFlex,\n  BAIModal,\n  BAIModalProps,\n  toGlobalId,\n  useInterval,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { Suspense, useDeferredValue, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useLazyLoadQuery } from 'react-relay';\nimport { FolderExplorerModalQuery } from 'src/__generated__/FolderExplorerModalQuery.graphql';\nimport {\n  useCurrentDomainValue,\n  useFetchKey,\n  useSuspendedBackendaiClient,\n} from 'src/hooks';\nimport { useCurrentProjectValue } from 'src/hooks/useCurrentProject';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\n\nconst useStyles = createStyles(({ css }) => ({\n  baiModalHeader: css`\n    .ant-modal-title {\n      width: 100%;\n    }\n  `,\n}));\n\nexport interface FolderExplorerElement extends HTMLDivElement {\n  _fetchVFolder: () => void;\n  _openDeleteMultipleFileDialog: () => void;\n  openMkdirDialog: () => void;\n  handleUpload: (name: 'file' | 'folder') => void;\n}\n\ninterface FolderExplorerProps extends BAIModalProps {\n  vfolderID: string;\n  onRequestClose: () => void;\n}\n\nconst FolderExplorerModal: React.FC<FolderExplorerProps> = ({\n  vfolderID,\n  onRequestClose,\n  ...modalProps\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { xl } = Grid.useBreakpoint();\n  const { styles } = useStyles();\n  const folderExplorerRef = useRef<FolderExplorerElement>(null);\n  const [fetchKey, updateFetchKey] = useFetchKey();\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const fileExplorerRef = useRef<BAIFileExplorerRef>(null);\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n  const bodyRef = useRef<HTMLDivElement | null>(null);\n\n  const deferredOpen = useDeferredValue(modalProps.open);\n  const { vfolder_node } = useLazyLoadQuery<FolderExplorerModalQuery>(\n    graphql`\n      query FolderExplorerModalQuery($vfolderGlobalId: String!) {\n        vfolder_node(id: $vfolderGlobalId) {\n          group\n          unmanaged_path @since(version: \"25.04.0\")\n          permissions\n          host\n          id\n          name\n          ...FolderExplorerHeaderFragment\n          ...VFolderNodeDescriptionFragment\n          ...VFolderNameTitleNodeFragment\n        }\n      }\n    `,\n    { vfolderGlobalId: toGlobalId('VirtualFolderNode', vfolderID) },\n    {\n      // Only fetch when both deferredOpen and modalProps.open are true to prevent unnecessary requests during React transitions\n      fetchPolicy:\n        deferredOpen && modalProps.open ? 'network-only' : 'store-only',\n    },\n  );\n  const { uploadStatus, uploadFiles } = useFileUploadManager(\n    vfolder_node?.id,\n    vfolder_node?.name || undefined,\n  );\n  // Polling to update fetchKey when there are pending uploads\n  useInterval(\n    () => {\n      fileExplorerRef.current?.refetch();\n    },\n    uploadStatus && !_.isEmpty(uploadStatus?.pendingFiles) ? 5000 : null,\n  );\n  // Also update fetchKey when uploadStatus changes to completed\n  useEffect(() => {\n    if (uploadStatus && _.isEmpty(uploadStatus?.pendingFiles)) {\n      updateFetchKey();\n    }\n  }, [uploadStatus, updateFetchKey]);\n\n  const hasDownloadContentPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder_node?.host ?? ''],\n    'download-file',\n  );\n  const hasDeleteContentPermission = _.includes(\n    vfolder_node?.permissions,\n    'delete_content',\n  );\n  const hasWriteContentPermission = _.includes(\n    vfolder_node?.permissions,\n    'write_content',\n  );\n  // TODO: Skip permission check due to inaccurate API response. Update when API is fixed.\n  const hasNoPermissions = false;\n\n  const fileExplorerElement = vfolder_node?.unmanaged_path ? (\n    <Alert\n      message={t('explorer.NoExplorerSupportForUnmanagedFolder')}\n      showIcon\n    />\n  ) : !hasNoPermissions && vfolder_node ? (\n    <BAIFileExplorer\n      ref={fileExplorerRef}\n      targetVFolderId={vfolderID}\n      fetchKey={fetchKey}\n      onUpload={(files: RcFile[], currentPath: string) => {\n        uploadFiles(files, vfolderID, currentPath);\n      }}\n      enableDownload={hasDownloadContentPermission}\n      enableDelete={hasDeleteContentPermission}\n      enableWrite={hasWriteContentPermission}\n      tableProps={{\n        scroll: xl\n          ? { x: 'max-content' }\n          : { x: 'max-content', y: 'calc(100vh - 400px)' },\n      }}\n      style={{\n        paddingBottom: xl ? token.paddingLG : 0,\n      }}\n      fileDropContainerRef={bodyRef}\n    />\n  ) : null;\n\n  const vFolderDescriptionElement = vfolder_node ? (\n    <VFolderNodeDescription\n      vfolderNodeFrgmt={vfolder_node}\n      onRequestRefresh={() => {\n        folderExplorerRef.current?._fetchVFolder();\n      }}\n    />\n  ) : null;\n\n  return (\n    <BAIModal\n      className={styles.baiModalHeader}\n      width={'90%'}\n      keyboard\n      destroyOnHidden\n      footer={null}\n      style={{ maxWidth: '1600px' }}\n      styles={{\n        body: {\n          height: '100vh',\n        },\n      }}\n      title={\n        vfolder_node ? (\n          <FolderExplorerHeader\n            titleStyle={{\n              zIndex: token.zIndexPopupBase + 2,\n            }}\n            vfolderNodeFrgmt={vfolder_node}\n          />\n        ) : null\n      }\n      bodyProps={{\n        ref: bodyRef,\n      }}\n      onCancel={() => {\n        onRequestClose();\n      }}\n      {...modalProps}\n    >\n      <Suspense fallback={<Skeleton active />}>\n        {/* Use <Skeleton/> instead of using `loading` prop because layout align issue. */}\n        {deferredOpen !== modalProps.open ? (\n          <Skeleton active />\n        ) : (\n          <BAIFlex direction=\"column\" gap={'lg'} align=\"stretch\">\n            {!vfolder_node ? (\n              <Alert\n                message={t('explorer.FolderNotFoundOrNoAccess')}\n                type=\"error\"\n                showIcon\n              />\n            ) : hasNoPermissions ? (\n              <Alert\n                message={t('explorer.NoPermissions')}\n                type=\"error\"\n                showIcon\n              />\n            ) : currentProject?.id !== vfolder_node?.group &&\n              !!vfolder_node?.group ? (\n              <Alert message={t('data.NotInProject')} type=\"warning\" showIcon />\n            ) : null}\n\n            {xl ? (\n              <Splitter\n                style={{\n                  gap: token.size,\n                }}\n                layout={'horizontal'}\n              >\n                <Splitter.Panel resizable={false}>\n                  {fileExplorerElement}\n                </Splitter.Panel>\n                <Splitter.Panel defaultSize={500}>\n                  {vFolderDescriptionElement}\n                </Splitter.Panel>\n              </Splitter>\n            ) : (\n              <BAIFlex direction=\"column\" align=\"stretch\">\n                {fileExplorerElement}\n                <Divider\n                  style={{\n                    borderColor: token.colorBorderSecondary,\n                  }}\n                />\n                {vFolderDescriptionElement}\n              </BAIFlex>\n            )}\n            <div style={{ display: 'none' }}>\n              {/* @ts-ignore  TODO: delete below after https://lablup.atlassian.net/browse/FR-1150 */}\n              <backend-ai-folder-explorer\n                ref={folderExplorerRef}\n                active\n                vfolderID={vfolderID}\n              />\n            </div>\n          </BAIFlex>\n        )}\n      </Suspense>\n    </BAIModal>\n  );\n};\n\nexport default FolderExplorerModal;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport { Form, FormItemProps, Select, Tag } from 'antd';\nimport { TagProps } from 'antd/lib';\nimport _ from 'lodash';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\ninterface Props extends FormItemProps {}\n\nexport interface PortSelectFormValues {\n  ports: string[];\n}\n\nconst MIN_PORT = 1024;\nconst MAX_PORT = 65535;\nconst PortSelectFormItem: React.FC<Props> = ({\n  name = 'ports',\n  ...formItemProps\n}) => {\n  const { t } = useTranslation();\n  const baiClient = useSuspendedBackendaiClient();\n  const form = Form.useFormInstance();\n  return (\n    <Form.Item\n      label={t('session.launcher.PreOpenPortTitle')}\n      name={name}\n      tooltip={<Trans i18nKey=\"session.launcher.DescSetPreOpenPort\" />}\n      extra={t('session.launcher.PreOpenPortRangeGuide')}\n      rules={[\n        () => ({\n          validator(_rule, values) {\n            if (\n              transformPortValuesToNumbers(values).length <=\n              baiClient._config.maxCountForPreopenPorts\n            ) {\n              return Promise.resolve();\n            } else {\n              return Promise.reject(\n                new Error(\n                  t('session.launcher.PreOpenPortMaxCountLimit', {\n                    count: baiClient._config.maxCountForPreopenPorts,\n                  }),\n                ),\n              );\n            }\n          },\n        }),\n        () => ({\n          // To check if the port range is not start <= end\n          validator(_rule, values) {\n            if (\n              _.every(values, (v) => {\n                return parseInt(v).toString() === v || isPortRangeStr(v);\n              })\n            ) {\n              return Promise.resolve();\n            } else {\n              return Promise.reject(\n                new Error(t('session.launcher.InvalidPortFormat')),\n              );\n            }\n          },\n        }),\n        () => ({\n          validator(_rule, values) {\n            const allPorts = transformPortValuesToNumbers(values);\n            if (\n              _.every(allPorts, (port) => {\n                return port >= MIN_PORT && port <= MAX_PORT;\n              })\n            ) {\n              return Promise.resolve();\n            }\n            return Promise.reject(\n              new Error(t('session.launcher.PreOpenPortRange')),\n            );\n          },\n        }),\n        () => ({\n          validator(_rule, values) {\n            // To check if the port is duplicated\n            const allPorts = transformPortValuesToNumbers(values);\n            if (_.uniq(allPorts).length === allPorts.length) {\n              return Promise.resolve();\n            }\n            return Promise.reject(\n              new Error(t('session.launcher.DuplicatedPort')),\n            );\n          },\n        }),\n      ]}\n      {...formItemProps}\n    >\n      <Select\n        mode=\"tags\"\n        tagRender={(props) => {\n          const hasDuplicated =\n            _.filter(\n              transformPortValuesToNumbers(form.getFieldValue(name)),\n              (v) => v === parseInt(props.value),\n            ).length > 1;\n          return (\n            <PortTag\n              inValid={hasDuplicated}\n              closable={props.closable}\n              onClose={props.onClose}\n              onMouseDown={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n              }}\n              value={props.value}\n            >\n              {props.label}\n            </PortTag>\n          );\n        }}\n        style={{ width: '100%' }}\n        // placeholder={t('session.launcher.PreOpen')}\n        // options={_.map(portGuides, (v, k) => ({\n        //   value: parseInt(k),\n        //   // label: `${k} - ${v}`,\n        // }))}\n        suffixIcon={null}\n        open={false}\n        tokenSeparators={[',', ' ']}\n      />\n    </Form.Item>\n  );\n};\n\ninterface PortTagProps extends TagProps {\n  value: string;\n  inValid?: boolean;\n}\n\nexport const PortTag: React.FC<PortTagProps> = ({\n  inValid,\n  value,\n  ...tagProps\n}) => {\n  return (\n    <Tag\n      color={!inValid && isValidPortStr(value) ? undefined : 'red'}\n      {...tagProps}\n    />\n  );\n};\n\nexport const isValidPortStr = (portStr: string) => {\n  // consider range as valid\n  if (isPortRangeStr(portStr)) {\n    const splitPortRange = portStr.split(':');\n    const [start, end] = splitPortRange.map((v) => parseInt(v));\n    return start >= MIN_PORT && end <= MAX_PORT;\n  } else if (\n    portStr === parseInt(portStr).toString() &&\n    parseInt(portStr) >= MIN_PORT &&\n    parseInt(portStr) <= MAX_PORT\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const isPortRangeStr = (portRange: string) => {\n  const splitPortRange = portRange.split(':');\n  if (splitPortRange.length === 2) {\n    const [start, end] = splitPortRange.map((v) => parseInt(v));\n    return start <= end;\n  }\n  return false;\n};\n\nexport const parsePortRangeToNumbers = (portRange: string) => {\n  const [start, end] = portRange.split(':').map((v) => parseInt(v));\n  return _.range(start, end + 1);\n};\n\nexport const transformPortValuesToNumbers = (\n  values: PortSelectFormValues['ports'],\n) => {\n  return _.flatten(\n    _.map(values, (v) =>\n      isPortRangeStr(v) ? parsePortRangeToNumbers(v) : parseInt(v),\n    ),\n  );\n};\n// const portGuides = {\n//   '5432': 'PostgreSQL',\n//   '3306': 'MySQL',\n//   '1521': 'Oracle',\n//   '27017': 'MongoDB',\n//   '6379': 'Redis',\n//   '11211': 'Memcached',\n//   '9200': 'Elasticsearch',\n//   '5601': 'Kibana',\n//   '9600': 'Logstash',\n//   '9042': 'Cassandra',\n//   '2181': 'Zookeeper',\n//   '9092': 'Kafka',\n//   '80': 'HTTP',\n//   '443': 'HTTPS',\n//   '22': 'SSH',\n//   '21': 'FTP',\n//   '25': 'SMTP',\n//   '110': 'POP3',\n//   '143': 'IMAP',\n//   '53': 'DNS',\n//   '389': 'LDAP',\n//   '636': 'LDAPS',\n//   '8080': 'HTTP Alt',\n//   '8443': 'HTTP Alt SSL',\n//   '465': 'SMTP SSL',\n//   '587': 'SMTP TLS',\n//   '993': 'IMAP SSL',\n//   '995': 'POP3 SSL',\n//   '7001': 'WebLogic',\n//   '7002': 'WebLogic SSL',\n//   '4848': 'GlassFish',\n//   '8181': 'GlassFish SSL',\n//   '8081': 'Nginx',\n// };\n\nexport default PortSelectFormItem;\n","/**\n * @generated SignedSource<<e12f145ec70bccd1fd166a157034e6af>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type useStartSessionCreationQuery$variables = {\n  id: any;\n};\nexport type useStartSessionCreationQuery$data = {\n  readonly compute_session_node: {\n    readonly \" $fragmentSpreads\": FragmentRefs<\"BAINodeNotificationItemFragment\">;\n  } | null | undefined;\n};\nexport type useStartSessionCreationQuery = {\n  response: useStartSessionCreationQuery$data;\n  variables: useStartSessionCreationQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"id\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"id\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"status\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"row_id\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useStartSessionCreationQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"ComputeSessionNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"compute_session_node\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"BAINodeNotificationItemFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"useStartSessionCreationQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"ComputeSessionNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"compute_session_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  (v3/*: any*/),\n                  (v4/*: any*/),\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"name\",\n                    \"storageKey\": null\n                  },\n                  (v5/*: any*/),\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"type\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"access_key\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"service_ports\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"commit_status\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"user_id\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"scaling_group\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"KernelConnection\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"kernel_nodes\",\n                    \"plural\": false,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"KernelEdge\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"edges\",\n                        \"plural\": true,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": \"KernelNode\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"node\",\n                            \"plural\": false,\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"container_id\",\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"agent_id\",\n                                \"storageKey\": null\n                              },\n                              (v2/*: any*/),\n                              (v5/*: any*/),\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"cluster_idx\",\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"cluster_role\",\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"cluster_hostname\",\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"storageKey\": null\n                          }\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"vfolder_mounts\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"status_info\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"status_data\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"queue_position\",\n                    \"storageKey\": null\n                  }\n                ],\n                \"type\": \"ComputeSessionNode\",\n                \"abstractKey\": null\n              },\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  (v3/*: any*/),\n                  (v4/*: any*/)\n                ],\n                \"type\": \"VirtualFolderNode\",\n                \"abstractKey\": null\n              }\n            ],\n            \"type\": \"Node\",\n            \"abstractKey\": \"__isNode\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"f782d7867b29fc40f57266d16809b260\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useStartSessionCreationQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useStartSessionCreationQuery(\\n  $id: GlobalIDField!\\n) {\\n  compute_session_node(id: $id) {\\n    ...BAINodeNotificationItemFragment\\n    id\\n  }\\n}\\n\\nfragment AppLauncherModalFragment on ComputeSessionNode {\\n  id\\n  row_id\\n  name\\n  service_ports\\n  access_key\\n}\\n\\nfragment BAIComputeSessionNodeNotificationItemFragment on ComputeSessionNode {\\n  row_id\\n  id\\n  name\\n  status\\n  ...SessionActionButtonsFragment\\n  ...SessionStatusTagFragment\\n}\\n\\nfragment BAINodeNotificationItemFragment on Node {\\n  __isNode: __typename\\n  ... on ComputeSessionNode {\\n    __typename\\n    status\\n    name\\n    row_id\\n    ...BAIComputeSessionNodeNotificationItemFragment\\n  }\\n  ... on VirtualFolderNode {\\n    __typename\\n    status\\n  }\\n  id\\n}\\n\\nfragment ContainerCommitModalFragment on ComputeSessionNode {\\n  id\\n  name\\n  row_id\\n}\\n\\nfragment ContainerLogModalFragment on ComputeSessionNode {\\n  id\\n  row_id\\n  name\\n  status\\n  access_key\\n  kernel_nodes {\\n    edges {\\n      node {\\n        id\\n        row_id\\n        container_id\\n        cluster_idx\\n        cluster_role\\n        cluster_hostname\\n      }\\n    }\\n  }\\n}\\n\\nfragment SFTPConnectionInfoModalFragment on ComputeSessionNode {\\n  row_id\\n  vfolder_mounts\\n}\\n\\nfragment SessionActionButtonsFragment on ComputeSessionNode {\\n  id\\n  name\\n  row_id\\n  type\\n  status\\n  access_key\\n  service_ports\\n  commit_status\\n  user_id\\n  ...TerminateSessionModalFragment\\n  ...ContainerLogModalFragment\\n  ...ContainerCommitModalFragment\\n  ...AppLauncherModalFragment\\n  ...SFTPConnectionInfoModalFragment\\n  ...useBackendAIAppLauncherFragment\\n}\\n\\nfragment SessionStatusTagFragment on ComputeSessionNode {\\n  id\\n  status\\n  status_info\\n  status_data\\n  queue_position @since(version: \\\"25.13.0\\\")\\n}\\n\\nfragment TerminateSessionModalFragment on ComputeSessionNode {\\n  id\\n  row_id\\n  name\\n  scaling_group\\n  access_key\\n  kernel_nodes {\\n    edges {\\n      node {\\n        container_id\\n        agent_id\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment useBackendAIAppLauncherFragment on ComputeSessionNode {\\n  name\\n  row_id\\n  vfolder_mounts\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"7a350248b5a833005f531bd8caa3adec\";\n\nexport default node;\n","import { useSuspendedBackendaiClient } from '.';\nimport { useSetBAINotification } from './useBAINotification';\nimport {\n  useCurrentProjectValue,\n  useCurrentResourceGroupState,\n} from './useCurrentProject';\nimport { generateRandomString, toGlobalId } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { fetchQuery, graphql, useRelayEnvironment } from 'react-relay';\nimport { useStartSessionCreationQuery } from 'src/__generated__/useStartSessionCreationQuery.graphql';\nimport { transformPortValuesToNumbers } from 'src/components/PortSelectFormItem';\nimport { RESOURCE_ALLOCATION_INITIAL_FORM_VALUES } from 'src/components/SessionFormItems/ResourceAllocationFormItems';\nimport {\n  SessionLauncherFormValue,\n  SessionResources,\n} from 'src/pages/SessionLauncherPage';\n\n// Type for successful session creation result\ntype SessionCreationSuccess = {\n  kernelId?: string;\n  sessionId: string;\n  sessionName: string;\n  servicePorts: Array<{ name: string }>;\n};\ninterface CreateSessionInfo {\n  kernelName: string;\n  sessionName: string;\n  architecture: string;\n  batchTimeout?: string;\n  resources: SessionResources;\n}\n\nexport const startSessionErrorCodes = {\n  DUPLICATED_SESSION: 'DUPLICATED_SESSION',\n};\n\nexport const SESSION_LAUNCHER_NOTI_PREFIX = 'session-launcher:';\n\n// Field names that have default values in SessionLauncherFormValue\ntype SessionLauncherDefaultFields =\n  | 'sessionType'\n  | 'allocationPreset'\n  | 'hpcOptimization'\n  | 'batch'\n  | 'envvars'\n  | 'resourceGroup';\n\n// Custom type for environments - mutually exclusive fields\ntype StartSessionEnvironments = {\n  environments:\n    | {\n        version: string;\n        environment?: never;\n        image?: never;\n        manual?: never;\n        customizedTag?: never;\n      }\n    | {\n        version?: never;\n        environment: string;\n        image?: never;\n        manual?: never;\n        customizedTag?: never;\n      }\n    | {\n        version?: never;\n        environment?: never;\n        image?: never;\n        manual: string;\n        customizedTag?: never;\n      };\n};\n\n// Type that makes certain fields optional while keeping others required\nexport type StartSessionValue =\n  // Required fields (environments with only version required)\n  StartSessionEnvironments &\n    // Optional fields from SessionLauncherFormValue\n    Partial<Omit<SessionLauncherFormValue, 'environments'>>;\n\n// Type for minimum required values (all fields except those with defaults are required)\nexport type StartSessionWithDefaultValue = Omit<\n  StartSessionValue,\n  | SessionLauncherDefaultFields\n  | keyof typeof RESOURCE_ALLOCATION_INITIAL_FORM_VALUES\n> &\n  DeepPartial<\n    Pick<\n      StartSessionValue,\n      | SessionLauncherDefaultFields\n      | keyof typeof RESOURCE_ALLOCATION_INITIAL_FORM_VALUES\n    >\n  >;\n\nexport type StartSessionResults = {\n  fulfilled?: PromiseFulfilledResult<SessionCreationSuccess>[];\n  rejected?: PromiseRejectedResult[];\n};\n\nexport const useStartSession = () => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const currentProject = useCurrentProjectValue();\n  const { upsertNotification } = useSetBAINotification();\n\n  const relayEnv = useRelayEnvironment();\n  const baiClient = useSuspendedBackendaiClient();\n  const supportsMountById = baiClient.supports('mount-by-id');\n  const supportBatchTimeout = baiClient?.supports('batch-timeout') ?? false;\n\n  const [currentGlobalResourceGroup] = useCurrentResourceGroupState();\n\n  const defaultFormValues: DeepPartial<SessionLauncherFormValue> = {\n    sessionType: 'interactive',\n    // If you set `allocationPreset` to 'custom', `allocationPreset` is not changed automatically any more.\n    allocationPreset: 'auto-select',\n    hpcOptimization: {\n      autoEnabled: true,\n    },\n    batch: {\n      enabled: false,\n      command: undefined,\n      scheduleDate: undefined,\n      ...(supportBatchTimeout && {\n        timeoutEnabled: false,\n        timeout: undefined,\n        timeoutUnit: 's',\n      }),\n    },\n    envvars: [],\n    // set default_session_environment only if set\n    ...(baiClient._config?.default_session_environment && {\n      environments: normalizeEnvironmentFormat(\n        baiClient._config.default_session_environment,\n      ),\n    }),\n    ...RESOURCE_ALLOCATION_INITIAL_FORM_VALUES,\n    resourceGroup: currentGlobalResourceGroup || undefined,\n  };\n\n  const startSessionWithDefault = (\n    minimumValues: StartSessionWithDefaultValue,\n  ) => {\n    const mergedValue = _.merge({}, defaultFormValues, minimumValues);\n    return startSession(mergedValue as SessionLauncherFormValue);\n  };\n  const startSession = async (values: SessionLauncherFormValue) => {\n    // If manual image is selected, use it as kernelName\n    const imageFullName =\n      values.environments.manual || values.environments.version;\n    const [kernelName, architecture] = imageFullName\n      ? imageFullName.split('@')\n      : ['', ''];\n\n    const sessionName = _.isEmpty(values.sessionName)\n      ? generateSessionId()\n      : values.sessionName;\n\n    const sessionInfo: CreateSessionInfo = {\n      // Basic session information\n      sessionName: sessionName,\n      kernelName,\n      architecture,\n      resources: {\n        enqueueOnly: true,\n        // Project and domain settings\n        group_name: values.owner?.enabled\n          ? values.owner.project\n          : currentProject.name,\n        domain: values.owner?.enabled\n          ? values.owner.domainName\n          : baiClient._config.domainName,\n\n        // Session configuration\n        type: values.sessionType,\n        cluster_mode: values.cluster_mode,\n        cluster_size: values.cluster_size,\n        maxWaitSeconds: 15,\n\n        // Owner settings (optional)\n        // FYI, `config.scaling_group` also changes based on owner settings\n        ...(values.owner?.enabled\n          ? {\n              owner_access_key: values.owner.accesskey,\n            }\n          : {}),\n\n        // Batch mode settings (optional)\n        ...(values.sessionType === 'batch'\n          ? {\n              starts_at: values.batch.enabled\n                ? values.batch.scheduleDate\n                : undefined,\n              startupCommand: values.batch.command,\n            }\n          : {}),\n\n        // Bootstrap script (optional)\n        ...(values.bootstrap_script\n          ? { bootstrap_script: values.bootstrap_script }\n          : {}),\n\n        // Batch timeout configuration (optional)\n        ...(supportBatchTimeout &&\n        values?.batch?.timeoutEnabled &&\n        !_.isUndefined(values?.batch?.timeout)\n          ? {\n              batchTimeout:\n                _.toString(values.batch.timeout) + values?.batch?.timeoutUnit,\n            }\n          : undefined),\n\n        config: {\n          // Resource allocation\n          resources: {\n            cpu: values.resource.cpu,\n            mem: values.resource.mem,\n            // Add accelerator only if specified\n            ...(values.resource?.acceleratorType &&\n            values.resource?.accelerator &&\n            values.resource?.accelerator > 0\n              ? {\n                  [values.resource.acceleratorType]:\n                    values.resource.accelerator,\n                }\n              : undefined),\n          },\n          scaling_group: values.owner?.enabled\n            ? values.owner.project\n            : values.resourceGroup,\n          resource_opts: {\n            shmem: values.resource.shmem,\n            // allow_fractional_resource_fragmentation can be added here if needed\n          },\n\n          // Storage configuration\n          [supportsMountById ? 'mount_ids' : 'mounts']: values.mount_ids,\n          [supportsMountById ? 'mount_id_map' : 'mount_map']:\n            values.mount_id_map,\n\n          // Environment variables\n          environ: {\n            ..._.fromPairs(values.envvars.map((v) => [v.variable, v.value])),\n            // set hpcOptimization options: \"OMP_NUM_THREADS\", \"OPENBLAS_NUM_THREADS\"\n            ...(values.hpcOptimization.autoEnabled\n              ? {}\n              : _.omit(values.hpcOptimization, 'autoEnabled')),\n          },\n\n          // Networking\n          preopen_ports: transformPortValuesToNumbers(values.ports),\n\n          // Agent selection (optional)\n          ...(baiClient.supports('agent-select') &&\n          !baiClient?._config?.hideAgents &&\n          values.agent !== undefined &&\n          !_.isEqual(_.castArray(values.agent), ['auto'])\n            ? {\n                // Filter out undefined values\n                agent_list: _.chain(values.agent)\n                  .castArray()\n                  .filter((agent): agent is string => !!agent)\n                  .value(),\n              }\n            : undefined),\n        },\n      },\n    };\n    const sessionPromises = _.map(_.range(values.num_of_sessions || 1), (i) => {\n      const formattedSessionName =\n        (values.num_of_sessions || 1) > 1\n          ? `${sessionInfo.sessionName}-${generateRandomString()}-${i}`\n          : sessionInfo.sessionName;\n      return baiClient\n        .createIfNotExists(\n          sessionInfo.kernelName,\n          formattedSessionName,\n          sessionInfo.resources,\n          undefined,\n          sessionInfo.architecture,\n        )\n        .then(\n          (res: { created: boolean; status: string; sessionId: string }) => {\n            // When session is already created with the same name, the status code\n            // is 200, but the response body has 'created' field as false.\n            // For such cases, we throw an error to be handled by using component.\n            if (!res?.created) {\n              const error = new Error(\n                startSessionErrorCodes.DUPLICATED_SESSION,\n              );\n              throw error;\n            }\n            return res;\n          },\n        )\n        .catch((err: any) => {\n          if (err?.message?.includes('The session already exists')) {\n            throw new Error(t('session.launcher.SessionAlreadyExists'));\n          } else {\n            throw err;\n          }\n        });\n    });\n\n    return Promise.allSettled(sessionPromises).then(\n      async (\n        sessionCreations: PromiseSettledResult<SessionCreationSuccess>[],\n      ) => {\n        // Group session creations by their status\n        const results = _.groupBy(\n          sessionCreations,\n          'status',\n        ) as StartSessionResults;\n        return results;\n      },\n    );\n  };\n\n  const upsertSessionNotification = async (\n    successCreations: PromiseFulfilledResult<SessionCreationSuccess>[],\n    upsertNotificationOverrides?: Parameters<typeof upsertNotification>,\n  ) => {\n    const promises = _.map(successCreations, (creation) => {\n      const session = creation.value;\n      return fetchQuery<useStartSessionCreationQuery>(\n        relayEnv,\n        graphql`\n          query useStartSessionCreationQuery($id: GlobalIDField!) {\n            compute_session_node(id: $id) {\n              ...BAINodeNotificationItemFragment\n            }\n          }\n        `,\n        {\n          id: toGlobalId('ComputeSessionNode', session.sessionId),\n        },\n      )\n        .toPromise()\n        .then((queryResult) => {\n          const createdSession = queryResult?.compute_session_node ?? null;\n\n          if (createdSession) {\n            upsertNotification(\n              {\n                key: `${SESSION_LAUNCHER_NOTI_PREFIX}${session.sessionId}`,\n                node: createdSession,\n                open: true,\n                duration: 0,\n                ...upsertNotificationOverrides?.[0],\n              },\n              upsertNotificationOverrides?.[1],\n            );\n          }\n        });\n    });\n    return Promise.allSettled(promises);\n  };\n\n  return {\n    startSession,\n    startSessionWithDefault,\n    defaultFormValues,\n    upsertSessionNotification,\n  };\n};\n\nconst generateSessionId = () => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < 8; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text + '-session';\n};\n\nconst normalizeEnvironmentFormat = (environment: string) => {\n  if (environment.includes(':')) {\n    return {\n      version: environment,\n    };\n  } else {\n    return {\n      environment: environment,\n    };\n  }\n};\n"],"names":["uploadRequestAtom","atom","uploadStatusAtom","uploadStatusAtomFamily","atomFamily","vFolderId","get","set","newStatus","prev","FileUploadManager","t","useTranslation","token","theme","useToken","baiClient","useSuspendedBackendaiClient","upsertNotification","closeNotification","useSetBAINotification","generateFolderPath","useFolderExplorerOpener","uploadRequests","setUploadRequests","useAtom","uploadStatus","setUploadStatus","maxConcurrentUploads","useBAISettingUserState","queue","PQueue","concurrency","pendingDeltaBytesRef","useRef","throttledUploadRequests","_","fileName","accumulatedDelta","current","_prev$vFolderId","_prev$vFolderId$compl","_prev$vFolderId2","_prev$vFolderId2$comp","_prev$vFolderId3","_prev$vFolderId3$fail","_prev$vFolderId4","_prev$vFolderId4$pend","_prev$vFolderId5","_prev$vFolderId6","uploadedFilesCount","completedFiles","length","totalUploadedFilesCount","failedFiles","pendingFiles","totalExpectedSize","currentCompletedBytes","completedBytes","key","backgroundTask","status","percent","onChange","pending","description","_jsxs","BAIFlex","direction","align","children","Typography","Text","_jsx","ellipsis","type","style","fontSize","fontSizeSM","maxWidth","leading","trailing","useEffect","forEach","uploadRequest","vFolderName","uploadFileInfo","currUploadTotalSize","info","file","size","_prev$vFolderId7","_prev$vFolderId8","_prev$vFolderId9","_prev$vFolderId10","_prev$vFolderId11","_prev$vFolderId12","isFirstUpload","newTotalExpectedSize","currPct","open","message","BAILink","fontWeight","to","onClick","duration","map","webkitRelativePath","name","_ref","startFunction","add","async","previousBytesUploaded","onProgress","bytesUploaded","_bytesTotal","deltaBytes","flush","_prev$vFolderId13","filter","f","error","_prev$vFolderId14","Object","entries","_ref2","resolved","folderName","rejected","extraDescription","useFileUploadManager","id","$","_c","useConnectedBAIClient","useSetAtom","t0","toLocalId","replace","t1","requestedFiles","vfolderId","maxPossibleFileSize","_config","maxFileUploadSize","maxRequestFileSize","_temp","reduce","_temp2","toText","search","URLSearchParams","folder","toString","validateUploadRequest","t2","files","vfolderId_0","currentPath","fileToUpload","startUploadFunctionMap","file_0","push","uploadPath","Boolean","join","uploadUrl","vfolder","create_upload_session","Promise","resolve","reject","tus","endpoint","retryDelays","chunkSize","getOptimalChunkSize","storeFingerprintForResuming","metadata","filename","filetype","bytesTotal","_callbacks$onProgress","callbacks","call","onSuccess","bytes","onError","_error","Error","start","t4","t3","uploadRequestInfo","_temp3","uploadFiles","fileSize","MB","max","Math","file_1","node","v0","v1","v2","v3","v4","v5","v6","v7","hash","IMAGES_QUERY","_useDefaultImagesWithFallbackQuery","defaultFileBrowserImageAtom","atomWithDefault","_baiClient$_config","_baiClient$_config2","backendaiClientPromise","defaultFileBrowserImage","undefined","systemSSHImageAtom","_baiClient$_config3","_baiClient$_config4","systemSSHImage","systemSSHImageInfoAtom","label","_label$value","value","toLowerCase","includes","image","_image$labels","labels","find","response","_response$images","images","_temp4","_label$value2","_temp5","_image$labels2","_temp6","_response$images2","useMergedAllowedStorageHostPermission","domain","projectId","userAccessKey","_mergedAllowedVFolder","_mergedAllowedVFolder2","_mergedAllowedVFolder3","keypair","useLazyLoadQuery","_useMergedAllowedStorageHostPermission_KeypairQuery","domainName","accessKey","fetchPolicy","mergedAllowedVFolderHosts","_useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery","resourcePolicyName","resource_policy","allowedPermissionForDomainsByVolume","JSON","parse","allowed_vfolder_hosts","allowedPermissionForGroupsByVolume","group","allowedPermissionForResourcePolicyByVolume","keypair_resource_policy","data","vhostInfo","useSuspenseQuery","queryKey","queryFn","list_hosts","staleTime","gcTime","unitedAllowedPermissionByVolume","assign","allowed","volume","arr","Set","concat","StorageHostPermissionByDomain","StorageHostPermissionByGroup","StorageHostPermissionByResourcePolicy","buttonProps","vfolderFrgmt","showTitle","modal","App","useApp","currentDomain","useCurrentDomainValue","currentProject","useCurrentProjectValue","currentUserAccessKey","getErrorMessage","useErrorMessageResolver","startSessionWithDefault","upsertSessionNotification","useStartSession","filebrowserImage","useDefaultFileBrowserImageWithFallback","setDefaultFileBrowserImage","relayEnv","useRelayEnvironment","fetchQuery","installed","toPromise","then","firstImage","filebrowserImages","getImageFullName","catch","getImage","useEffectEvent","Symbol","for","_FileBrowserButtonFragment","useFragment","_vfolder$host","host","hasAccessPermission","getTooltipTitle","t5","t6","t7","Image","width","src","alt","preview","t8","t9","t10","t11","t12","_vfolder$row_id","fileBrowserFormValue","sessionName","row_id","sessionType","environments","version","allocationPreset","cluster_mode","cluster_size","mount_ids","replaceAll","resource","cpu","mem","results","fulfilled","extraData","appName","reason","startSessionErrorCodes","DUPLICATED_SESSION","title","content","error_0","console","BAIButton","icon","disabled","action","Tooltip","_vhostInfoByCurrentPr","vhostInfoByCurrentProject","useResourceGroupsForCurrentProject","systemSSHImageInfo","useDefaultSystemSSHImageWithFallback","setSystemSSHImage","setSystemSSHImageInfo","sshImages","_SFTPServerButtonFragment","sftpScalingGroupByCurrentProject","volume_info","sftp_scaling_groups","resource_limits","_$find","_$find2","min","sftpSessionConf","allow_manual_image_name_for_session","manual","resourceGroup","vfolderNodeFrgmt","titleStyle","lg","Grid","useBreakpoint","_FolderExplorerHeaderFragment","vfolderNode","flex","borderRadius","colorBorderSecondary","fontSizeHeading3","fontSizeHeading4","VFolderNodeIdenticon","borderColor","borderWidth","borderStyle","height","EditableVFolderName","enableLink","component","Title","level","margin","editable","triggerType","inputProps","count","show","gap","unmanaged_path","Suspense","fallback","Skeleton","Button","active","ErrorBoundaryWithNullFallback","FileBrowserButton","SFTPServerButton","marginSM","justify","marginMD","useVirtualFolderPath","_useVirtualFolderNodePathFragment","quotaScopeType","quotaScopeIdWithoutType","quota_scope_id","vfolderIdPrefix1","slice","vfolderIdPrefix2","vfolderIdRest","vfolderPath","wrap","BAIText","monospace","copyable","text","_convertToDecimalUnit","onRequestRefresh","props","currentUser","useCurrentUserInfo","updateMutation","useTanMutation","mutationFn","permission","update_folder","_VFolderNodeDescriptionFragment","items","filterOutEmpty","color","colorTextLabel","VirtualFolderPath","BAITag","statusTagColor","ownership_type","UserOutlined","colorTextTertiary","BAIUserUnionIcon","user","uuid","is_admin","BAISelect","defaultValue","options","mutate","success","document","dispatchEvent","CustomEvent","_VFolderNodeDescriptionPermissionRefreshQuery","popupMatchSelectWidth","CheckCircleOutlined","user_email","group_name","cloneable","max_size","convertToDecimalUnit","displayValue","usage_mode","dayjs","created_at","format","Descriptions","bordered","column","styles","wordBreak","overflowWrap","useStyles","createStyles","css","baiModalHeader","_vfolder_node$host","vfolderID","onRequestClose","modalProps","xl","folderExplorerRef","fetchKey","updateFetchKey","useFetchKey","fileExplorerRef","bodyRef","deferredOpen","useDeferredValue","vfolder_node","_FolderExplorerModalQuery","vfolderGlobalId","toGlobalId","useInterval","_fileExplorerRef$curr","refetch","hasDownloadContentPermission","hasDeleteContentPermission","permissions","hasWriteContentPermission","fileExplorerElement","Alert","showIcon","BAIFileExplorer","ref","targetVFolderId","onUpload","enableDownload","enableDelete","enableWrite","tableProps","scroll","x","y","paddingBottom","paddingLG","fileDropContainerRef","vFolderDescriptionElement","VFolderNodeDescription","_folderExplorerRef$cu","_fetchVFolder","BAIModal","className","keyboard","destroyOnHidden","footer","body","FolderExplorerHeader","zIndex","zIndexPopupBase","bodyProps","onCancel","Splitter","layout","Panel","resizable","defaultSize","Divider","display","MIN_PORT","MAX_PORT","PortTag","inValid","tagProps","Tag","isValidPortStr","portStr","isPortRangeStr","splitPortRange","split","end","v","parseInt","portRange","transformPortValuesToNumbers","values","parsePortRangeToNumbers","formItemProps","form","Form","useFormInstance","Item","tooltip","Trans","i18nKey","extra","rules","validator","_rule","maxCountForPreopenPorts","allPorts","port","Select","mode","tagRender","hasDuplicated","getFieldValue","closable","onClose","onMouseDown","e","preventDefault","stopPropagation","suffixIcon","tokenSeparators","_baiClient$supports","supportsMountById","supports","supportBatchTimeout","currentGlobalResourceGroup","useCurrentResourceGroupState","defaultFormValues","hpcOptimization","autoEnabled","batch","enabled","command","scheduleDate","timeoutEnabled","timeout","timeoutUnit","envvars","default_session_environment","normalizeEnvironmentFormat","RESOURCE_ALLOCATION_INITIAL_FORM_VALUES","startSession","_values$owner","_values$owner2","_values$owner3","_values$batch","_values$batch2","_values$batch3","_values$resource","_values$resource2","_values$resource3","_values$owner4","imageFullName","kernelName","architecture","sessionInfo","generateSessionId","resources","enqueueOnly","owner","project","maxWaitSeconds","owner_access_key","accesskey","starts_at","startupCommand","bootstrap_script","batchTimeout","config","acceleratorType","accelerator","scaling_group","resource_opts","shmem","mount_id_map","environ","variable","preopen_ports","ports","hideAgents","agent","agent_list","castArray","sessionPromises","num_of_sessions","i","formattedSessionName","generateRandomString","createIfNotExists","res","created","err","_err$message","allSettled","sessionCreations","minimumValues","mergedValue","successCreations","upsertNotificationOverrides","promises","creation","session","_useStartSessionCreationQuery","sessionId","queryResult","_queryResult$compute_","createdSession","compute_session_node","possible","charAt","floor","random","environment"],"sourceRoot":""}