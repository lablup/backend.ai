"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2313],{52313:(e,t,i)=>{i.r(t),i.d(t,{default:()=>de});var n=i(56276),a=i(7871),r=i(48880),s=i(40690),o=i(22339),l=i(62378);const d=e=>{const t=(0,s.CX)();return(0,l.nj)({queryKey:["UsageHistory",t._config._userId,null===e||void 0===e?void 0:e.fetchKey],queryFn:()=>t.resources.user_stats()})};var c,u=i(64018),m=i(92770),p=i(53825),v=i(70974),y=i(67631),h=i(8905),g=i.n(h),b=i(62962),_=i(89374);const x=(0,v.rU)((e=>{let{css:t,token:i}=e;return{graphCard:t(c||(c=(0,a.A)(["\n    .g2-tooltip {\n      background-color: "," !important;\n      border: none !important;\n    }\n    .g2-tooltip-title {\n      color: "," !important;\n    }\n    .g2-tooltip-list-item-name {\n      color: "," !important;\n    }\n    .g2-tooltip-list-item-value {\n      color: "," !important;\n    }\n  "])),i.colorBgSpotlight,i.colorTextLightSolid,i.colorTextLightSolid,i.colorTextLightSolid)}})),f=e=>{let{title:t,tooltipText:i,children:n}=e;return(0,_.jsx)(p.A,{type:"inner",title:(0,_.jsxs)(y.OO,{gap:"xxs",children:[t,i?(0,_.jsx)(u.A,{title:i}):null]}),style:{width:"100%"},children:n})},k=e=>{let{data:t,key:i,period:n,targetUnit:a,displayUnit:s,unitType:o,isDarkMode:l}=e;const d=e=>{return"count"===o?e:"byte"===o?null!==(t=null===(i=(0,r.mv)(e,a))||void 0===i?void 0:i.number)&&void 0!==t?t:0:"decimal"===o?null!==(n=null===(s=(0,r.Gh)(e,a))||void 0===s?void 0:s.number)&&void 0!==n?n:0:e;var t,i,n,s};return{data:t.filter(((e,i)=>t.length-("1D"===n?96:672)<=i)).map((e=>({date:g()(1e3*e.date).format("MMM DD HH:mm"),value:d(e[i].value)}))),xField:"date",yField:"value",axis:{x:{labelAutoHide:!0,tickFilter:(e,t)=>t%("1D"===n?12:48)===0},y:{title:s}},animate:{enter:{type:"growInY"}},theme:l?"dark":"light"}},A=e=>{let{period:t,fetchKey:i}=e;const{t:a}=(0,b.Bd)(),{data:r}=d({fetchKey:i}),{isDarkMode:l}=(0,o.e)(),{styles:c}=x(),u=(0,s.CX)();return(0,_.jsxs)(y.OO,{className:c.graphCard,direction:"column",align:"start",gap:"md",children:[(0,_.jsx)(f,{title:"Sessions",tooltipText:a("statistics.SessionsDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"num_sessions",period:t,targetUnit:"count",displayUnit:"count",unitType:"count",isDarkMode:l})))}),(0,_.jsx)(f,{title:"CPU",tooltipText:a("statistics.CPUDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"cpu_allocated",period:t,targetUnit:"count",displayUnit:"count",unitType:"count",isDarkMode:l})))}),(0,_.jsx)(f,{title:"Memory",tooltipText:a("statistics.MemoryDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"mem_allocated",period:t,targetUnit:"g",displayUnit:"GiB",unitType:"byte",isDarkMode:l})))}),(0,_.jsx)(f,{title:"GPU",tooltipText:a("statistics.GPUDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"gpu_allocated",period:t,targetUnit:"count",displayUnit:"count",unitType:"count",isDarkMode:l})))}),null!==u&&void 0!==u&&u.supports("user-metrics")?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f,{title:"IO-Read",tooltipText:a("statistics.IOReadDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"io_read_bytes",period:t,targetUnit:"m",displayUnit:"MiB",unitType:"decimal",isDarkMode:l})))}),(0,_.jsx)(f,{title:"IO-Write",tooltipText:a("statistics.IOWriteDesc"),children:(0,_.jsx)(m.A,(0,n.A)({height:200},k({data:r,key:"io_write_bytes",period:t,targetUnit:"m",displayUnit:"MiB",unitType:"decimal",isDarkMode:l})))})]})]})};var D=i(1125),j=i(284),M=i(67692),S=i(30270),U=i(17534),w=i(73233);const T=(0,w.withDefault)((0,w.createEnumParam)(["1D","1W"]),"1D"),z=()=>{const[e,t]=(0,w.useQueryParam)("period",T),{t:i}=(0,b.Bd)(),[n,a]=(0,y.Tw)("first"),[r,s]=(0,U.useTransition)(),o=[{label:i("statistics.1Day"),value:"1D"},{label:i("statistics.1Week"),value:"1W"}];return(0,_.jsxs)(y.OO,{direction:"column",align:"stretch",gap:"md",children:[(0,_.jsx)(D.A,{showIcon:!0,title:i("statistics.UsageHistoryNote"),type:"info"}),(0,_.jsxs)(y.OO,{gap:"sm",justify:"between",children:[(0,_.jsx)(j.A.Item,{label:i("statistics.SelectPeriod"),style:{marginBottom:0},children:(0,_.jsx)(M.A,{popupMatchSelectWidth:!1,options:o,value:e,onChange:e=>t(e)})}),(0,_.jsx)(y.u8,{loading:r,value:n,onChange:()=>{s((()=>{a()}))}})]}),(0,_.jsx)(U.Suspense,{fallback:(0,_.jsx)(S.A,{active:!0}),children:(0,_.jsx)(A,{period:e||"1D",fetchKey:n})})]})},I=function(){var e=[{alias:null,args:null,concreteType:"ContainerUtilizationMetricMetadata",kind:"LinkedField",name:"container_utilization_metric_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"metric_names",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserSessionsMetricsQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UserSessionsMetricsQuery",selections:e},params:{cacheID:"21560ceabb06c90e8704f9796db735f7",id:null,metadata:{},name:"UserSessionsMetricsQuery",operationKind:"query",text:"query UserSessionsMetricsQuery {\n  container_utilization_metric_metadata {\n    metric_names\n  }\n}\n"}}}();I.hash="9d7023ac80a345ed8f9823d881a345a4";const L=I;var P=i(72828),C=i(10979),K=i(65192);const R=function(){var e={defaultValue:null,kind:"LocalArgument",name:"capacityProps"},t={defaultValue:null,kind:"LocalArgument",name:"currentProps"},i={defaultValue:null,kind:"LocalArgument",name:"user_id"},n={kind:"Variable",name:"user_id",variableName:"user_id"},a=[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,concreteType:"ContainerUtilizationMetric",kind:"LinkedField",name:"metrics",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value_type",storageKey:null},{alias:null,args:null,concreteType:"MetricResultValue",kind:"LinkedField",name:"values",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avg_value",storageKey:null}],storageKey:null}],r=[{alias:"capacity_metric",args:[{kind:"Variable",name:"props",variableName:"capacityProps"},n],concreteType:"UserUtilizationMetric",kind:"LinkedField",name:"user_utilization_metric",plural:!1,selections:a,storageKey:null},{alias:"current_metric",args:[{kind:"Variable",name:"props",variableName:"currentProps"},n],concreteType:"UserUtilizationMetric",kind:"LinkedField",name:"user_utilization_metric",plural:!1,selections:a,storageKey:null}];return{fragment:{argumentDefinitions:[e,t,i],kind:"Fragment",metadata:null,name:"SessionMetricGraphQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,e,t],kind:"Operation",name:"SessionMetricGraphQuery",selections:r},params:{cacheID:"aa2a1000ef4410eaa2da853eabbdf0d6",id:null,metadata:{},name:"SessionMetricGraphQuery",operationKind:"query",text:"query SessionMetricGraphQuery(\n  $user_id: UUID!\n  $capacityProps: UserUtilizationMetricQueryInput!\n  $currentProps: UserUtilizationMetricQueryInput!\n) {\n  capacity_metric: user_utilization_metric(user_id: $user_id, props: $capacityProps) {\n    user_id\n    metrics {\n      metric_name\n      value_type\n      values {\n        timestamp\n        value\n      }\n      max_value\n      avg_value\n    }\n  }\n  current_metric: user_utilization_metric(user_id: $user_id, props: $currentProps) {\n    user_id\n    metrics {\n      metric_name\n      value_type\n      values {\n        timestamp\n        value\n      }\n      max_value\n      avg_value\n    }\n  }\n}\n"}}}();R.hash="88c8725f744a307e05f63cff149489f0";const N=R;var O,B=i(20353),F=i(7957),G=i(88441),E=i(47699),Q=i.n(E),H=i(46336),W=i(14484),q=i(58570),Y=i(27262),V=i(32865),$=i(70482),X=i(79268),Z=i(74538),J=i(23891),ee=i(19504);const te=(0,v.rU)((e=>{let{css:t,token:i}=e;return{recharts:t(O||(O=(0,a.A)(["\n    .recharts-label {\n      fill: ",";\n    }\n    .recharts-cartesian-axis-line {\n      stroke: ",";\n    }\n    .recharts-cartesian-axis-tick-line {\n      stroke: ",";\n    }\n    .recharts-cartesian-axis-tick-value {\n      fill: ",";\n    }\n    .recharts-default-tooltip {\n      background-color: "," !important;\n      border: none !important;\n      color: "," !important;\n    }\n  "])),i.colorTextDescription,i.colorBorder,i.colorBorder,i.colorTextDescription,i.colorBgSpotlight,i.colorTextLightSolid)}})),ie=e=>{var t,i,n,a,r,s,o,l;let{queryProps:{startDate:d,endDate:c,metricName:m,userId:p,dayDiff:v},fetchKey:h,tooltip:g}=e;const{token:b}=B.A.useToken(),{styles:x}=te(),{mergedResourceSlots:f}=(0,y.Hv)(),{capacity_metric:k,current_metric:A}=(0,H.useLazyLoadQuery)(N,{user_id:p,capacityProps:{metric_name:m,start:d,end:c,step:v<7?"5m":v<30?"1h":"1d",value_type:"capacity"},currentProps:{metric_name:m,start:d,end:c,step:v<7?"5m":v<30?"1h":"1d",value_type:"current"}},{fetchPolicy:"store-and-network",fetchKey:h}),D={cpu_util:e=>Q().toNumber(e)/10},j=ne(null!==(t=null===k||void 0===k?void 0:k.metrics)&&void 0!==t?t:[],null!==(i=null===A||void 0===A?void 0:A.metrics)&&void 0!==i?i:[],d,c,v<7?"5m":v<30?"1h":"1d",null!==(n=D[m])&&void 0!==n?n:void 0),M=(0,U.useMemo)((()=>{var e;const[t]=Q().split(m,"_");return null!==(e=Q().find(Q().keys(f),(e=>Q().startsWith(e,t))))&&void 0!==e?e:""}),[f,m]),S=null===(a=f[M])||void 0===a?void 0:a.description;return(0,_.jsxs)(y.OO,{direction:"column",align:"stretch",gap:"sm",style:{height:"100%",overflow:"hidden"},children:[(0,_.jsxs)(y.OO,{align:"center",style:{height:56,marginLeft:52},gap:"xs",children:[(0,_.jsx)(F.A.Text,{style:{fontSize:b.fontSizeHeading5},strong:!0,children:(()=>{const[,...e]=Q().split(m,"_"),t=Q().startCase(e.join(" "));return S?"".concat(S," ").concat(t):Q().includes(m.toLowerCase(),"io")?"".concat(Q().startCase(m.replaceAll("io","IO").replaceAll("_"," "))):"".concat(Q().startCase(m.replaceAll("_"," ")))})()}),g?(0,_.jsx)(u.A,{title:g}):null]}),Q().isEmpty(null===k||void 0===k?void 0:k.metrics)&&Q().isEmpty(null===A||void 0===A?void 0:A.metrics)?(0,_.jsx)(G.A,{image:G.A.PRESENTED_IMAGE_SIMPLE,style:{height:"100%",alignContent:"center"}}):(0,_.jsx)(W.u,{style:{paddingRight:b.marginXL},children:(0,_.jsxs)(q.b,{data:j,className:x.recharts,children:[(0,_.jsx)(Y.d,{strokeDasharray:"3 3"}),(0,_.jsx)(V.W,{dataKey:"timestamp",minTickGap:b.marginMD}),(0,_.jsx)($.h,{domain:[0,"dataMax"]}),(0,_.jsx)(X.m,{formatter:e=>"".concat(e).concat(ae(void 0,m).numberUnit)}),(0,_.jsx)(Z.s,{}),(0,_.jsx)(J.e,{y:ae(null===A||void 0===A||null===(r=A.metrics)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.avg_value,null===A||void 0===A||null===(o=A.metrics)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.metric_name).number,label:"Avg Used",stroke:b.red,strokeWidth:.6,strokeDasharray:"6 6"}),(0,_.jsx)(ee.N,{type:"monotone",dataKey:"capacity",stroke:b.colorSuccess,dot:{r:0},strokeWidth:2}),(0,_.jsx)(ee.N,{type:"monotone",dataKey:"used",stroke:b.colorPrimary,strokeWidth:2,dot:{r:0}})]})})]})},ne=(e,t,i,n,a,r)=>{var s,o,l,d;const c=Q().zip((null===(s=e[0])||void 0===s?void 0:s.values)||Array(null===(o=t[0])||void 0===o||null===(l=o.values)||void 0===l?void 0:l.length).fill(0),null===(d=t[0])||void 0===d?void 0:d.values).map((e=>{let[t,i]=e;return{timestamp:null===i||void 0===i?void 0:i.timestamp,capacity:r?r(null===t||void 0===t?void 0:t.value):null===t||void 0===t?void 0:t.value,used:r?r(null===i||void 0===i?void 0:i.value):null===i||void 0===i?void 0:i.value}})),u=a.slice(-1),m=parseInt(a.slice(0,-1),10)*{s:1,m:60,h:3600,d:86400}[u],p=[];for(let h=Number(i);h<Number(n);h+=m){var v,y;const e=h,i=Q().find(c,(t=>t.timestamp===e));p.push({timestamp:g()(1e3*e).format("lll"),capacity:ae(null===i||void 0===i?void 0:i.capacity,null===(v=t[0])||void 0===v?void 0:v.metric_name).number,used:ae(null===i||void 0===i?void 0:i.used,null===(y=t[0])||void 0===y?void 0:y.metric_name).number})}return p},ae=(e,t)=>{let i,n;if(!t)return{number:i,numberUnit:n};if(Q().includes(t.toLowerCase(),"util"))i=Number((0,r.Z1)(null!==e&&void 0!==e?e:0,1)),n="%";else if(Q().includes(t.toLowerCase(),"used"))i=Number((Number(e)/1e3).toFixed(1)),n="s";else{var a,s;const o=["io","net"],l=Q().some(o,(e=>Q().includes(Q().toLower(t),e)));i=Q().toNumber(l?null===(a=(0,r.Gh)(null!==e&&void 0!==e?e:"0","g"))||void 0===a?void 0:a.numberFixed:null===(s=(0,r.mv)(null!==e&&void 0!==e?e:"0","g"))||void 0===s?void 0:s.numberFixed),n=l?"GB":"GiB"}return Q().includes(Q().toLower(t),"net")&&(n="GB/s"),i=e?i:void 0,{number:i,numberUnit:n}};var re=i(11463);const se=()=>{const{t:e}=(0,b.Bd)(),{token:t}=B.A.useToken(),{RangePicker:i}=re.A,[a,s]=(0,y.Tw)("first"),[o,l]=(0,U.useTransition)(),[d,c]=(0,w.useQueryParam)("startDate",(0,w.withDefault)(w.StringParam,g()().format("YYYY-MM-DD 00:00:00"))),[u,m]=(0,w.useQueryParam)("endDate",(0,w.withDefault)(w.StringParam,g()().format("YYYY-MM-DD 23:59:59"))),p=(0,P.U6)(),v=g()(u).diff(g()(d),"day"),{container_utilization_metric_metadata:h}=(0,H.useLazyLoadQuery)(L,{},{fetchKey:a,fetchPolicy:"store-and-network"}),x=(0,U.useMemo)((()=>{const e=(null===h||void 0===h?void 0:h.metric_names)||[],{cpuUtil:t,memory:i,acceleratorGroups:n,rest:a}=Q().reduce(e,((e,t)=>{if(!t||"cpu_used"===t||"io_scratch_size"===t)return e;if("cpu_util"===t)e.cpuUtil.push(t);else if("mem"===t)e.memory.push(t);else if(!t.endsWith("_util")&&!t.endsWith("_mem")||Q().startsWith(t,"cpu")||Q().startsWith(t,"mem"))e.rest.push(t);else{const i=t.split("_").slice(0,-1).join("_");e.acceleratorGroups[i]||(e.acceleratorGroups[i]=[]),e.acceleratorGroups[i].push(t)}return e}),{cpuUtil:[],memory:[],acceleratorGroups:{},rest:[]});return[...t,...i,...Q().flatMap(Q().values(n),(e=>Q().sortBy(e,(e=>e.endsWith("_util")?0:1)))),...Q().sortBy(a,(e=>e.startsWith("net")?0:1))]}),[null===h||void 0===h?void 0:h.metric_names]),[f,k]=(0,U.useState)(window.innerWidth);(0,U.useEffect)((()=>{const e=()=>{k(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const[A,j]=(0,C.q)("session_metrics_board_items"),M={cpu_util:(0,r.y1)(e("statistics.description.CPUUtilization")),net_rx:(0,r.y1)(e("statistics.description.NetworkRx")),net_tx:(0,r.y1)(e("statistics.description.NetworkTx"))},T=(0,U.useMemo)((()=>{const e=Q().map(x,(e=>{var i,n;return{id:e,rowSpan:3,columnSpan:f>2160?3:2,data:{content:(0,_.jsx)(U.Suspense,{fallback:(0,_.jsx)(S.A,{active:!0,style:{padding:"0px ".concat(t.marginMD,"px")}}),children:(0,_.jsx)(ie,{queryProps:{startDate:g()(d).unix().toString(),endDate:g()(u).unix().toString(),metricName:e,userId:null!==(i=null===(n=p[0])||void 0===n?void 0:n.uuid)&&void 0!==i?i:"",dayDiff:v},fetchKey:a,tooltip:M[e]||void 0},e)})}}}));if(A){const t=Q().map(A,(t=>{const i=Q().find(e,(e=>e.id===t.id));return i?(0,n.A)((0,n.A)({},t),{},{data:i.data}):null}));return(0,y.YM)(t)}return e}),[x,d,u,a,v,f]),[z,I]=(0,U.useState)(T);return(0,U.useEffect)((()=>{I(T)}),[T]),(0,_.jsxs)(y.OO,{direction:"column",align:"stretch",gap:"md",children:[(0,_.jsxs)(y.OO,{align:"stretch",justify:"between",children:[(0,_.jsx)(i,{allowClear:!1,showTime:{format:"HH:mm"},maxDate:g()(),onChange:(e,t)=>{let[i,n]=t;l((()=>{c(i),m(n)}))},defaultValue:[g()(d),g()(u)],presets:[{label:e("statistics.timeRange.Today"),value:[g()().startOf("day"),g()().endOf("day")]},{label:e("statistics.timeRange.LastHour"),value:[g()().subtract(1,"hour"),g()().subtract(1,"second")]},{label:e("statistics.timeRange.Last3Hours"),value:[g()().subtract(3,"hours"),g()().subtract(1,"second")]},{label:e("statistics.timeRange.Last12Hours"),value:[g()().subtract(12,"hours"),g()().subtract(1,"second")]},{label:e("statistics.timeRange.LastDay"),value:[g()().subtract(1,"day"),g()().subtract(1,"second")]},{label:e("statistics.timeRange.Last7Days"),value:[g()().subtract(7,"days"),g()().subtract(1,"second")]}]}),(0,_.jsx)(y.u8,{loading:o,value:a,onChange:()=>{l((()=>{s()}))}})]}),v>30&&(0,_.jsx)(D.A,{showIcon:!0,title:e("statistics.prometheus.DataMissingInLowUsageDesc")}),Q().isEmpty(x)?(0,_.jsx)(G.A,{image:G.A.PRESENTED_IMAGE_SIMPLE,description:e("statistics.prometheus.NoMetricsToDisplay")}):(0,_.jsx)(K.A,{movable:!0,resizable:!0,bordered:!0,items:z,onItemsChange:e=>{let i=[...e.detail.items];if(e.detail.resizedItem){const r=e.detail.resizedItem.id;i=i.map((e=>{if(e.id===r){const r=T.find((t=>t.id===e.id));var i,s;if(r)return(0,n.A)((0,n.A)({},e),{},{data:(0,n.A)((0,n.A)({},r.data),{},{content:(0,_.jsx)(U.Suspense,{fallback:(0,_.jsx)(S.A,{active:!0,style:{padding:"0px ".concat(t.marginMD,"px")}}),children:(0,_.jsx)(ie,{queryProps:{startDate:g()(d).unix().toString(),endDate:g()(u).unix().toString(),metricName:e.id,userId:null!==(i=null===(s=p[0])||void 0===s?void 0:s.uuid)&&void 0!==i?i:"",dayDiff:v},fetchKey:a,tooltip:M[e.id]||void 0},"".concat(e.id,"-").concat(Date.now()))})})})}return e}))}I(i),j(Q().map(i,(e=>Q().omit(e,"data"))))}})]})};var oe=i(60609);const le=(0,w.withDefault)(w.StringParam,"allocation-history"),de=()=>{const{t:e}=(0,b.Bd)(),t=(0,s.CX)(),{token:i}=B.A.useToken(),[n,a]=(0,w.useQueryParam)("tab",le,{updateType:"replace"});return(0,_.jsxs)(y.Zu,{activeTabKey:n,onTabChange:e=>a(e),tabList:(0,y.YM)([{key:"allocation-history",tab:e("webui.menu.UsageHistory")},(null===t||void 0===t?void 0:t.supports("user-metrics"))&&{key:"user-session-history",tab:e("webui.menu.UserSessionHistory")}]),styles:{body:{overflow:"hidden"}},children:["allocation-history"===n?(0,_.jsx)(oe.A,{children:(0,_.jsx)(U.Suspense,{fallback:(0,_.jsx)(S.A,{active:!0,style:{padding:i.paddingContentVerticalLG}}),children:(0,_.jsx)(z,{})})}):null,"user-session-history"===n?(0,_.jsx)(oe.A,{children:(0,_.jsx)(U.Suspense,{fallback:(0,_.jsx)(S.A,{active:!0,style:{padding:i.paddingContentVerticalLG}}),children:(0,_.jsx)(se,{})})}):null]})}},65192:(e,t,i)=>{i.d(t,{A:()=>_});var n=i(56276),a=i(11863),r=i(7871),s=i(81997),o=i(70541),l=i(70974),d=i(34754),c=i.n(d),u=i(89374);const m=["items","resizable","movable","bordered"];var p,v,y,h,g;const b=(0,l.rU)((e=>{let{css:t,token:i}=e;return{board:t(p||(p=(0,r.A)(["\n      .bai_board_placeholder {\n        border-radius: var(--token-borderRadius) !important;\n      }\n      .bai_board_placeholder--active {\n        background-color: var(--token-colorSplit) !important ;\n      }\n      .bai_board_placeholder--hover {\n        background-color: var(--token-colorPrimaryHover) !important ;\n        // FIXME: global token doesn't exist, so opacity fits color\n        opacity: 0.3;\n      }\n      .bai_board_handle button span {\n        color: "," !important;\n        padding-left: 5px !important;\n      }\n      .bai_board_header {\n        padding: 0 !important;\n        padding-top: ","px !important;\n      }\n      .bai_board_resizer button span {\n        color: "," !important;\n      }\n      .bai_board_container-override\n        > div:first-child\n        > div:nth-child(2)\n        > div:first-child {\n        padding: 0 !important;\n      }\n    "])),i.colorTextQuaternary,i.padding-1,i.colorTextQuaternary),disableResize:t(v||(v=(0,r.A)(["\n      .bai_board_resizer {\n        display: none !important;\n      }\n    "]))),disableMove:t(y||(y=(0,r.A)(["\n      .bai_board_handle {\n        display: none !important;\n      }\n      .bai_board_header {\n        display: none !important;\n      }\n    "]))),boardItems:t(h||(h=(0,r.A)(["\n      & > div:first-child {\n        border-radius: var(--token-borderRadius) !important;\n        background-color: var(--token-colorBgContainer) !important;\n        border: 1px solid "," !important;\n      }\n\n      & > div:first-child > div:first-child > div:first-child {\n        margin-bottom: var(--token-margin);\n        background-color: var(--token-colorBgContainer) !important;\n        position: absolute;\n        z-index: 1;\n      }\n    "])),i.colorBorderSecondary),disableBorder:t(g||(g=(0,r.A)(["\n      & > div:first-child {\n        border: none !important;\n      }\n    "])))}})),_=e=>{let{items:t,resizable:i=!1,movable:r=!1,bordered:l=!1}=e,d=(0,a.A)(e,m);const{styles:p}=b();return(0,u.jsx)(s.A,(0,n.A)({className:c()(p.board,!r&&p.disableMove,!i&&p.disableResize),empty:!0,renderItem:e=>{var t;return(0,u.jsx)(o.A,(0,n.A)((0,n.A)({className:c()(p.boardItems,!l&&p.disableBorder),i18nStrings:{dragHandleAriaLabel:"",dragHandleAriaDescription:"",resizeHandleAriaLabel:"",resizeHandleAriaDescription:""}},e),{},{children:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content}),e.id)},items:t,i18nStrings:(()=>{const e=(e,t,i)=>[e,t.length>0?"Conflicts with ".concat(t.map((e=>e.data.title)).join(", "),"."):"",i.length>0?"Disturbed ".concat(i.length," items."):""].filter(Boolean).join(" ");return{liveAnnouncementDndStarted:e=>"resize"===e?"Resizing":"Dragging",liveAnnouncementDndItemReordered:t=>{const i="column ".concat(t.placement.x+1),n="row ".concat(t.placement.y+1);return e("Item moved to ".concat("horizontal"===t.direction?i:n,"."),t.conflicts,t.disturbed)},liveAnnouncementDndItemResized:t=>{const i=t.isMinimalColumnsReached?" (minimal)":"",n=t.isMinimalRowsReached?" (minimal)":"",a="horizontal"===t.direction?"columns ".concat(t.placement.width).concat(i):"rows ".concat(t.placement.height).concat(n);return e("Item resized to ".concat(a,"."),t.conflicts,t.disturbed)},liveAnnouncementDndItemInserted:t=>{const i="column ".concat(t.placement.x+1),n="row ".concat(t.placement.y+1);return e("Item inserted to ".concat(i,", ").concat(n,"."),t.conflicts,t.disturbed)},liveAnnouncementDndCommitted:e=>"".concat(e," committed"),liveAnnouncementDndDiscarded:e=>"".concat(e," discarded"),liveAnnouncementItemRemoved:t=>e("Removed item ".concat(t.item.data.title,"."),[],t.disturbed),navigationAriaLabel:"Board navigation",navigationAriaDescription:"Click on non-empty item to move focus over",navigationItemAriaLabel:e=>e?e.data.title:"Empty"}})()},d))}}}]);
//# sourceMappingURL=2313.39b53166.chunk.js.map