/*! For license information please see 4171.c7986aab.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4171],{64171:(e,n,l)=>{l.d(n,{A:()=>Qe});var a=l(56276),s=l(11863);const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SessionDetailDrawerFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"SessionDetailContentFragment"}],type:"ComputeSessionNode",abstractKey:null,hash:"eb57207016a6a8cf6abbf348456840de"},r=i;var t=l(37138);const o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SessionDetailContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vfolder_mounts",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderConnection",kind:"LinkedField",name:"vfolder_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"VirtualFolderEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FolderLink_vfolderNode"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},action:"NONE"},{alias:null,args:null,kind:"ScalarField",name:"terminated_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"agent_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idle_checks",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startup_command",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ImageNodeSimpleTagFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ConnectedKernelListFragment"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SessionStatusTagFragment"},{args:null,kind:"FragmentSpread",name:"SessionActionButtonsFragment"},{args:null,kind:"FragmentSpread",name:"BAISessionTypeTagFragment"},{args:null,kind:"FragmentSpread",name:"EditableSessionNameFragment"},{args:null,kind:"FragmentSpread",name:"SessionReservationFragment"},{args:null,kind:"FragmentSpread",name:"ContainerLogModalFragment"},{args:null,kind:"FragmentSpread",name:"SessionUsageMonitorFragment"},{args:null,kind:"FragmentSpread",name:"ContainerCommitModalFragment"},{args:null,kind:"FragmentSpread",name:"SessionIdleChecksNodeFragment"},{args:null,kind:"FragmentSpread",name:"SessionStatusDetailModalFragment"},{args:null,kind:"FragmentSpread",name:"AppLauncherModalFragment"},{args:null,kind:"FragmentSpread",name:"MountedVFolderLinksFragment"},{args:null,kind:"FragmentSpread",name:"BAISessionAgentIdsFragment"},{args:null,kind:"FragmentSpread",name:"BAISessionClusterModeFragment"}],type:"ComputeSessionNode",abstractKey:null,hash:"84c77381fe50c1f6cc8ac1b9c9ba6073"},d=o,u=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"project_id"}],n=[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"project_id",variableName:"project_id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},r=[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],t={alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SessionDetailContentQuery",selections:[{alias:"internalLoadedSession",args:n,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SessionDetailContentFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SessionDetailContentQuery",selections:[{alias:"internalLoadedSession",args:n,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[l,a,s,{alias:null,args:null,kind:"ScalarField",name:"project_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"status_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vfolder_mounts",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderConnection",kind:"LinkedField",name:"vfolder_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"VirtualFolderEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"node",plural:!1,selections:[a,s,l],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"terminated_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"agent_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idle_checks",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startup_command",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},s,{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},l],storageKey:null},l,a,{alias:null,args:null,kind:"ScalarField",name:"cluster_hostname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null},i,t,{alias:null,args:null,kind:"ScalarField",name:"agent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"queue_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_ports",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commit_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priority",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"starts_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null}],storageKey:null}]},params:{cacheID:"83941bb2664929bb78accebde36eff4b",id:null,metadata:{},name:"SessionDetailContentQuery",operationKind:"query",text:'query SessionDetailContentQuery(\n  $id: GlobalIDField!\n  $project_id: UUID!\n) {\n  internalLoadedSession: compute_session_node(id: $id, project_id: $project_id) {\n    ...SessionDetailContentFragment\n    id\n  }\n}\n\nfragment AppLaunchConfirmationModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  ...useBackendAIAppLauncherFragment\n}\n\nfragment AppLauncherModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  service_ports\n  access_key\n  ...useBackendAIAppLauncherFragment\n  ...SFTPConnectionInfoModalFragment\n  ...TensorboardPathModalFragment\n  ...AppLaunchConfirmationModalFragment\n}\n\nfragment BAISessionAgentIdsFragment on ComputeSessionNode {\n  agent_ids\n}\n\nfragment BAISessionClusterModeFragment on ComputeSessionNode {\n  cluster_mode\n  cluster_size\n}\n\nfragment BAISessionTypeTagFragment on ComputeSessionNode {\n  type\n}\n\nfragment ConnectedKernelListFragment on KernelNode {\n  id\n  row_id\n  cluster_hostname\n  cluster_idx\n  cluster_role\n  status\n  status_info\n  agent_id\n  container_id\n}\n\nfragment ContainerCommitModalFragment on ComputeSessionNode {\n  id\n  name\n  row_id\n}\n\nfragment ContainerLogModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        id\n        row_id\n        container_id\n        cluster_idx\n        cluster_role\n        cluster_hostname\n      }\n    }\n  }\n}\n\nfragment EditableSessionNameFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  priority\n  user_id\n  status\n}\n\nfragment FolderLink_vfolderNode on VirtualFolderNode {\n  row_id\n  name\n}\n\nfragment ImageNodeSimpleTagFragment on ImageNode {\n  base_image_name @since(version: "24.12.0")\n  version @since(version: "24.12.0")\n  architecture\n  name\n  tags @since(version: "24.12.0") {\n    key\n    value\n  }\n  labels {\n    key\n    value\n  }\n  registry\n  namespace @since(version: "24.12.0")\n  tag\n}\n\nfragment MountedVFolderLinksFragment on ComputeSessionNode {\n  row_id\n  vfolder_nodes @since(version: "25.4.0") {\n    edges {\n      node {\n        ...FolderLink_vfolderNode\n        id\n      }\n    }\n  }\n  ...MountedVFolderLinksLegacyLazyFolderLinkFragment\n}\n\nfragment MountedVFolderLinksLegacyLazyFolderLinkFragment on ComputeSessionNode {\n  row_id\n  vfolder_mounts\n}\n\nfragment SFTPConnectionInfoModalFragment on ComputeSessionNode {\n  row_id\n  vfolder_mounts\n}\n\nfragment SessionActionButtonsFragment on ComputeSessionNode {\n  id\n  name\n  row_id\n  type\n  status\n  access_key\n  service_ports\n  commit_status\n  user_id\n  ...TerminateSessionModalFragment\n  ...ContainerLogModalFragment\n  ...ContainerCommitModalFragment\n  ...AppLauncherModalFragment\n  ...SFTPConnectionInfoModalFragment\n  ...useBackendAIAppLauncherFragment\n}\n\nfragment SessionDetailContentFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  project_id\n  user_id\n  owner @since(version: "25.13.0") {\n    email\n    id\n  }\n  resource_opts\n  status\n  status_data\n  vfolder_mounts\n  vfolder_nodes @since(version: "25.4.0") {\n    edges {\n      node {\n        ...FolderLink_vfolderNode\n        id\n      }\n    }\n    count\n  }\n  created_at\n  terminated_at\n  scaling_group\n  agent_ids\n  requested_slots\n  idle_checks @since(version: "24.12.0")\n  type\n  startup_command\n  kernel_nodes {\n    edges {\n      node {\n        image {\n          ...ImageNodeSimpleTagFragment\n          id\n        }\n        ...ConnectedKernelListFragment\n        id\n      }\n    }\n  }\n  ...SessionStatusTagFragment\n  ...SessionActionButtonsFragment\n  ...BAISessionTypeTagFragment\n  ...EditableSessionNameFragment\n  ...SessionReservationFragment\n  ...ContainerLogModalFragment\n  ...SessionUsageMonitorFragment\n  ...ContainerCommitModalFragment\n  ...SessionIdleChecksNodeFragment\n  ...SessionStatusDetailModalFragment\n  ...AppLauncherModalFragment\n  ...MountedVFolderLinksFragment\n  ...BAISessionAgentIdsFragment\n  ...BAISessionClusterModeFragment\n}\n\nfragment SessionIdleChecksNodeFragment on ComputeSessionNode {\n  id\n  idle_checks @since(version: "24.12.0")\n}\n\nfragment SessionReservationFragment on ComputeSessionNode {\n  id\n  created_at\n  starts_at\n  terminated_at\n}\n\nfragment SessionStatusDetailModalFragment on ComputeSessionNode {\n  id\n  name\n  status\n  status_info\n  status_data\n  starts_at\n  ...SessionStatusTagFragment\n}\n\nfragment SessionStatusTagFragment on ComputeSessionNode {\n  id\n  status\n  status_info\n  status_data\n  queue_position @since(version: "25.13.0")\n}\n\nfragment SessionUsageMonitorFragment on ComputeSessionNode {\n  occupied_slots\n  ...useSessionNodeLiveStatSessionFragment\n}\n\nfragment TensorboardPathModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  ...useBackendAIAppLauncherFragment\n}\n\nfragment TerminateSessionModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  scaling_group\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        container_id\n        agent_id\n        id\n      }\n    }\n  }\n}\n\nfragment useBackendAIAppLauncherFragment on ComputeSessionNode {\n  name\n  row_id\n  vfolder_mounts\n  scaling_group\n  project_id\n  service_ports\n}\n\nfragment useSessionNodeLiveStatSessionFragment on ComputeSessionNode {\n  id\n  kernel_nodes {\n    edges {\n      node {\n        live_stat\n        cluster_role\n        id\n      }\n    }\n  }\n}\n'}}}();u.hash="752a64ec8ea79d4eaa6876f526ddc326";const c=u,m=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"uuid"}],n=[{kind:"Variable",name:"id",variableName:"uuid"}],l={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SessionDetailContentLegacyQuery",selections:[{alias:"legacy_session",args:n,concreteType:"ComputeSession",kind:"LinkedField",name:"compute_session",plural:!1,selections:[l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SessionDetailContentLegacyQuery",selections:[{alias:"legacy_session",args:n,concreteType:"ComputeSession",kind:"LinkedField",name:"compute_session",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"780428975b2d9c6608ca3db2d90b013e",id:null,metadata:{},name:"SessionDetailContentLegacyQuery",operationKind:"query",text:"query SessionDetailContentLegacyQuery(\n  $uuid: UUID!\n) {\n  legacy_session: compute_session(id: $uuid) {\n    group_id\n    id\n  }\n}\n"}}}();m.hash="407c9aac95a1b3572cd4f83828c8a0aa";const g=m;var p=l(476),y=l(52053),k=l(98724),F=l(15584),S=l(55687),_=l(7265),h=l(26862);const f=["content","language"],v=e=>{const n=(0,F.c)(10);let l,i,r,t,o;if(n[0]!==e){var d=e;({content:l,language:i}=d),r=(0,s.A)(d,f),n[0]=e,n[1]=l,n[2]=i,n[3]=r}else l=n[1],i=n[2],r=n[3];return n[4]!==l||n[5]!==i?(t=(0,h.jsx)(S.A,{language:i,children:l}),n[4]=l,n[5]=i,n[6]=t):t=n[6],n[7]!==r||n[8]!==t?(o=(0,h.jsx)(_.IbE,(0,a.A)((0,a.A)({},r),{},{children:t})),n[7]=r,n[8]=t,n[9]=o):o=n[9],o},x={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ConnectedKernelListFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_hostname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"agent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null}],type:"KernelNode",abstractKey:null,hash:"b07dcbdb178c221c667bd2f86f43cbd5"},K=x;var A=l(24474),j=l(87272),b=l(69319),I=l(69266),C=l(37717),L=l(86425),N=l(60669),T=l.n(N);const w=(0,l(61099).A)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);var D=l(29262),M=l(99118),E=l(84372);const R={PREPARING:"blue",BUILDING:"blue",PULLING:"blue",PREPARED:"blue",CREATING:"blue",PENDING:"green",SCHEDULED:"green",RUNNING:"green",RESTARTING:"green",RESIZING:"green",SUSPENDED:"green",TERMINATING:"default",TERMINATED:"default",CANCELLED:"default",ERROR:"red"},V=e=>{let{kernelsFrgmt:n,sessionFrgmtForLogModal:l}=e;const{t:a}=(0,M.Bd)(),[s,i]=(0,D.useState)(),{token:r}=j.A.useToken(),t=(0,E.useFragment)(K,n),o=(0,_.YM3)([{title:a("kernel.Hostname"),dataIndex:"cluster_hostname",render:(e,n)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b.A.Text,{children:e}),(0,h.jsx)(I.A,{title:a("session.SeeContainerLogs"),children:(0,h.jsx)(C.Ay,{icon:(0,h.jsx)(w,{}),type:"link",onClick:()=>{n.row_id&&i(n.row_id)},style:{width:"auto",height:"auto",marginInlineStart:r.marginXXS,border:"none"}})})]})},{title:a("kernel.Status"),dataIndex:"status",render:(e,n)=>{var l;return(0,h.jsx)(h.Fragment,{children:""!==(null===n||void 0===n?void 0:n.status_info)?(0,h.jsx)(_.qnQ,{values:[{label:e,color:T().get(R,e)},{label:null===n||void 0===n?void 0:n.status_info,color:T().get(R,null!==(l=null===n||void 0===n?void 0:n.status_info)&&void 0!==l?l:"")}]}):(0,h.jsx)(L.A,{color:T().get(R,e),children:e})})}},{title:a("kernel.AgentId"),dataIndex:"agent_id",render:e=>T().isEmpty(e)?"-":(0,h.jsx)(b.A.Text,{copyable:!0,children:e})},{title:a("kernel.KernelId"),fixed:"left",dataIndex:"row_id",render:e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(b.A.Text,{copyable:!0,ellipsis:!0,children:e})})},{title:a("kernel.ContainerId"),dataIndex:"container_id",onCell:()=>({style:{maxWidth:250}}),render:e=>T().isEmpty(e)?"-":(0,h.jsx)(b.A.Text,{copyable:!0,ellipsis:!0,children:e})}]),d=(0,D.useMemo)((()=>T().orderBy((0,_.faj)(t),["cluster_role","cluster_idx"])),[t]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(_.zxw,{bordered:!0,rowKey:"id",scroll:{x:"max-content"},columns:o,dataSource:d}),(0,h.jsx)(_.XcZ,{children:(0,h.jsx)(A.A,{open:!!s,sessionFrgmt:l||null,defaultKernelId:s,onCancel:()=>{i(void 0)}})})]})},O=function(){var e={defaultValue:null,kind:"LocalArgument",name:"project_id"},n={defaultValue:null,kind:"LocalArgument",name:"sessionId"},l=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"sessionId"},{kind:"Variable",name:"project_id",variableName:"project_id"}],concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"EditableSessionNameRefetchQuery",selections:l,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"EditableSessionNameRefetchQuery",selections:l},params:{cacheID:"8b69af7860896e4611f1af57de4220c8",id:null,metadata:{},name:"EditableSessionNameRefetchQuery",operationKind:"query",text:"query EditableSessionNameRefetchQuery(\n  $sessionId: GlobalIDField!\n  $project_id: UUID!\n) {\n  compute_session_node(id: $sessionId, project_id: $project_id) {\n    id\n    name\n  }\n}\n"}}}();O.hash="8c0f641cc3f0f3d44322877d137c6fcf";const U=O,P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditableSessionNameFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priority",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],type:"ComputeSessionNode",abstractKey:null,hash:"9c053b92b568a9b132f7615d1869f32b"},z=P;var Q=l(31871),B=l(63590),q=l(93664),G=l(36961),$=l(66203),X=l(91129),H=l(18092);const W=["component","sessionFrgmt","editable","style"],Z=e=>{const n=(0,F.c)(39);let l,i,r,t,o;if(n[0]!==e){var d=e;({component:o,sessionFrgmt:r,editable:l,style:t}=d),i=(0,s.A)(d,W),n[0]=e,n[1]=l,n[2]=i,n[3]=r,n[4]=t,n[5]=o}else l=n[1],i=n[2],r=n[3],t=n[4],o=n[5];const u=void 0===o?b.A.Text:o,c=(0,E.useRelayEnvironment)(),m=(0,y.hd)();let g;n[6]===Symbol.for("react.memo_cache_sentinel")?(g=z,n[6]=g):g=n[6];const k=(0,E.useFragment)(g,r),[S,_]=(0,D.useState)(k.name),f=(0,q.f)(S),[v]=(0,p.U6)(),x=(0,Q.QE)();let K;n[7]!==x||n[8]!==k.name?(K={mutationFn:e=>x({method:"POST",url:"/session/".concat(k.name,"/rename"),body:{name:e}})},n[7]=x,n[8]=k.name,n[9]=K):K=n[9];const A=(0,B.ET)(K),{t:I}=(0,M.Bd)(),{token:C}=j.A.useToken(),{message:L}=G.A.useApp(),[N,T]=(0,D.useState)(!1);let w;n[10]===Symbol.for("react.memo_cache_sentinel")?(w=["RESTARTING","PREPARING","PREPARED","CREATING","PULLING"],n[10]=w):w=n[10];const R=!w.includes(k.status||""),V=l&&v.uuid===k.user_id&&R,O=A.isPending||S!==k.name,P=(0,D.useRef)(null);let Z;n[11]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{setTimeout((()=>{var e;null===(e=P.current)||void 0===e||e.focus()}),0)},n[11]=Z):Z=n[11];const J=Z;let Y;var ee;n[12]!==u||n[13]!==N||n[14]!==V||n[15]!==O||n[16]!==S||n[17]!==i||n[18]!==A.isPending||n[19]!==k.name||n[20]!==t||n[21]!==C?(Y=(!N||O)&&(0,h.jsx)(u,(0,a.A)((0,a.A)({ref:P,tabIndex:-1,editable:!(!V||O)&&{onStart:()=>{T(!0)},triggerType:["icon","text"]},copyable:!0,style:(0,a.A)((0,a.A)({outline:"none"},t),{},{color:O?C.colorTextTertiary:null===(ee=t)||void 0===ee?void 0:ee.color})},i),{},{children:A.isPending||S!==k.name?S:k.name})),n[12]=u,n[13]=N,n[14]=V,n[15]=O,n[16]=S,n[17]=i,n[18]=A.isPending,n[19]=k.name,n[20]=t,n[21]=C,n[22]=Y):Y=n[22];let ne,le;return n[23]!==m||n[24]!==N||n[25]!==O||n[26]!==L||n[27]!==S||n[28]!==c||n[29]!==A||n[30]!==k.id||n[31]!==k.name||n[32]!==I||n[33]!==C||n[34]!==f?(ne=N&&!O&&(0,h.jsx)($.A,{onFinish:e=>{T(!1),J(),_(e.sessionName),A.mutate(e.sessionName,{onSuccess:()=>{(0,E.fetchQuery)(c,U,{sessionId:k.id,project_id:m.id}).toPromise().catch()},onError:()=>{k.name!==e.sessionName&&L.error(I("session.FailToRenameSession"))}})},initialValues:{sessionName:k.name},style:{flex:1},children:(0,h.jsx)($.A.Item,{name:"sessionName",rules:f,validateDebounce:200,children:(0,h.jsx)(X.A,{size:"large",value:S||"",suffix:(0,h.jsx)(H.A,{style:{fontSize:"0.8em",color:C.colorTextTertiary}}),autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),T(!1),J())}})})}),n[23]=m,n[24]=N,n[25]=O,n[26]=L,n[27]=S,n[28]=c,n[29]=A,n[30]=k.id,n[31]=k.name,n[32]=I,n[33]=C,n[34]=f,n[35]=ne):ne=n[35],n[36]!==Y||n[37]!==ne?(le=(0,h.jsxs)(h.Fragment,{children:[Y,ne]}),n[36]=Y,n[37]=ne,n[38]=le):le=n[38],le};var J=l(32217);const Y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"sessionID"}],n=[{alias:"session",args:[{kind:"Variable",name:"id",variableName:"sessionID"}],concreteType:"ComputeSession",kind:"LinkedField",name:"compute_session",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idle_checks",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SessionIdleChecksQuery",selections:n,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SessionIdleChecksQuery",selections:n},params:{cacheID:"6cdc796358ac64699fe0cf2492423e18",id:null,metadata:{},name:"SessionIdleChecksQuery",operationKind:"query",text:'query SessionIdleChecksQuery(\n  $sessionID: UUID!\n) {\n  session: compute_session(id: $sessionID) {\n    id\n    idle_checks @since(version: "24.09.0")\n  }\n}\n'}}}();Y.hash="d46ba0743f1bd14d265cddaa3fbeb6c1";const ee=Y,ne={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SessionIdleChecksNodeFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idle_checks",storageKey:null}],type:"ComputeSessionNode",abstractKey:null,hash:"09a1dd685c8942ebb5c69e6dddaf6da0"},le=ne;var ae=l(1658);function se(e){let n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!l){const[n,l]=e;return n<2*l?"red":n<10*l?"orange":"green"}return"and"===l&&T().every(e,(e=>{let[l,a]=e;return l<Math.min(2*a,a+5)?(n="red",!0):l<Math.min(10*a,a+10)?(n="orange",!0):(n="green",!0)})),"or"===l&&T().some(e,(e=>{let[l,a]=e;return l<Math.min(2*a,a+5)?(n="red",!0):l<Math.min(10*a,a+10)?(n="orange",!0):(n="green",!0)})),n}function ie(e,n){return"remaining"===n?!e.remaining||e.remaining<3600?"red":e.remaining<14400?"orange":"green":e.extra&&(!e.remaining||e.remaining<14400)?se(e.extra.resources,e.extra.thresholds_check_operator):void 0}const re=e=>{let{sessionNodeFrgmt:n=null,direction:l="row",fetchKeyForLegacyLoadQuery:a}=e;const{t:s}=(0,M.Bd)(),{token:i}=j.A.useToken(),{mergedResourceSlots:r}=(0,_.Hvp)(),t=(0,E.useFragment)(le,n),{session:o}=(0,E.useLazyLoadQuery)(ee,{sessionID:(null===t||void 0===t?void 0:t.id)||""},{fetchKey:a,fetchPolicy:null!==t&&void 0!==t&&t.idle_checks?"store-only":"network-only"}),d=(0,_.NwA)((null===t||void 0===t?void 0:t.idle_checks)||(null===o||void 0===o?void 0:o.idle_checks),{fallbackValue:{}}),u=e=>s("network_timeout"===e?"session.NetworkIdleTimeout":"session_lifetime"===e?"session.MaxSessionLifetime":"session.UtilizationIdleTimeout");return(0,h.jsx)(_.OOm,{direction:l,align:"stretch",gap:"sm",children:T().map(d,((e,n)=>{var l,a;return e.remaining?(0,h.jsxs)(_.OOm,{style:{flex:1},direction:"column",align:"stretch",children:[(0,h.jsxs)(_.OOm,{gap:"xxs",children:[(0,h.jsx)(b.A.Text,{children:u(n)}),"utilization"===n&&(0,h.jsx)(I.A,{title:(0,h.jsxs)(h.Fragment,{children:["".concat(s("session.Utilization")," / ").concat(s("session.Threshold")," (%)"),(0,h.jsx)("br",{}),T().map(null===(l=e.extra)||void 0===l?void 0:l.resources,((e,n)=>{var l;const a=["cpu_util","mem"].includes(n)?T().split(n,"_")[0]:T().split(n,"_")[0]+".device",[s,t]=e;return(0,h.jsxs)(_.OOm,{gap:"xs",children:[(0,h.jsx)(b.A.Text,{style:{color:i.colorWhite},children:"".concat(null===r||void 0===r||null===(l=r[a])||void 0===l?void 0:l.human_readable_name,":")}),(0,h.jsx)(b.A.Text,{style:{color:se(e)},children:"".concat(s>=0?(0,Q.Z1)(s,1):"-"," / ").concat(t)}),(0,h.jsx)("br",{})]},n)}))]}),children:(0,h.jsx)(ae.A,{style:{color:i.colorTextSecondary,cursor:"pointer"}})})]}),e.remaining>=0?(0,h.jsx)(_.qnQ,{values:[{label:(a=e.remaining_time_type,s("expire_after"===a?"session.ExpiresAfter":"session.GracePeriod")),color:ie(e,"utilization"===n?"utilization":"remaining")},{label:(0,Q.bB)((new Date).toISOString(),new Date((new Date).getTime()+1e3*(e.remaining||0)).toISOString()),color:ie(e,"utilization"===n?"utilization":"remaining")}]}):(0,h.jsx)(b.A.Text,{type:"danger",children:s("session.TimeoutExceeded")})]},n):null}))})};var te=l(24812),oe=l(89258),de=l(74993),ue=l(59991);const ce=e=>{let n=Object.assign({},((0,ue.A)(e),e));const{t:l}=(0,M.Bd)(),{token:s}=j.A.useToken();return(0,h.jsxs)(_.IbE,(0,a.A)((0,a.A)({title:l("session.IdleChecks"),footer:null,width:700},n),{},{children:[(0,h.jsx)(b.A.Text,{children:l("session.IdleChecksDesc")}),(0,h.jsx)(b.A.Title,{level:5,children:l("session.MaxSessionLifetime")}),(0,h.jsx)("p",{children:l("session.MaxSessionLifetimeDesc")}),(0,h.jsx)(b.A.Title,{level:5,children:l("session.NetworkIdleTimeout")}),(0,h.jsx)("p",{children:l("session.NetworkIdleTimeoutDesc")}),(0,h.jsx)(b.A.Title,{level:5,children:l("session.UtilizationIdleTimeout")}),(0,h.jsx)("p",{children:l("session.UtilizationIdleTimeoutDesc")}),(0,h.jsxs)(_.OOm,{direction:"column",align:"stretch",style:{marginLeft:s.marginMD},children:[(0,h.jsx)(b.A.Title,{level:5,style:{margin:0},children:l("session.GracePeriod")}),(0,h.jsx)("p",{children:l("session.GracePeriodDesc")}),(0,h.jsx)(b.A.Title,{level:5,style:{margin:0},children:l("session.UtilizationThreshold")}),(0,h.jsx)("p",{children:l("session.UtilizationThresholdDesc")})]})]}))};var me=l(81821),ge=l(93594);const pe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"uuid"}],n=[{kind:"Variable",name:"id",variableName:"uuid"}],l={alias:null,args:null,kind:"ScalarField",name:"mounts",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MountedVFolderLinksQuery",selections:[{alias:"legacy_session",args:n,concreteType:"ComputeSession",kind:"LinkedField",name:"compute_session",plural:!1,selections:[l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MountedVFolderLinksQuery",selections:[{alias:"legacy_session",args:n,concreteType:"ComputeSession",kind:"LinkedField",name:"compute_session",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"9025af1e54e75a0d3041d0e12150939c",id:null,metadata:{},name:"MountedVFolderLinksQuery",operationKind:"query",text:"query MountedVFolderLinksQuery(\n  $uuid: UUID!\n) {\n  legacy_session: compute_session(id: $uuid) {\n    mounts\n    id\n  }\n}\n"}}}();pe.hash="f1e2ef43ac11c6b980313ddac8cd1ec9";const ye=pe,ke={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MountedVFolderLinksLegacyLazyFolderLinkFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vfolder_mounts",storageKey:null}],type:"ComputeSessionNode",abstractKey:null,hash:"72fda7ec47bcaa5e7fc83cbaabc822c6"},Fe=ke,Se={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MountedVFolderLinksFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderConnection",kind:"LinkedField",name:"vfolder_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"VirtualFolderEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FolderLink_vfolderNode"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MountedVFolderLinksLegacyLazyFolderLinkFragment"}],type:"ComputeSessionNode",abstractKey:null,hash:"f26bc04640693f4094c9a072011821b0"},_e=Se,he={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FolderLink_vfolderNode",selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"a8ea258e8c3e20439b53af93ec37be13"},fe=he;var ve=l(40720),xe=l(11341);const Ke=["vfolderNodeFragment","folderId","folderName","showIcon"],Ae=e=>{var n,l;let{vfolderNodeFragment:i,folderId:r,folderName:t,showIcon:o}=e,d=(0,s.A)(e,Ke);const{generateFolderPath:u}=(0,ve.useFolderExplorerOpener)(),c=(0,E.useFragment)(fe,i);return(0,h.jsxs)(_.rmy,(0,a.A)((0,a.A)({to:u(null!==(n=null!==r&&void 0!==r?r:null===c||void 0===c?void 0:c.row_id)&&void 0!==n?n:""),style:{wordBreak:"break-all"}},d),{},{children:[o&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(xe.A,{})," \xa0"]}),null!==(l=null!==t&&void 0!==t?t:null===c||void 0===c?void 0:c.name)&&void 0!==l?l:""]}))};var je=l(39648);const be=e=>{var n;let{sessionFrgmt:l}=e;const a=(0,t.CX)(),s=(0,E.useFragment)(_e,l);return a.supports("vfolder_nodes_in_session_node")?T().map(null===(n=s.vfolder_nodes)||void 0===n?void 0:n.edges,((e,n)=>(null===e||void 0===e?void 0:e.node)&&(0,h.jsx)(Ae,{showIcon:!0,vfolderNodeFragment:e.node},"mounted-vfolder-".concat(n)))):s.row_id?(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A.Input,{size:"small",active:!0,block:!0}),children:(0,h.jsx)(Ie,{sessionFrgmt:s})}):null},Ie=e=>{var n;let{sessionFrgmt:l}=e;const a=(0,t.CX)(),s=(0,E.useFragment)(Fe,l),{legacy_session:i}=(0,E.useLazyLoadQuery)(ye,{uuid:s.row_id||""},{fetchPolicy:s.row_id?"store-and-network":"store-only"});return a.supports("vfolder-mounts")?T().map(T().zip(null===i||void 0===i?void 0:i.mounts,null===s||void 0===s?void 0:s.vfolder_mounts),(e=>{const[n,l]=e;return(0,h.jsx)(Ae,{folderId:null!==l&&void 0!==l?l:"",folderName:null!==n&&void 0!==n?n:"",showIcon:!0},l)})):null===i||void 0===i||null===(n=i.mounts)||void 0===n?void 0:n.join(", ")};var Ce=l(54801),Le=l(78175),Ne=l(80391),Te=l(20341),we=l(52251),De=l(49969),Me=l(29268),Ee=l(82578);const Re=e=>{var n,l,a,s,i,r,o,u;let{id:m,fetchKey:F,sessionFrgmt:S,deprecatedProjectId:f}=e;const{t:x}=(0,M.Bd)(),{token:K}=j.A.useToken(),{md:A}=Te.Ay.useBreakpoint(),N=(0,y.hd)(),[w]=(0,p.U6)(),R=(0,p.Am)(),O=(0,t.CX)(),[U,P]=(0,D.useState)(!1),[z,Q]=(0,D.useState)(!1),[B,q]=(0,D.useState)("current"),[G,{toggle:$}]=(0,Ne.A)(!1),{legacy_session:X}=(0,E.useLazyLoadQuery)(g,{uuid:m},{fetchPolicy:f?"store-only":"store-or-network"}),{internalLoadedSession:H}=(0,E.useLazyLoadQuery)(c,{id:(0,_.wcZ)("ComputeSessionNode",m),project_id:(null===X||void 0===X?void 0:X.group_id)||f||N.id},{fetchPolicy:F===_.eIE?S?"store-only":"store-and-network":"network-only",fetchKey:F}),W=(0,E.useFragment)(d,H||S),Y=T().min(T().values((0,_.NwA)(null===W||void 0===W?void 0:W.idle_checks,{fallbackValue:{}})).map((e=>e.remaining)).filter(Boolean)),ee=(null===W||void 0===W?void 0:W.project_id)||(null===X||void 0===X?void 0:X.group_id);return W?(0,h.jsxs)(_.OOm,{direction:"column",gap:"lg",align:"stretch",children:[ee!==N.id&&(0,h.jsx)(we.A,{title:x("session.NotInProject"),type:"warning",showIcon:!0}),w.uuid!==(null===W||void 0===W?void 0:W.user_id)&&(0,h.jsx)(we.A,{title:x("session.AnotherUserSession"),type:"warning",showIcon:!0}),Y&&Y<3600&&(0,h.jsx)(we.A,{title:x("session.IdleCheckExpirationWarning"),type:"warning",showIcon:!0}),(0,h.jsxs)(_.OOm,{direction:"column",gap:"sm",align:"stretch",children:[(0,h.jsxs)(_.OOm,{direction:"row",justify:"between",align:"start",style:{alignSelf:"stretch"},gap:"sm",children:[(0,h.jsx)(Z,{sessionFrgmt:W,component:Ee.A,level:3,style:{margin:0,lineHeight:"1.6em",color:["TERMINATED","CANCELLED"].includes(W.status||"")?K.colorTextTertiary:void 0},editable:!["TERMINATED","CANCELLED"].includes(W.status||"")}),(0,h.jsx)(J.A,{size:"large",compact:!0,sessionFrgmt:W})]}),(0,h.jsxs)(De.A,{bordered:!0,column:A?2:1,labelStyle:{wordBreak:"keep-all"},children:[(0,h.jsx)(De.A.Item,{label:x("session.SessionId"),span:A?2:1,children:(0,h.jsx)(b.A.Text,{ellipsis:!0,copyable:!0,style:{fontFamily:"monospace"},children:W.row_id})}),("admin"===R||"superadmin"===R)&&(0,h.jsx)(De.A.Item,{label:x("credential.UserID"),span:A?2:1,children:null!==(n=W.owner)&&void 0!==n&&n.email?W.owner.email:W.user_id?(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A.Input,{size:"small",active:!0}),children:(0,h.jsx)(_.$Kb,{uuid:W.user_id})}):"-"}),(0,h.jsx)(De.A.Item,{label:x("session.Status"),children:(0,h.jsxs)(_.OOm,{children:[(0,h.jsx)(de.A,{sessionFrgmt:W,showInfo:!0}),null!==W&&void 0!==W&&W.status_data&&"{}"!==(null===W||void 0===W?void 0:W.status_data)?(0,h.jsx)(I.A,{title:x("button.ClickForMoreDetails"),children:(0,h.jsx)(C.Ay,{type:"link",icon:(0,h.jsx)(ae.A,{}),onClick:()=>{Q(!0)}})}):null]})}),(0,h.jsxs)(De.A.Item,{label:x("session.SessionType"),children:[(0,h.jsx)(_.xLA,{sessionFrgmt:W}),"batch"===W.type&&W.startup_command&&(0,h.jsx)(I.A,{title:x("session.ViewStartupCommand"),children:(0,h.jsx)(_.Fvl,{type:"link",icon:(0,h.jsx)(ae.A,{}),onClick:()=>$()})})]}),(0,h.jsx)(De.A.Item,{label:x("session.launcher.Environments"),children:null!==(l=W.kernel_nodes)&&void 0!==l&&null!==(a=l.edges[0])&&void 0!==a&&null!==(s=a.node)&&void 0!==s&&s.image?(0,h.jsx)(me.A,{imageFrgmt:(null===(i=W.kernel_nodes)||void 0===i||null===(r=i.edges[0])||void 0===r||null===(o=r.node)||void 0===o?void 0:o.image)||null}):W.row_id?(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A.Input,{size:"small",active:!0}),children:(0,h.jsx)(ge.e,{sessionId:W.row_id})}):null}),(0,h.jsx)(De.A.Item,{label:x("session.launcher.MountedFolders"),children:(0,h.jsx)(_.OOm,{gap:"xs",wrap:"wrap",children:(0,h.jsx)(be,{sessionFrgmt:W})})}),(0,h.jsx)(De.A.Item,{label:x("session.launcher.ResourceAllocation"),children:(0,h.jsxs)(_.OOm,{gap:"sm",wrap:"wrap",children:[(0,h.jsx)(I.A,{title:x("session.ResourceGroup"),children:(0,h.jsx)(L.A,{children:W.scaling_group})}),(0,h.jsx)(k.ResourceNumbersOfSession,{resource:JSON.parse(W.requested_slots||"{}")})]})}),(0,h.jsx)(De.A.Item,{label:x("session.Agent"),children:(0,h.jsx)(_.eS2,{sessionFrgmt:W})}),(0,h.jsx)(De.A.Item,{label:x("session.Reservation"),children:(0,h.jsx)(_.OOm,{gap:"xs",wrap:"wrap",children:(0,h.jsx)(te.A,{sessionFrgmt:W})})}),(0,h.jsx)(De.A.Item,{label:x("session.ClusterMode"),children:(0,h.jsx)(_.u1U,{sessionFrgmt:W,showSize:!0})}),O.supports("idle-checks-gql")&&"RUNNING"===W.status&&Y?(0,h.jsx)(De.A.Item,{label:(0,h.jsxs)(_.OOm,{gap:"xxs",children:[x("session.IdleChecks"),(0,h.jsx)(I.A,{title:x("button.ClickForMoreDetails"),children:(0,h.jsx)(Le.A,{style:{cursor:"pointer"},onClick:()=>P(!0)})})]}),span:A?2:1,children:(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A.Input,{active:!0,size:"small"}),children:(0,h.jsx)(re,{sessionNodeFrgmt:W,direction:A?"row":"column",fetchKeyForLegacyLoadQuery:F})})}):null,(0,h.jsx)(De.A.Item,{label:(0,h.jsxs)(_.OOm,{direction:"column",align:"start",gap:K.marginSM,children:[(0,h.jsx)(b.A.Text,{style:{color:K.colorTextSecondary,wordBreak:"keep-all"},children:x("session.ResourceUsage")}),(0,h.jsx)(Me.A,{size:"small",popupMatchSelectWidth:!1,style:{width:"100%",display:"none"},variant:"filled",defaultValue:"current",options:[{label:x("session.CurrentUsage"),value:"current"},{label:x("session.MaxUsage"),value:"max"},{label:x("session.AverageUsage"),value:"avg"}],onChange:e=>{q(e)}})]}),span:A?2:1,children:(0,h.jsx)(Ce.A,{sessionFrgmt:W,displayTarget:B})})]})]}),(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A,{active:!0}),children:(0,h.jsxs)(_.OOm,{direction:"column",gap:"sm",align:"stretch",children:[(0,h.jsx)(b.A.Title,{level:4,style:{margin:0},children:x("kernel.Kernels")}),(0,h.jsx)(V,{kernelsFrgmt:(0,_.faj)(null===(u=W.kernel_nodes)||void 0===u?void 0:u.edges.map((e=>null===e||void 0===e?void 0:e.node))),sessionFrgmtForLogModal:W})]})}),(0,h.jsx)(ce,{open:U,onCancel:()=>P(!1)}),(0,h.jsx)(oe.A,{sessionFrgmt:W,open:z,onCancel:()=>Q(!1)}),(0,h.jsx)(v,{open:G,language:"shell",content:W.startup_command||"",title:x("session.StartupCommand"),footer:(0,h.jsx)(C.Ay,{type:"primary",onClick:()=>{$()},children:x("button.Close")}),onCancel:$})]}):(0,h.jsx)(we.A,{showIcon:!0,title:x("session.SessionNotFound"),type:"error",description:m})};var Ve=l(12686),Oe=l(47671),Ue=l.n(Oe),Pe=l(55812);const ze=["sessionId"],Qe=e=>{let{sessionId:n}=e,l=(0,s.A)(e,ze);const{t:i}=(0,M.Bd)();(0,t.CX)();const[o,d]=(0,D.useTransition)(),[u,c]=(0,_.zui)(),m=(0,Pe.zy)(),{sessionDetailDrawerFrgmt:g,createdAt:p}=m.state||{},y=(0,E.useFragment)(r,g),k=(0,D.useMemo)((()=>p&&Ue()().diff(Ue()(p),"second")<60?y:null),[]);return(0,h.jsx)(Ve.A,(0,a.A)((0,a.A)({title:i("session.SessionInfo"),width:800,extra:(0,h.jsx)(_.u81,{loading:o,autoUpdateDelay:7e3,value:u,onChange:e=>{d((()=>{c(e)}))}})},l),{},{children:(0,h.jsx)(D.Suspense,{fallback:(0,h.jsx)(je.A,{active:!0}),children:n&&(0,h.jsx)(Re,{id:n,fetchKey:u,sessionFrgmt:k,deprecatedProjectId:null===y||void 0===y?void 0:y.project_id})})}))}}}]);
//# sourceMappingURL=4171.c7986aab.chunk.js.map