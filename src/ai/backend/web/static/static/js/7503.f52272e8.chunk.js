"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[7503],{3106:(e,t,s)=>{s.d(t,{A:()=>R});var n,i=s(56276),r=s(11863),l=s(7871),o=s(3076),a=s(62581),c=s(349),u=s(6888),d=s(33401),g=s(34326),p=s(74350),h=s(38442),m=s(31511),x=s.n(m),y=s(57506),v=s(57578);const b=(0,p.rU)((e=>{let{css:t}=e;return{baiSettingItemCheckbox:t(n||(n=(0,l.A)(["\n    .ant-checkbox {\n      align-self: flex-start;\n      margin-top: 0.2rem;\n    }\n  "])))}})),j=e=>{let{"data-testid":t,type:s,title:n,description:r,children:l,defaultValue:o,value:p,selectProps:m,onChange:y,disabled:j}=e;const{token:S}=a.A.useToken(),{styles:f}=b();return(0,v.jsxs)(h.OO,{"data-testid":t,direction:"column",align:"start",gap:"xxs",children:[(0,v.jsxs)(h.OO,{direction:"row",gap:"xxs",children:[(0,v.jsx)(c.A.Text,{strong:!0,style:{fontSize:S.fontSize},children:n}),!j&&void 0!==p&&null!==p&&o!==p&&(0,v.jsx)(u.A,{dot:!0,status:"warning"})]}),"custom"===s&&(0,v.jsxs)(h.OO,{direction:"column",gap:"xs",align:"start",style:{width:"100%"},children:[r,l]}),"checkbox"===s&&(0,v.jsx)(d.A,{checked:p,onChange:y,disabled:j,className:f.baiSettingItemCheckbox,children:(0,v.jsx)(c.A.Text,{type:j?"secondary":void 0,children:r})}),"select"===s&&(0,v.jsxs)(v.Fragment,{children:[r,(0,v.jsx)(g.A,(0,i.A)({value:p,popupMatchSelectWidth:!1,onChange:y,disabled:j,style:(0,i.A)({marginTop:S.marginXS},null===m||void 0===m?void 0:m.style)},x().omit(m,["style"])))]})]})};var S=s(12349),f=s(39999),_=s(60747),k=s(71922),A=s(32103),w=s(29326),T=s(67552),C=s(88264),O=s(14262);const P=["group","hideEmpty"];var F;const I=(0,p.rU)((e=>{let{css:t}=e;return{TabStyles:t(F||(F=(0,l.A)(["\n    .ant-tabs-tab-active {\n      font-weight: var(--token-fontWeightSuperStrong, 700);\n    }\n    .ant-typography-secondary {\n      font-weight: normal !important;\n    }\n  "])))}})),V=e=>{let{title:t,count:s}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.A.Text,{children:t}),(0,v.jsx)(c.A.Text,{type:"secondary",children:" (".concat(s,")")})]})},D=e=>{let{group:t,hideEmpty:s=!0}=e,n=(0,r.A)(e,P);const{token:l}=a.A.useToken();return(!s||0!==t.settingItems.length)&&(0,v.jsxs)(h.OO,(0,i.A)((0,i.A)({direction:"column",align:"stretch",style:{marginBottom:l.marginMD}},n),{},{children:[(0,v.jsxs)(h.OO,{direction:"column",align:"stretch",style:{zIndex:1,marginBottom:l.marginMD,background:l.colorBgContainer},children:[(0,v.jsx)(h.OO,{align:"start",justify:"between",children:(0,v.jsxs)(h.OO,{gap:"sm",align:"start",children:[(0,v.jsx)(c.A.Title,{level:5,style:{marginTop:0},children:t.title}),t.titleExtra&&(0,v.jsx)("div",{children:t.titleExtra})]})}),(0,v.jsx)(k.A,{style:{marginTop:0,marginBottom:0}}),t.description&&(0,v.jsx)(c.A.Text,{type:"secondary",style:{marginTop:l.marginSM},children:t.description})]}),(0,v.jsxs)(h.OO,{direction:"column",align:"stretch",gap:"lg",children:[t.alert,t.settingItems.map(((e,t)=>(0,v.jsx)(j,(0,i.A)({},e),e.title+t)))]})]}))},R=e=>{const t=(0,o.c)(96),{settingGroups:s,tabDirection:n,showChangedOptionFilter:r,showResetButton:l,showSearchBar:a,primaryButton:c,extraButton:u}=e,g=void 0===n?"left":n,{t:p}=(0,O.Bd)(),{styles:m}=I(),[b,j]=(0,y.useState)(""),[k,P]=(0,y.useState)(!1),[F,R]=(0,_.A)(!1),{toggle:N}=R,[q,G]=(0,y.useState)("all");let L;t[0]!==b?(L=e=>e.title.toLowerCase().includes(b.toLowerCase())||"string"===typeof e.description&&e.description.toLowerCase().includes(b.toLowerCase()),t[0]=b,t[1]=L):L=t[1];const W=L,H=M;let z,J,X,K,Y,Q,Z,$,ee,te,se,ne,ie,re,le,oe,ae,ce,ue,de,ge,pe,he,me;if(t[2]!==q||t[3]!==k||t[4]!==u||t[5]!==c||t[6]!==b||t[7]!==W||t[8]!==N||t[9]!==s||t[10]!==r||t[11]!==l||t[12]!==a||t[13]!==m.TabStyles||t[14]!==p||t[15]!==g){let e;t[28]!==k||t[29]!==W?(e=e=>(0,i.A)((0,i.A)({},e),{},{settingItems:x().filter(e.settingItems,(e=>(!k||H(e))&&W(e)))}),t[28]=k,t[29]=W,t[30]=e):e=t[30];const n=x().map(s,e);let o,y,_,C,O;J=h.OO,X="column",K="md",Y="stretch",t[31]!==b||t[32]!==a||t[33]!==p?(o=!!a&&(0,v.jsx)(A.A,{prefix:(0,v.jsx)(S.A,{}),placeholder:p("settings.SearchPlaceholder"),onChange:e=>j(e.target.value),value:b}),t[31]=b,t[32]=a,t[33]=p,t[34]=o):o=t[34],t[35]!==r||t[36]!==p?(y=!!r&&(0,v.jsx)(d.A,{onChange:e=>P(e.target.checked),style:{whiteSpace:"nowrap"},children:p("settings.ShowOnlyChanged")}),t[35]=r,t[36]=p,t[37]=y):y=t[37],t[38]!==N||t[39]!==l||t[40]!==p?(_=!!l&&(0,v.jsx)(h.Fv,{icon:(0,v.jsx)(f.A,{}),onClick:()=>N(),children:p("button.Reset")}),t[38]=N,t[39]=l,t[40]=p,t[41]=_):_=t[41],t[42]!==u||t[43]!==c||t[44]!==o||t[45]!==y||t[46]!==_?(Q=(0,v.jsxs)(h.OO,{justify:"start",gap:"xs",children:[o,y,u,_,c]}),t[42]=u,t[43]=c,t[44]=o,t[45]=y,t[46]=_,t[47]=Q):Q=t[47],z=w.A,Z=q,$=G,ee=m.TabStyles,te=g?"left":"top",t[48]===Symbol.for("react.memo_cache_sentinel")?(se={minWidth:200},t[48]=se):se=t[48],t[49]!==p?(C=p("general.All"),t[49]=p,t[50]=C):C=t[50],t[51]!==N||t[52]!==p?(O=(e,t)=>({key:"index".concat(t),label:(0,v.jsx)(V,{title:e.title,count:e.settingItems.length}),children:(0,v.jsx)(h.OO,{direction:"column",align:"stretch",gap:"xl",children:e.settingItems.length>0?(0,v.jsx)(D,{group:e,hideEmpty:!0,onReset:()=>{N()}}):(0,v.jsx)(T.A,{image:T.A.PRESENTED_IMAGE_SIMPLE,description:p("settings.NoChangesToDisplay")})})}),t[51]=N,t[52]=p,t[53]=O):O=t[53],ne=[{key:"all",label:(0,v.jsx)(V,{title:C,count:x().sumBy(n,E)}),children:(0,v.jsx)(h.OO,{direction:"column",align:"stretch",gap:"xl",children:x().sumBy(n,U)>0?x().map(n,(e=>(0,v.jsx)(D,{"data-testid":null===e||void 0===e?void 0:e["data-testid"],group:e,hideEmpty:!0,onReset:()=>{N()}},e.title))):(0,v.jsx)(T.A,{image:T.A.PRESENTED_IMAGE_SIMPLE,description:p("settings.NoChangesToDisplay")})})},...x().map(n,O)],t[2]=q,t[3]=k,t[4]=u,t[5]=c,t[6]=b,t[7]=W,t[8]=N,t[9]=s,t[10]=r,t[11]=l,t[12]=a,t[13]=m.TabStyles,t[14]=p,t[15]=g,t[16]=z,t[17]=J,t[18]=X,t[19]=K,t[20]=Y,t[21]=Q,t[22]=Z,t[23]=$,t[24]=ee,t[25]=te,t[26]=se,t[27]=ne}else z=t[16],J=t[17],X=t[18],K=t[19],Y=t[20],Q=t[21],Z=t[22],$=t[23],ee=t[24],te=t[25],se=t[26],ne=t[27];return t[54]!==z||t[55]!==Z||t[56]!==$||t[57]!==ee||t[58]!==te||t[59]!==se||t[60]!==ne?(ie=(0,v.jsx)(z,{activeKey:Z,onChange:$,className:ee,tabPosition:te,tabBarStyle:se,items:ne}),t[54]=z,t[55]=Z,t[56]=$,t[57]=ee,t[58]=te,t[59]=se,t[60]=ne,t[61]=ie):ie=t[61],t[62]!==J||t[63]!==X||t[64]!==K||t[65]!==Y||t[66]!==Q||t[67]!==ie?(re=(0,v.jsxs)(J,{direction:X,gap:K,align:Y,children:[Q,ie]}),t[62]=J,t[63]=X,t[64]=K,t[65]=Y,t[66]=Q,t[67]=ie,t[68]=re):re=t[68],t[69]!==p?(le=p("dialog.ask.DoYouWantToResetChanges"),t[69]=p,t[70]=le):le=t[70],t[71]!==p?(oe=p("button.Reset"),t[71]=p,t[72]=oe):oe=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(ae={danger:!0},t[73]=ae):ae=t[73],t[74]!==N||t[75]!==s?(ce=()=>{B(s),N()},t[74]=N,t[75]=s,t[76]=ce):ce=t[76],t[77]!==p?(ue=p("button.Cancel"),t[77]=p,t[78]=ue):ue=t[78],t[79]!==N?(de=()=>N(),t[79]=N,t[80]=de):de=t[80],t[81]!==p?(ge=p("dialog.warning.CannotBeUndone"),t[81]=p,t[82]=ge):ge=t[82],t[83]!==ge?(pe=(0,v.jsx)(C.A,{showIcon:!0,message:ge,type:"warning"}),t[83]=ge,t[84]=pe):pe=t[84],t[85]!==F||t[86]!==le||t[87]!==oe||t[88]!==ce||t[89]!==ue||t[90]!==de||t[91]!==pe?(he=(0,v.jsx)(h.Ib,{open:F,title:le,okText:oe,okButtonProps:ae,onOk:ce,cancelText:ue,onCancel:de,children:pe}),t[85]=F,t[86]=le,t[87]=oe,t[88]=ce,t[89]=ue,t[90]=de,t[91]=pe,t[92]=he):he=t[92],t[93]!==re||t[94]!==he?(me=(0,v.jsxs)(v.Fragment,{children:[re,he]}),t[93]=re,t[94]=he,t[95]=me):me=t[95],me},B=e=>{x().flatMap(e,(e=>e.settingItems)).forEach((e=>{!e.disabled&&(null===e||void 0===e?void 0:e.setValue)&&e.setValue(e.defaultValue)}))};function M(e){return null!==e.value&&void 0!==e.value&&!e.disabled&&e.value!==e.defaultValue}function E(e){return e.settingItems.length}function U(e){return e.settingItems.length}},27503:(e,t,s)=>{s.r(t),s.d(t,{default:()=>X});var n=s(56276),i=s(66448),r=s(55117),l=s(52140),o=s(34698),a=s(11542),c=s(23420),u=s(33401),d=s(38442),g=s(57506),p=s(14262),h=s(57578);const m=e=>{let{onRequestClose:t,open:s}=e;const{t:n}=(0,p.Bd)(),{message:m}=o.A.useApp(),x=(0,g.useRef)(null),[y,v]=(0,g.useState)(!1),b=(0,i.CX)(),{isFetching:j}=(0,r.nN)({queryKey:["mtu"],queryFn:async()=>{var e;const{result:t}=await b.setting.get("network/overlay/mtu");return null===(e=x.current)||void 0===e||e.setFieldsValue({mtu:t,mtu_checkbox:null===t||void 0===t||""===t}),t},enabled:s});return(0,h.jsx)(d.Ib,{open:s,title:(0,h.jsxs)(d.OO,{gap:"xxs",children:[n("settings.OverlayNetworkSettings"),(0,h.jsx)(l.A,{title:n("settings.OverlayNetworkSettingsDescription")})]}),onCancel:t,confirmLoading:y,centered:!0,width:"auto",okText:n("button.Save"),onOk:()=>{x.current&&x.current.validateFields().then((async e=>{try{if(e.mtu_checkbox){v(!0);const{result:e}=await b.setting.delete("network/overlay/mtu",!0);if("ok"!==e)throw new Error;m.success(n("notification.SuccessfullyUpdated")),t()}else{v(!0);const{result:s}=await b.setting.set("network/overlay/mtu",e.mtu);if("ok"!==s)throw new Error;m.success(n("notification.SuccessfullyUpdated")),t()}}catch(i){var s;m.error(null!==(s=null===i||void 0===i?void 0:i.message)&&void 0!==s?s:n("settings.FailedToSaveSettings"))}finally{v(!1)}})).catch((()=>{}))},cancelText:n("button.Cancel"),destroyOnHidden:!0,children:(0,h.jsx)(a.A,{ref:x,layout:"vertical",children:(0,h.jsx)(a.A.Item,{label:"MTU",tooltip:n("settings.MTUDescription"),required:!0,children:(0,h.jsxs)(d.OO,{gap:"sm",align:"center",children:[(0,h.jsx)(a.A.Item,{noStyle:!0,dependencies:["mtu_checkbox"],children:()=>{var e;return(0,h.jsx)(a.A.Item,{noStyle:!0,name:"mtu",rules:[{validator:(e,t)=>{var s;return!0===(null===(s=x.current)||void 0===s?void 0:s.getFieldValue("mtu_checkbox"))?Promise.resolve():void 0===t||null===t?Promise.reject(n("data.explorer.ValueRequired")):Promise.resolve()}}],children:(0,h.jsx)(c.A,{style:{flex:1},min:0,max:15e3,disabled:!0===(null===(e=x.current)||void 0===e?void 0:e.getFieldValue("mtu_checkbox"))||j})})}}),(0,h.jsx)(a.A.Item,{noStyle:!0,name:"mtu_checkbox",valuePropName:"checked",children:(0,h.jsx)(u.A,{disabled:j,onChange:e=>{var t;e.target.checked&&(null===(t=x.current)||void 0===t||t.setFieldsValue({mtu:null}))},children:n("settings.Unset")})})]})})})})};var x=s(62581),y=s(349),v=s(34326),b=s(53217);const j=e=>{let{onRequestClose:t,open:s}=e;const{t:n}=(0,p.Bd)(),[r,u]=(0,g.useState)(!1),[m,j]=(0,g.useState)(!1),S=(0,g.useRef)(null),{token:f}=x.A.useToken(),_=(0,i.CX)(),{message:k}=o.A.useApp();return(0,h.jsx)(d.Ib,{title:(0,h.jsxs)(d.OO,{align:"center",gap:"xxs",children:[n("settings.ConfigPerJobSchduler"),(0,h.jsx)(l.A,{title:n("settings.ConfigPerJobSchdulerDescription")})]}),confirmLoading:r,open:s,centered:!0,width:"auto",onCancel:t,onOk:()=>{S.current&&S.current.validateFields().then((async e=>{const s=e.schedulerType,i=e.num_retries_to_skip;try{if(e.num_retries_to_skip_checkbox){u(!0);const{result:e}=await _.setting.delete("plugins/scheduler/".concat(s,"/num_retries_to_skip"),!0);if("ok"!==e)throw new Error;k.success(n("notification.SuccessfullyUpdated")),t()}else{if("fifo"!==s&&"0"!==i)throw new Error(n("settings.FifoOnly"));u(!0);const{result:e}=await _.setting.set("plugins/scheduler/".concat(s,"/num_retries_to_skip"),i);if("ok"!==e)throw new Error;k.success(n("notification.SuccessfullyUpdated")),t()}}catch(l){var r;k.error(null!==(r=null===l||void 0===l?void 0:l.message)&&void 0!==r?r:n("settings.FailedToSaveSettings"))}finally{u(!1)}})).catch((()=>{}))},cancelText:n("button.Cancel"),okText:n("button.Save"),okButtonProps:{type:"primary"},destroyOnHidden:!0,children:(0,h.jsxs)(a.A,{ref:S,layout:"vertical",children:[(0,h.jsx)(a.A.Item,{label:n("settings.Scheduler"),name:"schedulerType",required:!0,rules:[{required:!0,message:n("settings.SchedulerRequired")}],extra:(0,h.jsx)(y.A.Text,{type:"secondary",style:{fontSize:f.fontSizeSM},children:n("settings.SchedulerSelectComment")}),children:(0,h.jsx)(v.A,{loading:m,popupMatchSelectWidth:!1,onChange:e=>{null!==e&&(j(!0),_.setting.get("plugins/scheduler/".concat(e,"/num_retries_to_skip")).then((e=>{var t;null===(t=S.current)||void 0===t||t.setFieldsValue({num_retries_to_skip:e.result,num_retries_to_skip_checkbox:null===e.result})})).finally((()=>{j(!1)})))},options:[{label:"FIFO",value:"fifo"},{label:"LIFO",value:"lifo"},{label:"DRF",value:"drf"}]})}),(0,h.jsxs)(d.OO,{direction:"column",align:"start",style:{width:"100%"},children:[(0,h.jsx)(y.A.Text,{strong:!0,children:n("settings.SchedulerOptions")}),(0,h.jsx)(a.A.Item,{label:n("settings.SessionCreationRetries"),required:!0,style:{width:"100%"},children:(0,h.jsxs)(d.OO,{gap:"sm",align:"center",style:{width:"100%"},children:[(0,h.jsx)(a.A.Item,{noStyle:!0,dependencies:["schedulerType","num_retries_to_skip_checkbox"],style:{width:"100%"},children:()=>{var e,t;return(0,h.jsx)(a.A.Item,{noStyle:!0,name:"num_retries_to_skip",rules:[{validator:(e,t)=>{var s;return!0===(null===(s=S.current)||void 0===s?void 0:s.getFieldValue("num_retries_to_skip_checkbox"))?Promise.resolve():void 0===t||null===t?Promise.reject(n("data.explorer.ValueRequired")):Promise.resolve()}}],children:(0,h.jsx)(c.A,{min:0,max:1e3,disabled:!0===(null===(e=S.current)||void 0===e?void 0:e.getFieldValue("num_retries_to_skip_checkbox"))||void 0===(null===(t=S.current)||void 0===t?void 0:t.getFieldValue("schedulerType"))||m,style:{flex:1}})})}}),(0,h.jsx)(a.A.Item,{noStyle:!0,dependencies:["schedulerType"],children:()=>{var e;return(0,h.jsx)(a.A.Item,{noStyle:!0,name:"num_retries_to_skip_checkbox",valuePropName:"checked",children:(0,h.jsx)(b.A,{disabled:void 0===(null===(e=S.current)||void 0===e?void 0:e.getFieldValue("schedulerType"))||m,onChange:e=>{var t;e.target.checked&&(null===(t=S.current)||void 0===t||t.setFieldsValue({num_retries_to_skip:null}))},children:n("settings.Unset")})})}})]})})]})]})})};var S=s(3106),f=s(55398),_=s(60747),k=s(86062),A=s(88264);const w={image_pulling_behavior:"digest",cuda_gpu:!1,cuda_fgpu:!1,rocm_gpu:!1,tpu:!1,ipu:!1,atom:!1,atom_plus:!1,atom_max:!1,gaudi2:!1,warboy:!1,rngd:!1,hyperaccel_lpu:!1,schedulerType:"fifo",scheduler:{num_retries_to_skip:"0"},network:{mtu:""}},T={"cuda.device":"cuda_gpu","cuda.shares":"cuda_fgpu","rocm.device":"rocm_gpu","tpu.device":"tpu","ipu.device":"ipu","atom.device":"atom","atom-plus.device":"atom_plus","atom-max.device":"atom_max","warboy.device":"warboy","rngd.device":"rngd","hyperaccel-lpu.device":"hyperaccel_lpu"},C=()=>{const{t:e}=(0,p.Bd)(),[t,{toggle:s}]=(0,_.A)(!1),[r,{toggle:l}]=(0,_.A)(!1),[a,c]=(0,g.useState)((0,n.A)({},w)),u=(0,i.CX)(),{message:d}=o.A.useApp(),x=async()=>{const{result:e}=await u.setting.get("docker/image/auto_pull");c(null===e||"digest"===e?e=>(0,n.A)((0,n.A)({},e),{},{image_pulling_behavior:"digest"}):"tag"===e?e=>(0,n.A)((0,n.A)({},e),{},{image_pulling_behavior:"tag"}):e=>(0,n.A)((0,n.A)({},e),{},{image_pulling_behavior:"none"}))},y=async t=>{if(t!==a.image_pulling_behavior)try{const{result:s}=await u.setting.set("docker/image/auto_pull",t);"ok"===s?(x(),d.success(e("notification.SuccessfullyUpdated"))):d.error(e("settings.FailedToSaveSettings"))}catch(s){d.error(e("settings.FailedToSaveSettings"))}};(0,g.useEffect)((()=>{Promise.all([x(),u.get_resource_slots().then((e=>{c((t=>(0,n.A)((0,n.A)({},t),Object.fromEntries(Object.keys(T).map((t=>[T[t],t in e]))))))}))])}),[]);const v=[{"data-testid":"settings-general",title:e("settings.General"),settingItems:[{type:"select",title:e("settings.ImagePullBehavior"),description:e("settings.DescImagePullBehavior"),selectProps:{options:[{label:e("settings.image.Digest"),value:"digest"},{label:e("settings.image.Tag"),value:"tag"},{label:e("settings.image.None"),value:"none"}]},setValue:e=>y(e),defaultValue:w.image_pulling_behavior,value:a.image_pulling_behavior,onChange:e=>y(e)},{type:"custom",title:e("settings.OverlayNetwork"),description:e("settings.OverlayNetworkConfiguration"),children:(0,h.jsx)(k.Ay,{icon:(0,h.jsx)(f.A,{}),onClick:s,children:e("settings.Config")})},{type:"custom",title:e("settings.Scheduler"),description:e("settings.SchedulerConfiguration"),children:(0,h.jsx)(k.Ay,{icon:(0,h.jsx)(f.A,{}),onClick:l,children:e("settings.Config")})}]},{"data-testid":"settings-plugins",title:e("settings.Plugins"),description:(0,h.jsx)(A.A,{message:e("settings.NoteAboutFixedSetup"),type:"info",showIcon:!0}),settingItems:[{type:"checkbox",title:e("settings.OpenSourceCudaGPUSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescCudaGPUSupport")," ",a.cuda_fgpu&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),e("settings.CUDAGPUdisabledByFGPUsupport")]})]}),value:a.cuda_gpu,defaultValue:w.cuda_gpu,disabled:!0},{type:"checkbox",title:e("settings.ROCMGPUSupport"),description:e("settings.DescRocmGPUSupport"),value:a.rocm_gpu,defaultValue:w.rocm_gpu,disabled:!0}]},{"data-testid":"settings-enterprise",title:e("settings.EnterpriseFeatures"),description:(0,h.jsx)(A.A,{message:e("settings.NoteAboutFixedSetup"),type:"info",showIcon:!0}),settingItems:[{type:"checkbox",title:e("settings.FractionalGPU"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescFractionalGPU"),(0,h.jsx)("br",{}),e("settings.RequireFGPUPlugin")]}),value:a.cuda_fgpu,defaultValue:w.cuda_fgpu,disabled:!0},{type:"checkbox",title:e("settings.TPU"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescTPU"),(0,h.jsx)("br",{}),e("settings.RequireTPUPlugin")]}),value:a.tpu,defaultValue:w.tpu,disabled:!0},{type:"checkbox",title:e("settings.IPUSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescIPUSupport"),(0,h.jsx)("br",{}),e("settings.RequireTPUPlugin")]}),value:a.ipu,defaultValue:w.ipu,disabled:!0},{type:"checkbox",title:e("settings.ATOMSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescATOMSupport"),(0,h.jsx)("br",{}),e("settings.RequireATOMPlugin")]}),value:a.atom,defaultValue:w.atom,disabled:!0},{type:"checkbox",title:e("settings.ATOMPlusSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescATOMPlusSupport"),(0,h.jsx)("br",{}),e("settings.RequireATOMPlusPlugin")]}),value:a.atom_plus,defaultValue:w.atom_plus,disabled:!0},{type:"checkbox",title:e("settings.ATOMMaxSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescATOMMaxSupport"),(0,h.jsx)("br",{}),e("settings.RequireATOMMaxPlugin")]}),value:a.atom_max,defaultValue:w.atom_max,disabled:!0},{type:"checkbox",title:e("settings.Gaudi2Support"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescGaudi2Support"),(0,h.jsx)("br",{}),e("settings.RequireGaudi2Plugin")]}),value:a.gaudi2,defaultValue:w.gaudi2,disabled:!0},{type:"checkbox",title:e("settings.WarboySupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescWarboySupport"),(0,h.jsx)("br",{}),e("settings.RequireWarboyPlugin")]}),value:a.warboy,defaultValue:w.warboy,disabled:!0},{type:"checkbox",title:e("settings.RNGDSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescRNGDSupport"),(0,h.jsx)("br",{}),e("settings.RequireRNGDPlugin")]}),value:a.rngd,defaultValue:w.rngd,disabled:!0},{type:"checkbox",title:e("settings.HyperaccelLPUSupport"),description:(0,h.jsxs)(h.Fragment,{children:[e("settings.DescHyperaccelLPUSupport"),(0,h.jsx)("br",{}),e("settings.RequireHyperaccelLPUPlugin")]}),value:a.hyperaccel_lpu,defaultValue:w.hyperaccel_lpu,disabled:!0}]}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S.A,{settingGroups:v,showSearchBar:!0,showChangedOptionFilter:!0,showResetButton:!0}),(0,h.jsx)(m,{onRequestClose:s,open:t}),(0,h.jsx)(j,{onRequestClose:l,open:r})]})};var O=s(50071),P=s(80097),F=s(73297),I=s(57179),V=s(30532),D=s(3076),R=s(72361),B=s(97815),M=s(95449),E=s(31511),U=s.n(E),N=s(81466),q=s(88553);const G=e=>{const t=(0,D.c)(47),{tokenName:s}=e,{t:i}=(0,p.Bd)(),{token:r}=x.A.useToken(),[l,o]=(0,q.q)("custom_theme_config"),a=(0,N.M)();let c;var u;t[0]!==a||t[1]!==s||t[2]!==l?(c=null===(u=U().get(l,"light.".concat(s))||U().get(a,"light.".concat(s)))||void 0===u?void 0:u.toString(),t[0]=a,t[1]=s,t[2]=l,t[3]=c):c=t[3];const g=c;let m;var y;t[4]!==a||t[5]!==s||t[6]!==l?(m=null===(y=U().get(l,"dark.".concat(s))||U().get(a,"dark.".concat(s)))||void 0===y?void 0:y.toString(),t[4]=a,t[5]=s,t[6]=l,t[7]=m):m=t[7];const v=m;let b,j,S,f,_,k,A,w,T,C,O,P,F,I,V;return t[8]===Symbol.for("react.memo_cache_sentinel")?(b={alignSelf:"stretch"},t[8]=b):b=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(j=[16,4],t[9]=j):j=t[9],t[10]!==r.colorTextTertiary?(S={color:r.colorTextTertiary},t[10]=r.colorTextTertiary,t[11]=S):S=t[11],t[12]!==i?(f=i("userSettings.LightMode"),t[12]=i,t[13]=f):f=t[13],t[14]!==o||t[15]!==a||t[16]!==s||t[17]!==l?(_=e=>{const t=e.toHexString(),i=U().cloneDeep((0,n.A)((0,n.A)({},a),l));U().set(i,"light.".concat(s),t),o(i)},t[14]=o,t[15]=a,t[16]=s,t[17]=l,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(k={minWidth:110},t[19]=k):k=t[19],t[20]!==g||t[21]!==_?(A=(0,h.jsx)(R.A,{format:"hex",showText:!0,value:g,onChangeComplete:_,style:k}),t[20]=g,t[21]=_,t[22]=A):A=t[22],t[23]!==S||t[24]!==f||t[25]!==A?(w=(0,h.jsx)(B.A,{xl:6,lg:24,children:(0,h.jsxs)(d.OO,{gap:"sm",style:S,wrap:"wrap",children:[f,":",A]})}),t[23]=S,t[24]=f,t[25]=A,t[26]=w):w=t[26],t[27]!==r.colorTextTertiary?(T={color:r.colorTextTertiary},t[27]=r.colorTextTertiary,t[28]=T):T=t[28],t[29]!==i?(C=i("userSettings.DarkMode"),t[29]=i,t[30]=C):C=t[30],t[31]!==o||t[32]!==a||t[33]!==s||t[34]!==l?(O=e=>{const t=e.toHexString(),i=U().cloneDeep((0,n.A)((0,n.A)({},a),l));U().set(i,"dark.".concat(s),t),o(i)},t[31]=o,t[32]=a,t[33]=s,t[34]=l,t[35]=O):O=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(P={minWidth:110},t[36]=P):P=t[36],t[37]!==v||t[38]!==O?(F=(0,h.jsx)(R.A,{format:"hex",showText:!0,value:v,onChangeComplete:O,style:P}),t[37]=v,t[38]=O,t[39]=F):F=t[39],t[40]!==T||t[41]!==C||t[42]!==F?(I=(0,h.jsx)(B.A,{xl:6,lg:24,children:(0,h.jsxs)(d.OO,{gap:"sm",style:T,wrap:"wrap",children:[C,":",F]})}),t[40]=T,t[41]=C,t[42]=F,t[43]=I):I=t[43],t[44]!==w||t[45]!==I?(V=(0,h.jsx)(d.OO,{align:"stretch",direction:"column",style:b,children:(0,h.jsxs)(M.A,{gutter:j,children:[w,I]})}),t[44]=w,t[45]=I,t[46]=V):V=t[46],V};var L=s(8383),W=s(97737);const H=()=>{const{t:e}=(0,p.Bd)(),{message:t}=o.A.useApp(),[s,n]=(0,q.q)("custom_theme_config"),i=[{"data-testid":"group-theme-customization",title:e("userSettings.Theme"),titleExtra:(0,h.jsx)(d.Fv,{size:"small",action:async()=>{const e=window.open(window.location.origin,"_blank");null===e||void 0===e||e.sessionStorage.setItem("isThemePreviewMode","true"),null===e||void 0===e||e.location.reload()},children:e("userSettings.theme.Preview")}),settingItems:[{type:"custom",title:e("userSettings.theme.PrimaryColor"),description:e("userSettings.theme.PrimaryColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorPrimary"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.HeaderBg"),description:e("userSettings.theme.HeaderBgDesc"),children:(0,h.jsx)(G,{tokenName:"components.Layout.headerBg"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.LinkColor"),description:e("userSettings.theme.LinkColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorLink"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.InfoColor"),description:e("userSettings.theme.InfoColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorInfo"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.ErrorColor"),description:e("userSettings.theme.ErrorColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorError"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.SuccessColor"),description:e("userSettings.theme.SuccessColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorSuccess"}),defaultValue:{},setValue:n},{type:"custom",title:e("userSettings.theme.TextColor"),description:e("userSettings.theme.TextColorDesc"),children:(0,h.jsx)(G,{tokenName:"token.colorText"}),defaultValue:{},setValue:n}]}];return(0,h.jsxs)(d.OO,{direction:"column",gap:"md",align:"stretch",children:[(0,h.jsx)(V.A,{description:e("userSettings.theme.CustomThemeSettingAlert"),type:"warning",showIcon:!0}),(0,h.jsx)(S.A,{showSearchBar:!0,showResetButton:!0,settingGroups:i,primaryButton:(0,h.jsx)(d.Fv,{type:"primary",icon:(0,h.jsx)(L.A,{}),action:async()=>{if(U().isEmpty(s))return void t.error(e("userSettings.theme.NoChangesMade"));const n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"});(0,W.WN)(n,"theme.json")},children:e("theme.button.ExportToJson")})})]})};var z=s(74483);const J=(0,z.withDefault)(z.StringParam,"configurations"),X=()=>{const{t:e}=(0,p.Bd)(),[t,s]=(0,z.useQueryParam)("tab",J),[n]=(0,O.A)("isThemePreviewMode",{defaultValue:!1});return(0,h.jsx)(P.A,{activeTabKey:t,onTabChange:e=>s(e),tabList:(0,d.YM)([{key:"configurations",tab:e("webui.menu.Configurations")},!n&&{key:"branding",tab:e("webui.menu.Branding")}]),children:(0,h.jsxs)(g.Suspense,{fallback:(0,h.jsx)(F.A,{active:!0}),children:["configurations"===t&&(0,h.jsx)(I.A,{children:(0,h.jsx)(C,{})}),"branding"===t&&(0,h.jsx)(I.A,{children:(0,h.jsx)(H,{})})]})})}}}]);
//# sourceMappingURL=7503.f52272e8.chunk.js.map