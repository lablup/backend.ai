"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[234,519],{35519:(e,n,a)=>{a.r(n),a.d(n,{default:()=>z});var t,i,r,l=a(30032),s=a(83468),o=a(21454),d=a(9016),u=a(25339),c=a(24717),g=a(90214),m=a(65080),y=a(36209),p=a(87627),f=a(30217),k=a(45901),h=a.n(k),v=a(76998),b=a(77678),C=a(3606),x=a(23446);const j=e=>{var n;let{existingHostnames:l,containerRegistryFrgmt:s=null,onOk:o,...d}=e;const{t:k}=(0,b.Bd)(),j=(0,v.useRef)(null),[R,A]=c.Ay.useMessage(),[F,S]=g.A.useModal(),_=(0,C.useFragment)(void 0!==t?t:t=a(8869),s),[K,w]=(0,C.useMutation)(void 0!==i?i:i=a(47858)),[M,L]=(0,C.useMutation)(void 0!==r?r:r=a(7772)),T=async()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.validateFields().then((e=>{const n={hostname:e.hostname,props:{url:e.config.url,type:e.config.type,project:"docker"===e.config.project?void 0:e.config.project,username:h().isEmpty(e.config.username)?null:e.config.username,password:e.isChangedPassword?h().isEmpty(e.config.password)?null:e.config.password:void 0}};_?(e.isChangedPassword||delete n.props.password,M({variables:n,onCompleted:(e,n)=>{n?R.error(k("dialog.ErrorOccurred")):o&&o("modify")},onError:e=>{R.error(k("dialog.ErrorOccurred"))}})):K({variables:n,onCompleted:(e,n)=>{n?R.error(k("dialog.ErrorOccurred")):o&&o("create")},onError(e){R.error(k("dialog.ErrorOccurred"))}})})).catch((e=>{}))};return(0,x.jsxs)(u.A,{title:k(_?"registry.ModifyRegistry":"registry.AddRegistry"),okText:k(_?"button.Save":"button.Add"),confirmLoading:w||L,onOk:()=>{var e;null===(e=j.current)||void 0===e||e.validateFields().then((e=>{var n;h().includes(null===(n=e.config)||void 0===n?void 0:n.type,"harbor")&&(h().isEmpty(e.config.username)||(_?e.isChangedPassword&&h().isEmpty(e.config.password):h().isEmpty(e.config.password)))?F.confirm({title:k("button.Confirm"),content:k("registry.ConfirmNoUserName"),onOk:()=>{T()}}):T()})).catch((()=>{}))},...d,destroyOnClose:!0,children:[A,S,(0,x.jsxs)(m.A,{ref:j,layout:"vertical",requiredMark:"optional",initialValues:_?{..._,config:{..._.config,project:(null===(n=_.config)||void 0===n?void 0:n.project)||void 0}}:{config:{type:"docker"}},preserve:!1,children:[(0,x.jsx)(m.A.Item,{label:k("registry.Hostname"),name:"hostname",required:!0,rules:[{required:!0,message:k("registry.DescHostnameIsEmpty"),pattern:new RegExp("^.+$")},{validator:(e,n)=>!_&&null!==l&&void 0!==l&&l.includes(n)?Promise.reject(k("registry.RegistryHostnameAlreadyExists")):Promise.resolve()}],children:(0,x.jsx)(y.A,{disabled:!!_,value:(null===_||void 0===_?void 0:_.hostname)||void 0})}),(0,x.jsx)(m.A.Item,{name:["config","url"],label:k("registry.RegistryURL"),required:!0,rules:[{required:!0},{validator:(e,n)=>{if(n){if(!n.startsWith("http://")&&!n.startsWith("https://"))return Promise.reject(k("registry.DescURLStartString"));try{new URL(n)}catch(a){return Promise.reject(k("registry.DescURLFormat"))}}return Promise.resolve()}}],children:(0,x.jsx)(y.A,{})}),(0,x.jsx)(m.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>{var a,t;return h().isEmpty(null===(a=e.config)||void 0===a?void 0:a.password)!==h().isEmpty(null===(t=n.config)||void 0===t?void 0:t.password)},children:e=>{let{validateFields:n,getFieldValue:a}=e;return n([["config","username"]]),(0,x.jsx)(m.A.Item,{name:["config","username"],label:k("registry.Username"),rules:[{required:!h().isEmpty(a(["config","password"]))}],children:(0,x.jsx)(y.A,{})})}}),(0,x.jsxs)(m.A.Item,{label:k("registry.Password"),children:[(0,x.jsx)(m.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>e.isChangedPassword!==n.isChangedPassword,children:e=>{let{getFieldValue:n}=e;return(0,x.jsx)(m.A.Item,{noStyle:!0,name:["config","password"],children:(0,x.jsx)(y.A.Password,{disabled:!h().isEmpty(_)&&!n("isChangedPassword")})})}}),!h().isEmpty(_)&&(0,x.jsx)(m.A.Item,{noStyle:!0,name:"isChangedPassword",valuePropName:"checked",children:(0,x.jsx)(p.A,{onChange:e=>{var n;e.target.checked||(null===(n=j.current)||void 0===n||n.setFieldValue(["config","password"],""))},children:k("webui.menu.ChangePassword")})})]}),(0,x.jsx)(m.A.Item,{name:["config","type"],label:k("registry.RegistryType"),required:!0,rules:[{required:!0,message:k("registry.PleaseSelectOption")}],children:(0,x.jsx)(f.A,{options:[{value:"docker"},{value:"harbor"},{value:"harbor2"}],onChange:()=>{}})}),(0,x.jsx)(m.A.Item,{shouldUpdate:(e,n)=>{var a,t;return(null===e||void 0===e||null===(a=e.config)||void 0===a?void 0:a.type)!==(null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.type)},noStyle:!0,children:e=>{let{getFieldValue:n}=e;return"docker"!==n(["config","type"])&&(0,x.jsx)(m.A.Item,{name:["config","project"],label:k("registry.ProjectName"),required:!0,rules:[{required:!0,message:k("registry.ProjectNameIsRequired")}],children:(0,x.jsx)(f.A,{mode:"tags",open:!1,tokenSeparators:[","," "],suffixIcon:null})})}})]})]})};var R=a(29871),A=a(93792),F=a(5336),S=a(63718),_=a(97041),K=a(58168);const w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var M=a(76228),L=function(e,n){return v.createElement(M.A,(0,K.A)({},e,{ref:n,icon:w}))};const T=v.forwardRef(L);var E,D,I,P=a(22424),V=a(50840),O=a(20307),N=a(6932),q=a(14862),$=a(48713),U=a(82745),H=a(99825);const z=e=>{let{style:n}=e;const t=(0,s.CX)(),[i,r]=(0,s.Tw)("initial-fetch"),[g,p]=(0,v.useTransition)(),f=(0,d.b)(),[k,K]=c.Ay.useMessage(),{upsertNotification:w}=(0,o.js)(),{container_registries:M,domain:L}=(0,C.useLazyLoadQuery)(void 0!==E?E:E=a(27067),{domain:t._config.domainName},{fetchPolicy:"store-and-network",fetchKey:i}),[z,B]=(0,C.useMutation)(void 0!==D?D:D=a(45341)),[Q,W]=(0,C.useMutation)(void 0!==I?I:I=a(80754)),{t:X}=(0,b.Bd)(),{token:G}=V.A.useToken(),[J,Y]=(0,v.useState)(null),[Z,ee]=(0,v.useState)(null),[ne,ae]=(0,v.useState)(""),[te,ie]=(0,v.useState)(!1),[re,le]=(0,v.useState)();return(0,x.jsxs)(R.A,{direction:"column",align:"stretch",style:{flex:1,...n},children:[K,(0,x.jsxs)(R.A,{direction:"row",justify:"end",gap:"sm",style:{padding:G.paddingSM},children:[(0,x.jsx)(O.A,{title:X("button.Refresh"),children:(0,x.jsx)(N.Ay,{loading:g,icon:(0,x.jsx)(A.A,{}),onClick:()=>{p((()=>{r()}))}})}),(0,x.jsx)(N.Ay,{type:"primary",icon:(0,x.jsx)(F.A,{}),onClick:()=>{ie(!0)},children:X("registry.AddRegistry")})]}),(0,x.jsx)(q.A,{rowKey:e=>e.id,scroll:{x:"max-content"},pagination:!1,columns:[{title:X("registry.Hostname"),dataIndex:"hostname"},{title:X("registry.RegistryURL"),dataIndex:["config","url"]},{title:X("registry.Type"),dataIndex:["config","type"]},{title:X("registry.HarborProject"),render:(e,n)=>{var a;return h().map(null===(a=n.config)||void 0===a?void 0:a.project,(e=>(0,x.jsx)($.A,{children:e||""},e)))}},{title:X("registry.Username"),dataIndex:["config","username"]},{title:X("registry.Password"),dataIndex:["config","password"]},{title:X("general.Enabled"),render:(e,n)=>{const a=h().includes(null===L||void 0===L?void 0:L.allowed_docker_registries,n.hostname);return(0,x.jsx)(U.A,{checked:re===n.hostname+i?!a:a,disabled:g||W,loading:re===n.hostname+i,onChange:e=>{if(!h().isString(n.hostname))return;let a=h().clone((null===L||void 0===L?void 0:L.allowed_docker_registries)||[]);e?a.push(n.hostname):a=h().without(a,n.hostname),le(n.hostname+i),Q({variables:{domain:t._config.domainName,allowed_docker_registries:a},onCompleted:n=>{p((()=>{r()})),k.info({key:"registry-enabled",content:X(e?"registry.RegistryTurnedOn":"registry.RegistryTurnedOff")})}})}})}},{title:X("general.Control"),fixed:"right",render:(e,n,a)=>(0,x.jsxs)(R.A,{children:[(0,x.jsx)(O.A,{title:X("button.Edit"),children:(0,x.jsx)(N.Ay,{size:"large",style:{color:G.colorInfo},type:"text",icon:(0,x.jsx)(S.A,{}),onClick:()=>{Y(n)}})}),(0,x.jsx)(O.A,{title:X("button.Delete"),children:(0,x.jsx)(N.Ay,{size:"large",danger:!0,type:"text",icon:(0,x.jsx)(_.A,{}),onClick:()=>{ee(n)}})}),(0,x.jsx)(O.A,{title:X("maintenance.RescanImages"),children:(0,x.jsx)(N.Ay,{size:"large",type:"text",icon:(0,x.jsx)(T,{onClick:()=>{n.hostname&&(async e=>{const n=w({message:"".concat(e," ").concat(X("maintenance.RescanImages")),description:X("registry.UpdatingRegistryInfo"),open:!0,backgroundTask:{status:"pending"},duration:0});t.maintenance.rescan_images(e).then((e=>{let{rescan_images:a}=e;a.ok?w({key:n,backgroundTask:{status:"pending",percent:0,taskId:a.task_id,statusDescriptions:{pending:X("registry.RescanImages"),resolved:X("registry.RegistryUpdateFinished"),rejected:X("registry.RegistryUpdateFailed")}}}):w({key:n,backgroundTask:{status:"rejected"},duration:1})})).catch((e=>{console.log(e),w({key:n,backgroundTask:{status:"rejected"},duration:1}),e&&e.message&&(globalThis.lablupNotification.text=f.relieve(e.title),globalThis.lablupNotification.detail=e.message,globalThis.lablupNotification.show(!0,e))}))})(n.hostname)}})})})]})}],dataSource:(0,l.tS)(M)}),(0,x.jsx)(j,{containerRegistryFrgmt:J,existingHostnames:h().map(M,(e=>(null===e||void 0===e?void 0:e.hostname)||"")),open:!!J||te,onOk:e=>{"create"===e?(r(),k.info(X("registry.RegistrySuccessfullyAdded"))):"modify"===e&&k.info(X("registry.RegistrySuccessfullyModified")),Y(null),ie(!1)},onCancel:()=>{Y(null),ie(!1)},centered:!1}),(0,x.jsx)(u.A,{title:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(P.A,{style:{color:G.colorWarning}})," ",X("dialog.warning.CannotBeUndone")]}),okText:X("button.Delete"),okButtonProps:{danger:!0,disabled:ne!==(null===Z||void 0===Z?void 0:Z.hostname)},onOk:()=>{Z?z({variables:{hostname:Z.hostname||""},onCompleted:(e,n)=>{n?(ee(null),k.error({key:"registry-deletion-failed",content:X("dialog.ErrorOccurred")})):(p((()=>{r()})),k.info({key:"registry-deleted",content:X("registry.RegistrySuccessfullyDeleted")}),ee(null))},onError:e=>{k.error({key:"registry-deletion-failed",content:X("dialog.ErrorOccurred")})}}):ee(null)},confirmLoading:B,onCancel:()=>{ee(null)},destroyOnClose:!0,open:!!Z,children:(0,x.jsxs)(R.A,{direction:"column",align:"stretch",gap:"sm",style:{marginTop:G.marginMD},children:[(0,x.jsxs)(H.A.Text,{children:[(0,x.jsx)(H.A.Text,{code:!0,children:null===Z||void 0===Z?void 0:Z.hostname})," ",X("registry.TypeRegistryNameToDelete")]}),(0,x.jsx)(m.A,{children:(0,x.jsx)(m.A.Item,{name:"confirmText",rules:[{required:!0,message:X("registry.HostnameDoesNotMatch"),validator:async()=>ne===(null===Z||void 0===Z?void 0:Z.hostname)?Promise.resolve():Promise.reject()}],children:(0,x.jsx)(y.A,{autoComplete:"off",value:ne,onChange:e=>ae(e.target.value)})})})]})})]})}},47858:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"CreateContainerRegistry",kind:"LinkedField",name:"create_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalCreateMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryEditorModalCreateMutation",selections:n},params:{cacheID:"f076fed995ef5122c04aaba2b76d22d5",id:null,metadata:{},name:"ContainerRegistryEditorModalCreateMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalCreateMutation(\n  $hostname: String!\n  $props: CreateContainerRegistryInput!\n) {\n  create_container_registry(hostname: $hostname, props: $props) {\n    container_registry {\n      id\n      hostname\n      config {\n        url\n        type\n        project\n        username\n        password\n        ssl_verify\n      }\n    }\n  }\n}\n"}}}();t.hash="547863dc03f9faf465e8a26175e5a101";const i=t},8869:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],type:"ContainerRegistry",abstractKey:null,hash:"57f748e00ec698f8b3e133570e377c71"},i=t},7772:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyContainerRegistry",kind:"LinkedField",name:"modify_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalModifyMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryEditorModalModifyMutation",selections:n},params:{cacheID:"5157cbd573b855028a9856c295dab17c",id:null,metadata:{},name:"ContainerRegistryEditorModalModifyMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalModifyMutation(\n  $hostname: String!\n  $props: ModifyContainerRegistryInput!\n) {\n  modify_container_registry(hostname: $hostname, props: $props) {\n    container_registry {\n      id\n      hostname\n      config {\n        url\n        type\n        project\n        username\n        password\n        ssl_verify\n      }\n    }\n  }\n}\n"}}}();t.hash="0fe59a8682e5d7c502bc48da7cc3320a";const i=t},45341:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"}],concreteType:"DeleteContainerRegistry",kind:"LinkedField",name:"delete_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryListDeleteMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryListDeleteMutation",selections:n},params:{cacheID:"4482108b7e256e27225f91b432f0a856",id:null,metadata:{},name:"ContainerRegistryListDeleteMutation",operationKind:"mutation",text:"mutation ContainerRegistryListDeleteMutation(\n  $hostname: String!\n) {\n  delete_container_registry(hostname: $hostname) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();t.hash="131801c7f9561f645743bbbe4b464676";const i=t},80754:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"allowed_docker_registries"},n={defaultValue:null,kind:"LocalArgument",name:"domain"},a=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"},{fields:[{kind:"Variable",name:"allowed_docker_registries",variableName:"allowed_docker_registries"}],kind:"ObjectValue",name:"props"}],concreteType:"ModifyDomain",kind:"LinkedField",name:"modify_domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerRegistryListDomainMutation",selections:a,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerRegistryListDomainMutation",selections:a},params:{cacheID:"569e278934331792cc007f79e8e4c44c",id:null,metadata:{},name:"ContainerRegistryListDomainMutation",operationKind:"mutation",text:"mutation ContainerRegistryListDomainMutation(\n  $domain: String!\n  $allowed_docker_registries: [String]!\n) {\n  modify_domain(name: $domain, props: {allowed_docker_registries: $allowed_docker_registries}) {\n    ok\n  }\n}\n"}}}();t.hash="d8730f4ae61e895ec64fb03e53998b97";const i=t},27067:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null},d={alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"}],concreteType:"Domain",kind:"LinkedField",name:"domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_docker_registries",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryListQuery",selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registries",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ContainerRegistryEditorModalFragment"},n,a,{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[t,i,r,l,s,o],storageKey:null}],storageKey:null},d],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryListQuery",selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registries",plural:!0,selections:[n,a,{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[t,i,r,l,o,s],storageKey:null}],storageKey:null},d]},params:{cacheID:"9f9e16fde586191ea3e0ae553f834b51",id:null,metadata:{},name:"ContainerRegistryListQuery",operationKind:"query",text:"query ContainerRegistryListQuery(\n  $domain: String!\n) {\n  container_registries {\n    ...ContainerRegistryEditorModalFragment\n    id\n    hostname\n    config {\n      url\n      type\n      project\n      username\n      password\n      ssl_verify\n    }\n  }\n  domain(name: $domain) {\n    name\n    allowed_docker_registries\n  }\n}\n\nfragment ContainerRegistryEditorModalFragment on ContainerRegistry {\n  id\n  hostname\n  config {\n    url\n    type\n    project\n    username\n    ssl_verify\n  }\n}\n"}}}();t.hash="0f4709e3ecfb8366c214098902385269";const i=t},27234:(e,n,a)=>{a.r(n),a.d(n,{default:()=>c});var t=a(35519),i=a(29871),r=a(83468),l=a(50840),s=a(12982),o=a(76998),d=a(77678),u=a(23446);const c=()=>{const{t:e}=(0,d.Bd)(),[n,a]=(0,o.useState)("imageList"),c=(0,r.CX)(),g=c.supports("container-registry-gql"),{token:m}=l.A.useToken();return(0,u.jsxs)(s.A,{activeTabKey:n,onTabChange:e=>a(e),tabList:[{key:"imageList",label:e("environment.Images")},{key:"presetList",label:e("environment.ResourcePresets")},...c.is_superadmin?[{key:"registryList",label:e("environment.Registries")}]:[]],styles:{body:{padding:0,paddingTop:1,overflow:"hidden"}},children:[(0,u.jsx)(i.A,{style:{display:"imageList"===n?"block":"none",paddingTop:m.paddingContentVerticalSM},children:(0,u.jsx)("backend-ai-environment-list",{active:"imageList"===n})}),(0,u.jsx)(i.A,{style:{display:"presetList"===n?"block":"none",paddingTop:m.paddingContentVerticalSM},children:(0,u.jsx)("backend-ai-resource-preset-list",{active:"presetList"===n})}),(0,u.jsx)(i.A,{style:{display:"registryList"===n?"block":"none",height:"calc(100vh - 145px)"},children:g?"registryList"===n?(0,u.jsx)(o.Suspense,{children:(0,u.jsx)(t.default,{})}):null:(0,u.jsx)("backend-ai-registry-list",{active:"registryList"===n})})]})}},97041:(e,n,a)=>{a.d(n,{A:()=>o});var t=a(58168),i=a(76998);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var l=a(76228),s=function(e,n){return i.createElement(l.A,(0,t.A)({},e,{ref:n,icon:r}))};const o=i.forwardRef(s)}}]);
//# sourceMappingURL=234.d9bbef42.chunk.js.map