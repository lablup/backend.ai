"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4399,5414],{41215:(e,n,a)=>{a.d(n,{A:()=>o});var r=a(85730),t=a(87246),i=a(92240),l=a(79569);const o=e=>{let{value:n,onChange:a,language:o="shell",editable:s=!1,showLineNumbers:d=!0,lineWrapping:u=!1,...c}=e;const[m,g]=(0,r.A)({defaultValue:"",value:n,onChange:a}),y=[(0,t.rI)(o)];return(0,l.jsx)(i.Ay,{theme:"dark",extensions:u?[i.Lz.lineWrapping,...y]:y,editable:s,readOnly:!s,basicSetup:{lineNumbers:d},value:m,onChange:(e,n)=>g(e),...c})}},8570:(e,n,a)=>{a.d(n,{Ay:()=>_});a(72375);var r=a(85730),t=a(72338),i=a(72932),l=a(72757),o=a(66596),s=a(171),d=a(47543),u=a(2556),c=a(5975),m=a(1364),g=a(25913),y=a(99142),p=a(46976),v=a.n(p),f=a(55093),h=a(33364),k=a(79569);const b={string:"ilike",boolean:"=="},x={boolean:[{label:"True",value:"true"},{label:"False",value:"false"}],string:void 0},A={boolean:!0};const _=e=>{var n;let{filterProperties:a,value:p,onChange:_,defaultValue:j,loading:S,...C}=e;const[R,w]=(0,r.A)({}),M=(0,f.useRef)(null),[F,L]=(0,f.useState)(!1),[$,I]=(0,r.A)({value:p,defaultValue:j,onChange:_}),K=(0,f.useMemo)((()=>{if(void 0===$)return[];return $.split("&").map((e=>e.trim())).map((e=>{var n,r;const{property:t,operator:i,value:l}=function(e){const[n,...a]=e.split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/),[r,...t]=a.join(" ").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);return{property:n,operator:r,value:t.join(" ").replace(/^"|"$/g,"")}}(e);return{property:t,operator:i,value:l,propertyLabel:(null===(n=v().find(a,(e=>e.key===t)))||void 0===n?void 0:n.propertyLabel)||t,type:(null===(r=v().find(a,(e=>e.key===t)))||void 0===r?void 0:r.type)||"string"}}))}),[$,a]),{t:V}=(0,h.Bd)(),N=v().map(a,(e=>({label:e.propertyLabel,value:e.key,filter:e}))),[T,E]=(0,f.useState)(N[0].filter),{list:P,remove:D,push:O,resetList:z,getKey:q}=(0,l.A)(K),{token:B}=o.A.useToken(),[U,W]=(0,f.useState)(!0),[H,Q]=(0,f.useState)(!1);(0,f.useEffect)((()=>{if(0===P.length)I(void 0);else{const n=v().map(P,(e=>{const n="string"===e.type?`"${e.value}"`:e.value;return`${e.property} ${e.operator} ${n}`}));I((e="&",n.join(` ${e} `)))}var e}),[P,I]);const X=e=>{var n,a,r;if(v().isEmpty(e))return;if(T.strictSelection||A[T.type]){if(!v().find(T.options||x[T.type],(n=>n.value===e)))return}const t=!(null!==(n=T.rule)&&void 0!==n&&n.validate)||T.rule.validate(e);if(W(t),!t)return;w("");const i=T.defaultOperator||b[T.type],l="ilike"===i||"like"===i?`%${e}%`:`${e}`;O({property:T.key,propertyLabel:T.propertyLabel,operator:i,value:l,label:null===(a=T.options)||void 0===a||null===(r=a.find((n=>n.value===e)))||void 0===r?void 0:r.label,type:T.type})};return(0,k.jsxs)(t.A,{direction:"column",gap:"xs",style:{flex:1},align:"start",children:[(0,k.jsxs)(s.A.Compact,{children:[(0,k.jsx)(d.A,{popupMatchSelectWidth:!1,options:N,value:T.key,onChange:(e,n)=>{E(v().castArray(n)[0].filter)},onSelect:()=>{var e;null===(e=M.current)||void 0===e||e.focus(),L(!0),W(!0)},showSearch:!0,optionFilterProp:"label"}),(0,k.jsx)(u.A,{title:U||!H?"":null===(n=T.rule)||void 0===n?void 0:n.message,open:!U&&H,color:B.colorError,children:(0,k.jsx)(c.A,{ref:M,value:R,open:F,onDropdownVisibleChange:L,onSelect:X,onChange:e=>{W(!0),w(e)},style:{minWidth:200},options:v().filter(T.options||x[T.type],(e=>{var n;return!!v().isEmpty(R)||(null===(n=e.label)||void 0===n?void 0:n.toString().includes(R))})),placeholder:V("propertyFilter.PlaceHolder"),onBlur:()=>{Q(!1)},onFocus:()=>{Q(!0)},children:(0,k.jsx)(m.A.Search,{onSearch:X,allowClear:!0,status:!U&&H?"error":void 0})})})]}),P.length>0&&(0,k.jsxs)(t.A,{direction:"row",gap:"xs",wrap:"wrap",style:{alignSelf:"stretch"},children:[v().map(P,((e,n)=>{return(0,k.jsxs)(g.A,{closable:!0,onClose:()=>{D(n)},style:{margin:0},children:[e.propertyLabel,":"," ",e.label||(a=e.value,a.replace(/^%|%$/g,""))]},q(n));var a})),P.length>1&&(0,k.jsx)(u.A,{title:V("propertyFilter.ResetFilter"),children:(0,k.jsx)(y.Ay,{size:"small",icon:(0,k.jsx)(i.A,{style:{color:B.colorTextSecondary}}),type:"text",onClick:()=>{z([])}})})]})]})}},8699:(e,n,a)=>{a.d(n,{A:()=>y});var r=a(35415),t=a(8656),i=a(77946),l=a(46976),o=a.n(l),s=a(55093),d=a(64613),u=a(79569);const c=(0,i.rU)((e=>{let{token:n,css:a}=e;return{resizableTable:a`
    .react-resizable-handle {
      position: absolute;
      inset-inline-end: 0px;
      bottom: 0;
      z-index: 1;
      width: 10px;
      height: 100%;
      cursor: col-resize;
    }
    .ant-table-cell {
      overflow: hidden;
      whitespace: 'pre';
      wordwrap: 'break-word';
    }
  `}})),m=e=>{const{onResize:n,width:a,onClick:t,...i}=e,l=(0,s.useRef)(null),[c,m]=(0,s.useState)(!1),g=(0,r.A)(c,{wait:100});return(0,s.useEffect)((()=>{l.current&&o().isUndefined(a)&&(null===n||void 0===n||n(void 0,{size:{width:l.current.offsetWidth,height:l.current.offsetHeight},node:l.current,handle:"e"}))})),o().isUndefined(a)?(0,u.jsx)("th",{ref:l,...i}):(0,u.jsx)(d.Resizable,{width:a,height:0,handle:(0,u.jsx)("span",{className:"react-resizable-handle",onClick:e=>{e.stopPropagation()}}),onResize:n,onResizeStart:()=>{m(!0)},onResizeStop:()=>{m(!1)},draggableOpts:{enableUserSelectHack:!1},children:(0,u.jsx)("th",{onClick:e=>{g?e.preventDefault():null===t||void 0===t||t(e)},...i})})},g=(e,n)=>e.key||`index_${n}`,y=e=>{let{resizable:n=!1,columns:a,components:r,...i}=e;const{styles:l}=c(),[d,y]=(0,s.useState)((e=>{const n={};return o().each(e,((e,a)=>{n[g(e,a)]=e.width})),n})(a)),p=(0,s.useMemo)((()=>n?o().map(a,((e,n)=>({...e,width:d[g(e,n)]||e.width,onHeaderCell:e=>({width:e.width,onResize:(a,r)=>{let{size:t}=r;y((a=>({...a,[g(e,n)]:t.width})))}})}))):a),[n,a,d]);return(0,u.jsx)(t.A,{sortDirections:["descend","ascend","descend"],showSorterTooltip:!1,className:n?l.resizableTable:"",components:n?o().merge(r||{},{header:{cell:m}}):r,columns:p,...i})}},1017:(e,n,a)=>{a.d(n,{A:()=>w});var r,t,i,l,o,s,d,u=a(23441),c=a(97094),m=a(41215),g=a(88543),y=a(72338),p=a(9328),v=a(66596),f=a(67089),h=a(79597),k=a(1364),b=a(88221),x=a(47543),A=a(46976),_=a.n(A),j=a(55093),S=a(33364),C=a(63821),R=a(79569);const w=e=>{let{containerRegistryFrgmt:n=null,onOk:A,...w}=e;const{t:M}=(0,S.Bd)(),{token:F}=v.A.useToken(),{isDarkMode:L}=(0,c.e)(),{message:$,modal:I}=f.A.useApp(),K=(0,u.CX)().isManagerVersionCompatibleWith("24.09.3"),V=(0,j.useRef)(null),N=(0,C.useFragment)(void 0!==r?r:r=a(22798),n),[T,E]=function(){const e=(0,u.CX)(),n=e.isManagerVersionCompatibleWith("24.09.3"),[r,l]=(0,C.useMutation)(void 0!==t?t:t=a(47633)),[o,s]=(0,C.useMutation)(void 0!==i?i:i=a(33983));return n?[r,l]:[o,s]}(),[P,D]=function(){const e=(0,u.CX)(),n=e.isManagerVersionCompatibleWith("24.09.3"),[r,t]=(0,C.useMutation)(void 0!==l?l:l=a(88167)),[i,c]=(0,C.useMutation)(void 0!==o?o:o=a(30017)),[m,g]=(0,C.useMutation)(void 0!==s?s:s=a(42414)),[y,p]=(0,C.useMutation)(void 0!==d?d:d=a(97907));return[(e,a)=>(!a&&"password"in e.variables&&delete e.variables.password,n?a?r(e):m(e):a?i(e):y(e)),t||c||g||p]}(),O=async()=>{var e;return null===(e=V.current)||void 0===e?void 0:e.validateFields().then((e=>{var n;let a={id:e.row_id,registry_name:e.registry_name,url:e.url,type:e.type,project:e.project,username:_().isEmpty(e.username)?null:e.username,password:e.isChangedPassword||!N?_().isEmpty(e.password)?null:e.password:void 0,extra:_().isEmpty(e.extra)?null:JSON.stringify(JSON.parse(null!==(n=e.extra)&&void 0!==n?n:"{}"))};var r;N?P({variables:{...a,...a.id?{id:a.id}:{id:""}},onCompleted:(e,n)=>{var a;if(_().isEmpty(null===(a=e.modify_container_registry_node)||void 0===a?void 0:a.container_registry))$.error(M("dialog.ErrorOccurred"));else if(n&&n.length>0){const e=_().map(n,(e=>e.message));for(const n of e)$.error(n,2.5)}else A&&A("modify")},onError:e=>{$.error(M("dialog.ErrorOccurred"))}},null!==(r=e.isChangedPassword)&&void 0!==r&&r):(a=_().omitBy(a,_().isNil),T({variables:a,onCompleted:(e,n)=>{var a;if(_().isEmpty(null===e||void 0===e||null===(a=e.create_container_registry_node)||void 0===a?void 0:a.container_registry))$.error(M("dialog.ErrorOccurred"));else if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=_().map(n,(e=>e.message));for(const n of e)$.error(n,2.5)}else A&&A("create")},onError(e){$.error(M("dialog.ErrorOccurred"))}}))})).catch((e=>{}))};return(0,R.jsx)(g.A,{title:M(N?"registry.ModifyRegistry":"registry.AddRegistry"),okText:M(N?"button.Save":"button.Add"),confirmLoading:E||D,onOk:()=>{var e;null===(e=V.current)||void 0===e||e.validateFields().then((e=>{_().includes(null===e||void 0===e?void 0:e.type,"harbor")&&(_().isEmpty(e.username)||(N?e.isChangedPassword&&_().isEmpty(e.password):_().isEmpty(e.password)))?I.confirm({title:M("button.Confirm"),content:M("registry.ConfirmNoUserName"),onOk:()=>{O()}}):O()})).catch((()=>{}))},...w,destroyOnClose:!0,children:(0,R.jsxs)(h.A,{ref:V,layout:"vertical",requiredMark:"optional",initialValues:N?{...N,extra:null!==N&&void 0!==N&&N.extra?JSON.stringify(JSON.parse(null===N||void 0===N?void 0:N.extra),null,2):""}:{},preserve:!1,children:[N&&(0,R.jsx)(p.A,{name:"row_id",value:N.row_id}),(0,R.jsx)(h.A.Item,{label:M("registry.RegistryName"),name:"registry_name",required:!0,rules:[{required:!0,message:M("registry.DescRegistryNameIsEmpty"),pattern:new RegExp("^.+$")},{type:"string",max:50,message:M("maxLength.50chars")}],children:(0,R.jsx)(k.A,{disabled:!!N,value:(null===N||void 0===N?void 0:N.registry_name)||void 0})}),(0,R.jsx)(h.A.Item,{name:"url",label:M("registry.RegistryURL"),required:!0,rules:[{required:!0},{validator:(e,n)=>{if(n){if(!n.startsWith("http://")&&!n.startsWith("https://"))return Promise.reject(M("registry.DescURLStartString"));try{new URL(n)}catch(a){return Promise.reject(M("registry.DescURLFormat"))}}return Promise.resolve()}},{type:"string",max:512,message:M("maxLength.512chars")}],children:(0,R.jsx)(k.A,{})}),(0,R.jsx)(h.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>_().isEmpty(null===e||void 0===e?void 0:e.password)!==_().isEmpty(null===n||void 0===n?void 0:n.password),children:e=>{let{validateFields:n,getFieldValue:a}=e;return n(["username"]),(0,R.jsx)(h.A.Item,{name:"username",label:M("registry.Username"),rules:[{required:!_().isEmpty(a("password"))},{type:"string",max:255,message:M("maxLength.255chars")}],children:(0,R.jsx)(k.A,{})})}}),(0,R.jsxs)(h.A.Item,{label:M("registry.Password"),children:[(0,R.jsx)(h.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>e.isChangedPassword!==n.isChangedPassword,children:e=>{let{getFieldValue:n}=e;return(0,R.jsx)(h.A.Item,{noStyle:!0,name:"password",children:(0,R.jsx)(k.A.Password,{disabled:!_().isEmpty(N)&&!n("isChangedPassword")})})}}),!_().isEmpty(N)&&(0,R.jsx)(h.A.Item,{noStyle:!0,name:"isChangedPassword",valuePropName:"checked",children:(0,R.jsx)(b.A,{onChange:e=>{var n;e.target.checked||(null===(n=V.current)||void 0===n||n.setFieldValue("password",""))},children:M("webui.menu.ChangePassword")})})]}),(0,R.jsx)(h.A.Item,{name:"type",label:M("registry.RegistryType"),required:!0,rules:[{required:!0,message:M("registry.PleaseSelectOption")}],children:(0,R.jsx)(x.A,{options:[{value:"docker"},{value:"harbor"},{value:"harbor2"},{value:"github"},{value:"gitlab"},{value:"ecr"},{value:"ecr-public"}]})}),(0,R.jsx)(h.A.Item,{shouldUpdate:(e,n)=>(null===e||void 0===e?void 0:e.type)!==(null===n||void 0===n?void 0:n.type),noStyle:!0,children:e=>{let{getFieldValue:n}=e;return(0,R.jsx)(h.A.Item,{name:"project",label:M("registry.ProjectName"),required:!0,rules:[{required:!0,message:M("registry.ProjectNameIsRequired")},{type:"string",max:255,message:M("maxLength.255chars")}],children:(0,R.jsx)(k.A,{allowClear:!0})})}}),K&&(0,R.jsx)(h.A.Item,{label:M("registry.ExtraInformation"),children:(0,R.jsx)(y.A,{style:{border:`1px solid ${F.colorBorder}`,borderRadius:F.borderRadius,overflow:"hidden"},children:(0,R.jsx)(h.A.Item,{name:"extra",noStyle:!0,rules:[{validator:(e,n)=>{if(n)try{JSON.parse(n)}catch(a){return Promise.reject(M("registry.DescExtraJsonFormat"))}return Promise.resolve()}}],children:(0,R.jsx)(m.A,{editable:!0,language:"json",theme:L?"dark":"light",style:{width:"100%"}})})})})]})})}},79579:(e,n,a)=>{a.a(e,(async(e,r)=>{try{a.d(n,{A:()=>q});var t,i,l,o=a(72375),s=a(23441),d=a(54690),u=a(25905),c=a(53767),m=a(57613),g=a(88543),y=a(8570),p=a(1017),v=a(72338),f=a(74325),h=a(61539),k=a(57893),b=a(8181),x=a(99159),A=a(43605),_=a(68260),j=a(6606),S=a(11956),C=a(67089),R=a(66596),w=a(25913),M=a(47149),F=a(2556),L=a(99142),$=a(8656),I=a(12221),K=a(79597),V=a(1364),N=a(46976),T=a.n(N),E=a(55093),P=a(33364),D=a(63821),O=a(79569),z=e([c]);c=(z.then?(await z)():z)[0];const q=e=>{var n;let{style:r}=e;const N=(0,s.CX)(),[z,q]=(0,s.Tw)("first"),[B,U]=(0,E.useTransition)(),W=(0,m.b)(),{message:H}=C.A.useApp(),{upsertNotification:Q}=(0,u.js)(),[X,J]=(0,E.useTransition)(),[Y,G]=(0,E.useTransition)(),[Z,ee]=(0,E.useState)(),[ne,{toggle:ae}]=(0,S.A)(),{baiPaginationOption:re,tablePaginationOption:te,setTablePaginationOption:ie}=(0,d.w4)({current:1,pageSize:20}),[le,oe]=(0,E.useState)(),{container_registry_nodes:se,domain:de}=(0,D.useLazyLoadQuery)(void 0!==t?t:t=a(29544),{domain:N._config.domainName,filter:Z,order:le,first:re.limit,offset:re.offset},{fetchPolicy:"first"===z?"store-and-network":"network-only",fetchKey:z}),ue=T().map(null===se||void 0===se?void 0:se.edges,"node"),[ce,me]=(0,D.useMutation)(void 0!==i?i:i=a(65692)),[ge,ye]=(0,D.useMutation)(void 0!==l?l:l=a(31343)),{t:pe}=(0,P.Bd)(),{token:ve}=R.A.useToken(),[fe,he]=(0,E.useState)(),[ke,be]=(0,E.useState)(),[xe,Ae]=(0,E.useState)(""),[_e,je]=(0,E.useState)(!1),[Se,Ce]=(0,E.useState)(),Re=[{key:"registry_name",title:pe("registry.RegistryName"),dataIndex:"registry_name",sorter:!0},{key:"url",title:pe("registry.RegistryURL"),dataIndex:"url"},{key:"type",title:pe("registry.Type"),dataIndex:"type"},{key:"project",title:pe("registry.Project"),dataIndex:"project",render:e=>(0,O.jsx)(w.A,{children:e||""},e||"")},{key:"username",title:pe("registry.Username"),dataIndex:"username"},{key:"password",title:pe("registry.Password"),dataIndex:"password"},{key:"enabled",title:pe("general.Enabled"),render:(e,n)=>{const a=T().includes(null===de||void 0===de?void 0:de.allowed_docker_registries,n.registry_name);return(0,O.jsx)(M.A,{checked:Se===n.id+z?!a:a,disabled:B||ye,loading:(B||ye)&&Se===n.id+z,onChange:e=>{if(!T().isString(n.registry_name))return;let a=T().clone((null===de||void 0===de?void 0:de.allowed_docker_registries)||[]);e?a.push(n.registry_name):a=T().without(a,n.registry_name),Ce(n.id+z),ge({variables:{domain:N._config.domainName,allowed_docker_registries:a},onCompleted:(n,a)=>{var r;if(null!==n&&void 0!==n&&null!==(r=n.modify_domain)&&void 0!==r&&r.ok){if(a&&(null===a||void 0===a?void 0:a.length)>0){const e=T().map(a,(e=>e.message));for(const n of e)H.error(n,2.5)}else U((()=>{q()}));H.info({key:"registry-enabled",content:pe(e?"registry.RegistryTurnedOn":"registry.RegistryTurnedOff")})}else{var t;H.error(null===n||void 0===n||null===(t=n.modify_domain)||void 0===t?void 0:t.msg)}}})}})}},{title:pe("general.Control"),fixed:"right",render:(e,n,a)=>(0,O.jsxs)(v.A,{children:[(0,O.jsx)(F.A,{title:pe("button.Edit"),children:(0,O.jsx)(L.Ay,{size:"large",style:{color:ve.colorInfo},type:"text",icon:(0,O.jsx)(h.A,{}),onClick:()=>{he(n)}})}),(0,O.jsx)(F.A,{title:pe("button.Delete"),children:(0,O.jsx)(L.Ay,{size:"large",danger:!0,type:"text",icon:(0,O.jsx)(k.A,{}),onClick:()=>{be(n)}})}),(0,O.jsx)(F.A,{title:pe("maintenance.RescanImages"),children:(0,O.jsx)(L.Ay,{size:"large",type:"text",icon:(0,O.jsx)(b.A,{onClick:()=>{n.registry_name&&(async e=>{const n=Q({message:`${e} ${pe("maintenance.RescanImages")}`,description:pe("registry.UpdatingRegistryInfo"),open:!0,backgroundTask:{status:"pending"},duration:0});N.maintenance.rescan_images(e).then((e=>{let{rescan_images:a}=e;a.ok?Q({key:n,backgroundTask:{status:"pending",percent:0,taskId:a.task_id,statusDescriptions:{pending:pe("registry.RescanImages"),resolved:pe("registry.RegistryUpdateFinished"),rejected:pe("registry.RegistryUpdateFailed")}}}):Q({key:n,backgroundTask:{status:"rejected"},duration:1})})).catch((e=>{console.log(e),Q({key:n,backgroundTask:{status:"rejected"},duration:1}),e&&e.message&&(globalThis.lablupNotification.text=W.relieve(e.title),globalThis.lablupNotification.detail=e.message,globalThis.lablupNotification.show(!0,e))}))})(n.registry_name)}})})})]})}],[we,Me]=(0,c.a)("ContainerRegistryList");return(0,O.jsxs)(v.A,{direction:"column",align:"stretch",style:{flex:1,...r},children:[(0,O.jsxs)(v.A,{direction:"row",justify:"end",gap:"sm",style:{padding:ve.paddingContentVertical,paddingLeft:ve.paddingContentHorizontalSM,paddingRight:ve.paddingContentHorizontalSM},children:[(0,O.jsx)(y.Ay,{filterProperties:[{key:"registry_name",propertyLabel:pe("registry.RegistryName"),type:"string"}],value:Z,onChange:e=>{J((()=>{ee(e)}))}}),(0,O.jsx)(F.A,{title:pe("button.Refresh"),children:(0,O.jsx)(L.Ay,{loading:B,icon:(0,O.jsx)(x.A,{}),onClick:()=>{U((()=>{q()}))}})}),(0,O.jsx)(L.Ay,{type:"primary",icon:(0,O.jsx)(A.A,{}),onClick:()=>{je(!0)},children:pe("registry.AddRegistry")})]}),(0,O.jsx)($.A,{rowKey:e=>e.id,scroll:{x:"max-content"},showSorterTooltip:!1,pagination:{pageSize:te.pageSize,showSizeChanger:!0,total:null!==(n=null===se||void 0===se?void 0:se.count)&&void 0!==n?n:0,current:te.current,showTotal:(e,n)=>`${n[0]}-${n[1]} of ${e} items`,pageSizeOptions:["10","20","50"],style:{marginRight:ve.marginXS}},onChange:(e,n,a)=>{let{pageSize:r,current:t}=e;G((()=>{T().isNumber(t)&&T().isNumber(r)&&ie({current:t,pageSize:r}),oe((0,o.Wh)(a))}))},loading:{spinning:Y||X,indicator:(0,O.jsx)(_.A,{})},dataSource:(0,o.tS)(ue),columns:T().filter(Re,(e=>!T().includes(we,T().toString(null===e||void 0===e?void 0:e.key))))}),(0,O.jsx)(p.A,{containerRegistryFrgmt:fe,open:!!fe||_e,onOk:e=>{"create"===e?H.info({key:"registry-added",content:pe("registry.RegistrySuccessfullyAdded")}):"modify"===e&&H.info({key:"registry-modified",content:pe("registry.RegistrySuccessfullyModified")}),q(),he(null),je(!1)},onCancel:()=>{he(null),je(!1)},centered:!1}),(0,O.jsx)(g.A,{title:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(j.A,{style:{color:ve.colorWarning}})," ",pe("dialog.warning.CannotBeUndone")]}),okText:pe("button.Delete"),okButtonProps:{danger:!0,disabled:xe!==(null===ke||void 0===ke?void 0:ke.registry_name)},onOk:()=>{ke?ce({variables:{id:ke.id},onCompleted:(e,n)=>{n?(be(null),H.error({key:"registry-deletion-failed",content:pe("dialog.ErrorOccurred")})):(U((()=>{q()})),H.info({key:"registry-deleted",content:pe("registry.RegistrySuccessfullyDeleted")}),be(null))},onError:e=>{H.error({key:"registry-deletion-failed",content:pe("dialog.ErrorOccurred")})}}):be(null)},confirmLoading:me,onCancel:()=>{be(null)},destroyOnClose:!0,open:!!ke,children:(0,O.jsxs)(v.A,{direction:"column",align:"stretch",gap:"sm",style:{marginTop:ve.marginMD},children:[(0,O.jsxs)(I.A.Text,{children:[(0,O.jsx)(I.A.Text,{code:!0,children:null===ke||void 0===ke?void 0:ke.registry_name})," ",pe("registry.TypeRegistryNameToDelete")]}),(0,O.jsx)(K.A,{children:(0,O.jsx)(K.A.Item,{name:"confirmText",rules:[{required:!0,message:pe("registry.HostnameDoesNotMatch"),validator:()=>xe===(null===ke||void 0===ke?void 0:ke.registry_name)?Promise.resolve():Promise.reject()}],children:(0,O.jsx)(V.A,{autoComplete:"off",value:xe,onChange:e=>Ae(e.target.value)})})})]})}),(0,O.jsx)(v.A,{justify:"end",style:{padding:ve.paddingXXS},children:(0,O.jsx)(L.Ay,{type:"text",icon:(0,O.jsx)(h.A,{}),onClick:()=>{ae()}})}),(0,O.jsx)(f.A,{open:ne,onRequestClose:e=>{(null===e||void 0===e?void 0:e.selectedColumnKeys)&&Me(T().difference(Re.map((e=>T().toString(e.key))),null===e||void 0===e?void 0:e.selectedColumnKeys)),ae()},columns:Re,hiddenColumnKeys:we})]})};r()}catch(q){r(q)}}))},30395:(e,n,a)=>{a.d(n,{A:()=>D});var r,t,i,l=a(72375),o=a(23441),s=a(25905),d=a(57613),u=a(88543),c=a(67089),m=a(79597),g=a(1364),y=a(88221),p=a(47543),v=a(46976),f=a.n(v),h=a(55093),k=a(33364),b=a(63821),x=a(79569);const A=e=>{var n;let{existingHostnames:l,containerRegistryFrgmt:o=null,onOk:s,...d}=e;const{t:v}=(0,k.Bd)(),A=(0,h.useRef)(null),{message:_,modal:j}=c.A.useApp(),S=(0,b.useFragment)(void 0!==r?r:r=a(89596),o),[C,R]=(0,b.useMutation)(void 0!==t?t:t=a(86887)),[w,M]=(0,b.useMutation)(void 0!==i?i:i=a(55365)),F=async()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.validateFields().then((e=>{const n={hostname:e.hostname,props:{url:e.config.url,type:e.config.type,project:"docker"===e.config.project?void 0:e.config.project,username:f().isEmpty(e.config.username)?null:e.config.username,password:e.isChangedPassword?f().isEmpty(e.config.password)?null:e.config.password:void 0}};S?(e.isChangedPassword||delete n.props.password,w({variables:n,onCompleted:(e,n)=>{var a;if(f().isEmpty(null===(a=e.modify_container_registry)||void 0===a?void 0:a.container_registry))_.error(v("dialog.ErrorOccurred"));else if(n&&n.length>0){const e=f().map(n,(e=>e.message));for(const n of e)_.error(n,2.5)}else s&&s("modify")},onError:e=>{_.error(v("dialog.ErrorOccurred"))}})):C({variables:n,onCompleted:(e,n)=>{var a;if(f().isEmpty(null===e||void 0===e||null===(a=e.create_container_registry)||void 0===a?void 0:a.container_registry))_.error(v("dialog.ErrorOccurred"));else if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=f().map(n,(e=>e.message));for(const n of e)_.error(n,2.5)}else s&&s("create")},onError(e){_.error(v("dialog.ErrorOccurred"))}})})).catch((e=>{}))};return(0,x.jsx)(u.A,{title:v(S?"registry.ModifyRegistry":"registry.AddRegistry"),okText:v(S?"button.Save":"button.Add"),confirmLoading:R||M,onOk:()=>{var e;null===(e=A.current)||void 0===e||e.validateFields().then((e=>{var n;f().includes(null===(n=e.config)||void 0===n?void 0:n.type,"harbor")&&(f().isEmpty(e.config.username)||(S?e.isChangedPassword&&f().isEmpty(e.config.password):f().isEmpty(e.config.password)))?j.confirm({title:v("button.Confirm"),content:v("registry.ConfirmNoUserName"),onOk:()=>{F()}}):F()})).catch((()=>{}))},...d,destroyOnClose:!0,children:(0,x.jsxs)(m.A,{ref:A,layout:"vertical",requiredMark:"optional",initialValues:S?{...S,config:{...S.config,project:(null===(n=S.config)||void 0===n?void 0:n.project)||void 0}}:{config:{type:"docker"}},preserve:!1,children:[(0,x.jsx)(m.A.Item,{label:v("registry.Hostname"),name:"hostname",required:!0,rules:[{required:!0,message:v("registry.DescHostnameIsEmpty"),pattern:new RegExp("^.+$")},{validator:(e,n)=>!S&&null!==l&&void 0!==l&&l.includes(n)?Promise.reject(v("registry.RegistryHostnameAlreadyExists")):Promise.resolve()}],children:(0,x.jsx)(g.A,{disabled:!!S,value:(null===S||void 0===S?void 0:S.hostname)||void 0})}),(0,x.jsx)(m.A.Item,{name:["config","url"],label:v("registry.RegistryURL"),required:!0,rules:[{required:!0},{validator:(e,n)=>{if(n){if(!n.startsWith("http://")&&!n.startsWith("https://"))return Promise.reject(v("registry.DescURLStartString"));try{new URL(n)}catch(a){return Promise.reject(v("registry.DescURLFormat"))}}return Promise.resolve()}},{type:"string",max:512,message:v("maxLength.512chars")}],children:(0,x.jsx)(g.A,{})}),(0,x.jsx)(m.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>{var a,r;return f().isEmpty(null===(a=e.config)||void 0===a?void 0:a.password)!==f().isEmpty(null===(r=n.config)||void 0===r?void 0:r.password)},children:e=>{let{validateFields:n,getFieldValue:a}=e;return n([["config","username"]]),(0,x.jsx)(m.A.Item,{name:["config","username"],label:v("registry.Username"),rules:[{required:!f().isEmpty(a(["config","password"]))},{type:"string",max:255,message:v("maxLength.255chars")}],children:(0,x.jsx)(g.A,{})})}}),(0,x.jsxs)(m.A.Item,{label:v("registry.Password"),children:[(0,x.jsx)(m.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>e.isChangedPassword!==n.isChangedPassword,children:e=>{let{getFieldValue:n}=e;return(0,x.jsx)(m.A.Item,{noStyle:!0,name:["config","password"],children:(0,x.jsx)(g.A.Password,{disabled:!f().isEmpty(S)&&!n("isChangedPassword")})})}}),!f().isEmpty(S)&&(0,x.jsx)(m.A.Item,{noStyle:!0,name:"isChangedPassword",valuePropName:"checked",children:(0,x.jsx)(y.A,{onChange:e=>{var n;e.target.checked||(null===(n=A.current)||void 0===n||n.setFieldValue(["config","password"],""))},children:v("webui.menu.ChangePassword")})})]}),(0,x.jsx)(m.A.Item,{name:["config","type"],label:v("registry.RegistryType"),required:!0,rules:[{required:!0,message:v("registry.PleaseSelectOption")}],children:(0,x.jsx)(p.A,{options:[{value:"docker"},{value:"harbor"},{value:"harbor2"}],onChange:()=>{}})}),(0,x.jsx)(m.A.Item,{shouldUpdate:(e,n)=>{var a,r;return(null===e||void 0===e||null===(a=e.config)||void 0===a?void 0:a.type)!==(null===n||void 0===n||null===(r=n.config)||void 0===r?void 0:r.type)},noStyle:!0,children:e=>{let{getFieldValue:n}=e;return"docker"!==n(["config","type"])&&(0,x.jsx)(m.A.Item,{name:["config","project"],label:v("registry.ProjectName"),required:!0,rules:[{required:!0,message:v("registry.ProjectNameIsRequired")},{validator:(e,n,a)=>(f().map(n,(e=>{if(e.length>255)return Promise.reject(v("maxLength.255chars"))})),Promise.resolve())}],children:(0,x.jsx)(p.A,{mode:"tags",open:!1,tokenSeparators:[","," "],suffixIcon:null})})}})]})})};var _,j,S,C=a(72338),R=a(99159),w=a(43605),M=a(61539),F=a(57893),L=a(8181),$=a(6606),I=a(66596),K=a(2556),V=a(99142),N=a(8656),T=a(25913),E=a(47149),P=a(12221);const D=e=>{let{style:n}=e;const r=(0,o.CX)(),[t,i]=(0,o.Tw)("initial-fetch"),[y,p]=(0,h.useTransition)(),v=(0,d.b)(),{message:D}=c.A.useApp(),{upsertNotification:O}=(0,s.js)(),{container_registries:z,domain:q}=(0,b.useLazyLoadQuery)(void 0!==_?_:_=a(87122),{domain:r._config.domainName},{fetchPolicy:"store-and-network",fetchKey:t}),[B,U]=(0,b.useMutation)(void 0!==j?j:j=a(25102)),[W,H]=(0,b.useMutation)(void 0!==S?S:S=a(93233)),{t:Q}=(0,k.Bd)(),{token:X}=I.A.useToken(),[J,Y]=(0,h.useState)(null),[G,Z]=(0,h.useState)(null),[ee,ne]=(0,h.useState)(""),[ae,re]=(0,h.useState)(!1),[te,ie]=(0,h.useState)();return(0,x.jsxs)(C.A,{direction:"column",align:"stretch",style:{flex:1,...n},children:[(0,x.jsxs)(C.A,{direction:"row",justify:"end",gap:"sm",style:{padding:X.paddingContentVertical,paddingLeft:X.paddingContentHorizontalSM,paddingRight:X.paddingContentHorizontalSM},children:[(0,x.jsx)(K.A,{title:Q("button.Refresh"),children:(0,x.jsx)(V.Ay,{loading:y,icon:(0,x.jsx)(R.A,{}),onClick:()=>{p((()=>{i()}))}})}),(0,x.jsx)(V.Ay,{type:"primary",icon:(0,x.jsx)(w.A,{}),onClick:()=>{re(!0)},children:Q("registry.AddRegistry")})]}),(0,x.jsx)(N.A,{rowKey:e=>e.id,scroll:{x:"max-content"},pagination:!1,columns:[{title:Q("registry.Hostname"),dataIndex:"hostname"},{title:Q("registry.RegistryURL"),dataIndex:["config","url"]},{title:Q("registry.Type"),dataIndex:["config","type"]},{title:Q("registry.HarborProject"),dataIndex:["config","project"],render:(e,n)=>f().map(e,(e=>(0,x.jsx)(T.A,{children:e||""},e||"")))},{title:Q("registry.Username"),dataIndex:["config","username"]},{title:Q("registry.Password"),dataIndex:["config","password"]},{title:Q("general.Enabled"),render:(e,n)=>{const a=f().includes(null===q||void 0===q?void 0:q.allowed_docker_registries,n.hostname);return(0,x.jsx)(E.A,{checked:te===n.hostname+t?!a:a,disabled:y||H,loading:(y||H)&&te===n.hostname+t,onChange:e=>{if(!f().isString(n.hostname))return;let a=f().clone((null===q||void 0===q?void 0:q.allowed_docker_registries)||[]);e?a.push(n.hostname):a=f().without(a,n.hostname),ie(n.hostname+t),W({variables:{domain:r._config.domainName,allowed_docker_registries:a},onCompleted:(n,a)=>{var r;if(null!==n&&void 0!==n&&null!==(r=n.modify_domain)&&void 0!==r&&r.ok){if(a&&(null===a||void 0===a?void 0:a.length)>0){const e=f().map(a,(e=>e.message));for(const n of e)D.error(n,2.5)}else p((()=>{i()}));D.info({key:"registry-enabled",content:Q(e?"registry.RegistryTurnedOn":"registry.RegistryTurnedOff")})}else{var t;D.error(null===n||void 0===n||null===(t=n.modify_domain)||void 0===t?void 0:t.msg)}}})}})}},{title:Q("general.Control"),fixed:"right",render:(e,n,a)=>(0,x.jsxs)(C.A,{children:[(0,x.jsx)(K.A,{title:Q("button.Edit"),children:(0,x.jsx)(V.Ay,{size:"large",style:{color:X.colorInfo},type:"text",icon:(0,x.jsx)(M.A,{}),onClick:()=>{Y(n)}})}),(0,x.jsx)(K.A,{title:Q("button.Delete"),children:(0,x.jsx)(V.Ay,{size:"large",danger:!0,type:"text",icon:(0,x.jsx)(F.A,{}),onClick:()=>{Z(n)}})}),(0,x.jsx)(K.A,{title:Q("maintenance.RescanImages"),children:(0,x.jsx)(V.Ay,{size:"large",type:"text",icon:(0,x.jsx)(L.A,{onClick:()=>{n.hostname&&(async e=>{const n=O({message:`${e} ${Q("maintenance.RescanImages")}`,description:Q("registry.UpdatingRegistryInfo"),open:!0,backgroundTask:{status:"pending"},duration:0});r.maintenance.rescan_images(e).then((e=>{let{rescan_images:a}=e;a.ok?O({key:n,backgroundTask:{status:"pending",percent:0,taskId:a.task_id,statusDescriptions:{pending:Q("registry.RescanImages"),resolved:Q("registry.RegistryUpdateFinished"),rejected:Q("registry.RegistryUpdateFailed")}}}):O({key:n,backgroundTask:{status:"rejected"},duration:1})})).catch((e=>{console.log(e),O({key:n,backgroundTask:{status:"rejected"},duration:1}),e&&e.message&&(globalThis.lablupNotification.text=v.relieve(e.title),globalThis.lablupNotification.detail=e.message,globalThis.lablupNotification.show(!0,e))}))})(n.hostname)}})})})]})}],dataSource:(0,l.tS)(z)}),(0,x.jsx)(A,{containerRegistryFrgmt:J,existingHostnames:f().map(z,(e=>(null===e||void 0===e?void 0:e.hostname)||"")),open:!!J||ae,onOk:e=>{"create"===e?(i(),D.info({key:"registry-added",content:Q("registry.RegistrySuccessfullyAdded")})):"modify"===e&&D.info({key:"registry-modified",content:Q("registry.RegistrySuccessfullyModified")}),Y(null),re(!1)},onCancel:()=>{Y(null),re(!1)},centered:!1}),(0,x.jsx)(u.A,{title:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($.A,{style:{color:X.colorWarning}})," ",Q("dialog.warning.CannotBeUndone")]}),okText:Q("button.Delete"),okButtonProps:{danger:!0,disabled:ee!==(null===G||void 0===G?void 0:G.hostname)},onOk:()=>{G?B({variables:{hostname:G.hostname||""},onCompleted:(e,n)=>{n?(Z(null),D.error({key:"registry-deletion-failed",content:Q("dialog.ErrorOccurred")})):(p((()=>{i()})),D.info({key:"registry-deleted",content:Q("registry.RegistrySuccessfullyDeleted")}),Z(null))},onError:e=>{D.error({key:"registry-deletion-failed",content:Q("dialog.ErrorOccurred")})}}):Z(null)},confirmLoading:U,onCancel:()=>{Z(null)},destroyOnClose:!0,open:!!G,children:(0,x.jsxs)(C.A,{direction:"column",align:"stretch",gap:"sm",style:{marginTop:X.marginMD},children:[(0,x.jsxs)(P.A.Text,{children:[(0,x.jsx)(P.A.Text,{code:!0,children:null===G||void 0===G?void 0:G.hostname})," ",Q("registry.TypeRegistryNameToDelete")]}),(0,x.jsx)(m.A,{children:(0,x.jsx)(m.A.Item,{name:"confirmText",rules:[{required:!0,message:Q("registry.HostnameDoesNotMatch"),validator:()=>ee===(null===G||void 0===G?void 0:G.hostname)?Promise.resolve():Promise.reject()}],children:(0,x.jsx)(g.A,{autoComplete:"off",value:ee,onChange:e=>ne(e.target.value)})})})]})})]})}},91238:(e,n,a)=>{a.d(n,{A:()=>u});var r=a(72338),t=a(96141),i=a(25913),l=a(46976),o=a.n(l),s=a(55093),d=a(79569);const u=e=>{let n,{values:a=[],highlightKeyword:l}=e;return 0===a.length?null:(n=a[0]&&("string"===typeof a[0]||s.isValidElement(a[0]))?a.map((e=>({label:e,color:"blue"}))):a,(0,d.jsx)(r.A,{direction:"row",children:o().map(n,((e,a)=>o().isEmpty(e.label)?null:(0,d.jsx)(i.A,{style:o().last(n)===e?void 0:{margin:0,marginRight:-1},color:e.color,children:o().isUndefined(l)?e.label:(0,d.jsx)(t.A,{keyword:l,children:e.label})},a)))}))}},67999:(e,n,a)=>{a.d(n,{A:()=>g});var r=a(72375),t=a(85730),i=a(5901),l=a(40806),o=a(47543),s=a(12221),d=a(46976),u=a.n(d),c=a(55093),m=a(79569);const g=e=>{var n;let{dynamicSteps:a=[1,2,4,8,16,32,64,128,256,512],units:d=["m","g","t","p"],disableAutoUnit:g=!1,min:y="0m",max:p="300p",roundStep:v,...f}=e;const[h,k]=(0,t.A)(f,{defaultValue:"0g"}),[b,x]=null===h||void 0===h?[null,null]:(0,r.E8)(h),A=(0,i.A)(x),_=x||A||d[0],[j,S]=(0,r.E8)(y),[C,R]=(0,r.E8)(p),w=(0,c.useRef)(null);return(0,c.useEffect)((()=>{if(w.current){const e=e=>{var n;const a=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value;/^\d+(g|m)$/.test(a)&&k(a)},n=w.current;return null===n||void 0===n||n.addEventListener("input",e),()=>{null===n||void 0===n||n.removeEventListener("input",e)}}}),[w,b,x,k]),(0,m.jsx)(l.A,{ref:w,...f,onBlur:()=>{if(u().isNumber(v)&&v>0){var e,n,a;const r=(null===(e=v.toString().split(".")[1])||void 0===e?void 0:e.length)||0;if(isNaN(Math.round(u().toNumber((null===(n=w.current)||void 0===n?void 0:n.value)||"0")/v)*v))return;k(`${(Math.round(u().toNumber((null===(a=w.current)||void 0===a?void 0:a.value)||"0")/v)*v).toFixed(r)}${_}`)}},value:b,onChange:e=>{k(null===e||void 0===e?e:`${e}${_}`)},max:R===_?C:null===(n=(0,r.Is)(p,_))||void 0===n?void 0:n.number,min:S===_?j:(0,r.Is)(y,_).number,addonAfter:(0,m.jsx)(o.A,{tabIndex:-1,value:_,onChange:e=>{k(`${b}${e}`)},onDropdownVisibleChange:e=>{(e&&null===h||void 0===h)&&k(`0${_}`)},options:u().map(d,(e=>({value:e,label:(0,m.jsx)(s.A.Text,{style:{fontFamily:"'SFMono-Regular',Consolas,'Liberation Mono',Menlo,Courier,monospace"},children:e.toUpperCase()+"iB"})}))),suffixIcon:d.length>1?void 0:null,open:d.length>1&&void 0,style:{cursor:d.length>1?void 0:"default"}}),step:0,onStep:(e,n)=>{const r=u().isNull(b)||u().isUndefined(b)?0:b,t=u().sortedIndex(u().sortBy(a),r);let i;i="up"===n.type?r===a[t]?t+1:t:t-1;const l=d.indexOf(_);if(!g&&i<0)if(0===l)k(`0${_}`);else{const e=a[a.length-1],n=d[l-1];k(`${e}${n}`)}else if(!g&&i>a.length-1)if(l===d.length-1)k(`${r+("up"===n.type?1:-1)}${R}`);else{const e=a[0],n=d[l+1];k(`${e}${n}`)}else if(i>=0&&i<a.length){let e=a[i];S===_&&e<j?e=j:R===_&&e>C&&(e=C),k(`${e}${_}`)}}})}},81654:(e,n,a)=>{a.d(n,{A:()=>o});var r=a(72338),t=a(68260),i=a(65489),l=(a(55093),a(79569));const o=e=>{let{style:n,children:a,spinSize:o="default"}=e;return(0,l.jsxs)(r.A,{direction:"row",justify:"center",align:"center",style:{width:"100%",height:"100%",...n},children:[(0,l.jsx)(i.A,{indicator:(0,l.jsx)(t.A,{spin:!0}),size:o}),a]})}},9328:(e,n,a)=>{a.d(n,{A:()=>l});var r=a(79597),t=a(55093),i=a(79569);const l=e=>{let{value:n,...a}=e;const l=r.A.useFormInstance();return(0,t.useEffect)((()=>{l.setFieldValue(a.name,n)}),[n,l,a.name]),(0,i.jsx)(r.A.Item,{...a,hidden:!0})}},38440:(e,n,a)=>{a.d(n,{A:()=>m});var r=a(23441),t=a(25905),i=a(57613),l=a(88543),o=a(72338),s=a(79210),d=a(12221),u=a(33364),c=a(79569);const m=e=>{let{onRequestClose:n,selectedRows:a,setInstallingImages:m,...g}=e;const{t:y}=(0,u.Bd)(),p=(0,r.CX)(),{upsertNotification:v}=(0,t.js)(),f=(0,i.b)();if(!g.open)return null;const{imagesToInstall:h,hasInstalledImage:k}=(()=>{let e=!1;return{imagesToInstall:a.filter((n=>(n.installed&&(e=!0),!n.installed))),hasInstalledImage:e}})();return(0,c.jsx)(l.A,{...g,destroyOnClose:!0,maskClosable:!1,onCancel:()=>n(),title:y("environment.CheckImageInstallation"),okText:y("environment.Install"),onOk:()=>{n();const e=h.map((async e=>{var n,a;const r=(null===e||void 0===e?void 0:e.registry)+"/"+(null!==(n=null===e||void 0===e?void 0:e.namespace)&&void 0!==n?n:null===e||void 0===e?void 0:e.name)+":"+(null===e||void 0===e?void 0:e.tag);let t=!1;const i={};null===e||void 0===e||null===(a=e.resource_limits)||void 0===a||a.forEach((e=>{const n=null===e||void 0===e?void 0:e.key;i[n]=null===e||void 0===e?void 0:e.min})),"cuda.device"in i&&" cuda.shares"in i?(t=!0,i.gpu=0,i.fgpu=i["cuda.shares"]):"cuda.device"in i?(i.gpu=i["cuda.device"],t=!0):t=!1,i.mem.endsWith("g")?i.mem=i.mem.replace("g",".5g"):i.mem.endsWith("m")&&(i.mem=Number(i.mem.slice(0,-1))+256+"m"),i.domain=p._config.domainName,i.group_name=p.current_group;const l=await p.get_resource_slots();t&&("cuda.device"in l||"cuda.shares"in l||(delete i.gpu,delete i.fgpu,delete i["cuda.shares"],delete i["cuda.device"])),"cuda.device"in l&&"cuda.shares"in l?"fgpu"in i&&"gpu"in i&&(delete i.gpu,delete i["cuda.device"]):"cuda.device"in l?(delete i.fgpu,delete i["cuda.shares"]):"cuda.shares"in l&&(delete i.gpu,delete i["cuda.device"]),i.enqueueOnly=!0,i.type="batch",i.startupCommand='echo "Image is installed"',v({message:`${y("environment.InstallingImage")}${r}${y("environment.TakesTime")}`,open:!0,duration:2});const o=await globalThis.lablupIndicator.start("indeterminate");o.set(10,y("import.Downloading"));try{return await p.image.install(r,null===e||void 0===e?void 0:e.architecture,i),o.end(1e3),null===e||void 0===e?void 0:e.id}catch(s){return globalThis.lablupNotification.text=f.relieve(s.title),globalThis.lablupNotification.detail=s.message,globalThis.lablupNotification.show(!0,s),o.set(100,y("environment.DescProblemOccurred")),o.end(1e3),null}}));Promise.allSettled(e).then((e=>{const n=e.filter((e=>"fulfilled"===e.status&&null!==e.value)).map((e=>e.value));m(n)}))},children:(0,c.jsxs)(o.A,{direction:"column",gap:"md",align:"start",children:[k?y("environment.InstalledImagesAreExcluded"):null,(0,c.jsx)(o.A,{direction:"column",align:"start",style:{width:"100%"},children:(0,c.jsx)(s.A,{size:"small",dataSource:h.map((e=>{var n;return`${null===e||void 0===e?void 0:e.registry}/${null!==(n=null===e||void 0===e?void 0:e.namespace)&&void 0!==n?n:null===e||void 0===e?void 0:e.name}/${null===e||void 0===e?void 0:e.tag}`})),style:{width:"100%"},renderItem:e=>(0,c.jsx)(s.A.Item,{children:(0,c.jsx)(d.A.Text,{strong:!0,children:e})}),pagination:{pageSize:5,showTotal:e=>y("general.TotalItems",{total:e})}})}),(0,c.jsxs)(d.A.Text,{children:[y("environment.DescSignificantInstallTime"),"\xa0",y("dialog.ask.DoYouWantToProceed")]})]})})}},61040:(e,n,a)=>{a.a(e,(async(e,r)=>{try{a.d(n,{A:()=>T});var t,i=a(72338),l=a(72375),o=a(23441),s=a(53767),d=a(8699),u=a(91238),c=a(38440),m=a(32715),g=a(75231),y=a(57321),p=a(42388),v=a(74325),f=a(96141),h=a(61539),k=a(28920),b=a(76975),x=a(99159),A=a(79176),_=a(11956),j=a(66596),S=a(67089),C=a(25913),R=a(12221),w=a(99142),M=a(1364),F=a(46976),L=a.n(F),$=a(55093),I=a(33364),K=a(63821),V=a(79569),N=e([s]);s=(N.then?(await N)():N)[0];const T=e=>{let{style:n}=e;const{t:r}=(0,I.Bd)(),[F,N]=(0,$.useState)([]),[,{getBaseVersion:T,getBaseImages:E,getBaseImage:P,tagAlias:D,getTags:O}]=(0,o.Gj)(),{token:z}=j.A.useToken(),[q,B]=(0,$.useState)(null),[U,W]=(0,$.useState)(null),[H,Q]=(0,$.useState)(!1),[X,J]=(0,o.Tw)("initial-fetch"),[,Y]=(0,$.useTransition)(),[G,Z]=(0,$.useState)([]),{message:ee}=S.A.useApp(),[ne,ae]=(0,$.useState)(""),[re,{toggle:te}]=(0,_.A)(),[ie,le]=(0,$.useTransition)(),[oe,se]=(0,$.useTransition)(),de=(0,o.CX)(),ue=null===de||void 0===de?void 0:de.supports("extended-image-info"),{images:ce}=(0,K.useLazyLoadQuery)(void 0!==t?t:t=a(94715),{},{fetchPolicy:"initial-fetch"===X?"store-and-network":"network-only",fetchKey:X}),me=(0,$.useMemo)((()=>L().sortBy(ce,(e=>null===e||void 0===e?void 0:e.humanized_name))),[ce]),ge=(0,l.LY)([{title:r("environment.Status"),dataIndex:"installed",key:"installed",defaultSortOrder:"descend",sorter:(e,n)=>L().toNumber((null===e||void 0===e?void 0:e.installed)||0)-L().toNumber((null===n||void 0===n?void 0:n.installed)||0),render:(e,n)=>null!==n&&void 0!==n&&n.id&&G.includes(n.id)?(0,V.jsx)(C.A,{color:"gold",children:(0,V.jsx)(f.A,{keyword:ne,children:r("environment.Installing")})}):null!==n&&void 0!==n&&n.installed?(0,V.jsx)(C.A,{color:"gold",children:(0,V.jsx)(f.A,{keyword:ne,children:r("environment.Installed")})}):null},{title:r("environment.FullImagePath"),key:"fullImagePath",render:e=>(0,V.jsx)(R.A.Text,{copyable:{text:(0,l.A_)(e)||""},children:(0,V.jsx)(f.A,{keyword:ne,children:(0,l.A_)(e)||""})}),sorter:(e,n)=>(0,l._f)((0,l.A_)(e),(0,l.A_)(n)),width:z.screenXS},{title:r("environment.Registry"),dataIndex:"registry",key:"registry",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.registry,null===n||void 0===n?void 0:n.registry),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:e})},{title:r("environment.Architecture"),dataIndex:"architecture",key:"architecture",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.architecture,null===n||void 0===n?void 0:n.architecture),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:e})},ue&&{title:r("environment.Namespace"),key:"namespace",dataIndex:"namespace",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.namespace,null===n||void 0===n?void 0:n.namespace),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:e})},ue&&{title:r("environment.BaseImageName"),key:"base_image_name",dataIndex:"base_image_name",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.base_image_name,null===n||void 0===n?void 0:n.base_image_name),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:D(e)})},ue&&{title:r("environment.Version"),key:"version",dataIndex:"version",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.version,null===n||void 0===n?void 0:n.version),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:e})},ue&&{title:r("environment.Tags"),key:"tags",dataIndex:"tags",render:(e,n)=>(0,V.jsx)(i.A,{direction:"row",align:"start",children:L().map(e,(e=>{var a;const r=L().includes(e.key,"customized_"),t=r?null===(a=L().find(null===n||void 0===n?void 0:n.labels,{key:"ai.backend.customized-image.name"}))||void 0===a?void 0:a.value:e.value,i=D(e.key+t);return L().isEqual(i,(0,l.WY)(e.key+t))?(0,V.jsx)(u.A,{highlightKeyword:ne,values:[{label:D(e.key),color:r?"cyan":"blue"},{label:null!==t&&void 0!==t?t:"",color:r?"cyan":"blue"}]},e.key):(0,V.jsx)(C.A,{color:r?"cyan":"blue",children:(0,V.jsx)(f.A,{keyword:ne,children:i})},e.key)}))})},!ue&&{title:r("environment.Namespace"),key:"name",dataIndex:"name",sorter:(e,n)=>(0,l._f)((0,l.A_)(e),(0,l.A_)(n)),render:e=>(0,V.jsx)(f.A,{keyword:ne,children:e})},!ue&&{title:r("environment.Base"),key:"baseimage",dataIndex:"baseimage",sorter:(e,n)=>(0,l._f)(P((0,l.A_)(e)||""),P((0,l.A_)(n)||"")),render:(e,n)=>(0,V.jsx)(f.A,{keyword:ne,children:D(P((0,l.A_)(n)||""))})},!ue&&{title:r("environment.Version"),key:"baseversion",dataIndex:"baseversion",sorter:(e,n)=>(0,l._f)(T((0,l.A_)(e)||""),T((0,l.A_)(n)||"")),render:(e,n)=>(0,V.jsx)(f.A,{keyword:ne,children:T((0,l.A_)(n)||"")})},!ue&&{title:r("environment.Tags"),key:"tag",dataIndex:"tag",sorter:(e,n)=>(0,l._f)(null===e||void 0===e?void 0:e.tag,null===n||void 0===n?void 0:n.tag),render:(e,n)=>(0,V.jsx)(m.Jj,{tag:e,labels:n.labels,highlightKeyword:ne})},{title:r("environment.Digest"),dataIndex:"digest",key:"digest",sorter:(e,n)=>(0,l._f)((null===e||void 0===e?void 0:e.digest)||"",(null===n||void 0===n?void 0:n.digest)||""),render:(e,n)=>(0,V.jsx)(R.A.Text,{ellipsis:{tooltip:!0},style:{maxWidth:200},children:(0,V.jsx)(f.A,{keyword:ne,children:n.digest})})},{title:r("environment.ResourceLimit"),dataIndex:"resource_limits",key:"resource_limits",render:(e,n)=>{var a;return(0,V.jsx)(i.A,{direction:"row",gap:"xxs",children:null===n||void 0===n||null===(a=n.resource_limits)||void 0===a?void 0:a.map((e=>(0,V.jsx)(p.A,{type:(null===e||void 0===e?void 0:e.key)||"",value:(null===e||void 0===e?void 0:e.min)||"0",max:(null===e||void 0===e?void 0:e.max)||"Infinity"})))})}},{title:r("general.Control"),key:"control",dataIndex:"control",fixed:"right",render:(e,n)=>(0,V.jsxs)(i.A,{direction:"row",align:"stretch",justify:"center",gap:"xxs",onClick:e=>{e.stopPropagation()},children:[(0,V.jsx)(w.Ay,{type:"text",icon:(0,V.jsx)(h.A,{style:{color:z.colorInfo}}),onClick:()=>W(n)}),(0,V.jsx)(w.Ay,{type:"text",icon:(0,V.jsx)(k.A,{style:{color:z.colorInfo}}),onClick:()=>{B(n)}})]})}]),[ye,pe]=(0,s.a)("ImageList"),ve=(0,$.useMemo)((()=>null===me||void 0===me?void 0:me.map((e=>({namespace:ue?null===e||void 0===e?void 0:e.namespace:null===e||void 0===e?void 0:e.name,fullName:(0,l.A_)(e)||"",digest:(null===e||void 0===e?void 0:e.digest)||"",baseversion:T((0,l.A_)(e)||""),baseimage:null!==e&&void 0!==e&&e.tag&&null!==e&&void 0!==e&&e.name?E(e.tag,e.name):[],tag:O((null===e||void 0===e?void 0:e.tag)||"",null===e||void 0===e?void 0:e.labels)||[],isCustomized:!(null===e||void 0===e||!e.tag)&&-1!==e.tag.indexOf("customized"),baseImageName:ue?null===e||void 0===e?void 0:e.base_image_name:"",tags:ue?null===e||void 0===e?void 0:e.tags:[],version:ue?null===e||void 0===e?void 0:e.version:""})))),[me]),fe=(0,$.useMemo)((()=>{if(L().isEmpty(ne))return me;const e=new RegExp(`${L().escapeRegExp(ne)}`,"i");return L().filter(me,((n,a)=>L().some(n,((n,r)=>{if("id"===r)return!1;if(["digest","architecture","registry"].includes(r))return e.test(L().toString(n));const t=ve[a]||{},i=e.test(t.baseversion),l=L().some(t.baseimage,(n=>e.test(n))),o=L().some(t.tag,(n=>e.test(n.key)||e.test(n.value))),s=!!t.isCustomized&&e.test("customized"),d=e.test(t.namespace||""),u=e.test(t.fullName),c=L().some(t.tags,(n=>e.test(n.key)||e.test(n.value))),m=e.test(t.version||""),g=e.test(t.digest);return i||l||o||d||s||u||c||m||g}))))}),[ne,ve,me]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(i.A,{direction:"column",align:"stretch",style:{flex:1,...n},children:[(0,V.jsxs)(i.A,{justify:"end",style:{padding:z.paddingSM},gap:"xs",children:[F.length>0?(0,V.jsx)(R.A.Text,{children:r("general.NSelected",{count:F.length})}):null,(0,V.jsx)(M.A,{allowClear:!0,prefix:(0,V.jsx)(b.A,{}),placeholder:r("environment.SearchImages"),onChange:e=>{se((()=>ae(e.target.value)))},style:{width:200}}),(0,V.jsx)(w.Ay,{icon:(0,V.jsx)(x.A,{}),loading:ie,onClick:()=>{N([]),le((()=>J()))},children:r("button.Refresh")}),(0,V.jsx)(w.Ay,{icon:(0,V.jsx)(A.A,{}),style:{backgroundColor:z.colorPrimary,color:"white"},onClick:()=>{0!==F.length?F.some((e=>!e.installed))?Q(!0):ee.error(r("environment.AlreadyInstalledImage")):ee.error(r("environment.NoImagesAreSelected"))},children:r("environment.Install")})]}),(0,V.jsx)(d.A,{resizable:!0,rowKey:"id",scroll:{x:"max-content"},pagination:{showTotal:(e,n)=>`${n[0]}-${n[1]} of ${e} items`,pageSizeOptions:["10","20","50"],style:{marginRight:z.marginXS}},dataSource:(0,l.tS)(fe),columns:L().filter(ge,(e=>!L().includes(ye,L().toString(null===e||void 0===e?void 0:e.key)))),loading:oe,rowSelection:{type:"checkbox",onChange:(e,n)=>{N(n)},selectedRowKeys:F.map((e=>e.id))},onRow:e=>({onClick:n=>{F.find((n=>n.id===e.id))?N((n=>n.filter((n=>n.id!==e.id)))):N((n=>[...n,e]))}}),showSorterTooltip:!1,sortDirections:["descend","ascend","descend"]}),(0,V.jsx)(i.A,{justify:"end",style:{padding:z.paddingXXS},children:(0,V.jsx)(w.Ay,{type:"text",icon:(0,V.jsx)(h.A,{}),onClick:()=>{te()}})})]}),(0,V.jsx)(y.A,{open:!!U,onRequestClose:e=>{W(null),e&&Y((()=>{J()}))},image:U}),(0,V.jsx)(g.A,{open:!!q,onRequestClose:e=>{B(null),e&&Y((()=>{J()}))},image:q}),(0,V.jsx)(c.A,{open:H,onRequestClose:()=>{Q(!1)},setInstallingImages:Z,selectedRows:F}),(0,V.jsx)(v.A,{open:re,onRequestClose:e=>{(null===e||void 0===e?void 0:e.selectedColumnKeys)&&pe(L().difference(ge.map((e=>L().toString(e.key))),null===e||void 0===e?void 0:e.selectedColumnKeys)),te()},columns:ge,hiddenColumnKeys:ye})]})};r()}catch(T){r(T)}}))},32715:(e,n,a)=>{a.d(n,{Ay:()=>f,Jj:()=>h});var r=a(72375),t=a(23441),i=a(91238),l=a(72338),o=a(96141),s=a(25913),d=a(46976),u=a.n(d),c=a(55093),m=a(79569);const g=e=>{let{image:n,...a}=e;n=n||"";const[,{getImageAliasName:r,getBaseVersion:l,tagAlias:o}]=(0,t.Gj)();return(0,m.jsx)(i.A,{values:[{label:o(r(n)),color:"blue"},{label:l(n),color:"green"}],...a})},y=e=>{let{image:n,...a}=e;n=n||"";const[,{getBaseImage:r,tagAlias:i}]=(0,t.Gj)();return u().isEmpty(i(r(n)))?null:(0,m.jsx)(s.A,{color:"green",...a,children:i(r(n))})},p=e=>{let{image:n,...a}=e;n=n||"";const[,{getArchitecture:r,tagAlias:i}]=(0,t.Gj)();return u().isEmpty(i(r(n)))?null:(0,m.jsx)(s.A,{color:"green",...a,children:r(n)})},v=(e,n)=>{let{image:a,style:r={}}=e;return a=a||"",(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g,{image:a}),(0,m.jsx)(y,{image:a}),(0,m.jsx)(p,{image:a})]})},f=c.memo(v),h=e=>{let{tag:n,labels:a,highlightKeyword:d,...c}=e;a=a||[];const[,{getTags:g,tagAlias:y}]=(0,t.Gj)(),p=g(n,a);return(0,m.jsx)(l.A,{direction:"row",align:"start",children:u().map(p,((e,n)=>{const a="Customized"===e.key,t=y(e.key+e.value);return u().isEqual(t,(0,r.WY)(e.key+e.value))?(0,m.jsx)(i.A,{highlightKeyword:d,values:[{label:y(e.key),color:a?"cyan":"blue"},{label:e.value,color:a?"cyan":"blue"}]},e.key):(0,m.jsx)(s.A,{color:a?"cyan":"blue",children:(0,m.jsx)(o.A,{keyword:d,children:t},n)},e.key)}))})}},75231:(e,n,a)=>{a.d(n,{A:()=>A});var r,t=a(23441),i=a(88543),l=a(72338),o=a(57893),s=a(43605),d=a(67089),u=a(66596),c=a(75197),m=a(12221),g=a(79597),y=a(1364),p=a(99142),v=a(46976),f=a.n(v),h=a(55093),k=a(33364),b=a(63821),x=a(79569);const A=e=>{let{open:n,image:v,onRequestClose:A,..._}=e;const{t:j}=(0,k.Bd)(),S=(0,t.CX)(),C=h.useRef(null),R=d.A.useApp(),{token:w}=u.A.useToken(),[M,F]=(0,b.useMutation)(void 0!==r?r:r=a(73127));if(!v)return null;const L=(()=>{let e=[];if(v.labels){const r=f().findIndex(v.labels,(e=>null!==e&&"ai.backend.service-ports"===(null===e||void 0===e?void 0:e.key)));var n,a;if(-1!==r)e=null===v||void 0===v||null===(n=v.labels[r])||void 0===n||null===(a=n.value)||void 0===a?void 0:a.split(",").map((e=>{const n=e.split(":");return{app:n[0],protocol:n[1],port:Number(n[2])}}))}return e})();return(0,x.jsxs)(i.A,{destroyOnClose:!0,open:n,onOk:()=>{var e;null===(e=C.current)||void 0===e||e.validateFields().then((()=>{var e;const n=null===(e=C.current)||void 0===e?void 0:e.getFieldValue("apps").map((e=>`${e.app}:${e.protocol}:${e.port}`)).join(","),a=f().map(v.labels,(e=>{return e.key.includes("service-ports")?{key:e.key,value:n}:{key:e.key,value:(null===(a=e.value)||void 0===a?void 0:a.toString())||""};var a})),r=()=>M({variables:{target:`${null===v||void 0===v?void 0:v.registry}/${null===v||void 0===v?void 0:v.name}:${null===v||void 0===v?void 0:v.tag}`,architecture:null===v||void 0===v?void 0:v.architecture,props:{labels:a,resource_limits:S.isManagerVersionCompatibleWith("24.03.4.*")?void 0:null}},onCompleted:(e,n)=>{var a,r;if(null!==e&&void 0!==e&&null!==(a=e.modify_image)&&void 0!==a&&a.ok)if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=f().map(n,(e=>e.message));for(const n of e)c.Ay.error(n,2.5)}else c.Ay.success(j("environment.DescImagePortsModified")),A(!0);else c.Ay.error(null===e||void 0===e||null===(r=e.modify_image)||void 0===r?void 0:r.msg)},onError:e=>{c.Ay.error(j("dialog.ErrorOccurred"))}});null!==v&&void 0!==v&&v.installed?R.modal.confirm({title:"Image reinstallation required",content:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(k.x6,{i18nKey:"environment.ModifyImageResourceLimitReinstallRequired"})}),onOk:r,getContainer:()=>document.body,closable:!0}):r()})).catch((e=>{}))},onCancel:()=>A(!1),confirmLoading:F,title:j("environment.ManageApps"),..._,children:[(0,x.jsxs)(l.A,{direction:"row",style:{width:"100%",marginBottom:w.marginXS},children:[(0,x.jsx)(m.A.Text,{strong:!0,style:{width:"32%"},children:j("environment.AppName")}),(0,x.jsx)(m.A.Text,{strong:!0,style:{width:"32%"},children:j("environment.Protocol")}),(0,x.jsx)(m.A.Text,{strong:!0,style:{width:"32%"},children:j("environment.Port")}),(0,x.jsx)(l.A,{})]}),(0,x.jsx)(g.A,{ref:C,layout:"vertical",autoComplete:"off",initialValues:{apps:L},requiredMark:!1,children:(0,x.jsx)(l.A,{direction:"column",children:(0,x.jsx)(g.A.List,{name:"apps",children:(e,n)=>{let{add:a,remove:r}=n;return(0,x.jsxs)(l.A,{direction:"column",style:{width:"100%"},children:[f().map(e,((e,n)=>(0,x.jsx)(g.A.Item,{children:(0,x.jsxs)(l.A,{direction:"row",gap:"xs",children:[(0,x.jsx)(g.A.Item,{...e,name:[e.name,"app"],noStyle:!0,rules:[{required:!0,message:j("environment.AppNameMustNotBeEmpty")}],children:(0,x.jsx)(y.A,{placeholder:j("environment.AppName")})}),(0,x.jsx)(g.A.Item,{...e,name:[e.name,"protocol"],noStyle:!0,rules:[{pattern:/^(http|tcp|pty|preopen)$/,required:!0,message:j("environment.ProtocolMustBeOneOfSupported")}],children:(0,x.jsx)(y.A,{placeholder:j("environment.Protocol")})}),(0,x.jsx)(g.A.Item,{...e,name:[e.name,"port"],noStyle:!0,rules:[{validator:(e,n)=>{const a=f().isUndefined(n)||""===n?NaN:f().toNumber(n);return f().isNaN(a)||a<0||a>=65535?Promise.reject(j("environment.PortMustBeInRange")):[2e3,2001,2002,2003,2200,7681].includes(Number(a))?Promise.reject(j("environment.PortReservedForInternalUse")):Promise.resolve()}},{validator:(e,a)=>{var r;const t=null===(r=C.current)||void 0===r?void 0:r.getFieldValue("apps");return f().isString(a)&&a.length>0&&t.some(((e,r)=>r!==n&&(null===e||void 0===e?void 0:e.port)===a))?Promise.reject(j("environment.PortMustBeUnique")):Promise.resolve()}}],children:(0,x.jsx)(y.A,{placeholder:j("environment.Port")})}),(0,x.jsx)(p.Ay,{type:"text",danger:!0,onClick:()=>r(e.name),style:0===n?{width:"10%",marginTop:8}:{width:"10%"},icon:(0,x.jsx)(o.A,{})})]},e.key)}))),(0,x.jsx)(p.Ay,{type:"dashed",onClick:()=>a(),block:!0,icon:(0,x.jsx)(s.A,{}),disabled:!v,children:j("button.Add")})]})}})})})]})}},57321:(e,n,a)=>{a.d(n,{A:()=>j});var r=a(23441),t=a(88543),i=a(7971),l=a(72338),o=a(85730),s=a(64179),d=a(46976),u=a.n(d),c=a(55093),m=a(79569);const g=e=>{var n;let{value:a,defaultValue:r,onChange:t,steps:i,showAllMarkLabels:l,...c}=e;const g=i.map((e=>u().isNumber(e)||u().isString(e)?{value:e,label:e.toString()}:e)),[y,p]=(0,o.A)({value:a,defaultValue:null!==r&&void 0!==r?r:null===(n=g[0])||void 0===n?void 0:n.value,onChange:t}),v=e=>0===e||e===g.length-1,f=u().fromPairs(g.map(((e,n)=>[n,v(n)?e.label:" "])));return(0,m.jsx)(s.A,{...c,marks:f,value:u().findIndex(g,{value:y}),min:0,tooltip:{formatter(e){var n;if((0,d.isNumber)(e))return null===(n=g[e])||void 0===n?void 0:n.label},...c.tooltip},max:g.length-1,onChange:e=>{var n,a;p(null===(n=g[e])||void 0===n?void 0:n.value,null===(a=g[e])||void 0===a?void 0:a.label)}})};var y=a(66596),p=a(79597),v=a(1364),f=a(92047);const h=e=>{var n,a,r,t;let{name:o,min:s,max:d}=e;const{token:c}=y.A.useToken(),{mergedResourceSlots:h}=(0,i.Hv)(),k=e=>{var n,a,r,t,i,l;return{cpu:{label:null===h||void 0===h||null===(n=h.cpu)||void 0===n?void 0:n.description,steps:u().map(["0","1","2","3","4","5","6","7","8"],(e=>{var n;return{value:e,label:`${e} ${null===h||void 0===h||null===(n=h.cpu)||void 0===n?void 0:n.display_unit}`}}))},mem:{label:null===h||void 0===h||null===(a=h.mem)||void 0===a?void 0:a.description,steps:u().map(["64m","128m","256m","512m","1g","2g","4g","8g","16g","32g","64g","128g","256g","512g"],(e=>({value:e,label:`${e.slice(0,-1)} ${u().toUpper(u().last(e))}iB`})))},"cuda.device":{label:null===h||void 0===h||null===(r=h["cuda.device"])||void 0===r?void 0:r.description,steps:u().map(["0","1","2","3","4","5","6","7","8"],(e=>{var n;return{value:e,label:`${e} ${null===h||void 0===h||null===(n=h["cuda.device"])||void 0===n?void 0:n.display_unit}`}}))},"cuda.shares":{label:null===h||void 0===h||null===(t=h["cuda.shares"])||void 0===t?void 0:t.description,steps:u().map(["0","0.1","0.2","0.5","1.0","2.0","4.0","8.0"],(e=>{var n;return{value:e,label:`${e} ${null===h||void 0===h||null===(n=h["cuda.shares"])||void 0===n?void 0:n.display_unit}`}}))},"rocm.device":{label:null===h||void 0===h||null===(i=h["rocm.device"])||void 0===i?void 0:i.description,steps:["0","1","2","3","4","5","6","7","8"]}}[e]||{label:null===h||void 0===h||null===(l=h[e])||void 0===l?void 0:l.description,steps:u().map(["0","1","2","3","4"],(n=>{var a;return{value:n,label:`${n} ${(null===h||void 0===h||null===(a=h[e])||void 0===a?void 0:a.display_unit)||""}`}}))}},b=p.A.useFormInstance(),x=p.A.useWatch(o,b),A=u().find(k(o).steps,(e=>e.value===x||e===x));return(0,m.jsx)(p.A.Item,{label:null!==(n=null===(a=k(o))||void 0===a?void 0:a.label)&&void 0!==n?n:o.toUpperCase(),style:{flex:1},children:(0,m.jsxs)(l.A,{direction:"row",gap:"lg",children:[(0,m.jsx)(v.A,{size:"large",variant:"borderless",readOnly:!0,value:null!==(r=null===A||void 0===A?void 0:A.label)&&void 0!==r?r:A,style:{flex:1,fontSize:c.fontSizeLG},tabIndex:-1}),(0,m.jsx)(f.A,{type:"vertical",style:{height:40}}),(0,m.jsx)(p.A.Item,{name:o,noStyle:!0,initialValue:s,children:(0,m.jsx)(g,{style:{flex:5},steps:null===(t=k(o))||void 0===t?void 0:t.steps})})]})})};var k,b=a(67089),x=a(75197),A=a(33364),_=a(63821);const j=e=>{var n;let{image:i,open:l,onRequestClose:o,...s}=e;const d=(0,r.CX)(),{t:g}=(0,A.Bd)(),y=(0,c.useRef)(null),v=b.A.useApp(),[f,j]=(0,_.useMutation)(void 0!==k?k:k=a(27995));return(0,m.jsx)(t.A,{destroyOnClose:!0,open:l,maskClosable:!1,onOk:async()=>{var e;const n=await(null===(e=y.current)||void 0===e?void 0:e.getFieldsValue()),a=Object.entries(n).map((e=>{var n,a,r,t;let[l,o]=e;return{key:l,min:null!==(n=o.toString())&&void 0!==n?n:"0",max:(null!==(a=null===i||void 0===i||null===(r=i.resource_limits)||void 0===r||null===(t=r.find((e=>(null===e||void 0===e?void 0:e.key)===l)))||void 0===t?void 0:t.max)&&void 0!==a?a:d.isManagerVersionCompatibleWith("24.03.4.*"))?void 0:null}})),r=()=>f({variables:{target:`${null===i||void 0===i?void 0:i.registry}/${null===i||void 0===i?void 0:i.name}:${null===i||void 0===i?void 0:i.tag}`,architecture:null===i||void 0===i?void 0:i.architecture,props:{resource_limits:a}},onCompleted:(e,n)=>{var a,r;if(null!==e&&void 0!==e&&null!==(a=e.modify_image)&&void 0!==a&&a.ok)if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=u().map(n,(e=>e.message));for(const n of e)x.Ay.error(n,2.5)}else x.Ay.success(g("environment.DescImageResourceModified")),o(!0);else x.Ay.error(null===e||void 0===e||null===(r=e.modify_image)||void 0===r?void 0:r.msg)},onError:e=>{x.Ay.error(g("dialog.ErrorOccurred"))}});null!==i&&void 0!==i&&i.installed?v.modal.confirm({title:"Image reinstallation required",content:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(A.x6,{i18nKey:"environment.ModifyImageResourceLimitReinstallRequired"})}),onOk:r,getContainer:()=>document.body,closable:!0}):r()},onCancel:()=>o(!1),confirmLoading:j,centered:!0,title:g("environment.ModifyImageResourceLimit"),...s,children:(0,m.jsx)(p.A,{ref:y,layout:"vertical",children:null===i||void 0===i||null===(n=i.resource_limits)||void 0===n?void 0:n.map((e=>{const{key:n,min:a,max:r}=e,t=n.replace(/_/g,".");return(0,m.jsx)(h,{name:null!==t&&void 0!==t?t:"",min:null!==a&&void 0!==a?a:"",max:null!==r&&void 0!==r?r:""},t)}))})})}},42388:(e,n,a)=>{a.d(n,{A:()=>h,s:()=>f});var r=a(72375),t=a(7971),i=a(81530),l=a(72338),o=a(66596),s=a(12221),d=a(2556),u=a(46976),c=a.n(u),m=a(10709),g=a(55093),y=a(79569);const p=e=>{var n,a;let{type:d,value:u,extra:m,opts:g,hideTooltip:p=!1,max:v}=e;const{token:h}=o.A.useToken(),k=(0,i.Nw)(),{mergedResourceSlots:b}=(0,t.Hv)(k||void 0),x=e=>{var n,a,t;return null!==b&&void 0!==b&&null!==(n=b[d])&&void 0!==n&&n.number_format.binary?Number(null===(a=(0,r.Is)(e,"g",3,!0))||void 0===a?void 0:a.numberFixed).toString():((null===b||void 0===b||null===(t=b[d])||void 0===t?void 0:t.number_format.round_length)||0)>0?parseFloat(e).toFixed(2):e};return(0,y.jsxs)(l.A,{direction:"row",gap:"xxs",children:[null!==b&&void 0!==b&&b[d]?(0,y.jsx)(f,{type:d,showTooltip:!p}):d,(0,y.jsxs)(s.A.Text,{children:[x(u),c().isUndefined(v)?null:"Infinity"===v?"~\u221e":`~${x(v)}`]}),(0,y.jsx)(s.A.Text,{type:"secondary",children:(null===b||void 0===b||null===(n=b[d])||void 0===n?void 0:n.display_unit)||""}),"mem"===d&&null!==g&&void 0!==g&&g.shmem&&(null===g||void 0===g?void 0:g.shmem)>0?(0,y.jsxs)(s.A.Text,{type:"secondary",style:{fontSize:h.fontSizeSM},children:["(SHM:"," ",null===(a=(0,r.Is)(g.shmem+"b","g",2,!0))||void 0===a?void 0:a.numberFixed,"GiB)"]}):null,m]})},v=e=>{let{size:n=16,children:a}=e;return(0,y.jsx)("mwc-icon",{style:{"--mdc-icon-size":`${n+2}px`,width:n,height:n},children:a})},f=e=>{var n,a;let{type:r,size:i=16,showIcon:o=!0,showUnit:s=!0,showTooltip:u=!0,...c}=e;const g={cpu:(0,y.jsx)(v,{size:i,children:"developer_board"}),mem:(0,y.jsx)(v,{size:i,children:"memory"}),"cuda.device":"/resources/icons/file_type_cuda.svg","cuda.shares":"/resources/icons/file_type_cuda.svg","rocm.device":"/resources/icons/rocm.svg","tpu.device":(0,y.jsx)(v,{size:i,children:"view_module"}),"ipu.device":(0,y.jsx)(v,{size:i,children:"view_module"}),"atom.device":"/resources/icons/rebel.svg","atom-plus.device":"/resources/icons/rebel.svg","gaudi2.device":"/resources/icons/gaudi.svg","warboy.device":"/resources/icons/furiosa.svg","rngd.device":"/resources/icons/furiosa.svg","hyperaccel-lpu.device":"/resources/icons/npu_generic.svg"},p=null!==(n=g[r])&&void 0!==n?n:(0,y.jsx)(m.A,{}),{mergedResourceSlots:f}=(0,t.Hv)(),h="string"===typeof p?(0,y.jsx)("img",{...c,style:{height:i,alignSelf:"center",...c.style||{}},src:g[r]||"",alt:r}):(0,y.jsx)(l.A,{style:{width:16,height:16},children:p||r});return u?(0,y.jsx)(d.A,{title:(null===(a=f[r])||void 0===a?void 0:a.description)||r,children:h}):(0,y.jsx)(l.A,{style:{pointerEvents:"none"},children:h})},h=g.memo(p)},77826:(e,n,a)=>{a.d(n,{A:()=>T});var r,t,i,l=a(72375),o=a(23441),s=a(72338),d=a(42388),u=a(7971),c=a(88543),m=a(67999),g=a(67089),y=a(79597),p=a(1364),v=a(38926),f=a(63340),h=a(40806),k=a(46976),b=a.n(k),x=a(55093),A=a(33364),_=a(63821),j=a(79569);const S=e=>{var n;let{resourcePresetFrgmt:o,existingResourcePresetNames:s,onRequestClose:d,...k}=e;const{t:S}=(0,A.Bd)(),{message:C}=g.A.useApp(),R=(0,x.useRef)(null),[w]=(0,u.bL)(),{mergedResourceSlots:M}=(0,u.Hv)(),F=(0,_.useFragment)(void 0!==r?r:r=a(98370),o),[L,$]=(0,_.useMutation)(void 0!==t?t:t=a(27837)),[I,K]=(0,_.useMutation)(void 0!==i?i:i=a(16379));return(0,j.jsx)(c.A,{...k,title:S(F?"resourcePreset.ModifyResourcePreset":"resourcePreset.CreateResourcePreset"),onOk:()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.validateFields().then((e=>{var n;let a=b().mapValues(null===e||void 0===e?void 0:e.resource_slots,((e,n)=>{var a;return b().includes(n,"mem")?null===(a=(0,l.Is)(e,"b",0))||void 0===a?void 0:a.numberFixed:e}));a=b().pickBy(a,b().negate(b().isUndefined));const r={resource_slots:JSON.stringify(a||{}),shared_memory:null!==e&&void 0!==e&&e.shared_memory?null===(n=(0,l.Is)(null===e||void 0===e?void 0:e.shared_memory,"b",0))||void 0===n?void 0:n.numberFixed:null};b().isEmpty(F)?L({variables:{name:null===e||void 0===e?void 0:e.name,props:r},onCompleted:(e,n)=>{var a,r;if(null!==e&&void 0!==e&&null!==(a=e.create_resource_preset)&&void 0!==a&&a.ok)if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=b().map(n,(e=>e.message));b().forEach(e,(e=>{C.error(e,2.5)})),d(!1)}else C.success(S("resourcePreset.Created")),d(!0);else C.error(null===e||void 0===e||null===(r=e.create_resource_preset)||void 0===r?void 0:r.msg),d(!1)},onError(e){C.error(null===e||void 0===e?void 0:e.message)}}):I({variables:{name:null===e||void 0===e?void 0:e.name,props:r},onCompleted:(e,n)=>{var a,r;if(null!==e&&void 0!==e&&null!==(a=e.modify_resource_preset)&&void 0!==a&&a.ok)if(n&&(null===n||void 0===n?void 0:n.length)>0){const e=b().map(n,(e=>null===e||void 0===e?void 0:e.message));b().forEach(e,(e=>{C.error(e,2.5)})),d(!1)}else C.success(S("resourcePreset.Updated")),d(!0);else C.error(null===e||void 0===e||null===(r=e.modify_resource_preset)||void 0===r?void 0:r.msg),d(!1)},onError(e){C.error(null===e||void 0===e?void 0:e.message)}})})).catch((()=>{}))},onCancel:()=>d(!1),destroyOnClose:!0,confirmLoading:$||K,children:(0,j.jsxs)(y.A,{ref:R,layout:"vertical",preserve:!1,initialValues:F?{name:F.name,resource_slots:b().mapValues(JSON.parse((null===F||void 0===F?void 0:F.resource_slots)||"{}"),((e,n)=>{var a;return b().includes(n,"mem")?null===(a=(0,l.Is)(e+"b","g"))||void 0===a?void 0:a.numberUnit:e}))||{},shared_memory:null!==F&&void 0!==F&&F.shared_memory?null===(n=(0,l.Is)((null===F||void 0===F?void 0:F.shared_memory)+"b","g"))||void 0===n?void 0:n.numberUnit:null}:{},children:[(0,j.jsx)(y.A.Item,{label:S("resourcePreset.PresetName"),name:"name",rules:[{required:!0,message:S("resourcePreset.NoPresetName")},{pattern:/^[a-zA-Z0-9._-]*$/,message:S("data.AllowsLettersNumbersAnd-_Dot")},{validator:(e,n)=>!F&&null!==s&&void 0!==s&&s.includes(n)?Promise.reject(new Error(S("resourcePreset.PresetNameAlreadyExists"))):Promise.resolve()}],children:(0,j.jsx)(p.A,{disabled:!!F})}),(0,j.jsx)(y.A.Item,{label:S("resourcePreset.ResourcePreset"),children:(0,j.jsxs)(v.A,{gutter:16,children:[b().map(b().chunk(b().keys(w),2),((e,n)=>(0,j.jsx)(x.Fragment,{children:b().map(e,(e=>{var n,a;return(0,j.jsx)(f.A,{span:12,style:{alignSelf:"end"},children:(0,j.jsx)(y.A.Item,{label:(null===(n=b().get(M,e))||void 0===n?void 0:n.description)||e,name:["resource_slots",e],rules:[{validator:(n,a)=>a&&b().includes(e,"mem")&&(0,l.Is)(a,"p").number>(0,l.Is)("300p","p").number?Promise.reject(new Error("Memory size should be less than 300 PiB")):Promise.resolve()}],children:b().includes(e,"mem")?(0,j.jsx)(m.A,{}):(0,j.jsx)(h.A,{min:"cpu"===e?1:0,step:b().includes(e,".shares")?.1:1,addonAfter:null===(a=b().get(M,e))||void 0===a?void 0:a.display_unit})})},e)}))},n))),(0,j.jsx)(f.A,{span:12,style:{alignSelf:"end"},children:(0,j.jsx)(y.A.Item,{label:S("resourcePreset.SharedMemory"),name:"shared_memory",dependencies:["resource_slots","mem"],rules:[e=>{let{getFieldValue:n}=e;return{validator(e,a){var r,t,i,o,s,d;return a&&null!==(r=n("resource_slots"))&&void 0!==r&&r.mem&&(null!==(t=null===(i=(0,l.Is)(null===(o=n("resource_slots"))||void 0===o?void 0:o.mem,"b"))||void 0===i?void 0:i.number)&&void 0!==t?t:0)<(null!==(s=null===(d=(0,l.Is)(a,"b"))||void 0===d?void 0:d.number)&&void 0!==s?s:0)?Promise.reject(S("resourcePreset.MemoryShouldBeLargerThanSHMEM")):Promise.resolve()}}}],children:(0,j.jsx)(m.A,{max:"7.999p"})})})]})})]})})};var C,R,w=a(99159),M=a(43605),F=a(61539),L=a(57893),$=a(66596),I=a(2556),K=a(99142),V=a(8656),N=a(12221);const T=()=>{const{t:e}=(0,A.Bd)(),{token:n}=$.A.useToken(),{modal:r}=g.A.useApp(),[t,i]=(0,x.useTransition)(),[u,c]=(0,o.Tw)("initial-fetch"),[m,y]=(0,x.useState)(),[p,v]=(0,x.useState)(null),[f,h]=(0,x.useState)(!1),{resource_presets:k}=(0,_.useLazyLoadQuery)(void 0!==C?C:C=a(67781),{},{fetchPolicy:"initial-fetch"===u?"store-and-network":"network-only",fetchKey:u}),[T,E]=(0,_.useMutation)(void 0!==R?R:R=a(37023));return(0,j.jsxs)(s.A,{direction:"column",align:"stretch",children:[(0,j.jsx)(s.A,{direction:"row",gap:"xs",justify:"end",wrap:"wrap",style:{padding:n.paddingContentVertical,paddingLeft:n.paddingContentHorizontalSM,paddingRight:n.paddingContentHorizontalSM},children:(0,j.jsxs)(s.A,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:[(0,j.jsx)(I.A,{title:e("button.Refresh"),children:(0,j.jsx)(K.Ay,{icon:(0,j.jsx)(w.A,{}),loading:t,onClick:()=>{i((()=>{c()}))}})}),(0,j.jsx)(K.Ay,{type:"primary",icon:(0,j.jsx)(M.A,{}),onClick:()=>{h(!0)},children:e("resourcePreset.CreatePreset")})]})}),(0,j.jsx)(V.A,{rowKey:"name",dataSource:(0,l.tS)(k),scroll:{x:"max-content"},pagination:!1,sortDirections:["descend","ascend","descend"],showSorterTooltip:!1,columns:[{title:e("resourcePreset.Name"),dataIndex:"name",sorter:(e,n)=>(0,l._f)(e.name,n.name)},{title:e("resourcePreset.Resources"),dataIndex:"resource_slots",render:e=>(0,j.jsx)(s.A,{gap:"xxs",children:b().isEmpty(e)?"-":b().map(JSON.parse(e),((e,n)=>(0,j.jsx)(d.A,{type:n,value:e},n)))})},{title:e("resourcePreset.SharedMemory"),dataIndex:"shared_memory",render:e=>{var n;return e?null===(n=(0,l.Is)(e+"","g"))||void 0===n?void 0:n.number:"-"},sorter:(e,n)=>e.shared_memory-n.shared_memory},{title:e("general.Control"),key:"control",fixed:"right",render:(a,t)=>(0,j.jsxs)(s.A,{align:"stretch",children:[(0,j.jsx)(I.A,{title:e("button.Edit"),children:(0,j.jsx)(K.Ay,{type:"text",size:"large",icon:(0,j.jsx)(F.A,{}),style:{color:n.colorInfo},onClick:()=>{v(t)}})}),(0,j.jsx)(I.A,{title:e("button.Delete"),children:(0,j.jsx)(K.Ay,{type:"text",size:"large",icon:(0,j.jsx)(L.A,{style:{color:n.colorError}}),loading:E&&m===(null===t||void 0===t?void 0:t.name)+u,disabled:E&&m!==(null===t||void 0===t?void 0:t.name)+u,onClick:()=>{r.confirm({title:e("resourcePreset.DeleteResourcePreset"),content:(0,j.jsxs)(j.Fragment,{children:[e("resourcePreset.AboutToDeletePreset")," ",(0,j.jsx)(N.A.Text,{strong:!0,children:null===t||void 0===t?void 0:t.name})]}),onOk:()=>{var e;y((null===t||void 0===t?void 0:t.name)+u),T({variables:{name:null!==(e=null===t||void 0===t?void 0:t.name)&&void 0!==e?e:""},onCompleted:()=>{i((()=>{c()}))}})},okText:e("button.Delete"),okType:"primary",okButtonProps:{danger:!0}})}})})]})}]}),(0,j.jsx)(x.Suspense,{fallback:null,children:(0,j.jsx)(S,{resourcePresetFrgmt:p,open:!!p||f,onRequestClose:e=>{v(null),h(!1),e&&i((()=>{c()}))},existingResourcePresetNames:b().map(k,(e=>null===e||void 0===e?void 0:e.name))})})]})}},74325:(e,n,a)=>{a.d(n,{A:()=>y});var r=a(88543),t=a(76975),i=a(66596),l=a(79597),o=a(1364),s=a(88221),d=a(46976),u=a.n(d),c=a(55093),m=a(33364),g=a(79569);const y=e=>{var n;let{open:a,onRequestClose:d,columns:y,hiddenColumnKeys:p,...v}=e;const f=(0,c.useRef)(null),{t:h}=(0,m.Bd)(),{token:k}=i.A.useToken(),b=u().map(y,(e=>{return"string"===typeof e.title?{label:e.title,value:u().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(n=e.title,c.Children.map(n.props.children,(e=>{if("string"===typeof e)return e}))),value:u().toString(e.key)}:{label:void 0,value:u().toString(e.key)};var n}));return(0,g.jsx)(r.A,{title:h("table.SettingTable"),open:a,destroyOnClose:!0,centered:!0,onOk:()=>{var e;null===(e=f.current)||void 0===e||e.validateFields().then((e=>{d(e)})).catch((()=>{}))},onCancel:()=>{d()},...v,children:(0,g.jsxs)(l.A,{ref:f,preserve:!1,initialValues:{selectedColumnKeys:null===(n=u().map(b,"value"))||void 0===n?void 0:n.filter((e=>!u().includes(p,e)))},layout:"vertical",children:[(0,g.jsx)(l.A.Item,{name:"searchInput",label:h("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,g.jsx)(o.A,{prefix:(0,g.jsx)(t.A,{}),style:{marginBottom:k.marginSM},placeholder:h("table.SearchTableColumn")})}),(0,g.jsx)(l.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>e.searchInput!==n.searchInput,children:e=>{let{getFieldValue:n}=e;const a=n("searchInput")?u().toLower(n("searchInput")):void 0,r=u().map(b,(e=>u().toLower(u().toString(e.label)).includes(a||"")?e:{...e,style:{display:"none"}}));return(0,g.jsx)(l.A.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,g.jsx)(s.A.Group,{options:r,style:{flexDirection:"column"}})})}})]})})}},86887:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"CreateContainerRegistry",kind:"LinkedField",name:"create_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalBefore2409CreateMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryEditorModalBefore2409CreateMutation",selections:n},params:{cacheID:"f21828a823b9278da3fc0a20757ffbcb",id:null,metadata:{},name:"ContainerRegistryEditorModalBefore2409CreateMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalBefore2409CreateMutation(\n  $hostname: String!\n  $props: CreateContainerRegistryInput!\n) {\n  create_container_registry(hostname: $hostname, props: $props) {\n    container_registry {\n      id\n      hostname\n      config {\n        url\n        type\n        project\n        username\n        password\n        ssl_verify\n      }\n    }\n  }\n}\n"}}}();r.hash="83f522a461f69fe3d5e72fe56992bf5b";const t=r},89596:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalBefore2409Fragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],type:"ContainerRegistry",abstractKey:null,hash:"1d6d4ae52fe80807408b6c0ea72545a0"},t=r},55365:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyContainerRegistry",kind:"LinkedField",name:"modify_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalBefore2409ModifyMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryEditorModalBefore2409ModifyMutation",selections:n},params:{cacheID:"388a0a43f6b8ef7fb36e034276e48eba",id:null,metadata:{},name:"ContainerRegistryEditorModalBefore2409ModifyMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalBefore2409ModifyMutation(\n  $hostname: String!\n  $props: ModifyContainerRegistryInput!\n) {\n  modify_container_registry(hostname: $hostname, props: $props) {\n    container_registry {\n      id\n      hostname\n      config {\n        url\n        type\n        project\n        username\n        password\n        ssl_verify\n      }\n    }\n  }\n}\n"}}}();r.hash="7866a8d403db359b43bf7cf9442affd9";const t=r},47633:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"extra"},n={defaultValue:null,kind:"LocalArgument",name:"is_global"},a={defaultValue:null,kind:"LocalArgument",name:"password"},r={defaultValue:null,kind:"LocalArgument",name:"project"},t={defaultValue:null,kind:"LocalArgument",name:"registry_name"},i={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},l={defaultValue:null,kind:"LocalArgument",name:"type"},o={defaultValue:null,kind:"LocalArgument",name:"url"},s={defaultValue:null,kind:"LocalArgument",name:"username"},d=[{alias:null,args:[{kind:"Variable",name:"extra",variableName:"extra"},{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"password",variableName:"password"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"CreateContainerRegistryNode",kind:"LinkedField",name:"create_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o,s],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalCreateMutation",selections:d,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,o,n,a,r,i,s,e],kind:"Operation",name:"ContainerRegistryEditorModalCreateMutation",selections:d},params:{cacheID:"57a5fa942b9f107bbb16490b31638433",id:null,metadata:{},name:"ContainerRegistryEditorModalCreateMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalCreateMutation(\n  $registry_name: String!\n  $type: ContainerRegistryTypeField!\n  $url: String!\n  $is_global: Boolean\n  $password: String\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n  $extra: JSONString\n) {\n  create_container_registry_node(registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, password: $password, project: $project, ssl_verify: $ssl_verify, username: $username, extra: $extra) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="60cf4d25b2be71f37f42bdbbafe851ac";const t=r},33983:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"is_global"},n={defaultValue:null,kind:"LocalArgument",name:"password"},a={defaultValue:null,kind:"LocalArgument",name:"project"},r={defaultValue:null,kind:"LocalArgument",name:"registry_name"},t={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},i={defaultValue:null,kind:"LocalArgument",name:"type"},l={defaultValue:null,kind:"LocalArgument",name:"url"},o={defaultValue:null,kind:"LocalArgument",name:"username"},s=[{alias:null,args:[{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"password",variableName:"password"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"CreateContainerRegistryNode",kind:"LinkedField",name:"create_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalCreateWithoutExtraMutation",selections:s,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,i,l,e,n,a,t,o],kind:"Operation",name:"ContainerRegistryEditorModalCreateWithoutExtraMutation",selections:s},params:{cacheID:"d3f471d2185114135baac408db42a9a6",id:null,metadata:{},name:"ContainerRegistryEditorModalCreateWithoutExtraMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalCreateWithoutExtraMutation(\n  $registry_name: String!\n  $type: ContainerRegistryTypeField!\n  $url: String!\n  $is_global: Boolean\n  $password: String\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n) {\n  create_container_registry_node(registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, password: $password, project: $project, ssl_verify: $ssl_verify, username: $username) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="46c904c5d26d790a0fa86a3ce3e72c12";const t=r},22798:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra",storageKey:null}],type:"ContainerRegistryNode",abstractKey:null,hash:"d3edee648e1c09fef66ed49a916ee5e7"},t=r},88167:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"extra"},n={defaultValue:null,kind:"LocalArgument",name:"id"},a={defaultValue:null,kind:"LocalArgument",name:"is_global"},r={defaultValue:null,kind:"LocalArgument",name:"password"},t={defaultValue:null,kind:"LocalArgument",name:"project"},i={defaultValue:null,kind:"LocalArgument",name:"registry_name"},l={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},o={defaultValue:null,kind:"LocalArgument",name:"type"},s={defaultValue:null,kind:"LocalArgument",name:"url"},d={defaultValue:null,kind:"LocalArgument",name:"username"},u=[{alias:null,args:[{kind:"Variable",name:"extra",variableName:"extra"},{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"password",variableName:"password"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"ModifyContainerRegistryNode",kind:"LinkedField",name:"modify_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o,s,d],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalModifyMutation",selections:u,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,o,s,a,r,t,l,d,e],kind:"Operation",name:"ContainerRegistryEditorModalModifyMutation",selections:u},params:{cacheID:"0712251b77c9b50360986c4465efe94d",id:null,metadata:{},name:"ContainerRegistryEditorModalModifyMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalModifyMutation(\n  $id: String!\n  $registry_name: String\n  $type: ContainerRegistryTypeField\n  $url: String\n  $is_global: Boolean\n  $password: String\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n  $extra: JSONString\n) {\n  modify_container_registry_node(id: $id, registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, password: $password, project: $project, ssl_verify: $ssl_verify, username: $username, extra: $extra) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="0bb6864dea3633dc0ded0b72a4745f92";const t=r},30017:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"id"},n={defaultValue:null,kind:"LocalArgument",name:"is_global"},a={defaultValue:null,kind:"LocalArgument",name:"password"},r={defaultValue:null,kind:"LocalArgument",name:"project"},t={defaultValue:null,kind:"LocalArgument",name:"registry_name"},i={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},l={defaultValue:null,kind:"LocalArgument",name:"type"},o={defaultValue:null,kind:"LocalArgument",name:"url"},s={defaultValue:null,kind:"LocalArgument",name:"username"},d=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"password",variableName:"password"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"ModifyContainerRegistryNode",kind:"LinkedField",name:"modify_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o,s],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalModifyWithoutExtraMutation",selections:d,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,t,l,o,n,a,r,i,s],kind:"Operation",name:"ContainerRegistryEditorModalModifyWithoutExtraMutation",selections:d},params:{cacheID:"f9dfa4e6fe4a28ce6431392983316365",id:null,metadata:{},name:"ContainerRegistryEditorModalModifyWithoutExtraMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalModifyWithoutExtraMutation(\n  $id: String!\n  $registry_name: String\n  $type: ContainerRegistryTypeField\n  $url: String\n  $is_global: Boolean\n  $password: String\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n) {\n  modify_container_registry_node(id: $id, registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, password: $password, project: $project, ssl_verify: $ssl_verify, username: $username) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="e6ba4e419266d92609e6a5108750271b";const t=r},97907:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"id"},n={defaultValue:null,kind:"LocalArgument",name:"is_global"},a={defaultValue:null,kind:"LocalArgument",name:"project"},r={defaultValue:null,kind:"LocalArgument",name:"registry_name"},t={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},i={defaultValue:null,kind:"LocalArgument",name:"type"},l={defaultValue:null,kind:"LocalArgument",name:"url"},o={defaultValue:null,kind:"LocalArgument",name:"username"},s=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"ModifyContainerRegistryNode",kind:"LinkedField",name:"modify_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalModifyWithoutPasswordAndExtraMutation",selections:s,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,r,i,l,n,a,t,o],kind:"Operation",name:"ContainerRegistryEditorModalModifyWithoutPasswordAndExtraMutation",selections:s},params:{cacheID:"2a50655b20de361456bf2c12efd63147",id:null,metadata:{},name:"ContainerRegistryEditorModalModifyWithoutPasswordAndExtraMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalModifyWithoutPasswordAndExtraMutation(\n  $id: String!\n  $registry_name: String\n  $type: ContainerRegistryTypeField\n  $url: String\n  $is_global: Boolean\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n) {\n  modify_container_registry_node(id: $id, registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, project: $project, ssl_verify: $ssl_verify, username: $username) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="f41ba1368983974d886897df42c30796";const t=r},42414:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"extra"},n={defaultValue:null,kind:"LocalArgument",name:"id"},a={defaultValue:null,kind:"LocalArgument",name:"is_global"},r={defaultValue:null,kind:"LocalArgument",name:"project"},t={defaultValue:null,kind:"LocalArgument",name:"registry_name"},i={defaultValue:null,kind:"LocalArgument",name:"ssl_verify"},l={defaultValue:null,kind:"LocalArgument",name:"type"},o={defaultValue:null,kind:"LocalArgument",name:"url"},s={defaultValue:null,kind:"LocalArgument",name:"username"},d=[{alias:null,args:[{kind:"Variable",name:"extra",variableName:"extra"},{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"is_global",variableName:"is_global"},{kind:"Variable",name:"project",variableName:"project"},{kind:"Variable",name:"registry_name",variableName:"registry_name"},{kind:"Variable",name:"ssl_verify",variableName:"ssl_verify"},{kind:"Variable",name:"type",variableName:"type"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"username",variableName:"username"}],concreteType:"ModifyContainerRegistryNode",kind:"LinkedField",name:"modify_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,r,t,i,l,o,s],kind:"Fragment",metadata:null,name:"ContainerRegistryEditorModalModifyWithoutPasswordMutation",selections:d,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,l,o,a,r,i,s,e],kind:"Operation",name:"ContainerRegistryEditorModalModifyWithoutPasswordMutation",selections:d},params:{cacheID:"0eaf0ac0a14e3f80b3fce0ab8a294c64",id:null,metadata:{},name:"ContainerRegistryEditorModalModifyWithoutPasswordMutation",operationKind:"mutation",text:"mutation ContainerRegistryEditorModalModifyWithoutPasswordMutation(\n  $id: String!\n  $registry_name: String\n  $type: ContainerRegistryTypeField\n  $url: String\n  $is_global: Boolean\n  $project: String\n  $ssl_verify: Boolean\n  $username: String\n  $extra: JSONString\n) {\n  modify_container_registry_node(id: $id, registry_name: $registry_name, type: $type, url: $url, is_global: $is_global, project: $project, ssl_verify: $ssl_verify, username: $username, extra: $extra) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="e061cd27c36ddac5102a7e8b37efbec3";const t=r},25102:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"hostname"}],n=[{alias:null,args:[{kind:"Variable",name:"hostname",variableName:"hostname"}],concreteType:"DeleteContainerRegistry",kind:"LinkedField",name:"delete_container_registry",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryListBefore2409DeleteMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryListBefore2409DeleteMutation",selections:n},params:{cacheID:"7a89a33c0115cf7f5ff9d6b1c04eb7f3",id:null,metadata:{},name:"ContainerRegistryListBefore2409DeleteMutation",operationKind:"mutation",text:"mutation ContainerRegistryListBefore2409DeleteMutation(\n  $hostname: String!\n) {\n  delete_container_registry(hostname: $hostname) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="730f8ac68060fef479daec8a61f7eb30";const t=r},93233:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"allowed_docker_registries"},n={defaultValue:null,kind:"LocalArgument",name:"domain"},a=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"},{fields:[{kind:"Variable",name:"allowed_docker_registries",variableName:"allowed_docker_registries"}],kind:"ObjectValue",name:"props"}],concreteType:"ModifyDomain",kind:"LinkedField",name:"modify_domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerRegistryListBefore2409DomainMutation",selections:a,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerRegistryListBefore2409DomainMutation",selections:a},params:{cacheID:"c5850fcfa6ce8b87223b284f69ae3f66",id:null,metadata:{},name:"ContainerRegistryListBefore2409DomainMutation",operationKind:"mutation",text:"mutation ContainerRegistryListBefore2409DomainMutation(\n  $domain: String!\n  $allowed_docker_registries: [String]!\n) {\n  modify_domain(name: $domain, props: {allowed_docker_registries: $allowed_docker_registries}) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="4064ba252ad6ddf8da2ef507a8e9df76";const t=r},87122:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"hostname",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null},d={alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"}],concreteType:"Domain",kind:"LinkedField",name:"domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_docker_registries",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryListBefore2409Query",selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registries",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ContainerRegistryEditorModalBefore2409Fragment"},n,a,{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[r,t,i,l,o,s],storageKey:null}],storageKey:null},d],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryListBefore2409Query",selections:[{alias:null,args:null,concreteType:"ContainerRegistry",kind:"LinkedField",name:"container_registries",plural:!0,selections:[n,a,{alias:null,args:null,concreteType:"ContainerRegistryConfig",kind:"LinkedField",name:"config",plural:!1,selections:[r,t,i,l,s,o],storageKey:null}],storageKey:null},d]},params:{cacheID:"ef5b9c798ccb0219aaaa9c4496aca0d0",id:null,metadata:{},name:"ContainerRegistryListBefore2409Query",operationKind:"query",text:"query ContainerRegistryListBefore2409Query(\n  $domain: String!\n) {\n  container_registries {\n    ...ContainerRegistryEditorModalBefore2409Fragment\n    id\n    hostname\n    config {\n      url\n      type\n      project\n      username\n      password\n      ssl_verify\n    }\n  }\n  domain(name: $domain) {\n    name\n    allowed_docker_registries\n  }\n}\n\nfragment ContainerRegistryEditorModalBefore2409Fragment on ContainerRegistry {\n  id\n  hostname\n  config {\n    url\n    type\n    project\n    username\n    ssl_verify\n  }\n}\n"}}}();r.hash="4b60048616461e0148810fd027e9d6ac";const t=r},65692:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"DeleteContainerRegistryNode",kind:"LinkedField",name:"delete_container_registry_node",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"container_registry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ContainerRegistryListDeleteMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ContainerRegistryListDeleteMutation",selections:n},params:{cacheID:"93b0914bb07fb84611809dc34af76686",id:null,metadata:{},name:"ContainerRegistryListDeleteMutation",operationKind:"mutation",text:"mutation ContainerRegistryListDeleteMutation(\n  $id: String!\n) {\n  delete_container_registry_node(id: $id) {\n    container_registry {\n      id\n    }\n  }\n}\n"}}}();r.hash="d75e15de7a3ff3cff9778c52f6907ff3";const t=r},31343:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"allowed_docker_registries"},n={defaultValue:null,kind:"LocalArgument",name:"domain"},a=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"},{fields:[{kind:"Variable",name:"allowed_docker_registries",variableName:"allowed_docker_registries"}],kind:"ObjectValue",name:"props"}],concreteType:"ModifyDomain",kind:"LinkedField",name:"modify_domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerRegistryListDomainMutation",selections:a,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerRegistryListDomainMutation",selections:a},params:{cacheID:"5ea7ebdd79d15e15b23a9fb2d8568d34",id:null,metadata:{},name:"ContainerRegistryListDomainMutation",operationKind:"mutation",text:"mutation ContainerRegistryListDomainMutation(\n  $domain: String!\n  $allowed_docker_registries: [String]!\n) {\n  modify_domain(name: $domain, props: {allowed_docker_registries: $allowed_docker_registries}) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="647ec7cdf3bcffc8cc1d8cd3cced159f";const t=r},29544:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"domain"},n={defaultValue:null,kind:"LocalArgument",name:"filter"},a={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"offset"},t={defaultValue:null,kind:"LocalArgument",name:"order"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"registry_name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"password",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"ssl_verify",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},f={alias:null,args:[{kind:"Variable",name:"name",variableName:"domain"}],concreteType:"Domain",kind:"LinkedField",name:"domain",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"allowed_docker_registries",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,r,t],kind:"Fragment",metadata:null,name:"ContainerRegistryListQuery",selections:[{alias:null,args:i,concreteType:"ContainerRegistryConnection",kind:"LinkedField",name:"container_registry_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContainerRegistryEditorModalFragment"},l,o,s,d,u,c,m,g,y,p],storageKey:null}],storageKey:null},v],storageKey:null},f],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,n,t,a,r],kind:"Operation",name:"ContainerRegistryListQuery",selections:[{alias:null,args:i,concreteType:"ContainerRegistryConnection",kind:"LinkedField",name:"container_registry_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"ContainerRegistryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContainerRegistryNode",kind:"LinkedField",name:"node",plural:!1,selections:[l,o,d,s,u,c,m,g,p,{alias:null,args:null,kind:"ScalarField",name:"extra",storageKey:null},y],storageKey:null}],storageKey:null},v],storageKey:null},f]},params:{cacheID:"0bba862c155dc1896b2f2d0989b83320",id:null,metadata:{},name:"ContainerRegistryListQuery",operationKind:"query",text:'query ContainerRegistryListQuery(\n  $domain: String!\n  $filter: String\n  $order: String\n  $first: Int\n  $offset: Int\n) {\n  container_registry_nodes(filter: $filter, order: $order, first: $first, offset: $offset) @since(version: "24.09.0") {\n    edges {\n      node {\n        ...ContainerRegistryEditorModalFragment\n        id\n        row_id\n        registry_name\n        name\n        url\n        type\n        project\n        username\n        password\n        ssl_verify\n      }\n    }\n    count\n  }\n  domain(name: $domain) {\n    name\n    allowed_docker_registries\n  }\n}\n\nfragment ContainerRegistryEditorModalFragment on ContainerRegistryNode {\n  id\n  row_id\n  name\n  registry_name\n  url\n  type\n  project\n  username\n  ssl_verify\n  extra @since(version: "24.09.3")\n}\n'}}}();r.hash="83d2445a2d783eb91f99f02f22559918";const t=r},94715:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},n=[e,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],a=[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"installed",storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},{alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageListQuery",selections:a,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ImageListQuery",selections:a},params:{cacheID:"5377a9e1eb682509003f0cbca35f4b74",id:null,metadata:{},name:"ImageListQuery",operationKind:"query",text:'query ImageListQuery {\n  images {\n    id\n    name @deprecatedSince(version: "24.12.0")\n    tag\n    registry\n    architecture\n    digest\n    installed\n    labels {\n      key\n      value\n    }\n    humanized_name\n    resource_limits {\n      key\n      min\n      max\n    }\n    namespace @since(version: "24.12.0")\n    base_image_name @since(version: "24.12.0")\n    tags @since(version: "24.12.0") {\n      key\n      value\n    }\n    version @since(version: "24.12.0")\n  }\n}\n'}}}();r.hash="fa384be922b4c222ca7e95ff788b1dec";const t=r},73127:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"architecture"},n={defaultValue:null,kind:"LocalArgument",name:"props"},a={defaultValue:null,kind:"LocalArgument",name:"target"},r=[{alias:null,args:[{kind:"Variable",name:"architecture",variableName:"architecture"},{kind:"Variable",name:"props",variableName:"props"},{kind:"Variable",name:"target",variableName:"target"}],concreteType:"ModifyImage",kind:"LinkedField",name:"modify_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"ManageAppsModalMutation",selections:r,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,n],kind:"Operation",name:"ManageAppsModalMutation",selections:r},params:{cacheID:"b7a57119037085ec9f08346991633e0a",id:null,metadata:{},name:"ManageAppsModalMutation",operationKind:"mutation",text:"mutation ManageAppsModalMutation(\n  $target: String!\n  $architecture: String\n  $props: ModifyImageInput!\n) {\n  modify_image(target: $target, architecture: $architecture, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="bb280196745e96f5c488d1d785a5b012";const t=r},27995:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"architecture"},n={defaultValue:null,kind:"LocalArgument",name:"props"},a={defaultValue:null,kind:"LocalArgument",name:"target"},r=[{alias:null,args:[{kind:"Variable",name:"architecture",variableName:"architecture"},{kind:"Variable",name:"props",variableName:"props"},{kind:"Variable",name:"target",variableName:"target"}],concreteType:"ModifyImage",kind:"LinkedField",name:"modify_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"ManageImageResourceLimitModalMutation",selections:r,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,n],kind:"Operation",name:"ManageImageResourceLimitModalMutation",selections:r},params:{cacheID:"b4c4a5b17c6aa265df64e4d2d6338684",id:null,metadata:{},name:"ManageImageResourceLimitModalMutation",operationKind:"mutation",text:"mutation ManageImageResourceLimitModalMutation(\n  $target: String!\n  $architecture: String\n  $props: ModifyImageInput!\n) {\n  modify_image(target: $target, architecture: $architecture, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="491b6e500587a3630195d9025ef76f29";const t=r},37023:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"}],n=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"}],concreteType:"DeleteResourcePreset",kind:"LinkedField",name:"delete_resource_preset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourcePresetListDeleteMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourcePresetListDeleteMutation",selections:n},params:{cacheID:"66d1ae4fe23653f392529fb39e2e61f2",id:null,metadata:{},name:"ResourcePresetListDeleteMutation",operationKind:"mutation",text:"mutation ResourcePresetListDeleteMutation(\n  $name: String!\n) {\n  delete_resource_preset(name: $name) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="99b502a95d31e84e4de261e06fb89915";const t=r},67781:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"shared_memory",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ResourcePresetListQuery",selections:[{alias:null,args:null,concreteType:"ResourcePreset",kind:"LinkedField",name:"resource_presets",plural:!0,selections:[e,n,a,{args:null,kind:"FragmentSpread",name:"ResourcePresetSettingModalFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ResourcePresetListQuery",selections:[{alias:null,args:null,concreteType:"ResourcePreset",kind:"LinkedField",name:"resource_presets",plural:!0,selections:[e,n,a],storageKey:null}]},params:{cacheID:"f8093b3bde88909fa6f5ab7fdf92dcb0",id:null,metadata:{},name:"ResourcePresetListQuery",operationKind:"query",text:"query ResourcePresetListQuery {\n  resource_presets {\n    name\n    resource_slots\n    shared_memory\n    ...ResourcePresetSettingModalFragment\n  }\n}\n\nfragment ResourcePresetSettingModalFragment on ResourcePreset {\n  name\n  resource_slots\n  shared_memory\n}\n"}}}();r.hash="d720729122a85e155a7f334eba9156fc";const t=r},27837:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"CreateResourcePreset",kind:"LinkedField",name:"create_resource_preset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourcePresetSettingModalCreateMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourcePresetSettingModalCreateMutation",selections:n},params:{cacheID:"4c6d8ef938cb69d5336e86c9d7fca415",id:null,metadata:{},name:"ResourcePresetSettingModalCreateMutation",operationKind:"mutation",text:"mutation ResourcePresetSettingModalCreateMutation(\n  $name: String!\n  $props: CreateResourcePresetInput!\n) {\n  create_resource_preset(name: $name, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="6d3e941d6668ba2fda013fa61adb004d";const t=r},98370:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ResourcePresetSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shared_memory",storageKey:null}],type:"ResourcePreset",abstractKey:null,hash:"e0519643146e095e7a6ac81fee9d922a"},t=r},16379:(e,n,a)=>{a.r(n),a.d(n,{default:()=>t});const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyResourcePreset",kind:"LinkedField",name:"modify_resource_preset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourcePresetSettingModalModifyMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourcePresetSettingModalModifyMutation",selections:n},params:{cacheID:"8096f8cb30e3ac68ed767977d4f44061",id:null,metadata:{},name:"ResourcePresetSettingModalModifyMutation",operationKind:"mutation",text:"mutation ResourcePresetSettingModalModifyMutation(\n  $name: String!\n  $props: ModifyResourcePresetInput!\n) {\n  modify_resource_preset(name: $name, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="80ba55bd668ca590b31674b9b0c280ed";const t=r},54690:(e,n,a)=>{a.d(n,{w4:()=>l});var r=a(46976),t=a.n(r),i=a(55093);a(63821),a(2647);const l=e=>{const[n,a]=(0,i.useState)(e);return{baiPaginationOption:{limit:n.pageSize,offset:n.current>1?(n.current-1)*n.pageSize:0},tablePaginationOption:{pageSize:n.pageSize,current:n.current},setTablePaginationOption:e=>{t().isEqual(e,n)||a((n=>({...n,...e})))}}}},53767:(e,n,a)=>{a.a(e,(async(e,r)=>{try{a.d(n,{a:()=>l});var t=a(39768),i=e([t]);t=(i.then?(await i)():i)[0];const l=e=>{const[n,a]=(0,t.q)(`hiddenColumnKeys.${e}`);return[n,a]};r()}catch(l){r(l)}}))},57613:(e,n,a)=>{a.d(n,{b:()=>l});var r=a(33364);const t={"Cannot read property 'map' of null":"error.APINotSupported","TypeError: NetworkError when attempting to fetch resource.":"error.NetworkConnectionFailed","Login failed. Check login information.":"error.LoginFailed","User credential mismatch.":"error.LoginFailed","Authentication failed. Check information and manager status.":"error.AuthenticationFailed","Too many failed login attempts":"error.TooManyLoginFailures","server responded failure: 400 Bad Request - The virtual folder already exists with the same name.":"error.VirtualFolderAlreadyExist","400 Bad Request - The virtual folder already exists with the same name.":"error.VirtualFolderAlreadyExist","server responded failure: 400 Bad Request - One of your accessible vfolders already has the name you requested.":"error.VirtualFolderAlreadyExist","server responded failure: 400 Bad Request - You cannot create more vfolders.":"error.MaximumVfolderCreation","server responded failure: 400 Bad Request - Missing or invalid API parameters. (You cannot create more vfolders.)":"error.MaximumVfolderCreation","server responded failure: 400 Bad Request - Cannot change the options of a vfolder that is not owned by myself.":"error.CannotChangeVirtualFolderOption","server responded failure: 403 Forbidden - Cannot share private dot-prefixed vfolders.":"error.CannotSharePrivateAutomountFolder","server responded failure: 404 Not Found - No such vfolder invitation.":"error.FolderSharingNotAvailableToUser","server responded failure: 404 Not Found - No such user.":"error.FolderSharingNotAvailableToUser","server responded failure: 412 Precondition Failed - You have reached your resource limit.":"error.ReachedResourceLimit","Cannot read property 'split' of undefined":"error.UserHasNoGroup"},i={"\\w*not found matched token with email\\w*":"error.InvalidSignupToken","\\w*Access key not found\\w*":"error.LoginInformationMismatch","\\w*401 Unauthorized - Credential/signature mismatch\\w*":"error.LoginInformationMismatch",'integrity error: duplicate key value violates unique constraint "pk_resource_presets"[\\n]DETAIL:  Key \\(name\\)=\\([\\w]+\\) already exists.[\\n]':"error.ResourcePolicyAlreadyExist",'integrity error: duplicate key value violates unique constraint "pk_scaling_groups"[\\n]DETAIL:  Key \\(name\\)=\\([\\w]+\\) already exists.[\\n]':"error.ScalingGroupAlreadyExist",'integrity error: duplicate key value violates unique constraint "uq_users_username"[\\n]DETAIL:  Key \\(username\\)=\\([\\w]+\\) already exists.[\\n]':"error.UserNameAlreadyExist","server responded failure: 400 Bad Request - Missing or invalid API parameters. (Your resource quota is exceeded. (cpu=24 mem=512g cuda.shares=80))":"error.ResourceLimitExceed",'\\w*Key \\(name\\)=\\(.+\\) is still referenced from table "keypairs"\\.\\w*':"error.ResourcePolicyStillReferenced","Your resource request is smaller than the minimum required by the image. (\\w*)":"error.SmallerResourceThenImageRequires"},l=()=>{const{t:e}=(0,r.Bd)();return{relieve:n=>{if("undefined"===typeof n)return void 0===globalThis.backendaiclient||null===globalThis.backendaiclient?"_DISCONNECTED":"Problem occurred.";if(!0===globalThis.backendaiwebui.debug)return n;if({}.hasOwnProperty.call(t,n))return e(t[n]);for(const a of Object.keys(i))if(RegExp(a).test(n))return e(i[a]);return n}}}},84399:(e,n,a)=>{a.a(e,(async(e,r)=>{try{a.r(n),a.d(n,{default:()=>f});var t=a(79579),i=a(30395),l=a(81654),o=a(61040),s=a(77826),d=a(23441),u=a(72173),c=a(55093),m=a(33364),g=a(2647),y=a(79569),p=e([t,o]);[t,o]=p.then?(await p)():p;const v=(0,g.withDefault)(g.StringParam,"image"),f=()=>{const{t:e}=(0,m.Bd)(),[n,a]=(0,g.useQueryParam)("tab",v),r=(0,d.CX)(),p=r.supports("container-registry-gql"),f=null===r||void 0===r?void 0:r.isManagerVersionCompatibleWith("24.09.0");return(0,y.jsx)(u.A,{activeTabKey:n,onTabChange:a,tabList:[{key:"image",label:e("environment.Images")},{key:"preset",label:e("environment.ResourcePresets")},...r.is_superadmin?[{key:"registry",label:e("environment.Registries")}]:[]],styles:{body:{padding:0,paddingTop:1,overflow:"hidden"}},children:(0,y.jsxs)(c.Suspense,{fallback:(0,y.jsx)(l.A,{style:{height:"calc(100vh - 145px)"},spinSize:"large"}),children:["image"===n&&(0,y.jsx)(o.A,{}),"preset"===n&&(0,y.jsx)(s.A,{}),"registry"===n?p?f?(0,y.jsx)(t.A,{}):(0,y.jsx)(i.A,{}):(0,y.jsx)("backend-ai-registry-list",{active:!0}):null]})})};r()}catch(v){r(v)}}))},28920:(e,n,a)=>{a.d(n,{A:()=>s});var r=a(40991),t=a(55093);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};var l=a(36462),o=function(e,n){return t.createElement(l.A,(0,r.A)({},e,{ref:n,icon:i}))};const s=t.forwardRef(o)},8181:(e,n,a)=>{a.d(n,{A:()=>s});var r=a(40991),t=a(55093);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var l=a(36462),o=function(e,n){return t.createElement(l.A,(0,r.A)({},e,{ref:n,icon:i}))};const s=t.forwardRef(o)},79176:(e,n,a)=>{a.d(n,{A:()=>s});var r=a(40991),t=a(55093);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};var l=a(36462),o=function(e,n){return t.createElement(l.A,(0,r.A)({},e,{ref:n,icon:i}))};const s=t.forwardRef(o)},72757:(e,n,a)=>{a.d(n,{A:()=>l});var r=a(92509),t=a(55093),i=a(24685);const l=function(e){void 0===e&&(e=[]);var n=(0,t.useRef)(-1),a=(0,t.useRef)([]),l=(0,t.useCallback)((function(e){n.current+=1,a.current.splice(e,0,n.current)}),[]),o=(0,r.zs)((0,t.useState)((function(){return e.forEach((function(e,n){l(n)})),e})),2),s=o[0],d=o[1],u=(0,t.useCallback)((function(e){a.current=[],d((function(){return e.forEach((function(e,n){l(n)})),e}))}),[]),c=(0,t.useCallback)((function(e,n){d((function(a){var t=(0,r.fX)([],(0,r.zs)(a),!1);return t.splice(e,0,n),l(e),t}))}),[]),m=(0,t.useCallback)((function(e){return a.current[e]}),[]),g=(0,t.useCallback)((function(e){return a.current.findIndex((function(n){return n===e}))}),[]),y=(0,t.useCallback)((function(e,n){d((function(a){var t=(0,r.fX)([],(0,r.zs)(a),!1);return n.forEach((function(n,a){l(e+a)})),t.splice.apply(t,(0,r.fX)([e,0],(0,r.zs)(n),!1)),t}))}),[]),p=(0,t.useCallback)((function(e,n){d((function(a){var t=(0,r.fX)([],(0,r.zs)(a),!1);return t[e]=n,t}))}),[]),v=(0,t.useCallback)((function(e){d((function(n){var t=(0,r.fX)([],(0,r.zs)(n),!1);t.splice(e,1);try{a.current.splice(e,1)}catch(i){console.error(i)}return t}))}),[]),f=(0,t.useCallback)((function(e){Array.isArray(e)?e.length&&d((function(n){var r=[],t=n.filter((function(n,a){var t=!e.includes(a);return t&&r.push(m(a)),t}));return a.current=r,t})):i.A&&console.error('`indexes` parameter of `batchRemove` function expected to be an array, but got "'.concat(typeof e,'".'))}),[]),h=(0,t.useCallback)((function(e,n){e!==n&&d((function(t){var i=(0,r.fX)([],(0,r.zs)(t),!1),l=i.filter((function(n,a){return a!==e}));l.splice(n,0,i[e]);try{var o=a.current.filter((function(n,a){return a!==e}));o.splice(n,0,a.current[e]),a.current=o}catch(s){console.error(s)}return l}))}),[]),k=(0,t.useCallback)((function(e){d((function(n){return l(n.length),n.concat([e])}))}),[]),b=(0,t.useCallback)((function(){try{a.current=a.current.slice(0,a.current.length-1)}catch(e){console.error(e)}d((function(e){return e.slice(0,e.length-1)}))}),[]),x=(0,t.useCallback)((function(e){d((function(n){return l(0),[e].concat(n)}))}),[]),A=(0,t.useCallback)((function(){try{a.current=a.current.slice(1,a.current.length)}catch(e){console.error(e)}d((function(e){return e.slice(1,e.length)}))}),[]),_=(0,t.useCallback)((function(e){return e.map((function(e,n){return{key:n,item:e}})).sort((function(e,n){return g(e.key)-g(n.key)})).filter((function(e){return!!e.item})).map((function(e){return e.item}))}),[]);return{list:s,insert:c,merge:y,replace:p,remove:v,batchRemove:f,getKey:m,getIndex:g,move:h,push:k,pop:b,unshift:x,shift:A,sortList:_,resetList:u}}},5975:(e,n,a)=>{a.d(n,{A:()=>f});var r=a(55093),t=a(62097),i=a.n(t),l=a(62950),o=a(55393),s=a(75725),d=a(95555),u=a(19541),c=a(47543);const{Option:m}=c.A;function g(e){return(null===e||void 0===e?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const y=(e,n)=>{var a;const{prefixCls:t,className:d,popupClassName:y,dropdownClassName:p,children:v,dataSource:f}=e,h=(0,l.A)(v);let k;1===h.length&&r.isValidElement(h[0])&&!g(h[0])&&([k]=h);const b=k?()=>k:void 0;let x;x=h.length&&g(h[0])?v:f?f.map((e=>{if(r.isValidElement(e))return e;switch(typeof e){case"string":return r.createElement(m,{key:e,value:e},e);case"object":{const{value:n}=e;return r.createElement(m,{key:n,value:n},e.text)}default:return}})):[];const{getPrefixCls:A}=r.useContext(u.QO),_=A("select",t),[j]=(0,s.YK)("SelectLike",null===(a=e.dropdownStyle)||void 0===a?void 0:a.zIndex);return r.createElement(c.A,Object.assign({ref:n,suffixIcon:null},(0,o.A)(e,["dataSource","dropdownClassName"]),{prefixCls:_,popupClassName:y||p,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:j}),className:i()(`${_}-auto-complete`,d),mode:c.A.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:b}),x)},p=r.forwardRef(y),v=(0,d.A)(p);p.Option=m,p._InternalPanelDoNotUseOrYouWillBeFired=v;const f=p}}]);
//# sourceMappingURL=4399.59953416.chunk.js.map