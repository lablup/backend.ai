"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2218],{77099:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"limit"},t={defaultValue:null,kind:"LocalArgument",name:"offset"},l={defaultValue:null,kind:"LocalArgument",name:"projectID"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"project",variableName:"projectID"}],o={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{fragment:{argumentDefinitions:[e,n,t,l],kind:"Fragment",metadata:null,name:"EndpointSelectQuery",selections:[{alias:null,args:i,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[o,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:[a,r,s,{args:null,kind:"FragmentSpread",name:"EndpointLLMChatCard_endpoint"}],storageKey:null}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,l,e],kind:"Operation",name:"EndpointSelectQuery",selections:[{alias:null,args:i,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[o,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:[a,r,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"822298bd09f111c5052e913a673b915e",id:null,metadata:{},name:"EndpointSelectQuery",operationKind:"query",text:"query EndpointSelectQuery(\n  $offset: Int!\n  $limit: Int!\n  $projectID: UUID\n  $filter: String\n) {\n  endpoint_list(offset: $offset, limit: $limit, project: $projectID, filter: $filter) {\n    total_count\n    items {\n      name\n      endpoint_id\n      url\n      ...EndpointLLMChatCard_endpoint\n      id\n    }\n  }\n}\n\nfragment EndpointLLMChatCard_endpoint on Endpoint {\n  endpoint_id\n  url\n}\n"}}}();l.hash="f6cce35a2fd8ae872d7c629a6384e357";const i=l},40478:(e,n,t)=>{t.d(n,{A:()=>c});var l=t(33789),i=t(60822),o=t(24914),a=t(10361),r=t(43373),s=t(48401),d=t(73689);const c=e=>{let{copyable:n,defaultIcon:t,...c}=e;const[u,p]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(u){const e=setTimeout((()=>{p(!1)}),2e3);return()=>clearTimeout(e)}}),[u]),(0,d.jsx)(l.A,{title:u?"Copied!":"Copy",open:!!u||void 0,children:(0,d.jsx)(s.CopyToClipboard,{text:(null===n||void 0===n?void 0:n.text)||"",onCopy:async()=>{p(!0)},children:(0,d.jsx)(i.Ay,{icon:u?(0,d.jsx)(o.A,{}):t||(0,d.jsx)(a.A,{}),...c})})})}},18450:(e,n,t)=>{t.d(n,{A:()=>te});var l=t(51593),i=t(89130),o=t(45296),a=t(67378),r=t(60822),s=t(64831),d=t(57442),c=t(43373),u=t(73689);const{Compact:p}=o.A,m=e=>{let{style:n,loading:t,autoFocus:l,onStop:i,onSend:o,...m}=e;const g=(0,c.useRef)(null);return(0,c.useEffect)((()=>{l&&g.current&&g.current.focus()}),[l]),(0,u.jsxs)(p,{style:{width:"100%",...n},children:[(0,u.jsx)(a.A,{ref:g,...m,onPressEnter:e=>{t||o&&o()}}),(0,u.jsx)(r.Ay,{htmlType:"button",icon:t?(0,u.jsx)(s.A,{}):(0,u.jsx)(d.A,{}),onClick:()=>{t?i&&i():o&&o()}})]})};var g=t(69056),f=t(89608),y=t.n(f),h=t(56762);const v=e=>{let{models:n,allowCustomModel:t,...l}=e;const{t:i}=(0,h.Bd)();return(0,u.jsx)(g.A,{placeholder:i("chatui.SelectModel"),style:{fontWeight:"normal"},showSearch:!0,options:y().concat(t?[{label:"Custom",value:"custom"}]:[],y().chain(n).groupBy("group").mapValues((e=>y().map(e,(e=>({label:e.label,value:e.name}))))).map(((e,n)=>({label:"undefined"===n?"Others":n,options:e}))).value()),popupMatchSelectWidth:!1,...l})};var x=t(40478),b=t(85690),C=t(55368),k=t(60228),j=t(65246),A=t(87799);const{Text:S}=b.A,L=e=>{let{children:n}=e;return(0,u.jsx)(k.o,{components:{code(e){const{children:n,className:t,node:l,ref:i,...o}=e,a=/language-(\w+)/.exec(t||""),r=String(n).replace(/\n$/,"");return a?(0,u.jsx)(C.A,{title:(0,u.jsx)(S,{style:{fontWeight:"normal"},type:"secondary",children:a[1]}),type:"inner",size:"small",extra:(0,u.jsx)(x.A,{type:"text",copyable:{text:"s"}}),styles:{body:{padding:0},header:{margin:0}},children:(0,u.jsx)("div",{style:{margin:"-0.5em 0",width:"100%"},children:(0,u.jsx)(I,{ref:i,...o,PreTag:"div",language:a[1],style:A.A,wrapLongLines:!0,wrapLines:!0,children:r})})}):(0,u.jsx)("code",{...o,className:t,children:n})}},children:n})},E=e=>{let{children:n,...t}=e;return(0,u.jsx)(j.A,{...t,children:n})},I=c.memo(E),w=c.memo(L);var T=t(35343),M=t(50868),O=t(60522),P=t(12731),z=t.n(P),_=t(65928),F=t.n(_),K=t(99261),D=t.n(K);z().extend(F()),z().extend(D());const R=e=>{let{extra:n,message:t,placement:l="left",containerStyle:o,enableExtraHover:a,isStreaming:r}=e;const{token:s}=M.A.useToken(),[d,p]=(0,c.useState)(!1),m=(0,T.A)(t.content,{wait:50});return(0,u.jsxs)(i.A,{direction:"left"===l?"row":"row-reverse",justify:"start",align:"baseline",style:{marginLeft:"left"===l?"0":"15%",marginRight:"right"===l?"0":20,...o},gap:"sm",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:["user"!==t.role?(0,u.jsx)(O.A,{icon:"\ud83e\udd16",style:{fontSize:s.fontSizeHeading3}}):null,(0,u.jsxs)(i.A,{direction:"column",align:"left"===l?"start":"end",wrap:"wrap",style:{flex:1},gap:"xxs",children:[(0,u.jsx)(i.A,{align:"stretch",direction:"column",style:{borderRadius:s.borderRadius,borderColor:s.colorBorderSecondary,borderWidth:s.lineWidth,padding:"1em",paddingTop:0,paddingBottom:0,backgroundColor:"user"!==t.role?s.colorBgContainer:s.colorBgContainerDisabled,width:"100%"},children:(0,u.jsx)(w,{children:m+(r?"\n\u25cf":"")})}),(0,u.jsx)(i.A,{style:{fontSize:s.fontSizeSM,...a?{opacity:d?1:0,transition:"opacity 0.2s",transitionDelay:d?"0s":"0.2s"}:{}},children:n})]})]})};var $=t(60266),B=t(44828);const N=e=>{let{autoScroll:n,atBottom:t,lastMessageContent:l,...i}=e;const o=(0,$.E)(i.onScrollToBottom);return(0,c.useEffect)((()=>{t&&n&&(null===o||void 0===o||o("auto"))}),[t,n,l,o]),(0,u.jsx)(r.Ay,{icon:(0,u.jsx)(B.A,{}),shape:"circle",onClick:()=>{o&&o("click")}})};var V=t(12529),U=t(849);const Q=e=>{var n;let{messages:t,isStreaming:l}=e;const o=(0,c.useRef)(null),[a,r]=(0,c.useState)(!0),{token:s}=M.A.useToken(),d="undefined"!==typeof window?1.5*window.innerHeight:0;return(0,u.jsxs)(i.A,{direction:"column",align:"stretch",style:{height:"100%",flex:1},children:[(0,u.jsx)(U.aY,{atBottomStateChange:r,atBottomThreshold:60,computeItemKey:(e,n)=>n.id,data:t,followOutput:"auto",initialTopMostItemIndex:(null===t||void 0===t?void 0:t.length)-1,itemContent:(e,n)=>(0,u.jsx)(R,{message:n,placement:"user"===n.role?"right":"left",containerStyle:{paddingLeft:s.paddingMD,paddingRight:s.paddingMD,paddingTop:0===e?s.paddingMD:0,paddingBottom:e===t.length-1?s.paddingMD:0},isStreaming:"user"!==n.role&&l&&e===t.length-1,enableExtraHover:"user"===n.role,extra:"user"!==n.role?(0,u.jsx)(V.Ay,{children:(0,u.jsx)(x.A,{type:"text",size:"small",copyable:{text:n.content}})}):(0,u.jsx)(V.Ay,{children:null})},n.id),overscan:d,ref:o}),(0,u.jsx)("div",{style:{position:"absolute",right:"50%",transform:"translateX(+50%)",bottom:s.marginSM,opacity:a?0:1,transition:"opacity 0.2s",transitionDelay:a?"0s":"0.2s"},children:(0,u.jsx)(N,{atBottom:a,autoScroll:l,onScrollToBottom:e=>{const n=o.current;switch(e){case"auto":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"auto",index:"LAST"});break;case"click":null===n||void 0===n||n.scrollToIndex({align:"end",behavior:"smooth",index:"LAST"})}},lastMessageContent:null===(n=t[t.length-1])||void 0===n?void 0:n.content})})]})};var q=t(29992),W=t(76166),H=t(64703),X=t(57958),Y=t(52161),G=t(20267),J=t(32141),Z=t(23702),ee=t(39464),ne=t(50364);const te=e=>{var n;let{models:t=[],endpointId:o,baseURL:s,headers:d,credentials:p,apiKey:g,fetchOnClient:f,allowCustomModel:x,alert:b,leftExtra:k,inputMessage:j,submitKey:A,onInputChange:S,onSubmitChange:L,...E}=e;const I=(0,l.f0)(),[w,T]=(0,Y.A)(E,{valuePropName:"modelId",trigger:"onModelChange",defaultValue:null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id}),O=(0,c.useRef)(null),{messages:P,error:z,input:_,setInput:F,handleInputChange:K,stop:D,isLoading:R,append:$,setMessages:B}=(0,W.Y_)({api:s,headers:d,credentials:p,body:{modelId:w},streamMode:"stream-data",fetch:(e,n)=>{if(f||"custom"===w){var t,l,i;const e=JSON.parse(null===n||void 0===n?void 0:n.body),o=(0,q.ry)({baseURL:x?null===(t=O.current)||void 0===t?void 0:t.getFieldValue("baseURL"):s,apiKey:(x?null===(l=O.current)||void 0===l?void 0:l.getFieldValue("token"):g)||"dummy"});return(0,G.gM)({abortSignal:(null===n||void 0===n?void 0:n.signal)||void 0,model:o(x?null===(i=O.current)||void 0===i?void 0:i.getFieldValue("modelId"):w),messages:null===e||void 0===e?void 0:e.messages}).then((e=>e.toAIStreamResponse()))}return fetch(e,n)}}),{token:N}=M.A.useToken(),{t:V}=(0,h.Bd)();(0,c.useEffect)((()=>{y().isUndefined(j)||F(j)}),[j,F]),(0,c.useEffect)((()=>{!y().isUndefined(A)&&_&&$({role:"user",content:_})}),[A]);const U=[{key:"compare",label:V("chatui.CompareWithOtherModels"),icon:(0,u.jsx)(ne.A,{}),onClick:()=>{I(`/serving?tab=chatting&endpointId=${o}&modelId=${w}`)}},{type:"divider"},{key:"clear",danger:!0,label:V("chatui.DeleteChatHistory"),icon:(0,u.jsx)(H.A,{}),onClick:()=>{B([])}}];return(0,u.jsxs)(C.A,{bordered:!0,extra:[],...E,title:(0,u.jsx)(i.A,{direction:"column",align:"stretch",gap:"sm",children:(0,u.jsxs)(i.A,{direction:"row",gap:"xs",children:[k,(0,u.jsx)(v,{models:t,value:w,onChange:T,allowCustomModel:x}),(0,u.jsx)(J.A,{menu:{items:U},trigger:["click"],children:(0,u.jsx)(r.Ay,{type:"link",onClick:e=>e.preventDefault(),icon:(0,u.jsx)(X.A,{}),style:{color:N.colorTextSecondary,width:N.sizeMS}})})]})}),style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},styles:{body:{backgroundColor:N.colorFillQuaternary,borderRadius:0,flex:1,display:"flex",flexDirection:"column",padding:0,height:"50%",position:"relative"},actions:{paddingLeft:N.paddingContentHorizontal,paddingRight:N.paddingContentHorizontal},header:{zIndex:1}},actions:[(0,u.jsx)(m,{autoFocus:!0,value:_,placeholder:"Say something...",onChange:e=>{K(e),S&&S(e.target.value)},loading:R,onStop:()=>{D()},onSend:()=>{_&&($({role:"user",content:_}),setTimeout((()=>{F("")}),0),L&&L())}})],children:[(0,u.jsx)(i.A,{direction:"row",style:{padding:N.paddingSM,paddingRight:N.paddingContentHorizontalLG,paddingLeft:N.paddingContentHorizontalLG,backgroundColor:N.colorBgContainer,display:x&&"custom"===w?"flex":"none"},children:(0,u.jsxs)(Z.A,{ref:O,layout:"horizontal",size:"small",requiredMark:"optional",style:{flex:1},initialValues:{baseURL:s},children:[b?(0,u.jsx)("div",{style:{marginBottom:N.size},children:b}):null,(0,u.jsx)(Z.A.Item,{label:"baseURL",name:"baseURL",rules:[{type:"url"},{required:!0}],children:(0,u.jsx)(a.A,{placeholder:"https://domain/v1"})}),(0,u.jsx)(Z.A.Item,{label:"Model ID",name:"modelId",rules:[{required:!0}],children:(0,u.jsx)(a.A,{placeholder:"llm-model"})}),(0,u.jsx)(Z.A.Item,{label:"Token",name:"token",children:(0,u.jsx)(a.A,{})})]},s)}),y().isEmpty(null===z||void 0===z?void 0:z.responseBody)?null:(0,u.jsx)(ee.A,{message:null===z||void 0===z?void 0:z.responseBody,type:"error",showIcon:!0,style:{margin:N.marginSM},closable:!0}),(0,u.jsx)(Q,{messages:P,isStreaming:R})]})}},52218:(e,n,t)=>{t.r(n),t.d(n,{default:()=>K});var l,i=t(89130),o=t(60881),a=t(51593),r=t(16522),s=t(52161),d=t(69056),c=t(89608),u=t.n(c),p=t(43373),m=t(88522),g=t(73689);const f=e=>{let{fetchKey:n,...i}=e;const o=(0,a.CX)(),{baiPaginationOption:c}=(0,r.w4)({current:1,pageSize:100}),{endpoint_list:p}=(0,m.useLazyLoadQuery)(void 0!==l?l:l=t(77099),{limit:c.limit,offset:c.offset,filter:o.supports("endpoint-lifecycle-stage-filter")?'lifecycle_stage == "created"':void 0},{fetchKey:n}),[f,y]=(0,s.A)(i);return(0,g.jsx)(d.A,{showSearch:!0,optionFilterProp:"label",...i,options:u().map(null===p||void 0===p?void 0:p.items,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.endpoint_id,endpoint:e}))),value:f,onChange:(e,n)=>{var t;y(e,null===(t=u().castArray(n))||void 0===t?void 0:t[0].endpoint)}})};var y,h=t(18450),v=t(67425),x=t(50868),b=t(51548),C=t(60822),k=t(39464),j=t(28742),A=t(27658),S=t(56762);const L=(0,j.eU)(""),E=(0,j.eU)(void 0),I=e=>{var n,l,i,a;let{basePath:r="v1",closable:s,defaultModelId:d,defaultEndpoint:c,fetchKey:j,isSynchronous:I,onRequestClose:w,onModelChange:T,...M}=e;const{t:O}=(0,S.Bd)(),{token:P}=x.A.useToken(),[z,_]=(0,p.useState)(c||null),F=(0,m.useFragment)(void 0!==y?y:y=t(13318),z),[K,D]=(0,p.useState)(F),[R,$]=(0,A.fp)(L),[B,N]=(0,A.fp)(E),{data:V}=(0,o.nj)({queryKey:["models",j,null===F||void 0===F?void 0:F.endpoint_id],queryFn:()=>{var e;return null!==F&&void 0!==F&&F.url?fetch(new URL(r+"/models",null!==(e=null===F||void 0===F?void 0:F.url)&&void 0!==e?e:void 0).toString()).then((e=>e.json())).catch((e=>({data:[]}))):Promise.resolve({data:[]})}}),U=u().map(null===V||void 0===V?void 0:V.data,(e=>({id:e.id,name:e.id}))),Q=(0,p.useId)();return(0,g.jsx)(h.A,{...M,baseURL:null!==F&&void 0!==F&&F.url?new URL(r,null!==(n=null===F||void 0===F?void 0:F.url)&&void 0!==n?n:void 0).toString():void 0,models:U,fetchOnClient:!0,leftExtra:(0,g.jsx)(f,{placeholder:O("chatui.SelectEndpoint"),style:{fontWeight:"normal"},fetchKey:j,showSearch:!0,loading:(null===K||void 0===K?void 0:K.endpoint_id)!==(null===F||void 0===F?void 0:F.endpoint_id),onChange:(e,n)=>{D(n),(0,p.startTransition)((()=>{_(n)}))},value:null===F||void 0===F?void 0:F.endpoint_id,popupMatchSelectWidth:!1}),modelId:d&&u().includes(u().map(null===V||void 0===V?void 0:V.data,"id"),d)?d:null!==(l=null===V||void 0===V||null===(i=V.data)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.id)&&void 0!==l?l:"custom",extra:s?(0,g.jsx)(b.A,{title:O("chatui.DeleteChattingSession"),description:O("chatui.DeleteChattingSessionDescription"),onConfirm:()=>{null===w||void 0===w||w()},okText:O("button.Delete"),okButtonProps:{danger:!0},children:(0,g.jsx)(C.Ay,{icon:(0,g.jsx)(v.A,{}),type:"text",style:{color:P.colorIcon}})}):void 0,allowCustomModel:u().isEmpty(U),alert:u().isEmpty(U)&&(0,g.jsx)(k.A,{type:"warning",showIcon:!0,message:O("chatui.CannotFindModel")}),inputMessage:I?R:void 0,onInputChange:e=>{$(e)},submitKey:(null===B||void 0===B?void 0:B.id)===Q||null===B||void 0===B?void 0:B.key,onSubmitChange:()=>{$(""),I&&N({id:Q,key:(new Date).toString()})}})};var w,T=t(4342),M=t(54880),O=t(85690),P=t(15480),z=t(55368),_=t(34948),F=t(12121);const K=e=>{let{...n}=e;const{token:l}=x.A.useToken(),{t:o}=(0,S.Bd)(),{list:a,remove:r,getKey:s,push:d}=(0,M.A)(["0","1"]),[c,f]=(0,p.useState)(!1),[y]=(0,F.useQueryParam)("endpointId",F.StringParam),[h]=(0,F.useQueryParam)("modelId",F.StringParam),v=!y,{endpoint:b,endpoint_list:k}=(0,m.useLazyLoadQuery)(void 0!==w?w:w=t(91645),{endpointId:y||"",isEmptyEndpointId:v});return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(i.A,{direction:"column",align:"stretch",children:[(0,g.jsxs)(i.A,{direction:"row",justify:"between",wrap:"wrap",gap:"xs",style:{padding:l.paddingContentVertical,paddingLeft:l.paddingContentHorizontalSM,paddingRight:l.paddingContentHorizontalSM},children:[(0,g.jsx)(i.A,{direction:"column",align:"start",children:(0,g.jsx)(O.A.Text,{style:{margin:0,padding:0},children:"LLM Playground"})}),(0,g.jsx)(i.A,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:(0,g.jsxs)(i.A,{gap:"xs",children:[(0,g.jsx)(O.A.Text,{type:"secondary",children:o("chatui.SyncInput")}),(0,g.jsx)(P.A,{value:c,onClick:e=>{f(e)}}),(0,g.jsx)(C.Ay,{onClick:()=>{d((new Date).toString())},icon:(0,g.jsx)(T.A,{})})]})})]}),(0,g.jsx)(i.A,{gap:"xs",style:{margin:l.margin,marginTop:0,overflow:"auto",height:"calc(100vh - 215px)"},align:"stretch",children:u().map(a,((e,n)=>{var t;return(0,g.jsx)(p.Suspense,{fallback:(0,g.jsx)(z.A,{style:{flex:1},children:(0,g.jsx)(_.A,{active:!0})}),children:(0,g.jsx)(I,{defaultModelId:0===n&&b&&h?h:void 0,defaultEndpoint:0===n&&b?b:(null===k||void 0===k||null===(t=k.items)||void 0===t?void 0:t[0])||void 0,style:{flex:1},onRequestClose:()=>{r(n)},closable:a.length>1,isSynchronous:c},s(n))},s(n))}))})]})})}},13318:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointLLMChatCard_endpoint",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"d5fbaab35efda649f9f7847ee51028b6"},i=l},91645:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpointId"},{defaultValue:null,kind:"LocalArgument",name:"isEmptyEndpointId"}],n=[{kind:"Variable",name:"endpoint_id",variableName:"endpointId"}],t=[{args:null,kind:"FragmentSpread",name:"EndpointLLMChatCard_endpoint"}],l=[{kind:"Literal",name:"limit",value:1},{kind:"Literal",name:"offset",value:0}],i=[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LLMPlaygroundPageQuery",selections:[{alias:null,args:n,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:t,storageKey:null},{alias:null,args:l,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:t,storageKey:null}],storageKey:"endpoint_list(limit:1,offset:0)"}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LLMPlaygroundPageQuery",selections:[{alias:null,args:n,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:i,storageKey:null},{alias:null,args:l,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:i,storageKey:null}],storageKey:"endpoint_list(limit:1,offset:0)"}]},params:{cacheID:"2666fd687919647b3aaa7f1d6cda6662",id:null,metadata:{},name:"LLMPlaygroundPageQuery",operationKind:"query",text:"query LLMPlaygroundPageQuery(\n  $endpointId: UUID!\n  $isEmptyEndpointId: Boolean!\n) {\n  endpoint(endpoint_id: $endpointId) @skipOnClient(if: $isEmptyEndpointId) {\n    ...EndpointLLMChatCard_endpoint\n    id\n  }\n  endpoint_list(limit: 1, offset: 0) {\n    items {\n      ...EndpointLLMChatCard_endpoint\n      id\n    }\n  }\n}\n\nfragment EndpointLLMChatCard_endpoint on Endpoint {\n  endpoint_id\n  url\n}\n"}}}();l.hash="ebf5c41c874617edc639e99afe6789d2";const i=l},16522:(e,n,t)=>{t.d(n,{w4:()=>a});var l=t(89608),i=t.n(l),o=t(43373);t(88522),t(12121);const a=e=>{const[n,t]=(0,o.useState)(e);return{baiPaginationOption:{limit:n.pageSize,offset:n.current>1?(n.current-1)*n.pageSize:0},tablePaginationOption:{pageSize:n.pageSize,current:n.current},setTablePaginationOption:e=>{i().isEqual(e,n)||t((n=>({...n,...e})))}}}},52161:(e,n,t)=>{t.d(n,{A:()=>s});var l=t(81949),i=t(43373),o=t(92685),a=t(53591);const r=function(){var e=(0,l.zs)((0,i.useState)({}),2)[1];return(0,i.useCallback)((function(){return e({})}),[])};const s=function(e,n){void 0===e&&(e={}),void 0===n&&(n={});var t=n.defaultValue,s=n.defaultValuePropName,d=void 0===s?"defaultValue":s,c=n.valuePropName,u=void 0===c?"value":c,p=n.trigger,m=void 0===p?"onChange":p,g=e[u],f=e.hasOwnProperty(u),y=(0,i.useMemo)((function(){return f?g:e.hasOwnProperty(d)?e[d]:t}),[]),h=(0,i.useRef)(y);f&&(h.current=g);var v=r();return[h.current,(0,a.A)((function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=(0,o.Tn)(n)?n(h.current):n;f||(h.current=a,v()),e[m]&&e[m].apply(e,(0,l.fX)([a],(0,l.zs)(t),!1))}))]}},54880:(e,n,t)=>{t.d(n,{A:()=>a});var l=t(81949),i=t(43373),o=t(77418);const a=function(e){void 0===e&&(e=[]);var n=(0,i.useRef)(-1),t=(0,i.useRef)([]),a=(0,i.useCallback)((function(e){n.current+=1,t.current.splice(e,0,n.current)}),[]),r=(0,l.zs)((0,i.useState)((function(){return e.forEach((function(e,n){a(n)})),e})),2),s=r[0],d=r[1],c=(0,i.useCallback)((function(e){t.current=[],d((function(){return e.forEach((function(e,n){a(n)})),e}))}),[]),u=(0,i.useCallback)((function(e,n){d((function(t){var i=(0,l.fX)([],(0,l.zs)(t),!1);return i.splice(e,0,n),a(e),i}))}),[]),p=(0,i.useCallback)((function(e){return t.current[e]}),[]),m=(0,i.useCallback)((function(e){return t.current.findIndex((function(n){return n===e}))}),[]),g=(0,i.useCallback)((function(e,n){d((function(t){var i=(0,l.fX)([],(0,l.zs)(t),!1);return n.forEach((function(n,t){a(e+t)})),i.splice.apply(i,(0,l.fX)([e,0],(0,l.zs)(n),!1)),i}))}),[]),f=(0,i.useCallback)((function(e,n){d((function(t){var i=(0,l.fX)([],(0,l.zs)(t),!1);return i[e]=n,i}))}),[]),y=(0,i.useCallback)((function(e){d((function(n){var i=(0,l.fX)([],(0,l.zs)(n),!1);i.splice(e,1);try{t.current.splice(e,1)}catch(o){console.error(o)}return i}))}),[]),h=(0,i.useCallback)((function(e){Array.isArray(e)?e.length&&d((function(n){var l=[],i=n.filter((function(n,t){var i=!e.includes(t);return i&&l.push(p(t)),i}));return t.current=l,i})):o.A&&console.error('`indexes` parameter of `batchRemove` function expected to be an array, but got "'.concat(typeof e,'".'))}),[]),v=(0,i.useCallback)((function(e,n){e!==n&&d((function(i){var o=(0,l.fX)([],(0,l.zs)(i),!1),a=o.filter((function(n,t){return t!==e}));a.splice(n,0,o[e]);try{var r=t.current.filter((function(n,t){return t!==e}));r.splice(n,0,t.current[e]),t.current=r}catch(s){console.error(s)}return a}))}),[]),x=(0,i.useCallback)((function(e){d((function(n){return a(n.length),n.concat([e])}))}),[]),b=(0,i.useCallback)((function(){try{t.current=t.current.slice(0,t.current.length-1)}catch(e){console.error(e)}d((function(e){return e.slice(0,e.length-1)}))}),[]),C=(0,i.useCallback)((function(e){d((function(n){return a(0),[e].concat(n)}))}),[]),k=(0,i.useCallback)((function(){try{t.current=t.current.slice(1,t.current.length)}catch(e){console.error(e)}d((function(e){return e.slice(1,e.length)}))}),[]),j=(0,i.useCallback)((function(e){return e.map((function(e,n){return{key:n,item:e}})).sort((function(e,n){return m(e.key)-m(n.key)})).filter((function(e){return!!e.item})).map((function(e){return e.item}))}),[]);return{list:s,insert:u,merge:g,replace:f,remove:y,batchRemove:h,getKey:p,getIndex:m,move:v,push:x,pop:b,unshift:C,shift:k,sortList:j,resetList:c}}},51548:(e,n,t)=>{t.d(n,{A:()=>S});var l=t(43373),i=t(67592),o=t(13001),a=t.n(o),r=t(90049),s=t(76633),d=t(67085),c=t(84131),u=t(565),p=t(781),m=t(60822),g=t(44123),f=t(89689),y=t(47272),h=t(83451),v=t(64188);const x=(0,v.OF)("Popconfirm",(e=>(e=>{const{componentCls:n,iconCls:t,antCls:l,zIndexPopup:i,colorText:o,colorWarning:a,marginXXS:r,marginXS:s,fontSize:d,fontWeightStrong:c,colorTextHeading:u}=e;return{[n]:{zIndex:i,[`&${l}-popover`]:{fontSize:d},[`${n}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${t}`]:{color:a,fontSize:d,lineHeight:1,marginInlineEnd:s},[`${n}-title`]:{fontWeight:c,color:u,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:r,color:o}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}})(e)),(e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}}),{resetStyle:!1});var b=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(t[l[i]]=e[l[i]])}return t};const C=e=>{const{prefixCls:n,okButtonProps:t,cancelButtonProps:o,title:a,description:r,cancelText:s,okText:c,okType:h="primary",icon:v=l.createElement(i.A,null),showCancel:x=!0,close:b,onConfirm:C,onCancel:k,onPopupClick:j}=e,{getPrefixCls:A}=l.useContext(d.QO),[S]=(0,f.A)("Popconfirm",y.A.Popconfirm),L=(0,p.b)(a),E=(0,p.b)(r);return l.createElement("div",{className:`${n}-inner-content`,onClick:j},l.createElement("div",{className:`${n}-message`},v&&l.createElement("span",{className:`${n}-message-icon`},v),l.createElement("div",{className:`${n}-message-text`},L&&l.createElement("div",{className:`${n}-title`},L),E&&l.createElement("div",{className:`${n}-description`},E))),l.createElement("div",{className:`${n}-buttons`},x&&l.createElement(m.Ay,Object.assign({onClick:k,size:"small"},o),s||(null===S||void 0===S?void 0:S.cancelText)),l.createElement(u.A,{buttonProps:Object.assign(Object.assign({size:"small"},(0,g.DU)(h)),t),actionFn:C,close:b,prefixCls:A("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||(null===S||void 0===S?void 0:S.okText))))},k=e=>{const{prefixCls:n,placement:t,className:i,style:o}=e,r=b(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=l.useContext(d.QO),c=s("popconfirm",n),[u]=x(c);return u(l.createElement(h.Ay,{placement:t,className:a()(c,i),style:o,content:l.createElement(C,Object.assign({prefixCls:c},r))}))};var j=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(t[l[i]]=e[l[i]])}return t};const A=l.forwardRef(((e,n)=>{var t,o;const{prefixCls:u,placement:p="top",trigger:m="click",okType:g="primary",icon:f=l.createElement(i.A,null),children:y,overlayClassName:h,onOpenChange:v,onVisibleChange:b}=e,k=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:A}=l.useContext(d.QO),[S,L]=(0,r.A)(!1,{value:null!==(t=e.open)&&void 0!==t?t:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),E=(e,n)=>{L(e,!0),null===b||void 0===b||b(e),null===v||void 0===v||v(e,n)},I=A("popconfirm",u),w=a()(I,h),[T]=x(I);return T(l.createElement(c.A,Object.assign({},(0,s.A)(k,["title"]),{trigger:m,placement:p,onOpenChange:(n,t)=>{const{disabled:l=!1}=e;l||E(n,t)},open:S,ref:n,overlayClassName:w,content:l.createElement(C,Object.assign({okType:g,icon:f},e,{prefixCls:I,close:e=>{E(!1,e)},onConfirm:n=>{var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(void 0,n)},onCancel:n=>{var t;E(!1,n),null===(t=e.onCancel)||void 0===t||t.call(void 0,n)}})),"data-popover-inject":!0}),y))}));A._InternalPanelDoNotUseOrYouWillBeFired=k;const S=A}}]);
//# sourceMappingURL=2218.6ef33823.chunk.js.map