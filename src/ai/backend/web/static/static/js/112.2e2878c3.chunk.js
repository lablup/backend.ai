"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[112,502],{61502:function(e,n,i){i.r(n),i.d(n,{default:function(){return J},useShadowRoot:function(){return G},useWebComponentInfo:function(){return Q}});var r=i(29439),t=i(74165),o=i(15861),l=i(24530),a=i(24717),s=i(61724);function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=(0,l.Qc)(e),t=(0,a.Vn)(r,{Field:{enter:function(e){var r;if(null!==e&&void 0!==e&&null!==(r=e.directives)&&void 0!==r&&r.find((function(e){var r,t,o,l,a=e.name.value,s=null===(r=e.arguments)||void 0===r?void 0:r[0].name.value,u=null===(t=e.arguments)||void 0===t||null===(o=t[0].value)||void 0===o?void 0:o.value,c=null===(l=e.arguments)||void 0===l?void 0:l[0];if("since"===a&&"version"===s){if(i(u))return!0}else if("deprecatedSince"===a&&"version"===s){var d="StringValue"===(null===c||void 0===c?void 0:c.value.kind)?null===c||void 0===c?void 0:c.value.value:n[null===c||void 0===c?void 0:c.value.name.value];if(!i(d))return!0}else if("skipOnClient"===a&&"if"===s){if("BooleanValue"===(null===c||void 0===c?void 0:c.value.kind)&&c.value.value)return!0;if("Variable"===(null===c||void 0===c?void 0:c.value.kind)&&n[c.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),o={};return(0,a.Vn)(t,{Variable:function(e){o[e.name.value]=(o[e.name.value]||0)+1}}),t=(0,a.Vn)(t,{VariableDefinition:{enter:function(e){if(o[e.variable.name.value]<=1)return null}}}),(0,s.S)(t)}var c=i(41011);c.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var d=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){var r,o,l,a,s,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return l=u(n.text||"",i,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),a={query:l,variables:i},s=null===(r=globalThis.backendaiclient)||void 0===r?void 0:r.newSignedRequest("POST","/admin/gql",a),e.next=8,null===(o=globalThis.backendaiclient)||void 0===o?void 0:o._wrapWithPromise(s,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return c=e.t0,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}();var m,v=new c.Environment({network:c.Network.create(d,void 0),store:new c.Store(new c.RecordSource)}),p=i(80382),h=i(27340),g=i(41239),f=i(47226),x=i(49883),Z=i(66670),y=i(99517),b=i.n(y),j=(i(24989),i(79354)),k=i.n(j),w=i(79748),P=i.n(w),S=i(51714),C=i.n(S),F=i(63540),T=i.n(F),_=i(18272),E=i.n(_),I=i(9666),V=i.n(I),M=i(64447),N=i(13881),A=i(4519),O=i(81748),R=i(87112),D=i(16980),z=i(51843),B=i(12674),L=i(55144),q=i(73181),K=i(2556);b().extend(V()),b().extend(k()),b().extend(P()),b().extend(C()),b().extend(E()),b().extend(T());var U=A.createContext(null),W=A.createContext(null),G=function(){return A.useContext(W)},Q=function(){return A.useContext(U)},H=new R.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});M.ZP.use(O.Db).use(N.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(m=globalThis.backendaioptions)||void 0===m?void 0:m.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var $=function(){var e=(0,B.s0)();return(0,A.useLayoutEffect)((function(){var n=function(n){var i=n.detail;e(i,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},J=function(e){var n=e.children,i=e.value,t=e.styles,o=e.shadowRoot,l=e.dispatchEvent,a=(0,A.useMemo)((function(){return(0,h.Df)()}),[]),s=function(){var e,n=(0,A.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),i=(0,r.Z)(n,2),t=i[0],o=i[1],l=(0,O.$G)().i18n;return(0,A.useEffect)((function(){setTimeout((function(){return null===l||void 0===l?void 0:l.changeLanguage(t)}),0),b().locale(t)}),[]),(0,A.useEffect)((function(){var e=function(e){var n,i;o(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var r=(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.lang)||"en";null===l||void 0===l||l.changeLanguage(r),b().locale(r)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[l]),[t]}(),u=(0,r.Z)(s,1)[0],c=(0,p.x)(),d=(0,A.useMemo)((function(){return{value:i,dispatchEvent:l,moveTo:function(e,n){l("moveTo",{path:e,params:n})}}}),[i,l]);return(0,K.jsx)(K.Fragment,{children:v&&(0,K.jsx)(D.RelayEnvironmentProvider,{environment:v,children:(0,K.jsxs)(A.StrictMode,{children:[(0,K.jsxs)("style",{children:[t,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,K.jsx)(R.QueryClientProvider,{client:H,children:(0,K.jsx)(W.Provider,{value:o,children:(0,K.jsx)(U.Provider,{value:d,children:(0,K.jsx)(g.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||o},locale:"ko"===u?Z.Z:x.Z,theme:c,children:(0,K.jsx)(f.Z,{children:(0,K.jsx)(h.V9,{container:o,cache:a,children:(0,K.jsx)(A.Suspense,{fallback:"",children:(0,K.jsx)(z.VK,{children:(0,K.jsxs)(L.QueryParamProvider,{adapter:q.Q,options:{},children:[(0,K.jsx)($,{}),n]})})})})})})})})})]})})})}},73340:function(e,n,i){i.r(n);var r=function(){var e=[{alias:null,args:null,concreteType:"ResourcePreset",kind:"LinkedField",name:"resource_presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shared_memory",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ResourcePresetSelectQuery",selections:e,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ResourcePresetSelectQuery",selections:e},params:{cacheID:"bd89430b9924d926a1b8e91191746b4f",id:null,metadata:{},name:"ResourcePresetSelectQuery",operationKind:"query",text:"query ResourcePresetSelectQuery {\n  resource_presets {\n    name\n    resource_slots\n    shared_memory\n  }\n}\n"}}}();r.hash="9841642e96d89476c2848bfb093ed9c5",n.default=r},43112:function(e,n,i){i.r(n),i.d(n,{default:function(){return rn}});var r,t=i(74165),o=i(15861),l=i(29439),a=i(1413),s=i(44925),u=i(83249),c=i(69080),d=i(44036),m=i(92171),v=i(53066),p=i(32048),h=i.n(p),g=i(4519),f=i(2556),x=["status","extraButtonTitle","onClickExtraButton","extra","style"],Z=function(e){var n=e.status,i=void 0===n?"default":n,r=e.extraButtonTitle,t=e.onClickExtraButton,o=e.extra,l=e.style,p=(0,s.Z)(e,x),g=d.Z.useToken().token,Z=o||r&&(0,f.jsx)(m.ZP,{type:"link",icon:"error"===i?(0,f.jsx)(u.Z,{twoToneColor:g.colorError}):"warning"===i?(0,f.jsx)(c.Z,{twoToneColor:g.colorWarning}):void 0,onClick:t,children:r})||void 0;return(0,f.jsx)(v.Z,(0,a.Z)({style:h().extend(l,{borderColor:"error"===i?g.colorError:"warning"===i?g.colorWarning:"success"===i?g.colorSuccess:null===l||void 0===l?void 0:l.borderColor}),extra:Z},p))},y=i(42620),b=i(66957),j=i(99517),k=i.n(j),w=["value","onChange","localFormat"],P=function(e){var n=e.value,i=e.onChange,r=e.localFormat,t=(0,s.Z)(e,w),o=(0,y.Z)({value:n,onChange:i}),u=(0,l.Z)(o,2)[1];return(0,f.jsx)(b.Z,(0,a.Z)({value:n?k()(n):void 0,onChange:function(e){var n,i=r?null===e||void 0===e?void 0:e.format():null===e||void 0===e||null===(n=e.tz())||void 0===n?void 0:n.toISOString();u(i)}},t))},S=i(61502),C=i(99277),F=i(74860),T=i(20558),_=i(57054),E=i(38818),I=["formItemProps"],V=["key","name"],M=function(e){var n=e.formItemProps,i=(0,s.Z)(e,I),r=(0,g.useRef)(null);return(0,f.jsx)(_.Z.List,(0,a.Z)((0,a.Z)({},i),{},{children:function(e,i){var t=i.add,o=i.remove;return(0,f.jsxs)(C.Z,{direction:"column",gap:"xs",align:"stretch",children:[e.map((function(i,t){var l=i.key,u=i.name,c=(0,s.Z)(i,V);return(0,f.jsxs)(C.Z,{direction:"row",align:"baseline",gap:"xs",children:[(0,f.jsx)(_.Z.Item,(0,a.Z)((0,a.Z)((0,a.Z)({},c),{},{style:{marginBottom:0,flex:1},name:[u,"variable"],rules:[{required:!0,message:"Enter Variable name"},{pattern:/^[a-zA-Z_][a-zA-Z0-9_]*$/,message:"Variable name must start with a letter or underscore, and can only contain letters, numbers, and underscores."},function(e){var n=e.getFieldValue;return{validator:function(e,i){var r=h().map(n("envList"),(function(e){return null===e||void 0===e?void 0:e.variable}));return r.length>0&&h().filter(r,(function(e){return e===i})).length>1?Promise.reject("Variable name already exists"):Promise.resolve()}}}]},n),{},{children:(0,f.jsx)(E.Z,{ref:t===e.length-1?r:null,placeholder:"Variable"})})),(0,f.jsx)(_.Z.Item,(0,a.Z)((0,a.Z)({},c),{},{name:[u,"value"],style:{marginBottom:0,flex:1},rules:[{required:!0,message:"Enter value"}],children:(0,f.jsx)(E.Z,{placeholder:"Value"})})),(0,f.jsx)(F.Z,{onClick:function(){return o(u)}})]},l)})),(0,f.jsx)(_.Z.Item,{noStyle:!0,children:(0,f.jsx)(m.ZP,{type:"dashed",onClick:function(){t(),setTimeout((function(){r.current&&r.current.focus()}),0)},icon:(0,f.jsx)(T.Z,{}),block:!0,children:"Add variable"})})]})}}))},N=i(34341),A=i(14001),O=i(36459),R=i(87760),D=i(19427),z=i(82548),B=i(81748),L=["value"],q=function(e){var n=e.value,i=(0,s.Z)(e,L),r=parseInt(n),t=r>=1024&&r<=65535;return(0,f.jsx)(z.Z,(0,a.Z)({color:t?void 0:"red"},i))},K=function(e){var n=Object.assign({},((0,O.Z)(e),e)),i=(0,B.$G)().t,r=(0,R.Dj)();return(0,f.jsx)(_.Z.Item,(0,a.Z)((0,a.Z)({label:i("session.launcher.PreOpenPortTitle"),name:"ports",tooltip:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescSetPreOpenPort"}),extra:i("session.launcher.PreOpenPortRangeGuide"),rules:[{max:r._config.maxCountForPreopenPorts,type:"array",message:i("session.launcher.PreOpenPortMaxCountLimit",{count:r._config.maxCountForPreopenPorts})},function(e){e.getFieldValue;return{validator:function(e,n){return h().every(n,(function(e){var n=parseInt(e);return n>=1024&&n<=65535}))?Promise.resolve():Promise.reject(new Error(i("session.launcher.PreOpenPortRange")))}}}]},n),{},{children:(0,f.jsx)(D.Z,{mode:"tags",tagRender:function(e){return(0,f.jsx)(q,{closable:e.closable,onClose:e.onClose,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},value:e.value,children:e.label})},style:{width:"100%"},suffixIcon:null,open:!1,tokenSeparators:[","," "]})}))},U=i(4942),W=i(43255),G=i(1839),Q=i(50164),H=i(67668),$=i(66653),J=i(28499),X=["dynamicSteps","units","disableAutoUnit","min","max"],Y=function(e){var n=e.dynamicSteps,i=void 0===n?[1,2,4,8,16,32,64,128,256,512]:n,r=e.units,t=void 0===r?["m","g","t","p"]:r,o=e.disableAutoUnit,u=void 0!==o&&o,c=e.min,d=void 0===c?"0m":c,m=e.max,v=void 0===m?"300p":m,p=(0,s.Z)(e,X),x=(0,y.Z)(p,{defaultValue:"0g"}),Z=(0,l.Z)(x,2),b=Z[0],j=Z[1],k=null===b||void 0===b?[null,null]:(0,W.n2)(b),w=(0,l.Z)(k,2),P=w[0],S=w[1],C=(0,H.Z)(S),F=S||C||t[0],T=(0,W.n2)(d),_=(0,l.Z)(T,2),E=_[0],I=_[1],V=(0,W.n2)(v),M=(0,l.Z)(V,2),N=M[0],A=M[1],O=(0,g.useRef)(null);return(0,g.useEffect)((function(){if(O.current){var e=function(e){var n,i=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value;/^\d+(g|m)$/.test(i)&&j(i)},n=O.current;return null===n||void 0===n||n.addEventListener("input",e),function(){null===n||void 0===n||n.removeEventListener("input",e)}}}),[O,P,S,j]),(0,f.jsx)($.Z,(0,a.Z)((0,a.Z)({ref:O},p),{},{value:P,onChange:function(e){j(null===e||void 0===e?e:"".concat(e).concat(F))},max:A===F?N:(0,W.PZ)(v,F).number,min:I===F?E:(0,W.PZ)(d,F).number,addonAfter:(0,f.jsx)(D.Z,{value:F,onChange:function(e){j("".concat(P).concat(e))},onDropdownVisibleChange:function(e){(e&&null===b||void 0===b)&&j("0".concat(F))},options:h().map(t,(function(e){return{value:e,label:(0,f.jsx)(J.Z.Text,{style:{fontFamily:"'SFMono-Regular',Consolas,'Liberation Mono',Menlo,Courier,monospace"},children:e.toUpperCase()+"iB"})}})),suffixIcon:t.length>1?void 0:null,open:t.length>1&&void 0,style:{cursor:t.length>1?void 0:"default"}}),step:0,onStep:function(e,n){var r,o=h().isNull(P)||h().isUndefined(P)?0:P,l=h().sortedIndex(h().sortBy(i),o);r="up"===n.type?o===i[l]?l+1:l:l-1;var a=t.indexOf(F);if(!u&&r<0)if(0===a)j("0".concat(F));else{var s=i[i.length-1],c=t[a-1];j("".concat(s).concat(c))}else if(!u&&r>i.length-1)if(a===t.length-1)j("".concat(o+("up"===n.type?1:-1)).concat(A));else{var d=i[0],m=t[a+1];j("".concat(d).concat(m))}else if(r>=0&&r<i.length){var v=i[r];I===F&&v<E?v=E:A===F&&v>N&&(v=N),j("".concat(v).concat(F))}}}))},ee=i(31603),ne=["min","max","warn","units","extraMarks"],ie=function(e){var n=e.min,i=void 0===n?"0m":n,r=e.max,t=void 0===r?"32g":r,o=e.warn,u=e.units,c=void 0===u?["m","g"]:u,m=(e.extraMarks,(0,s.Z)(e,ne)),v=(0,y.Z)(m,{defaultValue:"0g"}),p=(0,l.Z)(v,2),x=p[0],Z=p[1],b=d.Z.useToken().token,j=(0,g.useMemo)((function(){return(0,W.PZ)(i,"g",2)}),[i]),k=(0,g.useMemo)((function(){return(0,W.PZ)(t,"g",2)}),[t]),w=(0,g.useMemo)((function(){return(0,W.PZ)(x||"0g","g",2)}),[x]);return(0,f.jsxs)(C.Z,{direction:"row",gap:"md",children:[(0,f.jsx)(C.Z,{direction:"column",align:"stretch",style:{flex:3},children:(0,f.jsx)(C.Z,{direction:"column",align:"stretch",children:(0,f.jsx)(ee.Z,{max:null===k||void 0===k?void 0:k.number,trackStyle:o&&{backgroundColor:(0,W.p)(o,x||"0b")<0?b.colorWarning:void 0}||void 0,railStyle:{},step:.05,value:null===w||void 0===w?void 0:w.number,tooltip:{formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<1?"".concat((1024*e).toFixed(2)," MiB"):"".concat(e.toFixed(2)," GiB")}},onChange:function(e){null!==j&&void 0!==j&&j.number&&j.number>e?Z(i):Z(e<1?"".concat(1024*e,"m"):"".concat(e,"g"))},marks:(0,a.Z)((0,a.Z)({},j&&h().isNumber(null===j||void 0===j?void 0:j.number)&&(0,U.Z)({},j.number,{style:{color:b.colorTextSecondary},label:j.number+(j.number?"g":"")})),(null===k||void 0===k?void 0:k.number)&&(0,U.Z)({},k.number,{style:{color:b.colorTextSecondary},label:k.number+"g"}))})})}),(0,f.jsx)(C.Z,{style:{flex:2,minWidth:130},direction:"column",align:"stretch",children:(0,f.jsx)(Y,(0,a.Z)((0,a.Z)({},m),{},{min:i,max:t,units:c,value:x,onChange:function(e){Z(e)},style:{minWidth:130}}))})]})},re=i(61815),te=i(96732),oe=i(61749),le=i(73519),ae=i(16980),se=function(e){var n=Object.assign({},((0,O.Z)(e),e)),t=(0,R.Kr)("first"),o=(0,l.Z)(t,2),s=o[0],u=o[1],c=(0,le.Z)(u,{wait:3e3,trailing:!1,leading:!0}).run,d=(0,G.T6)(),m=(0,l.Z)(d,1)[0],v=(0,g.useTransition)(),p=(0,l.Z)(v,2),x=p[0],Z=p[1],y=(0,ae.useLazyLoadQuery)(void 0!==r?r:r=i(73340),{},{fetchKey:s,fetchPolicy:"first"===s?"store-and-network":"network-only"}).resource_presets;return(0,f.jsx)(D.Z,(0,a.Z)((0,a.Z)({loading:x,options:[{value:"custom",label:(0,f.jsxs)(C.Z,{gap:"xs",style:{display:"inline-flex"},children:[(0,f.jsx)(oe.Z,{})," Custom"]})},{label:"Preset",options:h().map(y,(function(e,n){var i=JSON.parse(null===e||void 0===e?void 0:e.resource_slots);return{value:null===e||void 0===e?void 0:e.name,label:(0,f.jsxs)(C.Z,{direction:"row",justify:"between",gap:"xs",children:[null===e||void 0===e?void 0:e.name,(0,f.jsx)(C.Z,{direction:"row",gap:"xxs",style:{color:"black",opacity:1===n?.5:1},children:h().map(h().omitBy(i,(function(e,n){return h().isEmpty(m[n])})),(function(e,n){return(0,f.jsx)(te.ZP,{type:n,value:e,hideTooltip:!0},n)}))})]}),preset:e}}))}],showSearch:!0},n),{},{onDropdownVisibleChange:function(e){e&&(console.log(e),Z((function(){c()})))}}))},ue=i(99695),ce=i(83799),de=function(e){return void 0===e||"Infinity"===e||"NaN"===e?void 0:h().toNumber(e)},me=function(e){var n,i,r,s,u,c,m,p,x,Z,y,b,j,k,w,P,S,C,F,T,E=e.enableNumOfSessions,I=_.Z.useFormInstance(),V=(0,B.$G)().t,M=d.Z.useToken().token,N=(0,R.Dj)(),A=(0,G.T6)(),O=(0,l.Z)(A,1)[0],z=h().omit(O,["cpu","mem","shmem"]),L=(0,R.qh)(),q=(0,g.useState)(I.getFieldValue("resourceGroup")),K=(0,l.Z)(q,2),H=K[0],$=K[1],J=(0,g.useTransition)(),X=(0,l.Z)(J,2),Y=X[0],ee=X[1],ne=_.Z.useWatch(["environments","image"],{form:I,preserve:!0}),oe=h().filter(null===ne||void 0===ne?void 0:ne.resource_limits,(function(e){return!!e&&!h().includes(["cpu","mem","shmem"],e.key)})),le=(0,Q.h)({queryKey:["check-resets",L.name,H],queryFn:function(){return H?N.resourcePreset.check({group:L.name,scaling_group:H}):void 0},staleTime:0,suspense:!h().isEmpty(H)}).data,ae=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},null!==O&&void 0!==O&&O.cpu?{cpu:{min:h().max([h().toNumber((null===(n=h().find(null===ne||void 0===ne?void 0:ne.resource_limits,(function(e){return"cpu"===(null===e||void 0===e?void 0:e.key)})))||void 0===n?void 0:n.min)||"0")]),max:h().min([N._config.maxCPUCoresPerContainer,de(null===le||void 0===le?void 0:le.keypair_limits.cpu),de(null===le||void 0===le?void 0:le.group_limits.cpu),h().isEmpty(null===le||void 0===le||null===(i=le.scaling_groups[H])||void 0===i||null===(r=i.using)||void 0===r?void 0:r.cpu)||h().isEmpty(null===le||void 0===le||null===(s=le.scaling_groups[H])||void 0===s||null===(u=s.remaining)||void 0===u?void 0:u.cpu)?void 0:h().toNumber(null===le||void 0===le||null===(c=le.scaling_groups[H])||void 0===c?void 0:c.using.cpu)+h().toNumber(null===le||void 0===le||null===(m=le.scaling_groups[H])||void 0===m?void 0:m.remaining.cpu)]),remaining:null!==(p=h().min([null===le||void 0===le?void 0:le.keypair_remaining.cpu,null===le||void 0===le?void 0:le.group_remaining.cpu,null===le||void 0===le?void 0:le.scaling_group_remaining.cpu]))&&void 0!==p?p:Number.MAX_SAFE_INTEGER}}:{}),null!==O&&void 0!==O&&O.mem?{mem:{min:h().max([null===(x=h().find(null===ne||void 0===ne?void 0:ne.resource_limits,(function(e){return"mem"===(null===e||void 0===e?void 0:e.key)})))||void 0===x?void 0:x.min])||"0g",max:h().min([N._config.maxMemoryPerContainer,de(null===le||void 0===le?void 0:le.keypair_limits.mem)&&(null===(Z=(0,W.PZ)(de(null===le||void 0===le?void 0:le.keypair_limits.mem)+"","g"))||void 0===Z?void 0:Z.number),de(null===le||void 0===le?void 0:le.group_limits.mem)&&(null===(y=(0,W.PZ)(de(null===le||void 0===le?void 0:le.group_limits.mem)+"","g"))||void 0===y?void 0:y.number),h().isEmpty(null===le||void 0===le||null===(b=le.scaling_groups[H])||void 0===b||null===(j=b.using)||void 0===j?void 0:j.mem)||h().isEmpty(null===le||void 0===le||null===(k=le.scaling_groups[H])||void 0===k||null===(w=k.using)||void 0===w?void 0:w.mem)||null===(P=(0,W.PZ)(h().toNumber(null===le||void 0===le||null===(S=le.scaling_groups[H])||void 0===S?void 0:S.using.mem)+h().toNumber(null===le||void 0===le||null===(C=le.scaling_groups[H])||void 0===C?void 0:C.remaining.mem)+"b","g",2))||void 0===P?void 0:P.numberFixed])+"g",remaining:null!==(F=h().min([null===le||void 0===le?void 0:le.keypair_remaining.mem,null===le||void 0===le?void 0:le.group_remaining.mem,null===le||void 0===le?void 0:le.scaling_group_remaining.mem]))&&void 0!==F?F:Number.MAX_SAFE_INTEGER},shmem:{min:h().max([null===(T=h().find(null===ne||void 0===ne?void 0:ne.resource_limits,(function(e){return"shmem"===(null===e||void 0===e?void 0:e.key)})))||void 0===T?void 0:T.min])||"64m"}}:{}),h().reduce(z,(function(e,n,i){var r,t,o,l,a,s,u,c,d={"cuda.device":"maxCUDADevicesPerContainer","cuda.shares":"maxCUDASharesPerContainer","rocm.device":"maxROCMDevicesPerContainer","tpu.device":"maxTPUDevicesPerContainer","ipu.device":"maxIPUDevicesPerContainer","atom.device":"maxATOMDevicesPerContainer","warboy.device":"maxWarboyDevicesPerContainer"}[i]||"cuda.device";return e[i]={min:parseInt(null===(r=h().filter(oe,(function(e){return(null===e||void 0===e?void 0:e.key)===i}))[0])||void 0===r?void 0:r.min)||0,max:h().min([N._config[d]||8,h().isEmpty(null===le||void 0===le||null===(t=le.scaling_groups[H])||void 0===t||null===(o=t.using)||void 0===o?void 0:o[i])||h().isEmpty(null===le||void 0===le||null===(l=le.scaling_groups[H])||void 0===l||null===(a=l.remaining)||void 0===a?void 0:a[i])?void 0:h().toNumber(null===le||void 0===le||null===(s=le.scaling_groups[H])||void 0===s?void 0:s.using[i])+h().toNumber(null===le||void 0===le||null===(u=le.scaling_groups[H])||void 0===u?void 0:u.remaining[i])]),remaining:null!==(c=h().min([h().toNumber(null===le||void 0===le?void 0:le.keypair_remaining[i]),h().toNumber(null===le||void 0===le?void 0:le.group_remaining[i]),h().toNumber(null===le||void 0===le?void 0:le.scaling_group_remaining[i])]))&&void 0!==c?c:Number.MAX_SAFE_INTEGER},e}),{})),{},{session:{min:1,max:h().min([3])}});(0,g.useEffect)((function(){var e,n,i,r,t,o,l;if(I.setFieldsValue({resource:{cpu:null===(e=ae.cpu)||void 0===e?void 0:e.min,mem:(null===(n=(0,W.PZ)(((null===(i=(0,W.PZ)(null===(r=ae.shmem)||void 0===r?void 0:r.min,"m"))||void 0===i?void 0:i.number)||0)+((null===(t=(0,W.PZ)(null===(o=ae.mem)||void 0===o?void 0:o.min,"m"))||void 0===t?void 0:t.number)||0)+"m","g"))||void 0===n?void 0:n.number)+"g",shmem:null===(l=ae.shmem)||void 0===l?void 0:l.min}}),oe.length>0)if(h().find(oe,(function(e){return(null===e||void 0===e?void 0:e.key)===I.getFieldValue(["resource","acceleratorType"])})))I.setFieldValue(["resource","accelerator"],ae[I.getFieldValue(["resource","acceleratorType"])].min);else{var a,s=null===(a=h().filter(oe,(function(e){return h().keys(O).includes(null===e||void 0===e?void 0:e.key)}))[0])||void 0===a?void 0:a.key;s&&(I.setFieldValue(["resource","accelerator"],ae[s].min),I.setFieldValue(["resource","acceleratorType"],s))}I.validateFields().catch((function(){}))}),[ne]);var me=(0,a.Z)({cpu:{warningOnly:!0,validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ae.cpu&&i>ae.cpu.remaining)){e.next=4;break}return e.abrupt("return",Promise.reject(V("session.launcher.EnqueueComputeSessionWarning")));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},mem:{warningOnly:!0,validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!h().isElement(i)&&ae.mem&&(0,W.p)(i,ae.mem.remaining+"b")>0)){e.next=4;break}return e.abrupt("return",Promise.reject(V("session.launcher.EnqueueComputeSessionWarning")));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()}},h().reduce(z,(function(e,n,i){return(0,a.Z)((0,a.Z)({},e),{},(0,U.Z)({},i,{warningOnly:!0,validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ae[i]&&r>ae[i].remaining)){e.next=4;break}return e.abrupt("return",Promise.reject(V("session.launcher.EnqueueComputeSessionWarning")));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()}))}),{}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.Z.Item,{name:"resourceGroup",label:V("session.ResourceGroup"),rules:[{required:!0}],children:(0,f.jsx)(re.Z,{autoSelectDefault:!0,loading:Y,onChange:function(e){ee((function(){$(e)}))}})}),(0,f.jsx)(_.Z.Item,{label:V("resourcePreset.ResourcePresets"),name:"allocationPreset",required:!0,style:{marginBottom:M.marginXS},children:(0,f.jsx)(se,{onChange:function(e,n){var i,r,t,o,l=h().pick(JSON.parse((null===n||void 0===n||null===(i=n.preset)||void 0===i?void 0:i.resource_slots)||"{}"),h().keys(O));I.setFieldsValue({resource:(0,a.Z)((0,a.Z)({},l),{},{mem:null===(r=(0,W.PZ)(((null===l||void 0===l?void 0:l.mem)||0)+"b","g",2))||void 0===r?void 0:r.numberUnit,shmem:null===(t=(0,W.PZ)(((null===n||void 0===n||null===(o=n.preset)||void 0===o?void 0:o.shared_memory)||0)+"b","g",2))||void 0===t?void 0:t.numberUnit})})}})}),(0,f.jsx)(v.Z,{style:{marginBottom:M.margin},children:(0,f.jsx)(_.Z.Item,{shouldUpdate:function(e,n){return e.allocationPreset!==n.allocationPreset},noStyle:!0,children:function(e){var n,i,r,l,s,u,c,d,m,v=e.getFieldValue;return(0,f.jsxs)(f.Fragment,{children:[(null===O||void 0===O?void 0:O.cpu)&&(0,f.jsx)(ue.Z,{name:["resource","cpu"],label:V("session.launcher.CPU"),tooltip:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescCPU"}),inputNumberProps:{addonAfter:V("session.launcher.Core")},sliderProps:{marks:(0,a.Z)({0:{style:{color:M.colorTextSecondary},label:0}},null!==(n=ae.cpu)&&void 0!==n&&n.max?(0,U.Z)({},null===(i=ae.cpu)||void 0===i?void 0:i.max,{style:{color:M.colorTextSecondary},label:null===(r=ae.cpu)||void 0===r?void 0:r.max}):{})},min:0,max:null===(l=ae.cpu)||void 0===l?void 0:l.max,required:!0,rules:[{required:!0},{type:"number",min:null===(s=ae.cpu)||void 0===s?void 0:s.min},me.cpu]}),(null===O||void 0===O?void 0:O.mem)&&(0,f.jsx)(_.Z.Item,{name:["resource","mem"],label:V("session.launcher.Memory"),tooltip:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescMemory"}),rules:[{required:!0},{validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){var r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,W.p)(i||"0b",null===(r=ae.mem)||void 0===r?void 0:r.min)<0)){e.next=2;break}return e.abrupt("return",Promise.reject(V("session.launcher.MinMemory",{size:h().toUpper(null===(o=ae.mem)||void 0===o?void 0:o.min)})));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},me.mem],children:(0,f.jsx)(ie,{max:null===(u=ae.mem)||void 0===u?void 0:u.max,min:"0g",extraMarks:null!==le&&void 0!==le&&le.scaling_group_remaining.mem?(0,U.Z)({},(0,W.PZ)(null===le||void 0===le?void 0:le.scaling_group_remaining.mem,"g",3).numberFixed,{label:"-"}):void 0})}),(null===O||void 0===O?void 0:O.mem)&&(0,f.jsx)(_.Z.Item,{name:["resource","shmem"],label:V("session.launcher.SharedMemory"),tooltip:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescSharedMemory"}),dependencies:[["resource","mem"]],rules:[{required:!0},{},{validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){var r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h().isEmpty(null===(r=v("resource"))||void 0===r?void 0:r.mem)||h().isEmpty(i)||(0,W.p)(null===(o=v("resource"))||void 0===o?void 0:o.mem,i)>=0)){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:throw V("resourcePreset.SHMEMShouldBeSmallerThanMemory");case 5:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()}],children:(0,f.jsx)(ie,{min:"0g",max:null===(c=ae.mem)||void 0===c?void 0:c.max})}),(0,f.jsx)(_.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){var i,r;return(null===(i=e.resource)||void 0===i?void 0:i.acceleratorType)!==(null===(r=n.resource)||void 0===r?void 0:r.acceleratorType)},children:function(e){var n,i,r=(0,e.getFieldValue)(["resource","acceleratorType"]);return(0,f.jsx)(ue.Z,{name:["resource","accelerator"],label:V("session.launcher.AIAccelerator"),sliderProps:{marks:{0:0}},min:0,max:null===(n=ae[r])||void 0===n?void 0:n.max,step:h().endsWith(r,"shares")?.1:1,inputNumberProps:{addonAfter:(0,f.jsx)(_.Z.Item,{noStyle:!0,name:["resource","acceleratorType"],initialValue:h().keys(z)[0],children:(0,f.jsx)(D.Z,{suffixIcon:h().size(z)>1?void 0:null,popupMatchSelectWidth:!1,options:h().map(z,(function(e,n){return{value:n,label:te.Ec[n]||"UNIT",disabled:oe.length>0&&!h().find(oe,(function(e){return(null===e||void 0===e?void 0:e.key)===n}))}}))})})},required:!0,rules:[{required:!0},{type:"number",min:(null===(i=ae[r])||void 0===i?void 0:i.min)||0},me[r]]})}}),E?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ce.Z,{children:" x "}),(0,f.jsx)(ue.Z,{name:["num_of_sessions"],label:V("webui.menu.Sessions"),tooltip:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescSession"}),inputNumberProps:{addonAfter:"#"},sliderProps:{},min:null===(d=ae.session)||void 0===d?void 0:d.min,max:null===(m=ae.session)||void 0===m?void 0:m.max,required:!0,rules:[{required:!0}]})]}):null]})}})}),!1]})},ve=g.memo(me),pe=function(e){var n=Object.assign({},((0,O.Z)(e),e)),i=(0,B.$G)().t;return(0,f.jsx)(_.Z.Item,(0,a.Z)((0,a.Z)({label:i("session.launcher.SessionName"),name:"name",rules:[{max:64,message:i("session.Validation.SessionNameTooLong64")},{pattern:/^(?:[a-zA-Z0-9][a-zA-Z0-9._-]{2,}[a-zA-Z0-9])?$/,message:i("session.Validation.PleaseFollowSessionNameRule").toString()}]},n),{},{children:(0,f.jsx)(E.Z,{allowClear:!0})}))},he=i(93433),ge=i(37007),fe=i(91278),xe=i(56713),Ze=i(50708),ye=i(72842),be=i(227),je=i(51367),ke=["filter","showAliasInput","selectedRowKeys","onChangeSelectedRowKeys","aliasBasePath","aliasMap","onChangeAliasMap","rowKey"],we=function(e){var n=e.filter,i=e.showAliasInput,r=void 0!==i&&i,u=e.selectedRowKeys,c=void 0===u?[]:u,d=e.onChangeSelectedRowKeys,v=e.aliasBasePath,p=void 0===v?"/home/work/":v,x=e.aliasMap,Z=e.onChangeAliasMap,b=e.rowKey,j=void 0===b?"name":b,w=(0,s.Z)(e,ke),P=g.useMemo((function(){return function(e){return e&&e[j]}}),[j]),F=(0,y.Z)({value:c,onChange:d},{defaultValue:[]}),T=(0,l.Z)(F,2),I=T[0],V=T[1],M=(0,y.Z)({value:x,onChange:Z},{defaultValue:{}}),N=(0,l.Z)(M,2),A=N[0],O=N[1],D=_.Z.useForm(),z=(0,l.Z)(D,1)[0];(0,g.useEffect)((function(){A&&(z.setFieldsValue(h().mapValues(A,(function(e){return e.startsWith(p)?e.slice(p.length):e}))),z.validateFields())}),[A,z,p]);var L=(0,B.$G)().t,q=(0,W.y3)(),K=(0,R.qh)(),U=(0,R.Kr)("first"),G=(0,l.Z)(U,2),H=G[0],$=G[1],X=(0,g.useTransition)(),Y=(0,l.Z)(X,2),ee=Y[0],ne=Y[1],ie=(0,Q.h)({queryKey:["VFolderSelectQuery",H],queryFn:function(){return q({method:"GET",url:"/folders?group_id=".concat(K.id)})},staleTime:0}).data,re=(0,g.useState)(""),te=(0,l.Z)(re,2),oe=te[0],le=te[1],ae=h().filter(ie,(function(e){return!!I.includes(P(e))||(!n||n(e))&&(!oe||e.name.includes(oe))})),se=function(e){null===e||void 0===e||e.preventDefault(),z.validateFields().then((function(e){})).catch((function(){})).finally((function(){O(h().mapValues(h().pickBy(z.getFieldsValue(),(function(e){return!!e})),(function(e,n){return ue(n,e)})))}))},ue=function(e,n){return h().isEmpty(n)?"".concat(p).concat(e):null!==n&&void 0!==n&&n.startsWith("/")?n:"".concat(p).concat(n)},ce=(0,S.useShadowRoot)(),de=[{title:(0,f.jsxs)(C.Z,{direction:"row",gap:"xxs",children:[(0,f.jsx)(J.Z.Text,{children:L("data.folders.Name")}),r&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(J.Z.Text,{type:"secondary",style:{fontWeight:"normal"},children:["(",L("session.launcher.FolderAlias")," ",(0,f.jsx)(be.Z,{title:(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescFolderAlias"}),style:{zIndex:1e4},getPopupContainer:function(){return ce},children:(0,f.jsx)(xe.Z,{})}),")"]})})]}),dataIndex:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){var i=I.includes(P(n));return(0,f.jsxs)(C.Z,{direction:"column",align:"stretch",gap:"xxs",style:r&&i?{display:"inline-flex",height:70,width:"100%"}:void 0,children:[(0,f.jsx)(fe.Z,{keyword:oe,children:e}),r&&i&&(0,f.jsx)(_.Z.Item,{noStyle:!0,shouldUpdate:function(e,i){return e[P(n)]!==i[P(n)]},children:function(){var e=h()(I).reduce((function(e,n){return e[n]=(null===A||void 0===A?void 0:A[n])||ue(n,void 0),e}),{});return(0,f.jsx)(_.Z.Item,{name:P(n),rules:[{type:"string",pattern:/^[a-zA-Z0-9_/-]*$/,message:L("session.launcher.FolderAliasInvalid")},{type:"string",validator:function(){var i=(0,o.Z)((0,t.Z)().mark((function i(r,o){return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!o||!h().some(e,(function(e,i){return i!==P(n)&&e===ue(P(n),o)}))){i.next=2;break}return i.abrupt("return",Promise.reject(L("session.launcher.FolderAliasOverlapping")));case 2:return i.abrupt("return",Promise.resolve());case 3:case"end":return i.stop()}}),i)})));return function(e,n){return i.apply(this,arguments)}}()}],extra:ue(n.name,z.getFieldValue(P(n))),children:(0,f.jsx)(E.Z,{onClick:function(e){e.stopPropagation()},placeholder:L("session.launcher.FolderAlias"),onChange:se,allowClear:!0})})}})]})},fixed:"left"},{title:L("data.UsageMode"),dataIndex:"usage_mode",sorter:function(e,n){return e.usage_mode.localeCompare(n.usage_mode)}},{title:L("data.Host"),dataIndex:"host"},{title:L("data.Type"),dataIndex:"type",sorter:function(e,n){return e.type.localeCompare(n.type)},render:function(e,n){return(0,f.jsxs)(C.Z,{direction:"column",children:["user"===n.type?(0,f.jsx)(Ze.Z,{title:"User"}):(0,f.jsx)("div",{children:"Group"}),"group"===n.type&&"(".concat(n.group_name,")")]})}},{title:L("data.Permission"),dataIndex:"permission",sorter:function(e,n){return e.permission.localeCompare(n.permission)},render:function(e,n){var i=h().chain({r:"green",w:"blue",d:"red"}).map((function(e,i){if(function(e,n){return!!e.permission.includes(n)||!(!e.permission.includes("w")||"r"!==n)}(n,i))return{label:i.toUpperCase(),color:e}})).compact().value();return(0,f.jsx)(ge.Z,{values:i})}},{title:L("data.Created"),dataIndex:"created_at",sorter:function(e,n){return e.created_at.localeCompare(n.created_at)},render:function(e,n){return k()(e).format("L")}}];return(0,f.jsxs)(C.Z,{direction:"column",align:"stretch",gap:"xs",children:[(0,f.jsxs)(C.Z,{direction:"row",gap:"xs",justify:"between",children:[(0,f.jsx)(E.Z,{value:oe,onChange:function(e){return le(e.target.value)},allowClear:!0,placeholder:L("data.SearchByName")}),(0,f.jsx)(m.ZP,{loading:ee,icon:(0,f.jsx)(ye.Z,{}),onClick:function(){ne((function(){$()}))}})]}),(0,f.jsx)(_.Z,{form:z,children:(0,f.jsx)(je.Z,(0,a.Z)({scroll:{x:"max-content"},rowKey:P,rowSelection:{selectedRowKeys:I,onChange:function(e){V(e),se()}},showSorterTooltip:!1,columns:de,dataSource:ae,onRow:function(e,n){return{onClick:function(n){var i,r=n.target;null!==r&&void 0!==r&&null!==(i=r.classList)&&void 0!==i&&i.contains("ant-table-selection-column")&&(n.stopPropagation(),I.includes(P(e))?V(I.filter((function(n){return n!==P(e)}))):V([].concat((0,he.Z)(I),[P(e)])))}}}},w))})]})},Pe=function(e){var n=Object.assign({},((0,O.Z)(e),e)),i=_.Z.useFormInstance(),r=(0,B.$G)().t;return _.Z.useWatch("vfoldersAliasMap",i),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.Z.Item,{hidden:!0,name:"vfoldersAliasMap",rules:[{validator:function(e,n){var t=h().chain(i.getFieldValue("mounts")).reduce((function(e,i){return e[i]=n[i]||"/home/work/"+i,e}),{}).values().value();return h().uniq(t).length!==t.length?Promise.reject(r("session.launcher.FolderAliasOverlapping")):Promise.resolve()}}],children:(0,f.jsx)(E.Z,{})}),(0,f.jsx)(_.Z.Item,(0,a.Z)((0,a.Z)({name:"mounts"},n),{},{valuePropName:"selectedRowKeys",trigger:"onChangeSelectedRowKeys",children:(0,f.jsx)(we,{rowKey:"name",showAliasInput:!0,aliasMap:i.getFieldValue("vfoldersAliasMap"),onChangeAliasMap:function(e){i.setFieldValue("vfoldersAliasMap",e),i.validateFields(["vfoldersAliasMap"])},pagination:!1})}))]})},Se=i(92331),Ce=i(91428),Fe=i(70442),Te=i(84239),_e=i(89898),Ee=i(99269),Ie=i(90632),Ve=i(46734),Me=i(88464),Ne=i(60284),Ae=i(41366),Oe=i(22733),Re=i(14634),De=i(62708),ze=i(35492),Be=i(2704),Le=i(93448),qe=i(52176),Ke=i(32461),Ue=i(48196),We=i(17490),Ge=i(12674),Qe=i(4996),He=i(5936),$e=i(55144),Je=(0,a.Z)({sessionType:"interactive",allocationPreset:"custom",hpcOptimization:{autoEnabled:!0,OMP_NUM_THREADS:"1",OPENBLAS_NUM_THREADS:"1"},batch:{enabled:!1,command:void 0,scheduleDate:void 0},envvars:[]},{resource:{cpu:0,mem:"0g",shmem:"0g",accelerator:0},num_of_sessions:1,cluster_mode:"single-node",cluster_size:1}),Xe=(0,$e.withDefault)($e.NumberParam,0),Ye=(0,$e.withDefault)($e.JsonParam,Je),en=function(){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<8;i++)e+=n.charAt(Math.floor(62*Math.random()));return e+"-session"},nn=function(){for(var e,n=Math.floor(52*Math.random()*52*52),i="",r=0;r<3;r++)i+=(e=n%52)<26?String.fromCharCode(65+e):String.fromCharCode(97+e-26),n=Math.floor(n/52);return i},rn=function(){var e,n,i,r,s,u,c,p="normal",x=(0,g.useState)(!1),y=(0,l.Z)(x,2),b=y[0],j=y[1],w=(0,$e.useQueryParams)({step:Xe,formValues:Ye,redirectTo:$e.StringParam}),F=(0,l.Z)(w,2),T=F[0],I=T.step,V=T.formValues,O=T.redirectTo,L=F[1],U=(0,Ge.s0)(),G=(0,S.useWebComponentInfo)().moveTo,Q=(0,R.Dj)(),H=(0,R.qh)(),X=(0,Ie.Z)((function(){console.log("syncFormToURLWithDebounce",oe.getFieldsValue()),L({formValues:h().omit(oe.getFieldsValue(),["environments.image"])},"replaceIn")}),{leading:!1,wait:500,trailing:!0}).run,Y=function(e){L({step:e},"pushIn")},ee=d.Z.useToken().token,ne=(0,B.$G)().t,ie=Ve.ZP.useBreakpoint(),re=_.Z.useForm(),oe=(0,l.Z)(re,1)[0];(0,g.useEffect)((function(){JSON.stringify(Je)!==JSON.stringify(V)&&(oe.setFieldsValue(V),oe.validateFields().catch((function(e){})))}),[]),(0,g.useEffect)((function(){}),[I]);var le=_.Z.useWatch("sessionType",{form:oe,preserve:!0})||oe.getFieldValue("sessionType")||V.sessionType,ae=h().filter([{title:ne("session.launcher.SessionType"),key:"sessionType"},{title:"".concat(ne("session.launcher.Environments")," & ").concat(ne("session.launcher.ResourceAllocation")," "),key:"environment"},"inference"!==le&&{title:ne("webui.menu.Data&Storage"),key:"storage"},{title:ne("session.launcher.Network"),key:"network"},{title:ne("session.launcher.ConfirmAndLaunch"),icon:(0,f.jsx)(Se.Z,{}),key:"review"}],(function(e){return!!e})),se=null===(e=ae[I])||void 0===e?void 0:e.key,ue=h().some(oe.getFieldsError(),(function(e){return e.errors.length>0})),ce=function(){oe.validateFields().catch((function(e){})).finally((function(){Y(ae.length-1)}))};return(0,f.jsxs)(C.Z,{direction:"column",align:"stretch",style:{padding:ee.paddingSM,width:"100%",justifyContent:"revert"},children:[(0,f.jsx)("style",{children:".session-type-radio-group .ant-radio {\n  align-self: flex-start;\n  margin-top: 2px;\n}\n"}),O&&(0,f.jsx)(Ne.Z,{items:[{title:ne("webui.menu.Sessions"),onClick:function(e){e.preventDefault(),G(O)},href:O},{title:ne("session.launcher.StartNewSession")}]}),(0,f.jsxs)(C.Z,{direction:"row",gap:"md",align:"start",children:[(0,f.jsxs)(C.Z,{direction:"column",align:"stretch",style:{flex:1,maxWidth:700},children:[(0,f.jsxs)(C.Z,{direction:"row",justify:"between",children:[(0,f.jsx)(J.Z.Title,{level:3,style:{marginTop:0},children:ne("session.launcher.StartNewSession")}),(0,f.jsxs)(C.Z,{direction:"row",gap:"sm",children:[(0,f.jsx)(Ae.Z,{title:ne("button.Reset"),description:ne("session.launcher.ResetFormConfirm"),onConfirm:function(){oe.resetFields(),U("/session/start")},icon:(0,f.jsx)(xe.Z,{style:{color:ee.colorError}}),okText:ne("button.Reset"),okButtonProps:{danger:!0},children:(0,f.jsx)(m.ZP,{danger:!0,type:"link",style:{paddingRight:0,paddingLeft:0},children:ne("button.Reset")})}),(0,f.jsx)(m.ZP,{type:"link",icon:(0,f.jsx)(Ce.Z,{}),disabled:!0,style:{paddingRight:0,paddingLeft:0},children:ne("session.launcher.TemplateAndHistory")})]})]}),(0,f.jsx)(_.Z.Provider,{onFormChange:function(e,n){X()},children:(0,f.jsx)(_.Z,{form:oe,layout:"vertical",requiredMark:"optional",initialValues:Je,children:(0,f.jsxs)(C.Z,{direction:"column",align:"stretch",gap:"md",children:[(0,f.jsxs)(v.Z,{title:ne("session.launcher.SessionType"),style:{display:"sessionType"===se?"block":"none"},children:[(0,f.jsx)(_.Z.Item,{name:"sessionType",children:(0,f.jsx)(Oe.ZP.Group,{className:"session-type-radio-group",options:[{label:(0,f.jsxs)(C.Z,{direction:"column",align:"start",style:{marginBottom:ee.marginXS},children:[(0,f.jsx)(J.Z.Text,{strong:!0,children:"\ud83c\udfc3\u200d\u2640\ufe0f Make, test and run"}),(0,f.jsxs)(J.Z.Text,{type:"secondary",children:[(0,f.jsx)(J.Z.Text,{code:!0,children:"Interactive mode"})," ","allows you to create, test and run code interactively via jupyter notebook, visual studio code, etc."]})]}),value:"interactive"},{label:(0,f.jsxs)(C.Z,{direction:"column",align:"start",children:[(0,f.jsx)(J.Z.Text,{strong:!0,children:"\u231a\ufe0f Start an long-running task"}),(0,f.jsxs)(J.Z.Text,{type:"secondary",children:[(0,f.jsx)(J.Z.Text,{code:!0,children:"Batch mode"})," ","runs your code with multiple node & clusters to scale your idea"]})]}),value:"batch"}]})}),(0,f.jsx)(pe,{})]}),"batch"===le&&(0,f.jsxs)(v.Z,{title:ne("session.launcher.BatchModeConfig"),style:{display:"sessionType"===se?"block":"none"},children:[(0,f.jsx)(_.Z.Item,{label:ne("session.launcher.StartUpCommand"),name:["batch","command"],rules:[{required:!0,type:"string"}],children:(0,f.jsx)(E.Z.TextArea,{autoSize:!0})}),(0,f.jsx)(_.Z.Item,{label:ne("session.launcher.SessionStartTime"),children:(0,f.jsxs)(C.Z,{direction:"row",gap:"xs",children:[(0,f.jsx)(_.Z.Item,{noStyle:!0,name:["batch","enabled"],valuePropName:"checked",children:(0,f.jsx)(Re.Z,{onChange:function(e){e.target.checked&&h().isEmpty(oe.getFieldValue(["batch","scheduleDate"]))?oe.setFieldValue(["batch","scheduleDate"],k()().add(2,"minutes").toISOString()):!1===e.target.checked&&oe.setFieldValue(["batch","scheduleDate"],void 0)},children:ne("session.launcher.Enable")})}),(0,f.jsx)(_.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){var i,r;return(null===(i=e.batch)||void 0===i?void 0:i.enabled)!==(null===(r=n.batch)||void 0===r?void 0:r.enabled)},children:function(){var e,n=!0!==(null===(e=oe.getFieldValue("batch"))||void 0===e?void 0:e.enabled);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(_.Z.Item,{name:["batch","scheduleDate"],noStyle:!0,rules:[{validator:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!k()(i).isBefore(k()())){e.next=2;break}return e.abrupt("return",Promise.reject(ne("session.launcher.StartTimeMustBeInTheFuture")));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()}],children:(0,f.jsx)(P,{disabled:n,showTime:!0,localFormat:!0,disabledDate:function(e){return e.isBefore(k()().startOf("day"))}})})})}})]})})]}),"inference"===le&&(0,f.jsx)(v.Z,{title:"Inference Mode Configuration",children:(0,f.jsx)(_.Z.Item,{name:["inference","vFolderName"],label:ne("session.launcher.ModelStorageToMount"),rules:[{required:!0}],children:(0,f.jsx)(D.Z,{})})}),(0,f.jsxs)(v.Z,{title:ne("session.launcher.Environments"),style:{display:"environment"===se?"block":"none"},children:[(0,f.jsx)(We.SV,{fallbackRender:function(e){return console.log(e),null},children:(0,f.jsx)(N.Z,{})}),(0,f.jsx)(_.Z.Item,{label:"Environment Variables",children:(0,f.jsx)(M,{name:"envvars",formItemProps:{validateTrigger:["onChange","onBlur"]}})})]}),(0,f.jsx)(v.Z,{title:ne("session.launcher.ResourceAllocation"),style:{display:"environment"===se?"block":"none"},children:(0,f.jsx)(ve,{enableNumOfSessions:!0})}),(0,f.jsxs)(v.Z,{title:ne("session.launcher.HPCOptimization"),style:{display:"environment"===se?"block":"none"},children:[(0,f.jsx)(_.Z.Item,{noStyle:!0,children:(0,f.jsxs)(C.Z,{direction:"row",gap:"sm",children:[(0,f.jsx)(J.Z.Text,{children:ne("session.launcher.SwitchOpenMPoptimization")}),(0,f.jsx)(_.Z.Item,{label:ne("session.launcher.SwitchOpenMPoptimization"),name:["hpcOptimization","autoEnabled"],valuePropName:"checked",required:!0,noStyle:!0,children:(0,f.jsx)(De.Z,{onChange:function(e){e&&oe.setFieldsValue(h().pick(Je,["hpcOptimization"]))}})})]})}),(0,f.jsx)(_.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){var i,r;return(null===(i=e.hpcOptimization)||void 0===i?void 0:i.autoEnabled)!==(null===(r=n.hpcOptimization)||void 0===r?void 0:r.autoEnabled)},children:function(){var e=oe.getFieldValue(["hpcOptimization","autoEnabled"]);return(0,f.jsxs)(ze.Z,{gutter:ee.marginMD,style:{display:e?"none":void 0,marginTop:ee.marginMD},children:[(0,f.jsx)(Be.Z,{xs:24,sm:12,children:(0,f.jsx)(_.Z.Item,{style:{flex:1},label:ne("session.launcher.NumOpenMPthreads"),name:["hpcOptimization","OMP_NUM_THREADS"],tooltip:(0,f.jsxs)(f.Fragment,{children:[ne("session.launcher.OpenMPOptimization"),(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescOpenMPOptimization"})]}),required:!0,children:(0,f.jsx)($.Z,{min:0,max:1e3,step:1,stringMode:!0,style:{width:"100%"}})})}),(0,f.jsx)(Be.Z,{xs:24,sm:12,children:(0,f.jsx)(_.Z.Item,{style:{flex:1},label:ne("session.launcher.NumOpenBLASthreads"),name:["hpcOptimization","OPENBLAS_NUM_THREADS"],tooltip:(0,f.jsxs)(f.Fragment,{children:[ne("session.launcher.OpenMPOptimization"),(0,f.jsx)(B.cC,{i18nKey:"session.launcher.DescOpenMPOptimization"})]}),required:!0,children:(0,f.jsx)($.Z,{min:0,max:1e3,step:1,stringMode:!0,style:{width:"100%"}})})})]})}})]}),(0,f.jsx)(v.Z,{title:ne("webui.menu.Data&Storage"),style:{display:"storage"===se?"block":"none"},children:(0,f.jsx)(Pe,{})}),(0,f.jsx)(v.Z,{title:ne("session.launcher.Network"),style:{display:"network"===se?"block":"none"},children:(0,f.jsx)(K,{})}),"review"===se&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Z,{title:ne("session.launcher.SessionType"),size:"small",status:oe.getFieldError("name").length>0||oe.getFieldError(["batch","command"]).length>0||oe.getFieldError(["batch","scheduleDate"]).length>0?"error":void 0,extraButtonTitle:ne("button.Edit"),onClickExtraButton:function(){Y(ae.findIndex((function(e){return"sessionType"===e.key})))},children:(0,f.jsxs)(Le.Z,{size:"small",children:[(0,f.jsx)(Le.Z.Item,{label:ne("session.SessionType"),span:24,children:oe.getFieldValue("sessionType")}),!h().isEmpty(oe.getFieldValue("name"))&&(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.SessionName"),span:24,children:oe.getFieldValue("name")}),"batch"===le&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.StartUpCommand"),span:24,children:(0,f.jsx)(E.Z.TextArea,{readOnly:!0,autoSize:!0,value:oe.getFieldValue(["batch","command"])})}),(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.ScheduleTimeSimple"),span:24,children:k()(oe.getFieldValue(["batch","scheduleDate"])).format("LLLT")})]})]})}),(0,f.jsx)(Z,{title:ne("session.launcher.Environments"),size:"small",status:h().some(oe.getFieldValue("envvars"),(function(e,n){return oe.getFieldError(["envvars",n,"variable"]).length>0||oe.getFieldError(["envvars",n,"value"]).length>0}))?"error":void 0,extraButtonTitle:ne("button.Edit"),onClickExtraButton:function(){Y(ae.findIndex((function(e){return"environment"===e.key})))},children:(0,f.jsxs)(Le.Z,{size:"small",column:2,children:[(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.Project"),children:H.name}),(0,f.jsx)(Le.Z.Item,{label:ne("general.ResourceGroup"),children:oe.getFieldValue("resourceGroup")}),(0,f.jsx)(Le.Z.Item,{label:ne("general.Image"),span:2,children:(0,f.jsxs)(C.Z,{direction:"row",gap:"xs",style:{flex:1},children:[(0,f.jsx)(A.Z,{image:null===(n=oe.getFieldValue("environments"))||void 0===n?void 0:n.version}),(0,f.jsx)(J.Z.Text,{copyable:!0,code:!0,children:null===(i=oe.getFieldValue("environments"))||void 0===i?void 0:i.version})]})}),(null===(r=oe.getFieldValue("envvars"))||void 0===r?void 0:r.length)>0&&(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.EnvironmentVariable"),children:null!==(s=oe.getFieldValue("envvars"))&&void 0!==s&&s.length?(0,f.jsx)(Qe.Z,{style:He.Z,codeTagProps:{style:{}},customStyle:{margin:0,width:"100%"},children:h().map(oe.getFieldValue("envvars"),(function(e){return"".concat((null===e||void 0===e?void 0:e.variable)||"",'="').concat((null===e||void 0===e?void 0:e.value)||"",'"')})).join("\n")}):(0,f.jsx)(J.Z.Text,{type:"secondary",children:"-"})})]})}),(0,f.jsx)(Z,{title:ne("session.launcher.ResourceAllocation"),status:h().some(oe.getFieldValue("resource"),(function(e,n){return oe.getFieldError(["resource",n]).length>0}))?"error":void 0,size:"small",extraButtonTitle:ne("button.Edit"),onClickExtraButton:function(){Y(ae.findIndex((function(e){return"environment"===e.key})))},children:(0,f.jsxs)(C.Z,{direction:"column",gap:"xs",align:"stretch",children:[h().some(oe.getFieldValue("resource"),(function(e,n){return oe.getFieldWarning(["resource",n]).length>0}))&&(0,f.jsx)(qe.Z,{type:"warning",showIcon:!0,message:ne("session.launcher.EnqueueComputeSessionWarning")}),(0,f.jsx)(Le.Z,{children:(0,f.jsx)(Le.Z.Item,{span:24,label:ne("environment.ResourcePresets"),children:(0,f.jsxs)(C.Z,{direction:"row",align:"start",gap:"sm",wrap:"wrap",style:{flex:1},children:["custom"===oe.getFieldValue("allocationPreset")?"":(0,f.jsx)(z.Z,{children:oe.getFieldValue("allocationPreset")}),h().map(h().omit(oe.getFieldValue("resource"),"shmem","accelerator","acceleratorType"),(function(e,n){var i,r;return(0,f.jsx)(te.ZP,{type:n,value:"mem"===n?(null===(i=(0,W.PZ)(e,"b"))||void 0===i?void 0:i.number)+"":e,opts:{shmem:oe.getFieldValue("resource").shmem?null===(r=(0,W.PZ)(oe.getFieldValue("resource").shmem,"b"))||void 0===r?void 0:r.number:void 0}},n)})),h().isNumber(oe.getFieldValue(["resource","accelerator"]))&&(0,f.jsx)(te.ZP,{type:oe.getFieldValue(["resource","acceleratorType"]),value:oe.getFieldValue(["resource","accelerator"])})]})})})]})}),(0,f.jsx)(Z,{title:ne("webui.menu.Data&Storage"),size:"small",status:oe.getFieldError("vfoldersAliasMap").length>0?"error":void 0,extraButtonTitle:ne("button.Edit"),onClickExtraButton:function(){Y(ae.findIndex((function(e){return"storage"===e.key})))},children:(null===(u=oe.getFieldValue("mounts"))||void 0===u?void 0:u.length)>0?(0,f.jsx)(je.Z,{rowKey:"name",size:"small",pagination:!1,columns:[{dataIndex:"name",title:ne("data.folders.Name")},{dataIndex:"alias",title:ne("session.launcher.FolderAlias"),render:function(e,n){return h().isEmpty(e)?(0,f.jsx)(J.Z.Text,{type:"secondary",style:{opacity:.7},children:"/home/work/".concat(n.name)}):e}}],dataSource:h().map(oe.getFieldValue("mounts"),(function(e){var n;return{name:e,alias:null===(n=oe.getFieldValue("vfoldersAliasMap"))||void 0===n?void 0:n[e]}}))}):(0,f.jsx)(qe.Z,{type:"warning",showIcon:!0,message:ne("session.launcher.NoFolderMounted")})}),(0,f.jsx)(Z,{title:"Network",size:"small",status:oe.getFieldError("ports").length>0?"error":void 0,extraButtonTitle:ne("button.Edit"),onClickExtraButton:function(){Y(ae.findIndex((function(e){return"network"===e.key})))},children:(0,f.jsx)(Le.Z,{size:"small",children:(0,f.jsx)(Le.Z.Item,{label:ne("session.launcher.PreOpenPortTitle"),children:(0,f.jsxs)(C.Z,{direction:"row",gap:"xs",style:{flex:1},wrap:"wrap",children:[h().sortBy(oe.getFieldValue("ports"),(function(e){return parseInt(e)})).map((function(e){return(0,f.jsx)(q,{value:e,style:{margin:0},children:e})})),h().isArray(oe.getFieldValue("ports"))&&0!==(null===(c=oe.getFieldValue("ports"))||void 0===c?void 0:c.length)?null:(0,f.jsx)(J.Z.Text,{type:"secondary",children:ne("general.None")})]})})})})]}),(0,f.jsxs)(C.Z,{direction:"row",justify:"between",children:[(0,f.jsx)(C.Z,{gap:"sm",children:I===ae.length-1&&(0,f.jsx)(m.ZP,{icon:(0,f.jsx)(Fe.Z,{}),disabled:!0,onClick:function(){Me.ZP.info("Not implemented yet: Template edit modal")},children:"Save as a template"})}),(0,f.jsxs)(C.Z,{direction:"row",gap:"sm",children:[I!==ae.length-1&&(0,f.jsx)(m.ZP,{onClick:ce,children:"Skip to Review"}),I>0&&(0,f.jsx)(m.ZP,{onClick:function(){Y(I-1)},icon:(0,f.jsx)(Te.Z,{}),disabled:b,children:"Previous"}),I===ae.length-1?(0,f.jsx)(m.ZP,{type:"primary",icon:(0,f.jsx)(_e.Z,{}),disabled:ue,onClick:function(){j(!0),oe.validateFields().then(function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){var i,r,o,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.environments.version.split("@"),r=(0,l.Z)(i,2),o=r[0],s=r[1],u={kernelName:o,architecture:s,sessionName:h().isEmpty(n.name)?en():n.name,config:(0,a.Z)((0,a.Z)({type:n.sessionType},"batch"===n.sessionType?{startsAt:n.batch.enabled?n.batch.scheduleDate:void 0,startupCommand:n.batch.command}:{}),{},{group_name:H.name,domain:Q._config.domainName,scaling_group:n.resourceGroup,cluster_mode:n.cluster_mode,cluster_size:n.cluster_size,maxWaitSeconds:15,cpu:n.resource.cpu,mem:n.resource.mem,shmem:(0,W.p)(n.resource.mem,"4g")>0&&(0,W.p)(n.resource.shmem,"1g")<0?"1g":n.resource.shmem,mounts:n.mounts,mount_map:n.vfoldersAliasMap,env:(0,a.Z)((0,a.Z)({},h().fromPairs(n.envvars.map((function(e){return[e.variable,e.value]})))),h().omit(n.hpcOptimization,"autoEnabled")),preopen_ports:h().map(n.ports,(function(e){return parseInt(e)}))})},c=h().map(h().range(n.num_of_sessions||1),(function(e){var i=(n.num_of_sessions||1)>1?"".concat(u.sessionName,"-").concat(nn(),"-").concat(e):u.sessionName;return Q.createIfNotExists(u.kernelName,i,u.config,2e4,u.architecture).then((function(e){return null!==e&&void 0!==e&&e.created||Me.ZP.warning(ne("session.launcher.SessionAlreadyExists")),e})).catch((function(e){throw console.log(e),e}))})),e.next=5,Promise.all(c).then((function(e){var i=(0,l.Z)(e,1)[0];if(1===n.num_of_sessions&&"batch"!==n.sessionType){var r,t=i;r="kernelId"in t?{"session-name":t.kernelId,"access-key":"",mode:p}:{"session-uuid":t.sessionId,"session-name":t.sessionName,"access-key":"",mode:p};var o=t.servicePorts;!0===Array.isArray(o)?r["app-services"]=o.map((function(e){return e.name})):r["app-services"]=[],o.length>0&&globalThis.appLauncher.showLauncher(r)}U("/job",{}),G("/job")})).catch((function(){}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("validation errors",e)})).finally((function(){j(!1)}))},loading:b,children:ne("session.launcher.Launch")}):(0,f.jsxs)(m.ZP,{type:"primary",ghost:!0,onClick:function(){Y(I+1)},children:["Next ",(0,f.jsx)(Ee.Z,{})]})]})]})]})})})]}),ie.md&&(0,f.jsx)(Ke.Z,{offsetTop:150,style:{zIndex:2},children:(0,f.jsx)(Ue.Z,{size:"small",direction:"vertical",current:I,onChange:function(e){e===ae.length-1?ce():Y(e)},items:h().map(ae,(function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{status:n===I?"process":"wait"})}))})})]})]})}}}]);
//# sourceMappingURL=112.2e2878c3.chunk.js.map