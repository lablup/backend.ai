"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[556,502],{77758:function(n,e,a){a.d(e,{Z:function(){return r}});var l=a(1413),i=a(36459),t=a(65113),o=(a(4519),a(2556)),r=function(n){var e,a=Object.assign({},((0,i.Z)(n),n));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{children:".ant-modal.bai-modal .ant-modal-content {\n  padding: var(--general-modal-content-padding, 0);\n}\n.ant-modal.bai-modal .ant-modal-body {\n  padding: var(--general-modal-body-padding, 0 24px);\n}\n\n.ant-modal.bai-modal .ant-modal-footer {\n  padding: var(--general-modal-footer-padding, 0 20px 24px 20px);\n}\n\n.ant-modal.bai-modal .ant-modal-header {\n  border-bottom: 1px solid rgb(221, 221, 221);\n  border-width: 100%;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n}\n\n.ant-modal.bai-modal .ant-modal-content .ant-modal-header,\n.ant-modal.bai-modal .ant-modal-content > button.ant-modal-close {\n  padding: var(--general-modal-header-padding, 10px 20px);\n  height: var(--general-modal-header-height, 69px);\n}\n\n.ant-modal.bai-modal .ant-modal-content > button.ant-modal-close {\n  /* center */\n  top: 0;\n}\n"}),(0,o.jsx)(t.Z,(0,l.Z)({centered:null===(e=a.centered)||void 0===e||e,className:"bai-modal"},a))]})}},61502:function(n,e,a){a.r(e),a.d(e,{default:function(){return H},useShadowRoot:function(){return z},useWebComponentInfo:function(){return W}});var l=a(29439),i=a(74165),t=a(15861),o=a(24530),r=a(24717),d=a(61724);function u(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,l=(0,o.Qc)(n),i=(0,r.Vn)(l,{Field:{enter:function(n){var l;if(null!==n&&void 0!==n&&null!==(l=n.directives)&&void 0!==l&&l.find((function(n){var l,i,t,o,r=n.name.value,d=null===(l=n.arguments)||void 0===l?void 0:l[0].name.value,u=null===(i=n.arguments)||void 0===i||null===(t=i[0].value)||void 0===t?void 0:t.value,s=null===(o=n.arguments)||void 0===o?void 0:o[0];if("since"===r&&"version"===d){if(a(u))return!0}else if("deprecatedSince"===r&&"version"===d){var c="StringValue"===(null===s||void 0===s?void 0:s.value.kind)?null===s||void 0===s?void 0:s.value.value:e[null===s||void 0===s?void 0:s.value.name.value];if(!a(c))return!0}else if("skipOnClient"===r&&"if"===d){if("BooleanValue"===(null===s||void 0===s?void 0:s.value.kind)&&s.value.value)return!0;if("Variable"===(null===s||void 0===s?void 0:s.value.kind)&&e[s.value.name.value])return!0}return!1})))return null},leave:function(n){var e;if(n.selectionSet&&"SelectionSet"===n.selectionSet.kind&&0===(null===(e=n.selectionSet.selections)||void 0===e?void 0:e.length))return null}},Directive:{leave:function(n){var e=n.name.value;if(["since","deprecatedSince","skipOnClient"].includes(e))return null}}}),t={};return(0,r.Vn)(i,{Variable:function(n){t[n.name.value]=(t[n.name.value]||0)+1}}),i=(0,r.Vn)(i,{VariableDefinition:{enter:function(n){if(t[n.variable.name.value]<=1)return null}}}),(0,d.S)(i)}var s=a(41011);s.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var c=function(){var n=(0,t.Z)((0,i.Z)().mark((function n(e,a){var l,t,o,r,d,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==globalThis.backendaiclient){n.next=3;break}return n.next=3,new Promise((function(n){document.addEventListener("backend-ai-connected",(function e(){document.removeEventListener("backend-ai-connected",e),n(void 0)}))}));case 3:return o=u(e.text||"",a,(function(n){var e;return!(null!==(e=globalThis.backendaiclient)&&void 0!==e&&e.isManagerVersionCompatibleWith(n))})),r={query:o,variables:a},d=null===(l=globalThis.backendaiclient)||void 0===l?void 0:l.newSignedRequest("POST","/admin/gql",r),n.next=8,null===(t=globalThis.backendaiclient)||void 0===t?void 0:t._wrapWithPromise(d,!1,null,1e4,0).catch((function(n){}));case 8:if(n.t0=n.sent,n.t0){n.next=11;break}n.t0={};case 11:return s=n.t0,n.abrupt("return",s);case 13:case"end":return n.stop()}}),n)})));return function(e,a){return n.apply(this,arguments)}}();var v,m=new s.Environment({network:s.Network.create(c,void 0),store:new s.Store(new s.RecordSource)}),p=a(80382),g=a(27340),f=a(41239),b=a(47226),h=a(49883),x=a(66670),k=a(99517),y=a.n(k),S=(a(24989),a(79354)),j=a.n(S),w=a(79748),Z=a.n(w),T=a(51714),_=a.n(T),E=a(63540),F=a.n(E),C=a(18272),L=a.n(C),P=a(9666),I=a.n(P),K=a(64447),O=a(13881),N=a(4519),V=a(81748),D=a(87112),Q=a(16980),R=a(51843),U=a(12674),A=a(55144),M=a(73181),q=a(2556);y().extend(I()),y().extend(j()),y().extend(Z()),y().extend(_()),y().extend(L()),y().extend(F());var $=N.createContext(null),B=N.createContext(null),z=function(){return N.useContext(B)},W=function(){return N.useContext($)},Y=new D.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});K.ZP.use(V.Db).use(O.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(v=globalThis.backendaioptions)||void 0===v?void 0:v.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var G=function(){var n=(0,U.s0)();return(0,N.useLayoutEffect)((function(){var e=function(e){var a=e.detail;n(a,{replace:!0})};return document.addEventListener("react-navigate",e),function(){document.removeEventListener("react-navigate",e)}}),[n]),null},H=function(n){var e=n.children,a=n.value,i=n.styles,t=n.shadowRoot,o=n.dispatchEvent,r=(0,N.useMemo)((function(){return(0,g.Df)()}),[]),d=function(){var n,e=(0,N.useState)(null===globalThis||void 0===globalThis||null===(n=globalThis.backendaioptions)||void 0===n?void 0:n.get("current_language")),a=(0,l.Z)(e,2),i=a[0],t=a[1],o=(0,V.$G)().i18n;return(0,N.useEffect)((function(){setTimeout((function(){return null===o||void 0===o?void 0:o.changeLanguage(i)}),0),y().locale(i)}),[]),(0,N.useEffect)((function(){var n=function(n){var e,a;t(null===n||void 0===n||null===(e=n.detail)||void 0===e?void 0:e.lang);var l=(null===n||void 0===n||null===(a=n.detail)||void 0===a?void 0:a.lang)||"en";null===o||void 0===o||o.changeLanguage(l),y().locale(l)};return window.addEventListener("langChanged",n),function(){return window.removeEventListener("langChanged",n)}}),[o]),[i]}(),u=(0,l.Z)(d,1)[0],s=(0,p.x)(),c=(0,N.useMemo)((function(){return{value:a,dispatchEvent:o,moveTo:function(n,e){o("moveTo",{path:n,params:e})}}}),[a,o]);return(0,q.jsx)(q.Fragment,{children:m&&(0,q.jsx)(Q.RelayEnvironmentProvider,{environment:m,children:(0,q.jsxs)(N.StrictMode,{children:[(0,q.jsxs)("style",{children:[i,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,q.jsx)(D.QueryClientProvider,{client:Y,children:(0,q.jsx)(B.Provider,{value:t,children:(0,q.jsx)($.Provider,{value:c,children:(0,q.jsx)(f.ZP,{getPopupContainer:function(n){return(null===n||void 0===n?void 0:n.parentNode)||t},locale:"ko"===u?x.Z:h.Z,theme:s,children:(0,q.jsx)(b.Z,{children:(0,q.jsx)(g.V9,{container:t,cache:r,children:(0,q.jsx)(N.Suspense,{fallback:"",children:(0,q.jsx)(R.VK,{children:(0,q.jsxs)(A.QueryParamProvider,{adapter:M.Q,options:{},children:[(0,q.jsx)(G,{}),e]})})})})})})})})})]})})})}},4652:function(n,e,a){a.r(e);var l,i=a(1413),t=a(36459),o=a(87760),r=a(77758),d=a(61502),u=a(92171),s=a(93448),c=a(39883),v=a(82548),m=a(32048),p=a.n(m),g=(a(4519),a(81748)),f=a(87112),b=a(16980),h=a(2556);e.default=function(n){var e,m,x=Object.assign({},((0,t.Z)(n),n)),k=(0,g.$G)().t,y=(0,d.useWebComponentInfo)(),S=y.value,j=y.dispatchEvent;try{m=JSON.parse(S||"")}catch(O){m={open:!1,userEmail:""}}var w,Z=m,T=Z.open,_=Z.userEmail,E=(0,o.Dj)(),F=null===E||void 0===E?void 0:E.supports("sudo-session-enabled"),C=(0,f.useQuery)("isManagerSupportingTOTP",(function(){return E.isManagerSupportingTOTP()}),{suspense:!1}),L=C.data,P=C.isLoading;w=(null===E||void 0===E?void 0:E.supports("2FA"))&&L;var I=(0,b.useLazyLoadQuery)(void 0!==l?l:l=a(21960),{email:_,isNotSupportSudoSessionEnabled:!F,isTOTPSupported:null!==(e=w)&&void 0!==e&&e}).user,K={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,h.jsxs)(r.Z,(0,i.Z)((0,i.Z)({open:T,onCancel:function(){j("cancel",null)},centered:!0,title:k("credential.UserDetail"),footer:[(0,h.jsx)(u.ZP,{type:"primary",onClick:function(){j("cancel",null)},children:k("button.OK")},"ok")]},x),{},{children:[(0,h.jsx)("br",{}),(0,h.jsxs)(s.Z,{size:"small",column:K,title:k("credential.Information"),labelStyle:{width:"50%"},children:[(0,h.jsx)(s.Z.Item,{label:k("credential.UserID"),children:null===I||void 0===I?void 0:I.email}),(0,h.jsx)(s.Z.Item,{label:k("credential.UserName"),children:null===I||void 0===I?void 0:I.username}),(0,h.jsx)(s.Z.Item,{label:k("credential.FullName"),children:null===I||void 0===I?void 0:I.full_name}),(0,h.jsx)(s.Z.Item,{label:k("credential.DescActiveUser"),children:"active"===(null===I||void 0===I?void 0:I.status)?k("button.Yes"):k("button.No")}),(0,h.jsx)(s.Z.Item,{label:k("credential.DescRequirePasswordChange"),children:null!==I&&void 0!==I&&I.need_password_change?k("button.Yes"):k("button.No")}),F&&(0,h.jsx)(s.Z.Item,{label:k("credential.EnableSudoSession"),children:null!==I&&void 0!==I&&I.sudo_session_enabled?k("button.Yes"):k("button.No")}),w&&(0,h.jsx)(s.Z.Item,{label:k("webui.menu.TotpActivated"),children:(0,h.jsx)(c.Z,{spinning:P,children:null!==I&&void 0!==I&&I.totp_activated?k("button.Yes"):k("button.No")})})]}),(0,h.jsx)("br",{}),(0,h.jsxs)(s.Z,{size:"small",column:K,title:k("credential.Association"),labelStyle:{width:"50%"},children:[(0,h.jsx)(s.Z.Item,{label:k("credential.Domain"),children:null===I||void 0===I?void 0:I.domain_name}),(0,h.jsx)(s.Z.Item,{label:k("credential.Role"),children:null===I||void 0===I?void 0:I.role})]}),(0,h.jsx)("br",{}),(0,h.jsx)(s.Z,{title:k("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,h.jsx)(s.Z.Item,{children:p().map(null===I||void 0===I?void 0:I.groups,(function(n){return(0,h.jsx)(v.Z,{children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})})]}))}},21960:function(n,e,a){a.r(e);var l=function(){var n=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],e=[{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},m={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]};return{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,t,o,r,d,u,c,v,m],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,t,o,r,d,u,c,v,m,s],storageKey:null}]},params:{cacheID:"fcef32310e02b32233c1b2633e35036b",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:"query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    id\n  }\n}\n"}}}();l.hash="9cdff59ed81f83461fbbe0da1de55846",e.default=l}}]);
//# sourceMappingURL=556.686be4bc.chunk.js.map