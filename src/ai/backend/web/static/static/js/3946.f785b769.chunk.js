/*! For license information please see 3946.f785b769.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[3946],{11276(e,n,l){l.d(n,{A:()=>m});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VFolderLazyViewQuery",selections:[{alias:null,args:n,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[{kind:"RequiredField",field:l,action:"THROW"},a,{args:null,kind:"FragmentSpread",name:"VFolderNodeIdenticonFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VFolderLazyViewQuery",selections:[{alias:null,args:n,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[l,a],storageKey:null}]},params:{cacheID:"9741b4e48e1380bf300c9109258c38dd",id:null,metadata:{},name:"VFolderLazyViewQuery",operationKind:"query",text:"query VFolderLazyViewQuery(\n  $id: String!\n) {\n  vfolder_node(id: $id) {\n    id\n    name\n    ...VFolderNodeIdenticonFragment\n  }\n}\n\nfragment VFolderNodeIdenticonFragment on VirtualFolderNode {\n  id\n}\n"}}}();a.hash="403cbd1b2a26241898d8c1f1893de307";const i=a;var r=l(18249),t=l(66561),o=l(68632),s=l(96337),d=(l(32397),l(19869)),u=l(31356),c=l(33337);const m=e=>{let{uuid:n,clickable:l}=e;const a=(0,u.zy)(),m=(0,r.f0)(),{vfolder_node:g}=(0,d.useLazyLoadQuery)(i,{id:n});return(0,c.jsx)(c.Fragment,{children:g&&(0,c.jsxs)(s.OOm,{align:"center",gap:"xs",children:[(0,c.jsx)(t.A,{vfolderNodeIdenticonFrgmt:g}),l?(0,c.jsx)(o.A.Link,{onClick:()=>{m({pathname:a.pathname,search:new URLSearchParams({folder:(0,s.omW)(g.id)}).toString()})},children:g.name}):(0,c.jsx)(o.A.Text,{children:g.name})]})})}},43946(e,n,l){l.r(n),l.d(n,{default:()=>qe});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"DeleteEndpointAutoScalingRuleNode",kind:"LinkedField",name:"delete_endpoint_auto_scaling_rule_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EndpointDetailPageAutoScalingRuleDeleteMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EndpointDetailPageAutoScalingRuleDeleteMutation",selections:n},params:{cacheID:"e647347518ca7cfd97bf2fbaae817544",id:null,metadata:{},name:"EndpointDetailPageAutoScalingRuleDeleteMutation",operationKind:"mutation",text:"mutation EndpointDetailPageAutoScalingRuleDeleteMutation(\n  $id: String!\n) {\n  delete_endpoint_auto_scaling_rule_node(id: $id) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="b2c728c3dedd10a4ef2c345f6ba3cfaf";const i=a,r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_after"},n={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_before"},l={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_endpointId"},a={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_filter"},i={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_first"},r={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_last"},t={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_offset"},o={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_order"},s={defaultValue:null,kind:"LocalArgument",name:"endpointId"},d={defaultValue:null,kind:"LocalArgument",name:"skipScalingRules"},u={defaultValue:null,kind:"LocalArgument",name:"tokenListLimit"},c={defaultValue:null,kind:"LocalArgument",name:"tokenListOffset"},m={kind:"Variable",name:"endpoint_id",variableName:"endpointId"},g=[m],p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},j={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},R=[b,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],K={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:R,storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"retries",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"routing_id",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"session",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"traffic_ratio",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"error_data",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ee={alias:null,args:[m,{kind:"Variable",name:"limit",variableName:"tokenListLimit"},{kind:"Variable",name:"offset",variableName:"tokenListOffset"}],concreteType:"EndpointTokenList",kind:"LinkedField",name:"endpoint_token_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},{alias:null,args:null,concreteType:"EndpointToken",kind:"LinkedField",name:"items",plural:!0,selections:[X,{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"session_owner",storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"valid_until",storageKey:null}],storageKey:null}],storageKey:null},ne=[{kind:"Variable",name:"after",variableName:"autoScalingRules_after"},{kind:"Variable",name:"before",variableName:"autoScalingRules_before"},{kind:"Variable",name:"endpoint",variableName:"autoScalingRules_endpointId"},{kind:"Variable",name:"filter",variableName:"autoScalingRules_filter"},{kind:"Variable",name:"first",variableName:"autoScalingRules_first"},{kind:"Variable",name:"last",variableName:"autoScalingRules_last"},{kind:"Variable",name:"offset",variableName:"autoScalingRules_offset"},{kind:"Variable",name:"order",variableName:"autoScalingRules_order"}],le={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"last_triggered_at",storageKey:null};return{fragment:{argumentDefinitions:[e,n,l,a,i,r,t,o,s,d,u,c],kind:"Fragment",metadata:null,name:"EndpointDetailPageQuery",selections:[{alias:null,args:g,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[p,_,y,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[p,S,k,f,h,x,F,A,j,K,E,I,{args:null,kind:"FragmentSpread",name:"ImageNodeSimpleTagFragment"}],storageKey:null},L,T,w,O,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[N,{args:null,kind:"FragmentSpread",name:"InferenceSessionErrorModalFragment"}],storageKey:null},C,{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[M],storageKey:null},V,P,z,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[D,p],storageKey:null},$,q,Q,B,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[H,G,U,J,_,W],storageKey:null},Y,{args:null,kind:"FragmentSpread",name:"EndpointOwnerInfoFragment"},{args:null,kind:"FragmentSpread",name:"EndpointStatusTagFragment"},{args:null,kind:"FragmentSpread",name:"ServiceLauncherPageContentFragment"}],storageKey:null},ee,{alias:"endpoint_auto_scaling_rules",args:ne,concreteType:"EndpointAutoScalingRuleConnection",kind:"LinkedField",name:"endpoint_auto_scaling_rule_nodes",plural:!1,selections:[le,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"node",plural:!1,selections:[X,J,ae,ie,re,te,oe,se,de,ue,Z,ce,{args:null,kind:"FragmentSpread",name:"AutoScalingRuleEditorModalFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,c,u,l,a,t,o,n,e,i,r,d],kind:"Operation",name:"EndpointDetailPageQuery",selections:[{alias:null,args:g,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[p,_,y,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[p,S,k,f,h,x,F,A,j,K,E,I,{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:R,storageKey:null},X,p],storageKey:null},L,T,w,O,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[N,{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],storageKey:null},C,{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[M,p],storageKey:null},V,P,z,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[D,p,X],storageKey:null},$,q,Q,B,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[H,G,U,J,_,W,X],storageKey:null},Y,X,{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null}],storageKey:null},ee,{alias:"endpoint_auto_scaling_rules",args:ne,concreteType:"EndpointAutoScalingRuleConnection",kind:"LinkedField",name:"endpoint_auto_scaling_rule_nodes",plural:!1,selections:[le,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"node",plural:!1,selections:[X,J,ae,ie,re,te,oe,se,de,ue,Z,ce],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"d17a463d19a4b13f2c5a7567abcfe0c7",id:null,metadata:{},name:"EndpointDetailPageQuery",operationKind:"query",text:'query EndpointDetailPageQuery(\n  $endpointId: UUID!\n  $tokenListOffset: Int!\n  $tokenListLimit: Int!\n  $autoScalingRules_endpointId: String!\n  $autoScalingRules_filter: String\n  $autoScalingRules_offset: Int\n  $autoScalingRules_order: String\n  $autoScalingRules_before: String\n  $autoScalingRules_after: String\n  $autoScalingRules_first: Int\n  $autoScalingRules_last: Int\n  $skipScalingRules: Boolean!\n) {\n  endpoint(endpoint_id: $endpointId) {\n    name\n    status\n    endpoint_id\n    project\n    image_object @since(version: "23.09.9") {\n      name\n      namespace @since(version: "24.12.0")\n      humanized_name\n      tag\n      registry\n      architecture\n      is_local\n      digest\n      resource_limits {\n        key\n        min\n        max\n      }\n      labels {\n        key\n        value\n      }\n      size_bytes\n      supported_accelerators\n      ...ImageNodeSimpleTagFragment\n      id\n    }\n    desired_session_count @deprecatedSince(version: "24.12.0")\n    replicas @since(version: "24.12.0")\n    url\n    open_to_public\n    errors {\n      session_id\n      ...InferenceSessionErrorModalFragment\n    }\n    retries\n    runtime_variant @since(version: "24.03.5") {\n      human_readable_name\n    }\n    model\n    model_mount_destination @since(version: "24.03.4")\n    model_definition_path @since(version: "24.03.4")\n    extra_mounts @since(version: "24.03.4") {\n      row_id\n      name\n      id\n    }\n    environ\n    resource_group\n    resource_slots\n    resource_opts\n    routings {\n      routing_id\n      session\n      traffic_ratio\n      endpoint\n      status\n      error_data\n      id\n    }\n    created_user_email @since(version: "23.09.8")\n    ...EndpointOwnerInfoFragment\n    ...EndpointStatusTagFragment\n    ...ServiceLauncherPageContentFragment\n    id\n  }\n  endpoint_token_list(offset: $tokenListOffset, limit: $tokenListLimit, endpoint_id: $endpointId) {\n    total_count\n    items {\n      id\n      token\n      endpoint_id\n      domain\n      project\n      session_owner\n      created_at\n      valid_until\n    }\n  }\n  endpoint_auto_scaling_rules: endpoint_auto_scaling_rule_nodes(endpoint: $autoScalingRules_endpointId, filter: $autoScalingRules_filter, order: $autoScalingRules_order, offset: $autoScalingRules_offset, before: $autoScalingRules_before, after: $autoScalingRules_after, first: $autoScalingRules_first, last: $autoScalingRules_last) @skipOnClient(if: $skipScalingRules) {\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n    }\n    edges {\n      node {\n        id\n        endpoint\n        metric_name\n        metric_source\n        threshold\n        comparator\n        step_size\n        cooldown_seconds\n        min_replicas\n        max_replicas\n        created_at\n        last_triggered_at\n        ...AutoScalingRuleEditorModalFragment\n      }\n    }\n  }\n}\n\nfragment AutoScalingRuleEditorModalFragment on EndpointAutoScalingRuleNode {\n  id\n  endpoint\n  metric_name\n  metric_source\n  threshold\n  comparator\n  step_size\n  cooldown_seconds\n  min_replicas\n  max_replicas\n}\n\nfragment EndpointOwnerInfoFragment on Endpoint {\n  id\n  created_user_email @since(version: "23.09.8")\n  session_owner_email @since(version: "23.09.8")\n}\n\nfragment EndpointStatusTagFragment on Endpoint {\n  id\n  status\n}\n\nfragment ImageNodeSimpleTagFragment on ImageNode {\n  base_image_name @since(version: "24.12.0")\n  version @since(version: "24.12.0")\n  architecture\n  name\n  tags @since(version: "24.12.0") {\n    key\n    value\n  }\n  labels {\n    key\n    value\n  }\n  registry\n  namespace @since(version: "24.12.0")\n  tag\n}\n\nfragment InferenceSessionErrorModalFragment on InferenceSessionError {\n  session_id\n  errors {\n    repr\n  }\n}\n\nfragment ServiceLauncherPageContentFragment on Endpoint {\n  endpoint_id\n  project\n  desired_session_count @deprecatedSince(version: "24.12.0")\n  replicas @since(version: "24.12.0")\n  resource_group\n  resource_slots\n  resource_opts\n  cluster_mode\n  cluster_size\n  open_to_public\n  model\n  model_mount_destination @since(version: "24.03.4")\n  model_definition_path @since(version: "24.03.4")\n  environ\n  runtime_variant @since(version: "24.03.5") {\n    name\n    human_readable_name\n  }\n  extra_mounts @since(version: "24.03.4") {\n    row_id\n    name\n    id\n  }\n  image_object @since(version: "23.09.9") {\n    name @deprecatedSince(version: "24.12.0")\n    namespace @since(version: "24.12.0")\n    humanized_name\n    tag\n    registry\n    architecture\n    is_local\n    digest\n    resource_limits {\n      key\n      min\n      max\n    }\n    labels {\n      key\n      value\n    }\n    size_bytes\n    supported_accelerators\n    id\n  }\n  name\n}\n'}}}();r.hash="176cf441c4128236113bd2a147cd9d2c";const t=r;var o=l(56276),s=l(11863);const d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"props",variableName:"props"}],l={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalModifyMutation",selections:[{alias:null,args:n,concreteType:"ModifyEndpointAutoScalingRuleNode",kind:"LinkedField",name:"modify_endpoint_auto_scaling_rule_node",plural:!1,selections:[l,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AutoScalingRuleEditorModalModifyMutation",selections:[{alias:null,args:n,concreteType:"ModifyEndpointAutoScalingRuleNode",kind:"LinkedField",name:"modify_endpoint_auto_scaling_rule_node",plural:!1,selections:[l,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"254010dfb40e9042cd73b62325fc264d",id:null,metadata:{},name:"AutoScalingRuleEditorModalModifyMutation",operationKind:"mutation",text:"mutation AutoScalingRuleEditorModalModifyMutation(\n  $id: String!\n  $props: ModifyEndpointAutoScalingRuleInput!\n) {\n  modify_endpoint_auto_scaling_rule_node(id: $id, props: $props) {\n    ok\n    msg\n    rule {\n      metric_name\n      metric_source\n      threshold\n      comparator\n      step_size\n      cooldown_seconds\n      min_replicas\n      max_replicas\n      id\n    }\n  }\n}\n"}}}();d.hash="51be0409e782d9a60ce0b9a3d5e490f9";const u=d,c=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpoint"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{kind:"Variable",name:"endpoint",variableName:"endpoint"},{kind:"Variable",name:"props",variableName:"props"}],l={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalCreateMutation",selections:[{alias:null,args:n,concreteType:"CreateEndpointAutoScalingRuleNode",kind:"LinkedField",name:"create_endpoint_auto_scaling_rule_node",plural:!1,selections:[l,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AutoScalingRuleEditorModalCreateMutation",selections:[{alias:null,args:n,concreteType:"CreateEndpointAutoScalingRuleNode",kind:"LinkedField",name:"create_endpoint_auto_scaling_rule_node",plural:!1,selections:[l,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"615e9654d0bf5791383c99c8fb5ab1ee",id:null,metadata:{},name:"AutoScalingRuleEditorModalCreateMutation",operationKind:"mutation",text:"mutation AutoScalingRuleEditorModalCreateMutation(\n  $endpoint: String!\n  $props: EndpointAutoScalingRuleInput!\n) {\n  create_endpoint_auto_scaling_rule_node(endpoint: $endpoint, props: $props) {\n    ok\n    msg\n    rule {\n      metric_name\n      metric_source\n      threshold\n      comparator\n      step_size\n      cooldown_seconds\n      min_replicas\n      max_replicas\n      id\n    }\n  }\n}\n"}}}();c.hash="518c2a6f9b37a86854dfe0681e3d035b";const m=c,g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null}],type:"EndpointAutoScalingRuleNode",abstractKey:null,hash:"e3ce8046ec702e752e597d2cb348e85b"},p=g;var _=l(81693),y=l(81262),v=l(22722),S=l(26218),k=l(71489),f=l(55638),h=l(68904),x=l(68632),F=l(85895),A=l(88957),b=l(96337),j=l(47476),R=l.n(j),K=l(32397),E=l(94109),I=l(19869),L=l(33337);const T=["onRequestClose","endpoint_id","autoScalingRuleFrgmt"],w={LESS_THAN:"<",LESS_THAN_OR_EQUAL:"\u2264",GREATER_THAN:">",GREATER_THAN_OR_EQUAL:"\u2265"},O={KERNEL:["cpu_util","mem","net_rx","net_tx"],INFERENCE_FRAMEWORK:[]},N=e=>{let{onRequestClose:n,endpoint_id:l,autoScalingRuleFrgmt:a}=e,i=(0,s.A)(e,T);const{t:r}=(0,E.Bd)(),{message:t}=y.A.useApp(),{logger:d}=(0,b.Q7t)(),[c,g]=(0,K.useState)(O.KERNEL||[]),j=(0,I.useFragment)(p,a),N=(0,K.useRef)(null),[C,M]=(0,I.useMutation)(m),[V,P]=(0,I.useMutation)(u);return(0,L.jsx)(b.IbE,(0,o.A)((0,o.A)({},i),{},{destroyOnHidden:!0,onOk:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.validateFields().then((e=>{const a={metric_name:e.metric_name,metric_source:e.metric_source,threshold:e.threshold,comparator:e.comparator,step_size:e.step_size*("out"===e.type?1:-1),cooldown_seconds:e.cooldown_seconds,min_replicas:e.min_replicas,max_replicas:e.max_replicas};"out"===e.type?delete a.min_replicas:delete a.max_replicas,j?V({variables:{id:j.id,props:a},onCompleted:(e,l)=>{var a,i;if(null===e||void 0===e||null===(a=e.modify_endpoint_auto_scaling_rule_node)||void 0===a||!a.ok)return t.error(null===e||void 0===e||null===(i=e.modify_endpoint_auto_scaling_rule_node)||void 0===i?void 0:i.msg),void n(!1);if(l&&l.length>0){const e=R().map(l,(e=>e.message));for(const n of e)t.error(n);n(!1)}else t.success(r("autoScalingRule.SuccessfullyUpdated")),n(!0)},onError:e=>{t.error(e.message),n(!1)}}):C({variables:{endpoint:null!==l&&void 0!==l?l:"",props:a},onCompleted:(e,l)=>{var a,i;if(null===e||void 0===e||null===(a=e.create_endpoint_auto_scaling_rule_node)||void 0===a||!a.ok)return t.error(null===e||void 0===e||null===(i=e.create_endpoint_auto_scaling_rule_node)||void 0===i?void 0:i.msg),void n(!1);if(l&&l.length>0){const e=R().map(l,(e=>e.message));for(const n of e)t.error(n);n(!1)}else t.success(r("autoScalingRule.SuccessfullyCreated")),n(!0)},onError:e=>{t.error(e.message),n(!1)}})})).catch((e=>{d.error(e)}))},onCancel:()=>{n(!1)},centered:!0,title:r(j?"autoScalingRule.EditAutoScalingRule":"autoScalingRule.AddAutoScalingRule"),confirmLoading:M||P,children:(0,L.jsxs)(v.A,{ref:N,layout:"vertical",initialValues:j?(0,o.A)((0,o.A)({},j),{},{step_size:Math.abs(j.step_size),type:j.step_size>=0?"out":"in"}):{type:"out",metric_source:"KERNEL",comparator:"GREATER_THAN",step_size:1,cooldown_seconds:300,min_replicas:0,max_replicas:5},children:[(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.ScalingType"),name:"type",rules:[{required:!0}],children:(0,L.jsx)(S.Ay.Group,{options:[{label:(0,L.jsx)(b.OOm,{gap:"xs",children:r("autoScalingRule.ScaleOut")}),value:"out"},{label:(0,L.jsx)(b.OOm,{gap:"xs",children:r("autoScalingRule.ScaleIn")}),value:"in"}],onChange:e=>{var n,l;"in"===e.target.value?null===(n=N.current)||void 0===n||n.setFieldsValue({max_replicas:1}):null===(l=N.current)||void 0===l||l.setFieldsValue({min_replicas:1})}})}),(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.MetricSource"),name:"metric_source",rules:[{required:!0}],children:(0,L.jsx)(k.A,{onChange:e=>{g(O[e]||[])},options:[{label:"Inference Framework",value:"INFERENCE_FRAMEWORK"},{label:"Kernel",value:"KERNEL"}]})}),(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.Condition"),required:!0,tooltip:r("autoScalingRule.ConditionTooltip"),dependencies:["metric_source"],children:e=>{let{getFieldValue:n}=e;return(0,L.jsxs)(f.A.Compact,{style:{width:"100%"},children:[(0,L.jsx)(v.A.Item,{name:"metric_name",rules:[{required:!0}],style:{flex:1},noStyle:!0,children:(0,L.jsx)(h.A,{placeholder:r("autoScalingRule.MetricName"),options:R().map(c,(e=>({label:e,value:e}))),onSearch:e=>g(R().filter(O[n("metric_source")],(n=>n.includes(e)))),allowClear:!0,popupMatchSelectWidth:!1})}),(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.Comparator"),name:"comparator",rules:[{required:!0}],noStyle:!0,children:(0,L.jsx)(k.A,{style:{width:100},options:R().map(w,((e,n)=>({label:(0,L.jsxs)(b.OOm,{gap:"xs",children:[e,(0,L.jsxs)(x.A.Text,{type:"secondary",children:["(",n,")"]})]}),value:n,selectedLabel:e}))),optionLabelProp:"selectedLabel",popupMatchSelectWidth:!1})}),(0,L.jsx)(v.A.Item,{name:"threshold",rules:[{required:!0}],noStyle:!0,children:(0,L.jsx)(F.A,{suffix:"KERNEL"===n("metric_source")?"%":"",placeholder:r("autoScalingRule.Threshold")})})]})}}),(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.StepSize"),name:"step_size",rules:[{required:!0},{type:"number",min:1,max:_.tu},{validator:(e,n)=>n%1!==0?Promise.reject(new Error(r("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,L.jsx)(A.A,{min:1,step:1,style:{width:"100%"}})}),(0,L.jsx)(v.A.Item,{noStyle:!0,dependencies:["type"],children:e=>{let{getFieldValue:n}=e;return"out"===n("type")?(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.MaxReplicas"),name:"max_replicas",style:{width:"100%"},rules:[{required:!0},{min:0,max:_.tu,type:"number"},{validator:(e,n)=>n%1!==0?Promise.reject(new Error(r("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,L.jsx)(A.A,{min:0,max:_.tu,style:{width:"100%"}})}):(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.MinReplicas"),name:"min_replicas",style:{width:"100%"},rules:[{required:!0},{min:0,max:_.tu,type:"number"},{validator:(e,n)=>n%1!==0?Promise.reject(new Error(r("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,L.jsx)(A.A,{min:0,max:_.tu,style:{width:"100%"}})})}}),(0,L.jsx)(v.A.Item,{label:r("autoScalingRule.CoolDownSeconds"),name:"cooldown_seconds",rules:[{required:!0},{min:0,type:"number"},{validator:(e,n)=>n%1!==0?Promise.reject(new Error(r("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,L.jsx)(A.A,{style:{width:"100%"}})})]})}))};var C=l(15229),M=l(47495),V=l(60594);const P=["json","description"],z=e=>{let{json:n,description:l}=e,a=(0,s.A)(e,P);const{t:i}=(0,E.Bd)(),{isDarkMode:r}=(0,C.e)(),{formattedJson:t,hasError:d}=(0,K.useMemo)((()=>{if("string"===typeof n)try{return{formattedJson:JSON.stringify(JSON.parse(n),null,2),hasError:!1}}catch(e){return{formattedJson:n,hasError:!0}}return{formattedJson:JSON.stringify(n,null,2),hasError:!1}}),[n]);return(0,L.jsx)(b.IbE,(0,o.A)((0,o.A)({footer:null,width:800},a),{},{children:(0,L.jsxs)(b.OOm,{direction:"column",align:"stretch",gap:"sm",children:[d&&(0,L.jsx)(V.A,{type:"warning",title:i("general.InvalidJSONFormat"),showIcon:!0}),l,(0,L.jsx)(M.A,{value:t,language:"json",theme:r?"dark":"light",editable:!1})]})}))};var D=l(44768),$=l(90782),q=l(31152),Q=l(48648),B=l(18249),H=l(41458),G=l(95906),U=l(97455),J=l(2210),W=l.n(J);const Y=["onRequestClose","endpoint_id"],X=e=>{let{onRequestClose:n,endpoint_id:l}=e,a=(0,s.A)(e,Y);const{logger:i}=(0,b.Q7t)(),{t:r}=(0,E.Bd)(),t=(0,B.CX)(),d=(0,K.useRef)(null),u=(0,H.ET)({mutationFn:e=>{const n={valid_until:e.valid_until};return(0,Q.hu)({method:"POST",url:"/services/".concat(l,"/token"),body:n,client:t})}});return(0,L.jsx)(b.IbE,(0,o.A)((0,o.A)({},a),{},{destroyOnHidden:!0,onOk:()=>{var e;null===(e=d.current)||void 0===e||e.validateFields().then((e=>{let l;if("custom"===e.expiryOption)l=e.datetime.unix();else{const n=e.expiryOption;l=W()().add(n,"day").unix()}u.mutate({valid_until:l},{onSuccess:()=>{G.Ay.success(r("modelService.TokenGenerated")),n(!0)},onError:e=>{var n;null!==e&&void 0!==e&&null!==(n=e.message)&&void 0!==n&&n.includes("valid_until is older than now")?G.Ay.error(r("modelService.TokenExpiredDateError")):(G.Ay.error(r("modelService.TokenGenerationFailed")),i.error(e))}})}))},onCancel:()=>{n()},okText:r("modelService.Generate"),confirmLoading:u.isPending,centered:!0,title:r("modelService.GenerateNewToken"),width:400,children:(0,L.jsxs)(v.A,{ref:d,initialValues:{expiryOption:7,datetime:W()().add(7,"day")},validateTrigger:["onChange","onBlur"],layout:"vertical",style:{justifyItems:"center"},children:[(0,L.jsx)(v.A.Item,{name:"expiryOption",label:r("modelService.ExpiredDate"),rules:[{required:!0,message:r("modelService.PleaseSelectTime")}],children:(0,L.jsx)(k.A,{style:{width:200},options:[{value:7,label:r("general.Days",{num:7})},{value:30,label:r("general.Days",{num:30})},{value:90,label:r("general.Days",{num:90})},{value:"custom",label:r("modelService.Custom")}],onChange:e=>{var n;"custom"!==e&&(null===(n=d.current)||void 0===n||n.setFieldValue("datetime",W()().add(e,"day")))}})}),(0,L.jsx)(v.A.Item,{dependencies:["expiryOption"],noStyle:!0,children:e=>{let{getFieldValue:n}=e;return(0,L.jsx)(v.A.Item,{name:"datetime",hidden:"custom"!==n("expiryOption"),label:r("modelService.CustomExpirationDate"),rules:[{type:"object",required:!0,message:r("modelService.PleaseSelectTime")},()=>({validator:(e,n)=>n&&n.isAfter(W()())?Promise.resolve():Promise.reject(new Error(r("modelService.TokenExpiredDateError")))})],children:(0,L.jsx)(U.A,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:200}})})}})]})}))};var Z=l(87295),ee=l(18882);const ne={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InferenceSessionErrorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],type:"InferenceSessionError",abstractKey:null,hash:"3aff870b3138311d3e5415b7bbb32f53"},le=ne;var ae=l(89182),ie=l(21843),re=l(54086);const te=["onRequestClose","inferenceSessionErrorFrgmt"],oe=e=>{let{onRequestClose:n,inferenceSessionErrorFrgmt:l}=e,a=(0,s.A)(e,te);const{t:i}=(0,E.Bd)(),r=(0,I.useFragment)(le,l);return(0,L.jsx)(b.IbE,(0,o.A)((0,o.A)({centered:!0,title:i("modelService.ServingRouteErrorModalTitle"),onCancel:()=>{n()},footer:(0,L.jsx)(ie.Ay,{onClick:()=>{n()},children:i("button.Close")})},a),{},{children:(0,L.jsxs)(re.A,{bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},labelStyle:{minWidth:100},style:{marginTop:20},children:[(0,L.jsx)(re.A.Item,{label:i("modelService.SessionId"),children:(0,L.jsx)(ae.default,{children:null===r||void 0===r?void 0:r.session_id})}),(0,L.jsx)(re.A.Item,{label:i("dialog.error.Error"),children:null===r||void 0===r?void 0:r.errors[0].repr})]})}))};var se=l(76905),de=l(73799),ue=l(11276),ce=l(62459),me=l(96490),ge=l(45682),pe=l(80229),_e=l(36425),ye=l(91708);const ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var Se=l(16826);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},ke.apply(this,arguments)}const fe=(e,n)=>K.createElement(Se.A,ke({},e,{ref:n,icon:ve}));const he=K.forwardRef(fe);var xe=l(56796),Fe=l(99237),Ae=l(84639),be=l(90700),je=l(65200),Re=l(95394),Ke=l(77708),Ee=l(67936),Ie=l(7749),Le=l(94668),Te=l(2616),we=l(65419),Oe=l(40007),Ne=l(69594),Ce=l(10036),Me=l(49516),Ve=l(35637);const Pe=(0,Ve.A)("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),ze=(0,Ve.A)("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);var De=l(31356);const $e=(e,n)=>{const l=W()(e.created_at),a=W()(n.created_at);return l.diff(a)},qe=()=>{var e,n,l;const{t:a}=(0,E.Bd)(),{token:r}=Ie.A.useToken(),{message:o}=y.A.useApp(),{baiPaginationOption:s}=(0,me.w4)({current:1,pageSize:100}),{serviceId:d}=(0,De.g)(),[u,c]=(0,b.TwB)("initial-fetch"),[m,g]=(0,K.useTransition)(),[p,_]=(0,K.useTransition)(),[v,S]=(0,K.useState)(null),[k,f]=(0,K.useState)(null),[h,F]=(0,K.useState)(!1),[A,j]=(0,K.useState)(!1),[T]=(0,ce.U6)(),O=(0,ge.hd)(),C=(0,B.CX)(),M=null!==(e=null===C||void 0===C||null===(n=C._config)||void 0===n?void 0:n.blockList)&&void 0!==e?e:null,P=(0,B.f0)(),{open:G}=(0,Z.useFolderExplorerOpener)(),[U,J]=(0,K.useState)(),Y=C.supports("auto-scaling-rule"),[ne,le]=(0,K.useState)(),{endpoint:ae,endpoint_token_list:te,endpoint_auto_scaling_rules:ve}=(0,I.useLazyLoadQuery)(t,{tokenListOffset:s.offset,tokenListLimit:s.limit,endpointId:d||"",autoScalingRules_endpointId:d,autoScalingRules_filter:void 0,autoScalingRules_offset:void 0,autoScalingRules_before:void 0,autoScalingRules_after:void 0,autoScalingRules_first:void 0,autoScalingRules_last:void 0,skipScalingRules:!Y},{fetchPolicy:"initial-fetch"===u?"store-and-network":"network-only",fetchKey:u}),Se=!!ae&&ae.project!==O.id,ke=(0,H.ET)({mutationFn:()=>{if(ae)return(0,Q.hu)({method:"POST",url:"/services/".concat(ae.endpoint_id,"/errors/clear"),client:C})}}),fe=(0,H.ET)({mutationFn:e=>(0,Q.hu)({method:"POST",url:"/services/".concat(e,"/sync"),client:C})}),[Ve,qe]=(0,I.useMutation)(i),Qe=function(){let e="default";switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()){case"HEALTHY":e="success";break;case"PROVISIONING":e="processing";break;case"UNHEALTHY":e="warning"}return e},Be=R().map(null===ve||void 0===ve?void 0:ve.edges,(e=>null===e||void 0===e?void 0:e.node)),He=JSON.parse((null===ae||void 0===ae?void 0:ae.resource_opts)||"{}"),Ge=[{label:a("modelService.EndpointName"),children:(0,L.jsx)(x.A.Text,{copyable:!0,children:null===ae||void 0===ae?void 0:ae.name})},{label:a("modelService.Status"),children:(0,L.jsx)(q.A,{endpointFrgmt:ae})},{label:a("modelService.EndpointId"),children:null===ae||void 0===ae?void 0:ae.endpoint_id},{label:a("modelService.SessionOwner"),children:(0,L.jsx)($.A,{endpointFrgmt:ae})},{label:a("modelService.NumberOfReplicas"),children:null!==(l=null===ae||void 0===ae?void 0:ae.replicas)&&void 0!==l?l:null===ae||void 0===ae?void 0:ae.desired_session_count},{label:a("modelService.ServiceEndpoint"),children:null!==ae&&void 0!==ae&&ae.url?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(x.A.Text,{copyable:!0,children:null===ae||void 0===ae?void 0:ae.url}),R().includes(M,"chat")?null:(0,L.jsx)(Le.A,{title:"LLM Chat Test",children:(0,L.jsx)(ie.Ay,{type:"link",icon:(0,L.jsx)(Me.A,{}),onClick:()=>{var e;P({pathname:"/chat",search:new URLSearchParams({endpointId:null!==(e=null===ae||void 0===ae?void 0:ae.endpoint_id)&&void 0!==e?e:""}).toString()})},disabled:"HEALTHY"!==(null===ae||void 0===ae?void 0:ae.status)})})]}):(0,L.jsx)(x.A.Text,{type:"secondary",children:a("modelService.NoServiceEndpoint")})},{label:a("modelService.OpenToPublic"),children:null!==ae&&void 0!==ae&&ae.open_to_public?(0,L.jsx)(pe.A,{}):(0,L.jsx)(_e.A,{})},{label:a("modelService.Resources"),children:(0,L.jsxs)(b.OOm,{direction:"row",wrap:"wrap",gap:"md",children:[(0,L.jsx)(Le.A,{title:a("session.ResourceGroup"),children:(0,L.jsx)(Te.A,{children:null===ae||void 0===ae?void 0:ae.resource_group})}),R().map(JSON.parse((null===ae||void 0===ae?void 0:ae.resource_slots)||"{}"),((e,n)=>(0,L.jsx)(b.jOc,{type:n,value:e,opts:He},n)))]}),span:{xl:2}},{label:a("session.launcher.ModelStorage"),children:null!==ae&&void 0!==ae&&ae.model?(0,L.jsx)(K.Suspense,{fallback:(0,L.jsx)(we.A,{indicator:(0,L.jsx)(ye.A,{spin:!0})}),children:(0,L.jsxs)(b.OOm,{direction:"column",align:"start",children:[(0,L.jsx)(ue.A,{uuid:null===ae||void 0===ae?void 0:ae.model,clickable:!0}),(null===ae||void 0===ae?void 0:ae.model_mount_destination)&&(0,L.jsxs)(b.OOm,{direction:"row",align:"center",gap:"xxs",children:[(0,L.jsx)(he,{type:"secondary"}),(0,L.jsx)(x.A.Text,{type:"secondary",children:null===ae||void 0===ae?void 0:ae.model_mount_destination})]})]})}):null},{label:a("modelService.AdditionalMounts"),children:(0,L.jsx)(b.OOm,{direction:"column",align:"start",children:R().map(null===ae||void 0===ae?void 0:ae.extra_mounts,(e=>(0,L.jsx)(b.OOm,{direction:"row",gap:"xxs",children:(0,L.jsxs)(x.A.Link,{onClick:()=>{(null===e||void 0===e?void 0:e.row_id)&&G(null===e||void 0===e?void 0:e.row_id)},children:[(0,L.jsx)(xe.A,{})," ",null===e||void 0===e?void 0:e.name]})},null===e||void 0===e?void 0:e.row_id)))})},{label:a("session.launcher.EnvironmentVariable"),children:(0,L.jsx)(x.A.Text,{style:{fontFamily:"monospace"},children:R().isEmpty(JSON.parse((null===ae||void 0===ae?void 0:ae.environ)||"{}"))?"-":null===ae||void 0===ae?void 0:ae.environ}),span:{sm:1}},{label:a("modelService.Image"),children:null!==ae&&void 0!==ae&&ae.image_object?(0,L.jsx)(ee.A,{imageFrgmt:ae.image_object}):null,span:{xl:3}}];return(0,L.jsxs)(b.OOm,{direction:"column",align:"stretch",gap:"sm",children:[(0,L.jsxs)(b.OOm,{direction:"row",justify:"between",children:[(0,L.jsx)(x.A.Title,{level:3,style:{margin:0},children:(null===ae||void 0===ae?void 0:ae.name)||""}),(0,L.jsxs)(b.OOm,{gap:"xxs",children:[((null===ae||void 0===ae?void 0:ae.retries)||0)>0?(0,L.jsx)(Le.A,{title:a("modelService.ClearErrors"),children:(0,L.jsx)(ie.Ay,{loading:p,icon:(0,L.jsx)(Fe.A,{}),onClick:()=>{_((()=>{ke.mutate(void 0,{onSuccess:()=>g((()=>{c()}))})}))}})}):(0,L.jsx)(L.Fragment,{}),(0,L.jsx)(ie.Ay,{loading:m,icon:(0,L.jsx)(Ae.A,{}),disabled:(0,D.l)(ae),onClick:()=>{g((()=>{c()}))},children:a("button.Refresh")})]})]}),Se&&(null===ae||void 0===ae?void 0:ae.project)&&(0,L.jsx)(V.A,{title:a("modelService.NotInProject"),type:"warning",showIcon:!0,style:{marginBottom:r.marginSM},action:(0,L.jsx)(de.A,{projectId:ae.project})}),(0,L.jsx)(Oe.A,{title:a("modelService.ServiceInfo"),extra:(0,L.jsx)(ie.Ay,{type:"primary",icon:(0,L.jsx)(be.A,{}),disabled:(0,D.l)(ae)||Se||!(null===ae||void 0===ae||!ae.created_user_email)&&(null===ae||void 0===ae?void 0:ae.created_user_email)!==T.email,onClick:()=>{P("/service/update/"+d)},children:a("button.Edit")}),children:(0,L.jsx)(re.A,{bordered:!0,column:{xxl:3,xl:3,lg:2,md:1,sm:1,xs:1},style:{backgroundColor:r.colorBgBase},items:Ge})}),Y&&(0,L.jsx)(Oe.A,{title:a("modelService.AutoScalingRules"),extra:(0,L.jsx)(ie.Ay,{type:"primary",icon:(0,L.jsx)(je.A,{}),disabled:(0,D.l)(ae),onClick:()=>{j(!0)},children:a("modelService.AddRules")}),children:(0,L.jsx)(Ne.A,{scroll:{x:"max-content"},rowKey:"id",columns:[{title:a("autoScalingRule.ScalingType"),fixed:"left",render:(e,n)=>((null===n||void 0===n?void 0:n.step_size)||0)>0?"Up":"Down"},{title:a("autoScalingRule.MetricSource"),dataIndex:"metric_source"},{title:a("autoScalingRule.Condition"),dataIndex:"metric_name",fixed:"left",render:(e,n)=>(0,L.jsxs)(b.OOm,{gap:"xs",children:[(0,L.jsx)(Te.A,{children:null===n||void 0===n?void 0:n.metric_name}),null!==n&&void 0!==n&&n.comparator?(0,L.jsx)(Le.A,{title:n.comparator,children:w[n.comparator]}):"-",null===n||void 0===n?void 0:n.threshold,"KERNEL"===(null===n||void 0===n?void 0:n.metric_source)?"%":""]})},{title:a("modelService.Controls"),dataIndex:"controls",key:"controls",render:(e,n)=>(0,L.jsxs)(b.OOm,{direction:"row",align:"stretch",children:[(0,L.jsx)(ie.Ay,{type:"text",icon:(0,L.jsx)(be.A,{}),style:(0,D.l)(ae)||null!==ae&&void 0!==ae&&ae.created_user_email&&(null===ae||void 0===ae?void 0:ae.created_user_email)!==T.email?{color:r.colorTextDisabled}:{color:r.colorInfo},disabled:(0,D.l)(ae)||!(null===ae||void 0===ae||!ae.created_user_email)&&(null===ae||void 0===ae?void 0:ae.created_user_email)!==T.email,onClick:()=>{n&&(f(n),j(!0))}}),(0,L.jsx)(Ce.A,{title:a("dialog.warning.CannotBeUndone"),okText:a("button.Delete"),okButtonProps:{danger:!0},disabled:qe,onConfirm:()=>{Be&&Ve({variables:{id:null===n||void 0===n?void 0:n.id},onCompleted:(e,n)=>{var l,i;if(null!==e&&void 0!==e&&null!==(l=e.delete_endpoint_auto_scaling_rule_node)&&void 0!==l&&l.ok)if(n&&n.length>0){const e=R().map(n,(e=>e.message||a("dialog.ErrorOccurred")));for(const n of e)o.error(n)}else f(null),g((()=>{c()})),o.success({key:"autoscaling-rule-deleted",content:a("autoScalingRule.SuccessfullyDeleted")});else o.error(null===e||void 0===e||null===(i=e.delete_endpoint_auto_scaling_rule_node)||void 0===i?void 0:i.msg)},onError:e=>{o.error((null===e||void 0===e?void 0:e.message)||a("dialog.ErrorOccurred"))}})},children:(0,L.jsx)(ie.Ay,{type:"text",icon:(0,L.jsx)(Re.A,{style:(0,D.l)(ae)?void 0:{color:r.colorError}}),disabled:!1,onClick:()=>{n&&f(n)}})})]})},{title:a("autoScalingRule.StepSize"),dataIndex:"step_size",render:(e,n)=>null!==n&&void 0!==n&&n.step_size?(0,L.jsxs)(b.OOm,{gap:"xs",children:[(0,L.jsx)(x.A.Text,{children:(null===n||void 0===n?void 0:n.step_size)>0?(0,L.jsx)(Pe,{}):(0,L.jsx)(ze,{})}),(0,L.jsx)(x.A.Text,{children:Math.abs(null===n||void 0===n?void 0:n.step_size)})]}):"-"},{title:a("autoScalingRule.MIN/MAXReplicas"),render:(e,n)=>(0,L.jsx)("span",{children:null!==n&&void 0!==n&&n.step_size?(null===n||void 0===n?void 0:n.step_size)>0?"Max: ".concat(null===n||void 0===n?void 0:n.max_replicas):"Min: ".concat(null===n||void 0===n?void 0:n.min_replicas):"-"})},{title:a("autoScalingRule.CoolDownSeconds"),dataIndex:"cooldown_seconds"},{title:a("autoScalingRule.LastTriggered"),render:(e,n)=>(0,L.jsx)("span",{children:null!==n&&void 0!==n&&n.last_triggered_at?W().utc(null===n||void 0===n?void 0:n.last_triggered_at).tz().format("ll LTS"):"-"}),sorter:$e},{title:a("autoScalingRule.CreatedAt"),dataIndex:"created_at",render:(e,n)=>(0,L.jsx)("span",{children:W()(null===n||void 0===n?void 0:n.created_at).format("ll LT")}),sorter:$e}],pagination:!1,showSorterTooltip:!1,dataSource:Be,bordered:!0})}),(0,L.jsx)(Oe.A,{title:a("modelService.GeneratedTokens"),extra:(0,L.jsx)(ie.Ay,{type:"primary",icon:(0,L.jsx)(je.A,{}),disabled:(0,D.l)(ae),onClick:()=>{F(!0)},children:a("modelService.GenerateToken")}),children:(0,L.jsx)(Ne.A,{scroll:{x:"max-content"},rowKey:"token",columns:[{title:a("modelService.Token"),dataIndex:"token",fixed:"left",render:(e,n)=>(0,L.jsx)(b.mQ0,{ellipsis:{tooltip:!1},copyable:!0,style:{width:150},children:n.token})},{title:a("modelService.Status"),render:(e,n)=>{const l=W().utc(n.valid_until).isBefore();return(0,L.jsx)(Te.A,{color:l?"red":"green",children:l?"Expired":"Valid"})}},{title:a("modelService.ExpiredDate"),dataIndex:"valid_until",render:(e,n)=>(0,L.jsx)("span",{children:n.valid_until?W().utc(n.valid_until).tz().format("ll LTS"):"-"}),sorter:$e},{title:a("modelService.CreatedAt"),dataIndex:"created_at",render:(e,n)=>(0,L.jsx)("span",{children:W()(n.created_at).format("ll LT")}),sorter:$e}],showSorterTooltip:!1,pagination:!1,dataSource:(0,b.faj)(null===te||void 0===te?void 0:te.items),bordered:!0})}),(0,L.jsx)(Oe.A,{title:a("modelService.RoutesInfo"),extra:null!==ae&&void 0!==ae&&ae.endpoint_id?(0,L.jsx)(ie.Ay,{icon:(0,L.jsx)(Ke.A,{}),loading:fe.isPending,disabled:(0,D.l)(ae),onClick:()=>{(null===ae||void 0===ae?void 0:ae.endpoint_id)&&fe.mutateAsync(null===ae||void 0===ae?void 0:ae.endpoint_id,{onSuccess:e=>{null!==e&&void 0!==e&&e.success?(o.success(a("modelService.SyncRoutesRequested")),g((()=>{c()}))):o.error(a("modelService.SyncRoutesFailed"))},onError:()=>{o.error(a("modelService.SyncRoutesFailed"))}})},children:a("modelService.SyncRoutes")}):null,children:(0,L.jsx)(Ne.A,{scroll:{x:"max-content"},columns:[{title:a("modelService.RouteId"),dataIndex:"routing_id",fixed:"left",render:(e,n)=>(0,L.jsxs)(b.mQ0,{ellipsis:!0,children:[n.routing_id,!R().isEmpty(n.error_data)&&(0,L.jsx)(ie.Ay,{size:"small",type:"text",icon:(0,L.jsx)(Ee.A,{}),style:{color:r.colorError},onClick:()=>{le((null===n||void 0===n?void 0:n.error_data)||" ")}})]})},{title:a("modelService.SessionId"),dataIndex:"session",render:e=>{var n;const l=null===ae||void 0===ae||null===(n=ae.errors)||void 0===n?void 0:n.find((n=>n.session_id===e));return(0,L.jsxs)(L.Fragment,{children:[C.supports("session-node")?(0,L.jsx)(x.A.Link,{onClick:()=>{J(e)},children:e}):(0,L.jsx)(x.A.Text,{children:e}),l&&(0,L.jsx)(ie.Ay,{size:"small",type:"text",icon:(0,L.jsx)(Ee.A,{}),style:{color:r.colorError},onClick:()=>{S(l)}})]})}},{title:a("modelService.Status"),render:(e,n)=>n.status&&(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(Te.A,{color:Qe(null===n||void 0===n?void 0:n.status),style:{marginRight:0},children:n.status.toUpperCase()},null===n||void 0===n?void 0:n.status)})},{title:a("modelService.TrafficRatio"),dataIndex:"traffic_ratio"}],pagination:!1,dataSource:null===ae||void 0===ae?void 0:ae.routings,rowKey:"routing_id",bordered:!0})}),(0,L.jsx)(oe,{open:!!v,inferenceSessionErrorFrgmt:v,onRequestClose:()=>S(null)}),(0,L.jsx)(X,{open:h,onRequestClose:e=>{F(!h),e&&g((()=>{c()}))},endpoint_id:(null===ae||void 0===ae?void 0:ae.endpoint_id)||""}),Y&&(0,L.jsx)(b.XcZ,{children:(0,L.jsx)(N,{open:A,endpoint_id:null===ae||void 0===ae?void 0:ae.endpoint_id,autoScalingRuleFrgmt:k,onRequestClose:e=>{j(!A),f(null),e&&g((()=>{c()}))}})}),(0,L.jsx)(b.XcZ,{children:(0,L.jsx)(se.A,{open:!!U,sessionId:U,onClose:()=>{J(void 0)}})}),(0,L.jsx)(z,{open:!!ne,title:a("modelService.RouteError"),json:ne,onCancel:()=>{le(void 0)}})]})}},47495(e,n,l){l.d(n,{A:()=>c});var a=l(56276),i=l(11863),r=l(8378),t=l(15229),o=l(11758),s=l(42491),d=l(33337);const u=["value","onChange","language","editable","showLineNumbers","lineWrapping"],c=e=>{let{value:n,onChange:l,language:c="sh",editable:m=!1,showLineNumbers:g=!0,lineWrapping:p=!1}=e,_=(0,i.A)(e,u);const{isDarkMode:y}=(0,t.e)(),[v,S]=(0,r.A)({defaultValue:"",value:n,onChange:l}),k=[(0,o.rI)(c)];return(0,d.jsx)(s.Ay,(0,a.A)({theme:y?"dark":"light",extensions:p?[s.Lz.lineWrapping,...k]:k,editable:m,readOnly:!m,basicSetup:{lineNumbers:g},value:v,onChange:e=>S(e)},_))}},73799(e,n,l){l.d(n,{A:()=>_});var a=l(56276),i=l(11863);const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"projectId"}],n=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"projectId"}],concreteType:"GroupNode",kind:"LinkedField",name:"group_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SwitchToProjectButtonQuery",selections:n,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SwitchToProjectButtonQuery",selections:n},params:{cacheID:"d9b043a52eacadb018a0097fe3c1f3c2",id:null,metadata:{},name:"SwitchToProjectButtonQuery",operationKind:"query",text:'query SwitchToProjectButtonQuery(\n  $projectId: String!\n) {\n  group_node(id: $projectId) @since(version: "24.03.0") {\n    id\n    name\n  }\n}\n'}}}();r.hash="4618e2aed2bc3c75a1d0a91f0b01c28c";const t=r;var o=l(45682),s=l(96337),d=l(32397),u=l(94109),c=l(19869),m=l(33337);const g=["projectId"],p=e=>{let{projectId:n}=e,l=(0,i.A)(e,g);const{t:r}=(0,u.Bd)(),p=(0,o.iT)(),[_,y]=(0,d.useTransition)(),{group_node:v}=(0,c.useLazyLoadQuery)(t,{projectId:(0,s.wcZ)("GroupNode",n)});return(0,m.jsx)(s.Fvl,(0,a.A)((0,a.A)({type:"link",size:"small",loading:_,onClick:()=>{const e=(0,s.omW)((null===v||void 0===v?void 0:v.id)||""),n=null===v||void 0===v?void 0:v.name;e&&n&&y((()=>{p({projectId:e,projectName:n})}))}},l),{},{children:r("modelService.SwitchToProject",{projectName:null===v||void 0===v?void 0:v.name})}))},_=e=>(0,m.jsx)(d.Suspense,{fallback:(0,m.jsx)(s.Fvl,{type:"link",size:"small",loading:!0}),children:(0,m.jsx)(p,(0,a.A)({},e))})},77708(e,n,l){l.d(n,{A:()=>s});var a=l(32397);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var r=l(16826);function t(){return t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},t.apply(this,arguments)}const o=(e,n)=>a.createElement(r.A,t({},e,{ref:n,icon:i}));const s=a.forwardRef(o)},99237(e,n,l){l.d(n,{A:()=>s});var a=l(32397);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};var r=l(16826);function t(){return t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},t.apply(this,arguments)}const o=(e,n)=>a.createElement(r.A,t({},e,{ref:n,icon:i}));const s=a.forwardRef(o)}}]);
//# sourceMappingURL=3946.f785b769.chunk.js.map