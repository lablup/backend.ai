"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[3688],{14601:(e,n,a)=>{a.r(n),a.d(n,{default:()=>s});const l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"project_id"},n={defaultValue:null,kind:"LocalArgument",name:"sessionId"},a=[{kind:"Variable",name:"id",variableName:"sessionId"},{kind:"Variable",name:"project_id",variableName:"project_id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null};return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContainerLogModalFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"7b98b0ea1543062a5dec07d96bbad320",id:null,metadata:{},name:"ContainerLogModalWithLazyQueryLoaderQuery",operationKind:"query",text:"query ContainerLogModalWithLazyQueryLoaderQuery(\n  $sessionId: GlobalIDField!\n  $project_id: UUID!\n) {\n  compute_session_node(id: $sessionId, project_id: $project_id) {\n    ...ContainerLogModalFragment\n    id\n  }\n}\n\nfragment ContainerLogModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        id\n        row_id\n        container_id\n        cluster_idx\n        cluster_role\n      }\n    }\n  }\n}\n"}}}();l.hash="6c9b5934d5fea075e571c13b1c070bd1";const s=l},73688:(e,n,a)=>{a.r(n),a.d(n,{default:()=>m});var l,s=a(23441),o=a(81530),i=a(61823),r=a(22018),d=a(60598);const t=e=>{let{sessionId:n,open:s,loading:t,onRequestClose:u}=e;const c=(0,o.hd)(),{compute_session_node:g}=(0,r.useLazyLoadQuery)(void 0!==l?l:l=a(14601),{sessionId:n,project_id:c.id},{fetchPolicy:n?"network-only":"store-only"});return(0,d.jsx)(i.A,{sessionFrgmt:g||null,open:s,loading:t,onCancel:()=>{u&&u()}})};var u=a(13176),c=a(53350),g=a(32043);const m=()=>{const[e,n]=(0,g.useQueryParam)("sessionDetail",g.StringParam),[a,l]=(0,c.useState)(),[o,i]=(0,c.useTransition)(),r=(0,s.CX)();(0,c.useEffect)((()=>{const e=e=>{i((()=>{l(e.detail)}))};return document.addEventListener("bai-open-session-log",e),()=>{document.removeEventListener("bai-open-session-log",e)}}),[i,l]);const m=null===r||void 0===r?void 0:r.supports("session-node");return(0,d.jsxs)(d.Fragment,{children:[m?(0,d.jsx)(u.A,{open:!e,sessionId:e||void 0,onClose:()=>{n(null,"replaceIn")}}):null,(0,d.jsx)(t,{open:!!a||o,loading:o,sessionId:a,onRequestClose:()=>{l(void 0)}})]})}}}]);
//# sourceMappingURL=3688.4584bc99.chunk.js.map