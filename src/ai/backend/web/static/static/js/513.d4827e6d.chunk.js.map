{"version":3,"file":"static/js/513.d4827e6d.chunk.js","mappings":"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","sources":["components/DoubleTag.tsx","components/DescriptionLabel.tsx","components/Information.tsx","../node_modules/antd/es/col/index.js","../node_modules/antd/es/row/index.js"],"sourcesContent":["import Flex from './Flex';\nimport { Tag } from 'antd';\nimport _ from 'lodash';\nimport React from 'react';\n\nexport type DoubleTagObjectValue = {\n  label: ValueType;\n  color?: string;\n};\n\ntype ValueType = string | React.ReactNode;\nconst DoubleTag: React.FC<{\n  values?: ValueType[] | DoubleTagObjectValue[];\n}> = ({ values = [] }) => {\n  if (values.length === 0) return null;\n  let objectValues: DoubleTagObjectValue[];\n  if (\n    values[0] &&\n    (typeof values[0] === 'string' || React.isValidElement(values[0]))\n  ) {\n    objectValues = values.map(\n      (value) =>\n        ({\n          label: value,\n          color: 'blue',\n        }) as DoubleTagObjectValue,\n    );\n  } else {\n    objectValues = values as DoubleTagObjectValue[];\n  }\n\n  return (\n    <Flex direction=\"row\">\n      {_.map(objectValues, (objValue, idx) => {\n        return (\n          <Tag\n            key={idx}\n            style={\n              _.last(objectValues) === objValue\n                ? undefined\n                : { margin: 0, marginRight: -1 }\n            }\n            color={objValue.color}\n          >\n            {objValue.label}\n          </Tag>\n        );\n      })}\n    </Flex>\n  );\n};\n\nexport default DoubleTag;\n","import Flex from './Flex';\nimport { Typography } from 'antd';\nimport React, { ReactNode } from 'react';\n\nconst DescriptionLabel: React.FC<{\n  title: string;\n  subtitle?: ReactNode | string | null;\n}> = ({ title, subtitle }) => {\n  // const { token } = theme.useToken();\n  return (\n    <Flex direction=\"column\" align=\"start\">\n      <Typography.Text strong>{title}</Typography.Text>\n      {subtitle && (\n        <Typography.Text type=\"secondary\">{subtitle}</Typography.Text>\n      )}\n    </Flex>\n  );\n};\n\nexport default DescriptionLabel;\n","import { newLineToBrElement } from '../helper';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport DescriptionLabel from './DescriptionLabel';\nimport DoubleTag from './DoubleTag';\nimport Flex from './Flex';\nimport { CheckOutlined, WarningOutlined } from '@ant-design/icons';\nimport {\n  Descriptions,\n  Tag,\n  Card,\n  theme,\n  DescriptionsProps,\n  Spin,\n  Row,\n  Col,\n} from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { useQuery } from 'react-query';\n\ninterface InformationProps {}\nconst Information: React.FC<InformationProps> = () => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n\n  const baiClient = useSuspendedBackendaiClient();\n\n  let { data: licenseInfo, isLoading: isLoadingLicenseInfo } = useQuery<{\n    valid: boolean;\n    type: string;\n    licensee: string;\n    key: string;\n    expiration: string;\n  }>(\n    'licenseInfo',\n    () => {\n      return baiClient.enterprise.getLicense();\n    },\n    {\n      // for to render even this fail query failed\n      suspense: false,\n    },\n  );\n\n  if (!licenseInfo) {\n    licenseInfo = {\n      valid: false,\n      type: t('information.CannotRead'),\n      licensee: t('information.CannotRead'),\n      key: t('information.CannotRead'),\n      expiration: t('information.CannotRead'),\n    };\n  }\n\n  const columnSetting: DescriptionsProps['column'] = {\n    xxl: 4,\n    xl: 4,\n    lg: 2,\n    md: 1,\n    sm: 1,\n    xs: 1,\n  };\n\n  return (\n    <Flex direction=\"column\" align=\"stretch\" style={{ gap: token.margin }}>\n      <Row gutter={[token.margin, token.margin]}>\n        <Col xs={24} xxl={12}>\n          <Card\n            style={{\n              height: '100%',\n            }}\n          >\n            <Descriptions\n              title={t('information.Core')}\n              bordered\n              column={columnSetting}\n            >\n              <Descriptions.Item\n                label={\n                  <DescriptionLabel title={t('information.ManagerVersion')} />\n                }\n              >\n                <Flex\n                  direction=\"column\"\n                  style={{ gap: token.marginXXS }}\n                  align=\"start\"\n                >\n                  Backend.AI {baiClient.managerVersion}\n                  <DoubleTag\n                    values={[\n                      t('information.Installation'),\n                      baiClient.managerVersion,\n                    ]}\n                  />\n                  {/* TODO: get manager_version_latest  */}\n                  {/* <DoubleTag\n                label={t(\"information.LatestRelease\")}\n                value={\"manager_version_latest\"}\n              /> */}\n                </Flex>\n              </Descriptions.Item>\n              <Descriptions.Item\n                label={<DescriptionLabel title={t('information.APIVersion')} />}\n              >\n                {baiClient.apiVersion}\n              </Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </Col>\n        <Col xs={24} xxl={12}>\n          <Card>\n            <Descriptions\n              title={t('information.Security')}\n              bordered\n              column={columnSetting}\n            >\n              <Descriptions.Item\n                label={\n                  <DescriptionLabel\n                    title={t('information.DefaultAdministratorAccountChanged')}\n                    subtitle={t(\n                      'information.DescDefaultAdministratorAccountChanged',\n                    )}\n                  />\n                }\n              >\n                {/* TODO: accountChanged  */}\n                {true ? (\n                  <CheckOutlined title=\"Yes\" />\n                ) : (\n                  <WarningOutlined\n                    style={{ color: token.colorWarning }}\n                    title=\"No\"\n                  />\n                )}\n              </Descriptions.Item>\n              <Descriptions.Item\n                label={\n                  <DescriptionLabel\n                    title={t('information.UsesSSL')}\n                    subtitle={t('information.DescUsesSSL')}\n                  />\n                }\n              >\n                {baiClient?._config.endpoint.startsWith('https:') ? (\n                  <CheckOutlined title=\"Yes\" />\n                ) : (\n                  <WarningOutlined\n                    style={{ color: token.colorWarning }}\n                    title=\"No\"\n                  />\n                )}\n              </Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </Col>\n      </Row>\n\n      <Card>\n        <Descriptions\n          title={t('information.Component')}\n          bordered\n          column={{ xxl: 4, xl: 2, lg: 2, md: 1, sm: 1, xs: 1 }}\n        >\n          <Descriptions.Item\n            label={\n              <DescriptionLabel\n                title={t('information.DockerVersion')}\n                subtitle={t('information.DescDockerVersion')}\n              />\n            }\n          >\n            <Tag>{t('information.Compatible')}</Tag>\n          </Descriptions.Item>\n          <Descriptions.Item\n            label={\n              <DescriptionLabel\n                title={t('information.PostgreSQLVersion')}\n                subtitle={t('information.DescPostgreSQLVersion')}\n              />\n            }\n          >\n            <Tag>{t('information.Compatible')}</Tag>\n          </Descriptions.Item>\n          <Descriptions.Item\n            label={\n              <DescriptionLabel\n                title={t('information.ETCDVersion')}\n                subtitle={t('information.DescETCDVersion')}\n              />\n            }\n          >\n            <Tag>{t('information.Compatible')}</Tag>\n          </Descriptions.Item>\n          <Descriptions.Item\n            label={\n              <DescriptionLabel\n                title={t('information.RedisVersion')}\n                subtitle={newLineToBrElement(t('information.DescRedisVersion'))}\n              />\n            }\n          >\n            <Tag>{t('information.Compatible')}</Tag>\n          </Descriptions.Item>\n        </Descriptions>\n      </Card>\n      <Card>\n        <Spin spinning={isLoadingLicenseInfo}>\n          <Descriptions\n            title={t('information.License')}\n            bordered\n            column={{\n              xxl: 2,\n              xl: 2,\n              lg: 2,\n              md: 1,\n              sm: 1,\n              xs: 1,\n            }}\n          >\n            <Descriptions.Item\n              label={\n                <DescriptionLabel\n                  title={t('information.IsLicenseValid')}\n                  subtitle={t('information.DescIsLicenseValid')}\n                />\n              }\n            >\n              {licenseInfo.valid ? (\n                <CheckOutlined />\n              ) : (\n                <WarningOutlined style={{ color: token.colorWarning }} />\n              )}\n            </Descriptions.Item>\n            <Descriptions.Item\n              label={\n                <DescriptionLabel\n                  title={t('information.LicenseType')}\n                  subtitle={newLineToBrElement(\n                    t('information.DescLicenseType'),\n                  )}\n                />\n              }\n            >\n              <Tag>\n                {licenseInfo.type === 'fixed'\n                  ? t('information.FixedLicense')\n                  : t('information.DynamicLicense')}\n              </Tag>\n            </Descriptions.Item>\n            <Descriptions.Item\n              label={\n                <DescriptionLabel\n                  title={t('information.Licensee')}\n                  subtitle={t('information.DescLicensee')}\n                />\n              }\n            >\n              <Tag>{licenseInfo.licensee}</Tag>\n            </Descriptions.Item>\n            <Descriptions.Item\n              label={\n                <DescriptionLabel\n                  title={t('information.LicenseKey')}\n                  subtitle={t('information.DescLicenseKey')}\n                />\n              }\n            >\n              <Tag>{licenseInfo.key}</Tag>\n            </Descriptions.Item>\n            <Descriptions.Item\n              label={\n                <DescriptionLabel\n                  title={t('information.Expiration')}\n                  subtitle={t('information.DescExpiration')}\n                />\n              }\n            >\n              <Tag>{licenseInfo.expiration}</Tag>\n            </Descriptions.Item>\n          </Descriptions>\n        </Spin>\n      </Card>\n    </Flex>\n  );\n};\n\nexport default Information;\n","\"use client\";\n\nimport { Col } from '../grid';\nexport default Col;","\"use client\";\n\nimport { Row } from '../grid';\nexport default Row;"],"names":["_ref","objectValues","values","length","React","map","value","label","color","_jsx","Flex","direction","children","_","objValue","idx","Tag","style","undefined","margin","marginRight","title","subtitle","_jsxs","align","Typography","Text","strong","type","Information","t","useTranslation","token","theme","useToken","baiClient","useSuspendedBackendaiClient","data","licenseInfo","isLoading","isLoadingLicenseInfo","useQuery","enterprise","getLicense","suspense","valid","licensee","key","expiration","columnSetting","xxl","xl","lg","md","sm","xs","gap","Row","gutter","Col","Card","height","Descriptions","bordered","column","Item","DescriptionLabel","marginXXS","managerVersion","DoubleTag","apiVersion","CheckOutlined","_config","endpoint","startsWith","WarningOutlined","colorWarning","newLineToBrElement","Spin","spinning"],"sourceRoot":""}