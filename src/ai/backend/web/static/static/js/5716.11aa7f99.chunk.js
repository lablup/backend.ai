"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[5716],{8467:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FolderExplorerHeaderFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{args:null,kind:"FragmentSpread",name:"VFolderNameTitleNodeFragment"}],type:"VirtualFolderNode",abstractKey:null,hash:"c06cb69b94eff82edbf4132158807449"},r=n},62611:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"vfolderUUID"}],l=[{kind:"Variable",name:"id",variableName:"vfolderUUID"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LegacyFolderExplorerQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,r,s,{args:null,kind:"FragmentSpread",name:"FolderExplorerHeaderFragment"},{args:null,kind:"FragmentSpread",name:"VFolderNodeDescriptionFragment"},{args:null,kind:"FragmentSpread",name:"VFolderNameTitleNodeFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LegacyFolderExplorerQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,r,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},i,i],storageKey:null}]},params:{cacheID:"a736e463eb251f726beeaa26053b6c9f",id:null,metadata:{},name:"LegacyFolderExplorerQuery",operationKind:"query",text:'query LegacyFolderExplorerQuery(\n  $vfolderUUID: String!\n) {\n  vfolder_node(id: $vfolderUUID) @since(version: "24.03.4") {\n    id\n    user\n    permission\n    unmanaged_path @since(version: "25.04.0")\n    ...FolderExplorerHeaderFragment\n    ...VFolderNodeDescriptionFragment\n    ...VFolderNameTitleNodeFragment\n  }\n}\n\nfragment FolderExplorerHeaderFragment on VirtualFolderNode {\n  id\n  user\n  permission\n  unmanaged_path @since(version: "25.04.0")\n  ...VFolderNameTitleNodeFragment\n}\n\nfragment VFolderNameTitleNodeFragment on VirtualFolderNode {\n  name\n}\n\nfragment VFolderNodeDescriptionFragment on VirtualFolderNode {\n  id\n  host\n  quota_scope_id\n  user\n  user_email\n  group\n  group_name\n  creator\n  usage_mode\n  permission\n  ownership_type\n  max_files\n  max_size\n  created_at\n  last_used\n  num_files\n  cur_size\n  cloneable\n  status\n  permissions @since(version: "24.09.0")\n  unmanaged_path @since(version: "25.04.0")\n  ...VFolderPermissionCellFragment\n  ...useVirtualFolderNodePathFragment\n}\n\nfragment VFolderPermissionCellFragment on VirtualFolderNode {\n  permissions\n}\n\nfragment useVirtualFolderNodePathFragment on VirtualFolderNode {\n  id\n  host\n  quota_scope_id\n  user\n  user_email\n  group\n  group_name\n  creator\n  usage_mode\n  permission\n  ownership_type\n  max_files\n  max_size\n  created_at\n  last_used\n  num_files\n  cur_size\n  cloneable\n  status\n  permissions @since(version: "24.09.0")\n}\n'}}}();n.hash="8405058408285957d69d4dbd308fe54e";const r=n},31584:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VFolderNameTitleNodeFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"0601031289a33a9a13a254362a2ee1ab"},r=n},56089:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VFolderNodeDescriptionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{args:null,kind:"FragmentSpread",name:"VFolderPermissionCellFragment"},{args:null,kind:"FragmentSpread",name:"useVirtualFolderNodePathFragment"}],type:"VirtualFolderNode",abstractKey:null,hash:"f4ca4470ea635f85c8c346eed0a5fe8c"},r=n},31983:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],l=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VFolderNodeDescriptionPermissionRefreshQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VFolderNodeDescriptionPermissionRefreshQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"3aee063a4b508648c2365ba6c7f0f44a",id:null,metadata:{},name:"VFolderNodeDescriptionPermissionRefreshQuery",operationKind:"query",text:"query VFolderNodeDescriptionPermissionRefreshQuery(\n  $id: String!\n) {\n  vfolder_node(id: $id) {\n    permission\n    permissions\n    id\n  }\n}\n"}}}();n.hash="36063c8300310d9ef6c369b49127a2a2";const r=n},20880:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVirtualFolderNodePathFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"439221036e87c57ca3ec1ce737e0cdf7"},r=n},25716:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ae});var n=a(75045),r=a(32967),s=a(58452),i=a(90840),o=a(46841),t=a(90030),d=a(8265),u=a(19985),c=a(87447),m=a(20730),g=a(8296),p=a(20140),y=a(72046),F=a(1426),f=a(55244),k=a(42906);const h=e=>{let{isSelected:l,isWritable:a,folderExplorerRef:n,size:r="default"}=e;const{token:s}=c.A.useToken(),{t:i}=(0,f.Bd)();return(0,k.jsxs)(m.A,{justify:"end",gap:s.marginSM,style:{right:0},children:[(0,k.jsx)(g.A,{title:"small"===r&&i("button.Delete"),children:(0,k.jsx)(p.Ay,{danger:!0,disabled:!l||!a,icon:(0,k.jsx)(o.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e._openDeleteMultipleFileDialog()},children:"small"!==r&&i("button.Delete")})}),(0,k.jsx)(g.A,{title:"small"===r&&i("button.Create"),children:(0,k.jsx)(p.Ay,{disabled:!a,icon:(0,k.jsx)(t.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.openMkdirDialog()},children:"small"!==r&&i("button.Create")})}),(0,k.jsx)(y.A,{disabled:!a,menu:{items:[{key:"upload files",label:i("data.explorer.UploadFiles"),icon:(0,k.jsx)(t.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.handleUpload("file")}},{key:"upload folder",label:i("data.explorer.UploadFolder"),icon:(0,k.jsx)(d.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.handleUpload("folder")}}]},children:(0,k.jsx)(g.A,{title:"small"===r&&i("button.Upload"),children:(0,k.jsx)(p.Ay,{disabled:!a,icon:(0,k.jsx)(u.A,{}),children:"small"!==r&&i("button.Upload")})})})]})};var x,v=a(40262),S=a(18347);const _=e=>{let{vfolderNodeFrgmt:l,...n}=e;const{token:r}=c.A.useToken(),s=(0,S.useFragment)(void 0!==x?x:x=a(31584),l);return(0,k.jsx)(g.A,{title:null===s||void 0===s?void 0:s.name,...n,children:(0,k.jsx)(v.A.Title,{level:3,style:{marginTop:r.marginSM},ellipsis:!0,children:null===s||void 0===s?void 0:s.name})})};var j,K=a(48648),b=a(68325),A=a(22486);const N=e=>{let{vfolderNodeFrgmt:l,folderExplorerRef:n}=e;const{t:r}=(0,f.Bd)(),{token:s}=c.A.useToken(),{lg:o}=K.Ay.useBreakpoint(),t=(0,S.useFragment)(void 0!==j?j:j=a(8467),l);return(0,k.jsxs)(i.A,{justify:"between",gap:s.marginMD,style:{width:"100%"},children:[(0,k.jsx)(i.A,{gap:s.marginMD,style:{flex:1},children:(0,k.jsx)(F.Suspense,{fallback:(0,k.jsx)(b.A.Input,{active:!0}),children:(0,k.jsx)(_,{vfolderNodeFrgmt:t})})}),(0,k.jsx)(i.A,{justify:"end",gap:s.marginSM,style:{flex:o?2:1},children:null!==t&&void 0!==t&&t.unmanaged_path?null:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g.A,{title:!o&&r("data.explorer.ExecuteFileBrowser"),children:(0,k.jsx)(p.Ay,{icon:(0,k.jsx)(A.A,{width:"18px",src:"/resources/icons/filebrowser.svg",alt:"File Browser",preview:!1}),onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e._executeFileBrowser()},children:o&&r("data.explorer.ExecuteFileBrowser")})}),(0,k.jsx)(g.A,{title:!o&&r("data.explorer.RunSSH/SFTPserver"),children:(0,k.jsx)(p.Ay,{icon:(0,k.jsx)(A.A,{width:"18px",src:"/resources/icons/sftp.png",alt:"SSH / SFTP",preview:!1}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e._executeSSHProxyAgent()},children:o&&r("data.explorer.RunSSH/SFTPserver")})})]})})]})};var V,w=a(88653),T=a(88616),z=a(9160),D=a(47639),P=a(27484),E=a.n(P);const C=e=>{const l=(0,S.useFragment)(void 0!==V?V:V=a(20880),e),[r,s]=E().split(null===l||void 0===l?void 0:l.quota_scope_id,":"),i=(0,n.om)(null===l||void 0===l?void 0:l.id),o=i.slice(0,2),t=i.slice(2,4),d=[i.slice(4)];return{quotaScopeType:r,quotaScopeIdWithoutType:s,vfolderId:i,vfolderIdPrefix1:o,vfolderIdPrefix2:t,vfolderIdRest:d,vfolderPath:`${s}/${o}/${t}/${d}`}};var I=a(86683),R=a(82929),U=a(20561),q=a(73665);const L=e=>{let{type:l,style:a,monospace:n,children:r,...s}=e;return n?(0,k.jsx)(v.A.Text,{type:l,...s,style:{fontFamily:"monospace",...a},children:r}):(0,k.jsx)(v.A.Text,{type:l,style:a,...s,children:r})},M=e=>{let{vfolderNodeFrgmt:l}=e;const{quotaScopeType:a,quotaScopeIdWithoutType:n,vfolderId:r,vfolderIdPrefix1:s,vfolderIdPrefix2:o,vfolderIdRest:t}=C(l),{token:d}=c.A.useToken();return(0,k.jsxs)(i.A,{direction:"row",align:"start",justify:"start",wrap:"wrap",gap:3,children:[(0,k.jsx)(L,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"(root)"}),(0,k.jsx)(L,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,k.jsxs)(i.A,{direction:"column",align:"start",justify:"start",children:[(0,k.jsx)(L,{monospace:!0,copyable:{text:n},style:{fontSize:"0.9em"},children:E().truncate(n,{length:15})}),(0,k.jsxs)(L,{type:"secondary",style:{fontSize:d.fontSizeSM},children:["Quota Scope ID (",E().upperFirst(a),")"]})]}),(0,k.jsx)(L,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,k.jsxs)(i.A,{direction:"column",align:"start",justify:"start",children:[(0,k.jsxs)(i.A,{gap:3,children:[(0,k.jsx)(L,{monospace:!0,style:{fontSize:"0.9em"},children:s}),(0,k.jsx)(L,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,k.jsx)(L,{monospace:!0,style:{fontSize:"0.9em"},children:o}),(0,k.jsx)(L,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,k.jsx)(L,{monospace:!0,copyable:{text:r},style:{fontSize:"0.9em"},children:E().truncate(t.join(""),{length:7})})]}),(0,k.jsx)(L,{type:"secondary",style:{fontSize:d.fontSizeSM},children:"VFolder ID"})]})]})};var Q,B,H=a(82759),$=a(47348),W=a(52212),O=a(95429),X=a(89762),G=a.n(X);const Y=e=>{var l;let{vfolderNodeFrgmt:s,onRequestRefresh:o,...t}=e;const{t:d}=(0,f.Bd)(),{token:u}=c.A.useToken(),{message:m}=W.A.useApp(),g=(0,S.useRelayEnvironment)(),p=(0,z.hd)(),y=(0,D.b)(),F=(0,r.CX)(),[h]=(0,w.U6)(),x=(0,T.ET)({mutationFn:e=>{let{permission:l,id:a}=e;return F.vfolder.update_folder({permission:l},a)}}),_=(0,S.useFragment)(void 0!==Q?Q:Q=a(56089),s),{vfolderPath:j}=C(_);if(!_)return null;const K=(0,n.om)(null===_||void 0===_?void 0:_.id),b=(0,n.LY)([!(null!==_&&void 0!==_&&_.unmanaged_path)&&{key:"path",label:(0,k.jsx)(v.A.Text,{copyable:{text:j},style:{color:u.colorTextLabel},children:d("data.folders.Path")}),children:(0,k.jsx)(M,{vfolderNodeFrgmt:_})},{key:"status",label:d("data.folders.Status"),children:(0,k.jsx)(U.A,{color:_.status?q.C[_.status]:void 0,children:E().toUpper(_.status||"")})},{key:"host",label:d("data.Host"),children:_.host},{key:"ownership_type",label:d("data.folders.Ownership"),children:"user"===(null===_||void 0===_?void 0:_.ownership_type)?(0,k.jsxs)(i.A,{gap:"xs",children:[(0,k.jsx)(v.A.Text,{children:d("data.User")}),(0,k.jsx)(H.A,{style:{color:u.colorTextTertiary}})]}):(0,k.jsxs)(i.A,{gap:"xs",children:[(0,k.jsx)(v.A.Text,{children:d("data.Project")}),(0,k.jsx)(I.A,{style:{color:u.colorTextTertiary}})]})},((null===_||void 0===_?void 0:_.user)===h.uuid||F.is_admin&&(null===_||void 0===_?void 0:_.group)===(null===p||void 0===p?void 0:p.id))&&{key:"permission",label:d("data.folders.MountPermission"),children:(0,k.jsx)(R.A,{defaultValue:"wd"===_.permission?"rw":_.permission,options:[{value:"ro",label:d("data.ReadOnly")},{value:"rw",label:d("data.ReadWrite")}],onChange:e=>{x.mutate({permission:e,id:K},{onSuccess:()=>{m.success(d("data.permission.PermissionModified")),document.dispatchEvent(new CustomEvent("backend-ai-folder-updated")),(0,S.fetchQuery)(g,void 0!==B?B:B=a(31983),{id:_.id}).toPromise(),null===o||void 0===o||o()},onError:e=>{m.error(y.relieve(null===e||void 0===e?void 0:e.message))}})},popupMatchSelectWidth:!1})},{key:"owner",label:d("data.folders.Owner"),children:(null===_||void 0===_?void 0:_.user)===(null===h||void 0===h?void 0:h.uuid)||F.is_admin&&(null===_||void 0===_?void 0:_.group)===(null===p||void 0===p?void 0:p.id)?(0,k.jsx)(i.A,{justify:"start",children:(0,k.jsx)($.A,{})}):null},null!==_.user_email&&{key:"user_email",label:d("data.User"),children:(0,k.jsx)(v.A.Text,{copyable:!0,children:_.user_email})},null!==_.group_name&&{key:"group_name",label:d("data.Project"),children:_.group_name},{key:"cloneable",label:d("data.folders.Cloneable"),children:_.cloneable?(0,k.jsx)(i.A,{justify:"start",children:(0,k.jsx)($.A,{})}):null},{key:"max_size",label:d("data.folders.MaxSize"),children:_.max_size?null===(l=(0,n.Gh)(_.max_size,"g",2))||void 0===l?void 0:l.displayValue:"\u221e"},{key:"usage",label:d("data.UsageMode"),children:_.usage_mode},{key:"created_at",label:d("data.folders.CreatedAt"),children:G()(_.created_at).format("lll")}]);return(0,k.jsx)(O.A,{bordered:!0,column:1,size:"small",items:b,styles:{content:{wordBreak:"break-word",overflowWrap:"break-word"}},...t})};var J,Z=a(77123),ee=a(35124);const le=(0,a(92818).rU)((e=>{let{token:l,css:a}=e;return{baiModalHeader:a`
    .ant-modal-title {
      width: 100%;
      margin-right: ${l.marginXXL}px;
    }
  `}})),ae=e=>{let{vfolderID:l,onRequestClose:o,...t}=e;const{token:d}=c.A.useToken(),{styles:u}=le(),{xl:m}=K.Ay.useBreakpoint(),{t:g}=(0,f.Bd)(),[p,y]=(0,F.useState)(!1),[x,v]=(0,F.useState)(!1),_=(0,F.useRef)(null);(0,r.CX)(),(0,F.useEffect)((()=>{const e=e=>{y(e.detail||!1)},l=e=>{v(e.detail||!1)};return document.addEventListener("folderExplorer:connected",e),document.addEventListener("folderExplorer:columnSelected",l),()=>{document.removeEventListener("folderExplorer:connected",e),document.removeEventListener("folderExplorer:columnSelected",l)}}),[]);const{vfolder_node:j}=(0,S.useLazyLoadQuery)(void 0!==J?J:J=a(62611),{vfolderUUID:(0,n.wc)("VirtualFolderNode",l)},{fetchPolicy:t.open?"network-only":"store-only"}),b=(0,k.jsx)(i.A,{direction:"column",align:"stretch",children:null!==j&&void 0!==j&&j.unmanaged_path?(0,k.jsx)(Z.A,{message:g("explorer.NoExplorerSupportForUnmanagedFolder"),showIcon:!0}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h,{isSelected:x,isWritable:p,folderExplorerRef:_,size:m?"default":"small"}),(0,k.jsx)("backend-ai-folder-explorer",{ref:_,active:!0,vfolderID:l})]})}),A=(0,k.jsx)(Y,{vfolderNodeFrgmt:j,onRequestRefresh:()=>{var e;null===(e=_.current)||void 0===e||e._fetchVFolder()}});return(0,k.jsx)(s.A,{className:u.baiModalHeader,centered:!0,width:"90%",destroyOnClose:!0,footer:null,title:(0,k.jsx)(N,{vfolderNodeFrgmt:j,folderExplorerRef:_}),onCancel:()=>{o()},...t,children:m?(0,k.jsxs)(ee.A,{style:{gap:d.size,alignSelf:"stretch"},children:[(0,k.jsx)(ee.A.Panel,{resizable:!1,children:b}),(0,k.jsx)(ee.A.Panel,{defaultSize:500,min:300,max:"40%",children:A})]}):(0,k.jsxs)(i.A,{direction:"column",align:"stretch",gap:"md",children:[b,A]})})}}}]);
//# sourceMappingURL=5716.11aa7f99.chunk.js.map