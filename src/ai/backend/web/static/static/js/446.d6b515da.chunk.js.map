{"version":3,"file":"static/js/446.d6b515da.chunk.js","mappings":"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","sources":["hooks/useHiddenColumnKeysSetting.tsx","__generated__/KeypairResourcePolicyListMutation.graphql.ts","__generated__/KeypairResourcePolicyListQuery.graphql.ts","__generated__/KeypairResourcePolicyInfoModalFragment.graphql.ts","components/KeypairResourcePolicyInfoModal.tsx","__generated__/KeypairResourcePolicySettingModalModifyMutation.graphql.ts","__generated__/KeypairResourcePolicySettingModalCreateMutation.graphql.ts","__generated__/KeypairResourcePolicySettingModalFragment.graphql.ts","components/FormItemWithUnlimited.tsx","components/KeypairResourcePolicySettingModal.tsx","../../node_modules/.pnpm/lucide-react@0.552.0_react@19.2.1/node_modules/lucide-react/src/icons/ellipsis.ts","components/KeypairResourcePolicyList.tsx","__generated__/ProjectResourcePolicyListMutation.graphql.ts","__generated__/ProjectResourcePolicyListQuery.graphql.ts","__generated__/ProjectResourcePolicySettingModalModifyMutation.graphql.ts","__generated__/ProjectResourcePolicySettingModalCreateMutation.graphql.ts","__generated__/ProjectResourcePolicySettingModalFragment.graphql.ts","components/ProjectResourcePolicySettingModal.tsx","components/ProjectResourcePolicyList.tsx","__generated__/UserResourcePolicyListMutation.graphql.ts","__generated__/UserResourcePolicyListQuery.graphql.ts","__generated__/UserResourcePolicySettingModalModifyMutation.graphql.ts","__generated__/UserResourcePolicySettingModalCreateMutation.graphql.ts","__generated__/UserResourcePolicySettingModalFragment.graphql.ts","components/UserResourcePolicySettingModal.tsx","components/UserResourcePolicyList.tsx","pages/ResourcePolicyPage.tsx","components/TableColumnsSettingModal.tsx"],"sourcesContent":["import { useBAISettingUserState } from './useBAISetting';\n\ntype KnownSettingName =\n  | 'AgentList'\n  | 'AgentSummaryList'\n  | 'ContainerRegistryList'\n  | 'CustomizedImageList'\n  | 'ErrorLogList'\n  | 'ImageList'\n  | 'KeypairResourcePolicyList'\n  | 'ProjectResourcePolicyList'\n  | 'UserResourcePolicyList'\n  | 'EndpointListPage';\n\nexport const useHiddenColumnKeysSetting = (listName: KnownSettingName) => {\n  const [hiddenColumnKeys, setHiddenColumnKeys] = useBAISettingUserState(\n    `hiddenColumnKeys.${listName}`,\n  );\n\n  return [hiddenColumnKeys, setHiddenColumnKeys] as const;\n};\n","/**\n * @generated SignedSource<<493329c639195ca83cc4270e7a392324>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type KeypairResourcePolicyListMutation$variables = {\n  name: string;\n};\nexport type KeypairResourcePolicyListMutation$data = {\n  readonly delete_keypair_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type KeypairResourcePolicyListMutation = {\n  response: KeypairResourcePolicyListMutation$data;\n  variables: KeypairResourcePolicyListMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      }\n    ],\n    \"concreteType\": \"DeleteKeyPairResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"delete_keypair_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"KeypairResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"KeypairResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"fe182323e364c317f26c7193239af22b\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"KeypairResourcePolicyListMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation KeypairResourcePolicyListMutation(\\n  $name: String!\\n) {\\n  delete_keypair_resource_policy(name: $name) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"5771729a12a204d27a9cdf5ad31e707f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<00b5f49d48305034d64cb2df5ddd7689>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type KeypairResourcePolicyListQuery$variables = Record<PropertyKey, never>;\nexport type KeypairResourcePolicyListQuery$data = {\n  readonly keypair_resource_policies: ReadonlyArray<{\n    readonly allowed_vfolder_hosts: string | null | undefined;\n    readonly idle_timeout: any | null | undefined;\n    readonly max_concurrent_sessions: number | null | undefined;\n    readonly max_concurrent_sftp_sessions: number | null | undefined;\n    readonly max_containers_per_session: number | null | undefined;\n    readonly max_pending_session_count: number | null | undefined;\n    readonly max_session_lifetime: number | null | undefined;\n    readonly name: string | null | undefined;\n    readonly total_resource_slots: string | null | undefined;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\" | \"KeypairResourcePolicyInfoModalFragment\" | \"KeypairResourcePolicySettingModalFragment\">;\n  } | null | undefined> | null | undefined;\n};\nexport type KeypairResourcePolicyListQuery = {\n  response: KeypairResourcePolicyListQuery$data;\n  variables: KeypairResourcePolicyListQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"total_resource_slots\",\n  \"storageKey\": null\n},\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_session_lifetime\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_concurrent_sessions\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_containers_per_session\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"idle_timeout\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"allowed_vfolder_hosts\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_pending_session_count\",\n  \"storageKey\": null\n},\nv8 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_concurrent_sftp_sessions\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"KeypairResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KeyPairResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypair_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          (v8/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"KeypairResourcePolicySettingModalFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"KeypairResourcePolicyInfoModalFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Operation\",\n    \"name\": \"KeypairResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KeyPairResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypair_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          (v8/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"default_for_unspecified\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"created_at\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max_pending_session_resource_slots\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"f3f71df356260fd014ca2d56a9651a93\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"KeypairResourcePolicyListQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query KeypairResourcePolicyListQuery {\\n  keypair_resource_policies {\\n    name\\n    total_resource_slots\\n    max_session_lifetime\\n    max_concurrent_sessions\\n    max_containers_per_session\\n    idle_timeout\\n    allowed_vfolder_hosts\\n    max_pending_session_count @since(version: \\\"24.03.4\\\")\\n    max_concurrent_sftp_sessions @since(version: \\\"24.03.4\\\")\\n    ...KeypairResourcePolicySettingModalFragment\\n    ...KeypairResourcePolicyInfoModalFragment\\n    ...BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\\n  }\\n}\\n\\nfragment BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment on KeyPairResourcePolicy {\\n  allowed_vfolder_hosts\\n}\\n\\nfragment KeypairResourcePolicyInfoModalFragment on KeyPairResourcePolicy {\\n  name\\n  created_at\\n  default_for_unspecified\\n  total_resource_slots\\n  max_session_lifetime\\n  max_concurrent_sessions\\n  max_containers_per_session\\n  idle_timeout\\n  allowed_vfolder_hosts\\n  max_pending_session_count @since(version: \\\"24.03.4\\\")\\n  max_concurrent_sftp_sessions @since(version: \\\"24.03.4\\\")\\n  max_pending_session_resource_slots @since(version: \\\"24.03.4\\\")\\n  ...BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\\n}\\n\\nfragment KeypairResourcePolicySettingModalFragment on KeyPairResourcePolicy {\\n  name\\n  default_for_unspecified\\n  total_resource_slots\\n  max_session_lifetime\\n  max_concurrent_sessions\\n  max_containers_per_session\\n  idle_timeout\\n  allowed_vfolder_hosts\\n  max_pending_session_count @since(version: \\\"24.03.4\\\")\\n  max_concurrent_sftp_sessions @since(version: \\\"24.03.4\\\")\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"d74582c3e52a0e9e508fc25b9debe2c8\";\n\nexport default node;\n","/**\n * @generated SignedSource<<f8a751b07dc63b9e7cdc78afb729a689>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type KeypairResourcePolicyInfoModalFragment$data = {\n  readonly allowed_vfolder_hosts: string | null | undefined;\n  readonly created_at: string | null | undefined;\n  readonly default_for_unspecified: string | null | undefined;\n  readonly idle_timeout: any | null | undefined;\n  readonly max_concurrent_sessions: number | null | undefined;\n  readonly max_concurrent_sftp_sessions: number | null | undefined;\n  readonly max_containers_per_session: number | null | undefined;\n  readonly max_pending_session_count: number | null | undefined;\n  readonly max_pending_session_resource_slots: string | null | undefined;\n  readonly max_session_lifetime: number | null | undefined;\n  readonly name: string | null | undefined;\n  readonly total_resource_slots: string | null | undefined;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\">;\n  readonly \" $fragmentType\": \"KeypairResourcePolicyInfoModalFragment\";\n};\nexport type KeypairResourcePolicyInfoModalFragment$key = {\n  readonly \" $data\"?: KeypairResourcePolicyInfoModalFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"KeypairResourcePolicyInfoModalFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"KeypairResourcePolicyInfoModalFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"default_for_unspecified\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"total_resource_slots\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_session_lifetime\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_concurrent_sessions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_containers_per_session\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"idle_timeout\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"allowed_vfolder_hosts\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_pending_session_count\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_concurrent_sftp_sessions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_pending_session_resource_slots\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\"\n    }\n  ],\n  \"type\": \"KeyPairResourcePolicy\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"dd7c66455cb533aefc46d7f6ab093bf2\";\n\nexport default node;\n","import { KeypairResourcePolicyInfoModalFragment$key } from '../__generated__/KeypairResourcePolicyInfoModalFragment.graphql';\nimport { Descriptions, theme, Typography } from 'antd';\nimport { createStyles } from 'antd-style';\nimport { DescriptionsItemType } from 'antd/es/descriptions';\nimport {\n  filterOutEmpty,\n  BAIFlex,\n  BAIModalProps,\n  BAIModal,\n  BAIAllowedVfolderHostsWithPermission,\n  BAIResourceNumberWithIcon,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { useFragment, graphql } from 'react-relay';\n\nconst useStyles = createStyles(({ css }) => ({\n  description: css`\n    .ant-descriptions-row {\n      border: none !important;\n    }\n    .ant-descriptions-view > table {\n      width: fit-content !important;\n    }\n  `,\n}));\n\ninterface InfoModalProps extends BAIModalProps {\n  open: boolean;\n  onRequestClose: () => void;\n  resourcePolicyFrgmt: KeypairResourcePolicyInfoModalFragment$key | null;\n}\n\nconst KeypairResourcePolicyInfoModal: React.FC<InfoModalProps> = ({\n  open,\n  onRequestClose,\n  resourcePolicyFrgmt,\n  ...modalProps\n}) => {\n  const { styles } = useStyles();\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n\n  const resourcePolicy = useFragment(\n    graphql`\n      fragment KeypairResourcePolicyInfoModalFragment on KeyPairResourcePolicy {\n        name\n        created_at\n        default_for_unspecified\n        total_resource_slots\n        max_session_lifetime\n        max_concurrent_sessions\n        max_containers_per_session\n        idle_timeout\n        allowed_vfolder_hosts\n        max_pending_session_count @since(version: \"24.03.4\")\n        max_concurrent_sftp_sessions @since(version: \"24.03.4\")\n        max_pending_session_resource_slots @since(version: \"24.03.4\")\n        ...BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\n      }\n    `,\n    resourcePolicyFrgmt,\n  );\n\n  const descriptionItems: DescriptionsItemType[] = filterOutEmpty([\n    {\n      label: t('resourcePolicy.Name'),\n      children: (\n        <Typography.Text copyable>{resourcePolicy?.name}</Typography.Text>\n      ),\n    },\n    {\n      label: t('resourcePolicy.DefaultForUnspecified'),\n      children: resourcePolicy?.default_for_unspecified || '',\n    },\n    {\n      label: t('resourcePolicy.CreatedAt'),\n      children: dayjs(resourcePolicy?.created_at).format('lll') || '',\n    },\n    {\n      label: t('resourcePolicy.ResourcePolicy'),\n      children: resourcePolicy?.total_resource_slots ? (\n        !_.isEmpty(JSON.parse(resourcePolicy?.total_resource_slots)) ? (\n          <Descriptions className={styles.description} size=\"small\" column={2}>\n            <Descriptions.Item>\n              <BAIFlex\n                direction=\"column\"\n                align=\"start\"\n                style={{ width: '100%' }}\n              >\n                {_.map(\n                  JSON.parse(resourcePolicy?.total_resource_slots),\n                  (v, type) => (\n                    <BAIResourceNumberWithIcon\n                      key={type}\n                      type={type}\n                      value={_.toString(v)}\n                    />\n                  ),\n                )}\n              </BAIFlex>\n            </Descriptions.Item>\n          </Descriptions>\n        ) : (\n          '-'\n        )\n      ) : (\n        '-'\n      ),\n    },\n    {\n      label: t('resourcePolicy.StorageNodes'),\n      children:\n        resourcePolicy &&\n        !_.isEmpty(\n          JSON.parse(resourcePolicy?.allowed_vfolder_hosts || '{}'),\n        ) ? (\n          <BAIAllowedVfolderHostsWithPermission\n            allowedHostPermissionFrgmtFromKeyPair={resourcePolicy}\n          />\n        ) : (\n          '-'\n        ),\n    },\n    {\n      label: t('resourcePolicy.Concurrency'),\n      children: resourcePolicy?.max_concurrent_sessions || '',\n    },\n    {\n      label: t('resourcePolicy.ClusterSize'),\n      children: resourcePolicy?.max_containers_per_session,\n    },\n    {\n      label: t('resourcePolicy.IdleTimeout'),\n      children: resourcePolicy?.idle_timeout || '',\n    },\n    {\n      label: t('session.MaxSessionLifetime'),\n      children: resourcePolicy?.max_session_lifetime || '',\n    },\n    {\n      label: t('resourcePolicy.MaxPendingSessionCount'),\n      children:\n        _.isNull(resourcePolicy?.max_pending_session_count) ||\n        _.isUndefined(resourcePolicy?.max_pending_session_count)\n          ? ''\n          : resourcePolicy?.max_pending_session_count,\n    },\n    {\n      label: t('resourcePolicy.MaxConcurrentSFTPSessions'),\n      children: resourcePolicy?.max_concurrent_sftp_sessions || '',\n    },\n    {\n      label: t('resourcePolicy.MaxPendingSessionResourceSlots'),\n      children: resourcePolicy?.max_pending_session_resource_slots ? (\n        !_.isEmpty(\n          JSON.parse(resourcePolicy?.max_pending_session_resource_slots),\n        ) ? (\n          <Descriptions className={styles.description} size=\"small\" column={2}>\n            <Descriptions.Item>\n              <BAIFlex direction=\"column\" align=\"start\">\n                {_.map(\n                  JSON.parse(\n                    resourcePolicy?.max_pending_session_resource_slots,\n                  ),\n                  (v, type) => (\n                    <BAIResourceNumberWithIcon\n                      key={type}\n                      type={type}\n                      value={_.toString(v)}\n                    />\n                  ),\n                )}\n              </BAIFlex>\n            </Descriptions.Item>\n          </Descriptions>\n        ) : (\n          '-'\n        )\n      ) : (\n        '-'\n      ),\n    },\n  ]);\n\n  return (\n    <BAIModal\n      open={open}\n      onCancel={() => onRequestClose()}\n      footer={null}\n      title={`${t('resourcePolicy.ResourcePolicy')}: '${resourcePolicy?.name}'`}\n      centered\n      width={token.screenSM}\n      {...modalProps}\n    >\n      <Descriptions bordered column={1} items={descriptionItems} />\n    </BAIModal>\n  );\n};\n\nexport default KeypairResourcePolicyInfoModal;\n","/**\n * @generated SignedSource<<d208d86b2b5d7cd24bc901336bcfa2a9>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type ModifyKeyPairResourcePolicyInput = {\n  allowed_vfolder_hosts?: string | null | undefined;\n  default_for_unspecified?: string | null | undefined;\n  idle_timeout?: any | null | undefined;\n  max_concurrent_sessions?: number | null | undefined;\n  max_concurrent_sftp_sessions?: number | null | undefined;\n  max_containers_per_session?: number | null | undefined;\n  max_pending_session_count?: number | null | undefined;\n  max_pending_session_resource_slots?: string | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_session_lifetime?: number | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n  max_vfolder_size?: any | null | undefined;\n  total_resource_slots?: string | null | undefined;\n};\nexport type KeypairResourcePolicySettingModalModifyMutation$variables = {\n  name: string;\n  props: ModifyKeyPairResourcePolicyInput;\n};\nexport type KeypairResourcePolicySettingModalModifyMutation$data = {\n  readonly modify_keypair_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type KeypairResourcePolicySettingModalModifyMutation = {\n  response: KeypairResourcePolicySettingModalModifyMutation$data;\n  variables: KeypairResourcePolicySettingModalModifyMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"ModifyKeyPairResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_keypair_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"KeypairResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"KeypairResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"72be648e07857dd6923d7c81f3f19948\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"KeypairResourcePolicySettingModalModifyMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation KeypairResourcePolicySettingModalModifyMutation(\\n  $name: String!\\n  $props: ModifyKeyPairResourcePolicyInput!\\n) {\\n  modify_keypair_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"8c99c8be8781f93fed817a67c86ea966\";\n\nexport default node;\n","/**\n * @generated SignedSource<<9b5be12bcd0e9f6cb6fcf9a98f5cfa53>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type CreateKeyPairResourcePolicyInput = {\n  allowed_vfolder_hosts?: string | null | undefined;\n  default_for_unspecified: string;\n  idle_timeout: any;\n  max_concurrent_sessions: number;\n  max_concurrent_sftp_sessions?: number | null | undefined;\n  max_containers_per_session: number;\n  max_pending_session_count?: number | null | undefined;\n  max_pending_session_resource_slots?: string | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_session_lifetime?: number | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n  max_vfolder_size?: any | null | undefined;\n  total_resource_slots?: string | null | undefined;\n};\nexport type KeypairResourcePolicySettingModalCreateMutation$variables = {\n  name: string;\n  props: CreateKeyPairResourcePolicyInput;\n};\nexport type KeypairResourcePolicySettingModalCreateMutation$data = {\n  readonly create_keypair_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type KeypairResourcePolicySettingModalCreateMutation = {\n  response: KeypairResourcePolicySettingModalCreateMutation$data;\n  variables: KeypairResourcePolicySettingModalCreateMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"CreateKeyPairResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"create_keypair_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"KeypairResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"KeypairResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"b52e3e869ccfabb393fb45a48074767e\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"KeypairResourcePolicySettingModalCreateMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation KeypairResourcePolicySettingModalCreateMutation(\\n  $name: String!\\n  $props: CreateKeyPairResourcePolicyInput!\\n) {\\n  create_keypair_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"7c4c5be505f02fa76e7b4db73a1f4b14\";\n\nexport default node;\n","/**\n * @generated SignedSource<<dce1256a41b3c7bd05233e06101ddd20>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type KeypairResourcePolicySettingModalFragment$data = {\n  readonly allowed_vfolder_hosts: string | null | undefined;\n  readonly default_for_unspecified: string | null | undefined;\n  readonly idle_timeout: any | null | undefined;\n  readonly max_concurrent_sessions: number | null | undefined;\n  readonly max_concurrent_sftp_sessions: number | null | undefined;\n  readonly max_containers_per_session: number | null | undefined;\n  readonly max_pending_session_count: number | null | undefined;\n  readonly max_session_lifetime: number | null | undefined;\n  readonly name: string | null | undefined;\n  readonly total_resource_slots: string | null | undefined;\n  readonly \" $fragmentType\": \"KeypairResourcePolicySettingModalFragment\";\n};\nexport type KeypairResourcePolicySettingModalFragment$key = {\n  readonly \" $data\"?: KeypairResourcePolicySettingModalFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"KeypairResourcePolicySettingModalFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"KeypairResourcePolicySettingModalFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"default_for_unspecified\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"total_resource_slots\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_session_lifetime\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_concurrent_sessions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_containers_per_session\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"idle_timeout\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"allowed_vfolder_hosts\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_pending_session_count\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_concurrent_sftp_sessions\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"KeyPairResourcePolicy\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"7200f02275c0bbd9c1a2b4c8c215dae5\";\n\nexport default node;\n","import { Form, Checkbox, FormItemProps } from 'antd';\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\nimport { BAIFlex } from 'backend.ai-ui';\nimport React, {\n  Attributes,\n  cloneElement,\n  isValidElement,\n  useEffect,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface FormItemWithUnlimitedProps extends FormItemProps {\n  unlimitedValue?: number | string | null;\n  disableUnlimited?: boolean;\n}\n\nconst FormItemWithUnlimited: React.FC<FormItemWithUnlimitedProps> = ({\n  name,\n  unlimitedValue,\n  disableUnlimited,\n  children,\n  ...formItemPropsWithoutNameAndChildren\n}) => {\n  const { t } = useTranslation();\n  const [isUnlimited, setIsUnlimited] = useState<boolean>(false);\n  const form = Form.useFormInstance();\n\n  // Detect changes in form value to update the isUnlimited state.\n  useEffect(() => {\n    const fieldValue = form.getFieldValue(name);\n    // eslint-disable-next-line react-hooks/set-state-in-effect\n    setIsUnlimited(fieldValue === unlimitedValue);\n  }, [form, name, unlimitedValue]);\n\n  // Disable children when isUnlimited is true.\n  const childrenWithProps = isValidElement(children)\n    ? cloneElement(children, {\n        disabled: isUnlimited,\n      } as Attributes & { disabled?: boolean })\n    : children;\n\n  const childrenWithUndefinedValue =\n    isUnlimited && isValidElement(children)\n      ? cloneElement(children, {\n          value: undefined,\n          disabled: isUnlimited,\n        } as Attributes & { value?: any })\n      : undefined;\n\n  return (\n    <BAIFlex direction=\"column\" align=\"start\">\n      <Form.Item\n        style={{ margin: 0 }}\n        name={name}\n        hidden={isUnlimited}\n        {...formItemPropsWithoutNameAndChildren}\n      >\n        {childrenWithProps}\n      </Form.Item>\n      {isUnlimited ? (\n        <Form.Item\n          style={{ margin: 0 }}\n          {...formItemPropsWithoutNameAndChildren}\n        >\n          {childrenWithUndefinedValue}\n        </Form.Item>\n      ) : null}\n      <Checkbox\n        checked={isUnlimited}\n        disabled={disableUnlimited}\n        onChange={(e: CheckboxChangeEvent) => {\n          const checked = e.target.checked;\n          setIsUnlimited(checked);\n          if (checked) {\n            form.setFieldValue(name, unlimitedValue);\n          } else {\n            form.resetFields([name]);\n          }\n        }}\n      >\n        {t('resourcePolicy.Unlimited')}\n      </Checkbox>\n    </BAIFlex>\n  );\n};\n\nexport default FormItemWithUnlimited;\n","import {\n  CreateKeyPairResourcePolicyInput,\n  KeypairResourcePolicySettingModalCreateMutation,\n} from '../__generated__/KeypairResourcePolicySettingModalCreateMutation.graphql';\nimport { KeypairResourcePolicySettingModalFragment$key } from '../__generated__/KeypairResourcePolicySettingModalFragment.graphql';\nimport {\n  KeypairResourcePolicySettingModalModifyMutation,\n  ModifyKeyPairResourcePolicyInput,\n} from '../__generated__/KeypairResourcePolicySettingModalModifyMutation.graphql';\nimport { convertToBinaryUnit } from '../helper';\nimport { MAX_CPU_QUOTA, SIGNED_32BIT_MAX_INT } from '../helper/const-vars';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport { useResourceSlots } from '../hooks/backendai';\nimport FormItemWithUnlimited from './FormItemWithUnlimited';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport {\n  App,\n  Card,\n  Col,\n  Form,\n  FormInstance,\n  Input,\n  InputNumber,\n  Row,\n  Select,\n  theme,\n  Tooltip,\n  Typography,\n} from 'antd';\nimport {\n  BAIDynamicUnitInputNumber,\n  BAIAllowedHostNamesSelect,\n  BAIFlex,\n  BAIModal,\n  BAIModalProps,\n  useResourceSlotsDetails,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  graphql,\n  useFragment,\n  // useLazyLoadQuery,\n  useMutation,\n} from 'react-relay';\n\ninterface KeypairResourcePolicySettingModalProps extends BAIModalProps {\n  existingPolicyNames?: string[];\n  keypairResourcePolicyFrgmt?: KeypairResourcePolicySettingModalFragment$key | null;\n  onRequestClose: (success?: boolean) => void;\n}\n\nconst KeypairResourcePolicySettingModal: React.FC<\n  KeypairResourcePolicySettingModalProps\n> = ({\n  existingPolicyNames,\n  keypairResourcePolicyFrgmt = null,\n  onRequestClose,\n  ...props\n}) => {\n  const { t } = useTranslation();\n  const { message } = App.useApp();\n  const { token } = theme.useToken();\n  const formRef = useRef<FormInstance>(null);\n  const [resourceSlots] = useResourceSlots();\n  const { mergedResourceSlots } = useResourceSlotsDetails();\n  const baiClient = useSuspendedBackendaiClient();\n\n  const keypairResourcePolicy = useFragment(\n    graphql`\n      fragment KeypairResourcePolicySettingModalFragment on KeyPairResourcePolicy {\n        name\n        default_for_unspecified\n        total_resource_slots\n        max_session_lifetime\n        max_concurrent_sessions\n        max_containers_per_session\n        idle_timeout\n        allowed_vfolder_hosts\n        max_pending_session_count @since(version: \"24.03.4\")\n        max_concurrent_sftp_sessions @since(version: \"24.03.4\")\n      }\n    `,\n    keypairResourcePolicyFrgmt,\n  );\n\n  // const { vfolder_host_permissions } =\n  //   useLazyLoadQuery<KeypairResourcePolicySettingModalQuery>(\n  //     graphql`\n  //       query KeypairResourcePolicySettingModalQuery {\n  //         vfolder_host_permissions {\n  //           vfolder_host_permission_list\n  //         }\n  //       }\n  //     `,\n  //     {},\n  //   );\n\n  const [commitCreateKeypairResourcePolicy, isInFlightCommitCreateUserSetting] =\n    useMutation<KeypairResourcePolicySettingModalCreateMutation>(graphql`\n      mutation KeypairResourcePolicySettingModalCreateMutation(\n        $name: String!\n        $props: CreateKeyPairResourcePolicyInput!\n      ) {\n        create_keypair_resource_policy(name: $name, props: $props) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const [commitModifyKeypairResourcePolicy, isInFlightCommitModifyUserSetting] =\n    useMutation<KeypairResourcePolicySettingModalModifyMutation>(graphql`\n      mutation KeypairResourcePolicySettingModalModifyMutation(\n        $name: String!\n        $props: ModifyKeyPairResourcePolicyInput!\n      ) {\n        modify_keypair_resource_policy(name: $name, props: $props) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const initialValues = useMemo(() => {\n    const parsedVfolderHosts = JSON.parse(\n      keypairResourcePolicy?.allowed_vfolder_hosts ?? '{}',\n    );\n    const parsedTotalResourceSlots = JSON.parse(\n      keypairResourcePolicy?.total_resource_slots ?? '{}',\n    );\n    if (parsedTotalResourceSlots?.mem) {\n      let autoUniResult = convertToBinaryUnit(\n        parsedTotalResourceSlots?.mem,\n        'auto',\n        2,\n        true,\n      );\n\n      if (autoUniResult?.unit === '' || autoUniResult?.unit === 'k') {\n        autoUniResult = convertToBinaryUnit(\n          parsedTotalResourceSlots?.mem,\n          'm',\n          3,\n          true,\n        );\n      }\n      parsedTotalResourceSlots.mem = autoUniResult?.value || '0g';\n    }\n\n    return {\n      name: keypairResourcePolicy?.name ?? '',\n      default_for_unspecified:\n        keypairResourcePolicy?.default_for_unspecified || 'UNLIMITED',\n      total_resource_slots: parsedTotalResourceSlots ?? {},\n      max_session_lifetime: keypairResourcePolicy?.max_session_lifetime ?? 0,\n      max_concurrent_sessions:\n        keypairResourcePolicy?.max_concurrent_sessions ?? 0,\n      max_containers_per_session:\n        keypairResourcePolicy?.max_containers_per_session ?? 1,\n      idle_timeout: keypairResourcePolicy?.idle_timeout ?? 0,\n      allowed_vfolder_hosts: _.keys(parsedVfolderHosts) ?? [],\n      max_pending_session_count:\n        keypairResourcePolicy?.max_pending_session_count ?? null,\n      max_concurrent_sftp_sessions:\n        keypairResourcePolicy?.max_concurrent_sftp_sessions ?? 0,\n    };\n  }, [keypairResourcePolicy]);\n\n  const handleOk = () => {\n    return formRef?.current\n      ?.validateFields()\n      .then((values) => {\n        const total_resource_slots = _.mapValues(\n          _.pickBy(\n            values.total_resource_slots,\n            (value) => !_.isUndefined(value),\n          ),\n          (value, key) => {\n            if (_.includes(key, 'mem')) {\n              return convertToBinaryUnit(value, '', 0)?.numberFixed;\n            }\n            return value;\n          },\n        );\n\n        const allowed_vfolder_hosts: Record<string, string[] | undefined> =\n          _.fromPairs(\n            _.map(values.allowed_vfolder_hosts, (hostName) => {\n              if (initialValues?.allowed_vfolder_hosts?.includes(hostName)) {\n                const initialPermissions = JSON.parse(\n                  keypairResourcePolicy?.allowed_vfolder_hosts || '{}',\n                );\n                return [hostName, initialPermissions[hostName]];\n              }\n              const defaultPermissions = _.get(\n                values,\n                hostName,\n                [\n                  'create-vfolder',\n                  'modify-vfolder',\n                  'delete-vfolder',\n                  'mount-in-session',\n                  'upload-file',\n                  'download-file',\n                  'invite-others',\n                  'set-user-specific-permission',\n                ], // Default permissions\n              );\n              return [hostName, defaultPermissions];\n            }),\n          );\n\n        const { _name, ...restValues } = values;\n        const props:\n          | CreateKeyPairResourcePolicyInput\n          | ModifyKeyPairResourcePolicyInput = {\n          ..._.omit(restValues, 'parsedTotalResourceSlots', 'name'),\n          total_resource_slots: JSON.stringify(total_resource_slots),\n          allowed_vfolder_hosts: JSON.stringify(allowed_vfolder_hosts),\n        };\n\n        if (keypairResourcePolicy === null) {\n          commitCreateKeypairResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as CreateKeyPairResourcePolicyInput,\n            },\n            onCompleted: (res) => {\n              if (\n                !res?.create_keypair_resource_policy?.ok &&\n                res.create_keypair_resource_policy?.msg\n              ) {\n                message.error(res.create_keypair_resource_policy.msg);\n                onRequestClose(false);\n                return;\n              }\n              if (\n                !res?.create_keypair_resource_policy?.ok &&\n                res.create_keypair_resource_policy?.msg\n              ) {\n                message.error(res.create_keypair_resource_policy.msg);\n                onRequestClose(false);\n                return;\n              }\n              message.success(t('resourcePolicy.SuccessfullyCreated'));\n              onRequestClose(true);\n            },\n            onError(err) {\n              message.error(\n                err?.message || t('resourcePolicy.CannotCreateResourcePolicy'),\n              );\n            },\n          });\n        } else {\n          commitModifyKeypairResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as ModifyKeyPairResourcePolicyInput,\n            },\n            onCompleted: (res, errors) => {\n              if (\n                !res?.modify_keypair_resource_policy?.ok &&\n                res.modify_keypair_resource_policy?.msg\n              ) {\n                message.error(res.modify_keypair_resource_policy.msg);\n                onRequestClose(false);\n                return;\n              }\n              if (errors && errors.length > 0) {\n                errors.forEach((error) => message.error(error.message));\n                onRequestClose(false);\n                return;\n              }\n\n              message.success(t('resourcePolicy.SuccessfullyUpdated'));\n              onRequestClose(true);\n            },\n            onError(err) {\n              message.error(\n                err?.message || t('resourcePolicy.CannotUpdateResourcePolicy'),\n              );\n            },\n          });\n        }\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <BAIModal\n      width={800}\n      title={\n        keypairResourcePolicy === null\n          ? t('resourcePolicy.CreateResourcePolicy')\n          : t('resourcePolicy.UpdateResourcePolicy')\n      }\n      onOk={handleOk}\n      onCancel={() => onRequestClose()}\n      destroyOnHidden\n      confirmLoading={\n        isInFlightCommitCreateUserSetting || isInFlightCommitModifyUserSetting\n      }\n      {...props}\n    >\n      <Form\n        // Remove the required mark for the label because it has too many optional fields\n        requiredMark={false}\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={initialValues}\n        preserve={false}\n      >\n        <Form.Item\n          label={t('resourcePolicy.Name')}\n          name=\"name\"\n          required\n          rules={[\n            {\n              required: true,\n              message: t('data.explorer.ValueRequired'),\n            },\n            {\n              max: 64,\n            },\n            {\n              validator: (_, value) => {\n                if (\n                  !keypairResourcePolicy &&\n                  existingPolicyNames?.includes(value)\n                ) {\n                  return Promise.reject(\n                    t('resourcePolicy.ResourcePolicyNameAlreadyExists'),\n                  );\n                }\n                return Promise.resolve();\n              },\n            },\n          ]}\n        >\n          <Input disabled={!!keypairResourcePolicy} />\n        </Form.Item>\n        <Form.Item\n          label={\n            <BAIFlex gap=\"xxs\">\n              <Typography.Text>\n                {t('resourcePolicy.DefaultForUnspecified')}\n              </Typography.Text>\n              <Tooltip\n                title={\n                  <>\n                    {t('resourcePolicy.DefaultForUnspecifiedTooltipDesc1')}\n                    <br />\n                    <br />\n                    {t('resourcePolicy.DefaultForUnspecifiedTooltipDesc2')}\n                  </>\n                }\n                placement=\"right\"\n              >\n                <QuestionCircleOutlined\n                  style={{ color: token.colorTextSecondary, cursor: 'pointer' }}\n                />\n              </Tooltip>\n            </BAIFlex>\n          }\n          name=\"default_for_unspecified\"\n        >\n          <Select\n            options={[\n              {\n                key: 'unlimited',\n                label: 'UNLIMITED',\n                value: 'UNLIMITED',\n              },\n              {\n                key: 'limited',\n                label: 'LIMITED',\n                value: 'LIMITED',\n              },\n            ]}\n          />\n        </Form.Item>\n        <Form.Item label={t('resourcePolicy.ResourcePolicy')} required>\n          <Card>\n            {_.chain(resourceSlots)\n              .keys()\n              .chunk(3)\n              .map((resourceSlotKeys, index) => (\n                <Row gutter={[24, 16]} key={index}>\n                  {_.map(resourceSlotKeys, (resourceSlotKey) => (\n                    <Col\n                      xs={{ span: 12 }}\n                      md={{ span: 8 }}\n                      key={resourceSlotKey}\n                      style={{\n                        alignSelf: 'end',\n                        marginBottom: token.marginLG,\n                      }}\n                    >\n                      <FormItemWithUnlimited\n                        unlimitedValue={undefined}\n                        label={\n                          _.get(mergedResourceSlots, resourceSlotKey)\n                            ?.description || resourceSlotKey\n                        }\n                        name={['total_resource_slots', resourceSlotKey]}\n                        rules={[\n                          {\n                            validator(__, value) {\n                              if (\n                                _.includes(resourceSlotKey, 'mem') &&\n                                value &&\n                                // @ts-ignore\n                                convertToBinaryUnit(value, 'p').number >\n                                  // @ts-ignore\n                                  convertToBinaryUnit('300p', 'p').number\n                              ) {\n                                return Promise.reject(\n                                  new Error(\n                                    t('resourcePolicy.MemorySizeExceedsLimit'),\n                                  ),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                        ]}\n                        style={{ margin: 0, width: '100%' }}\n                      >\n                        {_.includes(resourceSlotKey, 'mem') ? (\n                          <BAIDynamicUnitInputNumber\n                            style={{ width: '100%' }}\n                          />\n                        ) : (\n                          <InputNumber\n                            min={0}\n                            max={MAX_CPU_QUOTA}\n                            step={\n                              _.includes(resourceSlotKey, '.shares') ? 0.1 : 1\n                            }\n                            suffix={\n                              _.get(mergedResourceSlots, resourceSlotKey)\n                                ?.display_unit\n                            }\n                            style={{ width: '100%' }}\n                          />\n                        )}\n                      </FormItemWithUnlimited>\n                    </Col>\n                  ))}\n                </Row>\n              ))\n              .value()}\n          </Card>\n        </Form.Item>\n        <Form.Item label={t('resourcePolicy.Sessions')} required>\n          <Card>\n            <Row gutter={[24, 16]} style={{ alignSelf: 'end' }}>\n              <Col\n                xs={{ span: 12 }}\n                md={{ span: 8 }}\n                style={{ alignSelf: 'end' }}\n              >\n                <FormItemWithUnlimited\n                  label={t('resourcePolicy.ClusterSize')}\n                  name=\"max_containers_per_session\"\n                  style={{ margin: 0, width: '100%' }}\n                  disableUnlimited\n                >\n                  <InputNumber\n                    min={0}\n                    max={SIGNED_32BIT_MAX_INT}\n                    style={{ width: '100%' }}\n                  />\n                </FormItemWithUnlimited>\n              </Col>\n              <Col\n                xs={{ span: 12 }}\n                md={{ span: 8 }}\n                style={{ alignSelf: 'end' }}\n              >\n                <FormItemWithUnlimited\n                  name={'max_session_lifetime'}\n                  unlimitedValue={0}\n                  label={t('resourcePolicy.MaxSessionLifetime')}\n                  style={{ margin: 0, width: '100%' }}\n                >\n                  <InputNumber min={0} max={100} style={{ width: '100%' }} />\n                </FormItemWithUnlimited>\n              </Col>\n              {baiClient.supports('max-pending-session-count') ? (\n                <Col\n                  xs={{ span: 12 }}\n                  md={{ span: 8 }}\n                  style={{ alignSelf: 'end' }}\n                >\n                  <FormItemWithUnlimited\n                    name={'max_pending_session_count'}\n                    unlimitedValue={null}\n                    label={t('resourcePolicy.MaxPendingSessionCount')}\n                    style={{ margin: 0, width: '100%' }}\n                  >\n                    <InputNumber\n                      min={0}\n                      max={SIGNED_32BIT_MAX_INT}\n                      style={{ width: '100%' }}\n                    />\n                  </FormItemWithUnlimited>\n                </Col>\n              ) : null}\n              <Col\n                xs={{ span: 12 }}\n                md={{ span: 8 }}\n                style={{ alignSelf: 'end' }}\n              >\n                <FormItemWithUnlimited\n                  name={'max_concurrent_sessions'}\n                  label={t('resourcePolicy.ConcurrentJobs')}\n                  unlimitedValue={0}\n                  style={{ margin: 0, width: '100%' }}\n                >\n                  <InputNumber\n                    min={0}\n                    max={SIGNED_32BIT_MAX_INT}\n                    style={{ width: '100%' }}\n                  />\n                </FormItemWithUnlimited>\n              </Col>\n              <Col\n                xs={{ span: 12 }}\n                md={{ span: 8 }}\n                style={{ alignSelf: 'end' }}\n              >\n                <FormItemWithUnlimited\n                  name={'idle_timeout'}\n                  unlimitedValue={0}\n                  label={t('resourcePolicy.IdleTimeoutSec')}\n                  style={{ margin: 0, width: '100%' }}\n                >\n                  <InputNumber\n                    min={0}\n                    max={Number.MAX_SAFE_INTEGER}\n                    style={{ width: '100%' }}\n                  />\n                </FormItemWithUnlimited>\n              </Col>\n              <Col\n                xs={{ span: 12 }}\n                md={{ span: 8 }}\n                style={{ alignSelf: 'end' }}\n              >\n                <FormItemWithUnlimited\n                  name={'max_concurrent_sftp_sessions'}\n                  unlimitedValue={0}\n                  label={t('resourcePolicy.MaxConcurrentSFTPSessions')}\n                  style={{ margin: 0, width: '100%' }}\n                >\n                  <InputNumber\n                    min={0}\n                    max={SIGNED_32BIT_MAX_INT}\n                    style={{ width: '100%' }}\n                  />\n                </FormItemWithUnlimited>\n              </Col>\n            </Row>\n          </Card>\n        </Form.Item>\n        <Form.Item label={t('resourcePolicy.Folders')} required>\n          <Card>\n            <Form.Item\n              label={t('resourcePolicy.AllowedHosts')}\n              name=\"allowed_vfolder_hosts\"\n            >\n              <BAIAllowedHostNamesSelect mode=\"multiple\" />\n            </Form.Item>\n          </Card>\n        </Form.Item>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default KeypairResourcePolicySettingModal;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '19', cy: '12', r: '1', key: '1wjl8i' }],\n  ['circle', { cx: '5', cy: '12', r: '1', key: '1pcz8c' }],\n];\n\n/**\n * @component @name Ellipsis\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ellipsis\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ellipsis = createLucideIcon('ellipsis', __iconNode);\n\nexport default Ellipsis;\n","import { KeypairResourcePolicyInfoModalFragment$key } from '../__generated__/KeypairResourcePolicyInfoModalFragment.graphql';\nimport { KeypairResourcePolicyListMutation } from '../__generated__/KeypairResourcePolicyListMutation.graphql';\nimport {\n  KeypairResourcePolicyListQuery,\n  KeypairResourcePolicyListQuery$data,\n} from '../__generated__/KeypairResourcePolicyListQuery.graphql';\nimport { KeypairResourcePolicySettingModalFragment$key } from '../__generated__/KeypairResourcePolicySettingModalFragment.graphql';\nimport { localeCompare, numberSorterWithInfinityValue } from '../helper';\nimport { SIGNED_32BIT_MAX_INT } from '../helper/const-vars';\nimport { exportCSVWithFormattingRules } from '../helper/csv-util';\nimport { useHiddenColumnKeysSetting } from '../hooks/useHiddenColumnKeysSetting';\nimport KeypairResourcePolicyInfoModal from './KeypairResourcePolicyInfoModal';\nimport KeypairResourcePolicySettingModal from './KeypairResourcePolicySettingModal';\nimport TableColumnsSettingModal from './TableColumnsSettingModal';\nimport {\n  DeleteOutlined,\n  InfoCircleOutlined,\n  PlusOutlined,\n  ReloadOutlined,\n  SettingOutlined,\n} from '@ant-design/icons';\nimport { useToggle } from 'ahooks';\nimport { App, Button, Dropdown, theme, Tooltip, Typography } from 'antd';\nimport { AnyObject } from 'antd/es/_util/type';\nimport { ColumnsType, ColumnType } from 'antd/es/table';\nimport {\n  useUpdatableState,\n  filterOutEmpty,\n  BAITable,\n  BAIFlex,\n  BAIAllowedVfolderHostsWithPermission,\n  BAIResourceNumberWithIcon,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { EllipsisIcon } from 'lucide-react';\nimport React, { Suspense, useState, useTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useLazyLoadQuery, useMutation } from 'react-relay';\n\ntype KeypairResourcePolicies = NonNullable<\n  KeypairResourcePolicyListQuery$data['keypair_resource_policies']\n>[number];\n\ninterface KeypairResourcePolicyListProps {}\n\nconst KeypairResourcePolicyList: React.FC<KeypairResourcePolicyListProps> = (\n  props,\n) => {\n  const { token } = theme.useToken();\n  const { t } = useTranslation();\n  const { message, modal } = App.useApp();\n\n  const [keypairResourcePolicyFetchKey, updateKeypairResourcePolicyFetchKey] =\n    useUpdatableState('initial-fetch');\n  const [isRefetchPending, startRefetchTransition] = useTransition();\n  const [visibleColumnSettingModal, { toggle: toggleColumnSettingModal }] =\n    useToggle();\n  const [isCreatingPolicySetting, setIsCreatingPolicySetting] = useState(false);\n  const [inFlightResourcePolicyName, setInFlightResourcePolicyName] =\n    useState<string>();\n  const [editingKeypairResourcePolicy, setEditingKeypairResourcePolicy] =\n    useState<KeypairResourcePolicySettingModalFragment$key | null>();\n  const [currentResourcePolicy, setCurrentResourcePolicy] =\n    useState<KeypairResourcePolicyInfoModalFragment$key | null>(null);\n  const [isPendingInfoModalOpen, startInfoModalOpenTransition] =\n    useTransition();\n\n  const { keypair_resource_policies } =\n    useLazyLoadQuery<KeypairResourcePolicyListQuery>(\n      graphql`\n        query KeypairResourcePolicyListQuery {\n          keypair_resource_policies {\n            name\n            total_resource_slots\n            max_session_lifetime\n            max_concurrent_sessions\n            max_containers_per_session\n            idle_timeout\n            allowed_vfolder_hosts\n            max_pending_session_count @since(version: \"24.03.4\")\n            max_concurrent_sftp_sessions @since(version: \"24.03.4\")\n            ...KeypairResourcePolicySettingModalFragment\n            ...KeypairResourcePolicyInfoModalFragment\n            ...BAIAllowedVfolderHostsWithPermissionFromKeyPairResourcePolicyFragment\n          }\n        }\n      `,\n      {},\n      {\n        fetchPolicy:\n          keypairResourcePolicyFetchKey === 'initial-fetch'\n            ? 'store-and-network'\n            : 'network-only',\n        fetchKey: keypairResourcePolicyFetchKey,\n      },\n    );\n\n  const [commitDelete, isInflightDelete] =\n    useMutation<KeypairResourcePolicyListMutation>(graphql`\n      mutation KeypairResourcePolicyListMutation($name: String!) {\n        delete_keypair_resource_policy(name: $name) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const columns: ColumnsType<KeypairResourcePolicies> = filterOutEmpty([\n    {\n      title: t('resourcePolicy.Name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      sorter: (a, b) => localeCompare(a?.name, b?.name),\n    },\n    {\n      title: t('resourcePolicy.ResourcePolicy'),\n      dataIndex: 'total_resource_slots',\n      key: 'total_resource_slots',\n      render: (_text, row) => (\n        <BAIFlex gap={'xxs'}>\n          {!_.isEmpty(JSON.parse(row?.total_resource_slots || '{}'))\n            ? _.map(\n                JSON.parse(row?.total_resource_slots || '{}'),\n                (value, type) => {\n                  return (\n                    <BAIResourceNumberWithIcon\n                      key={type}\n                      // @ts-ignore\n                      type={type}\n                      value={_.toString(value)}\n                    />\n                  );\n                },\n              )\n            : '-'}\n        </BAIFlex>\n      ),\n    },\n    {\n      title: t('resourcePolicy.Concurrency'),\n      dataIndex: 'max_concurrent_sessions',\n      key: 'max_concurrent_sessions',\n      sorter: (a, b) =>\n        a?.max_concurrent_sessions && b?.max_concurrent_sessions\n          ? a.max_concurrent_sessions - b.max_concurrent_sessions\n          : 1,\n      render: (text) => (text ? text : ''),\n    },\n    {\n      title: t('resourcePolicy.ClusterSize'),\n      dataIndex: 'max_containers_per_session',\n      key: 'max_containers_per_session',\n      sorter: (a, b) =>\n        a?.max_containers_per_session && b?.max_containers_per_session\n          ? a.max_containers_per_session - b.max_containers_per_session\n          : 1,\n      render: (text) => (text === SIGNED_32BIT_MAX_INT ? '' : text),\n    },\n    {\n      title: t('resourcePolicy.IdleTimeout'),\n      dataIndex: 'idle_timeout',\n      key: 'idle_timeout',\n      sorter: (a, b) =>\n        a?.idle_timeout && b?.idle_timeout\n          ? a.idle_timeout - b.idle_timeout\n          : 1,\n      render: (text) => (text ? text : ''),\n    },\n    {\n      title: t('session.MaxSessionLifetime'),\n      dataIndex: 'max_session_lifetime',\n      key: 'max_session_lifetime',\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_session_lifetime,\n          b?.max_session_lifetime,\n          0,\n        ),\n      render: (text) => (text ? text : ''),\n    },\n    {\n      title: t('resourcePolicy.StorageNodes'),\n      dataIndex: 'allowed_vfolder_hosts',\n      key: 'allowed_vfolder_hosts',\n      render: (text, row) => {\n        return (\n          <>\n            {text && row ? (\n              <BAIAllowedVfolderHostsWithPermission\n                allowedHostPermissionFrgmtFromKeyPair={row}\n              />\n            ) : (\n              '-'\n            )}\n          </>\n        );\n      },\n    },\n    {\n      title: t('resourcePolicy.MaxPendingSessionCount'),\n      dataIndex: 'max_pending_session_count',\n      key: 'max_pending_session_count',\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_pending_session_count,\n          b?.max_pending_session_count,\n          0,\n        ),\n      render: (text) => (text ? text : ''),\n    },\n    {\n      title: t('resourcePolicy.MaxConcurrentSFTPSessions'),\n      dataIndex: 'max_concurrent_sftp_sessions',\n      key: 'max_concurrent_sftp_sessions',\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_concurrent_sftp_sessions,\n          b?.max_concurrent_sftp_sessions,\n          0,\n        ),\n      render: (text) => (text ? text : ''),\n    },\n    {\n      title: t('general.Control'),\n      key: 'control',\n      fixed: 'right',\n      render: (_text, row) => (\n        <BAIFlex direction=\"row\" align=\"stretch\">\n          <Button\n            type=\"text\"\n            icon={<InfoCircleOutlined style={{ color: token.colorInfo }} />}\n            onClick={() => {\n              startInfoModalOpenTransition(() => {\n                setCurrentResourcePolicy(row || null);\n              });\n            }}\n          />\n          <Button\n            type=\"text\"\n            icon={<SettingOutlined />}\n            style={{\n              color: token.colorInfo,\n            }}\n            onClick={() => {\n              setEditingKeypairResourcePolicy(row);\n            }}\n          />\n          <Button\n            type=\"text\"\n            icon={\n              <DeleteOutlined\n                style={{\n                  color: token.colorError,\n                }}\n              />\n            }\n            loading={\n              isInflightDelete &&\n              inFlightResourcePolicyName ===\n                row?.name + keypairResourcePolicyFetchKey\n            }\n            disabled={\n              isInflightDelete &&\n              inFlightResourcePolicyName !==\n                row?.name + keypairResourcePolicyFetchKey\n            }\n            onClick={() => {\n              modal.confirm({\n                title: t('resourcePolicy.DeletePolicy'),\n                content: (\n                  <BAIFlex direction=\"column\" align=\"stretch\">\n                    <BAIFlex gap={'xxs'}>\n                      <Typography.Text>\n                        {t('resourcePolicy.DeletePolicyDescription')}\n                      </Typography.Text>\n                      <Typography.Text strong>{row?.name}</Typography.Text>\n                    </BAIFlex>\n                    <br />\n                    <Typography.Text type=\"danger\">\n                      {t('dialog.warning.CannotBeUndone')}\n                    </Typography.Text>\n                  </BAIFlex>\n                ),\n                okButtonProps: {\n                  danger: true,\n                },\n                okText: t('button.Delete'),\n                onOk: () => {\n                  if (row?.name) {\n                    setInFlightResourcePolicyName(\n                      row.name + keypairResourcePolicyFetchKey,\n                    );\n                    commitDelete({\n                      variables: {\n                        name: row.name,\n                      },\n                      onCompleted: (res, errors) => {\n                        if (!res?.delete_keypair_resource_policy?.ok) {\n                          message.error(\n                            res?.delete_keypair_resource_policy?.msg,\n                          );\n                          return;\n                        }\n                        if (errors && errors?.length > 0) {\n                          const errorMsgList = _.map(\n                            errors,\n                            (error) => error.message,\n                          );\n                          for (const error of errorMsgList) {\n                            message.error(error);\n                          }\n                        } else {\n                          startRefetchTransition(() =>\n                            updateKeypairResourcePolicyFetchKey(),\n                          );\n                          message.success(\n                            t('resourcePolicy.SuccessfullyDeleted'),\n                          );\n                        }\n                      },\n                      onError(err) {\n                        message.error(err?.message);\n                      },\n                    });\n                  }\n                },\n              });\n            }}\n          />\n        </BAIFlex>\n      ),\n    },\n  ]);\n\n  const [hiddenColumnKeys, setHiddenColumnKeys] = useHiddenColumnKeysSetting(\n    'KeypairResourcePolicyList',\n  );\n\n  const handleExportCSV = () => {\n    if (!keypair_resource_policies) {\n      message.error(t('resourcePolicy.NoDataToExport'));\n      return;\n    }\n\n    const columnKeys = _.without(\n      _.map(columns, (column) => _.toString(column.key)),\n      'control',\n    );\n    const responseData = _.map(keypair_resource_policies, (policy) => {\n      return _.pick(\n        policy,\n        columnKeys.map((key) => key as keyof KeypairResourcePolicies),\n      );\n    });\n\n    exportCSVWithFormattingRules(\n      responseData as KeypairResourcePolicies[],\n      'keypair_resource_policies',\n      {\n        total_resource_slots: (text) =>\n          _.isEmpty(text) ? '-' : JSON.stringify(text),\n        max_concurrent_sessions: (text) => (text ? text : '-'),\n        max_containers_per_session: (text) =>\n          text === SIGNED_32BIT_MAX_INT ? '' : text,\n        idle_timeout: (text) => (text ? text : '-'),\n        max_session_lifetime: (text) => (text ? text : '-'),\n        allowed_vfolder_hosts: (text) =>\n          _.isEmpty(text) ? '-' : _.keys(JSON.parse(text)).join(', '),\n      },\n    );\n  };\n\n  return (\n    <BAIFlex direction=\"column\" align=\"stretch\" gap=\"sm\" {...props}>\n      <BAIFlex direction=\"row\" justify=\"end\" wrap=\"wrap\" gap={'xs'}>\n        <Dropdown\n          menu={{\n            items: [\n              {\n                key: 'exportCSV',\n                label: t('resourcePolicy.ExportCSV'),\n                onClick: () => {\n                  handleExportCSV();\n                },\n              },\n            ],\n          }}\n          trigger={['click']}\n        >\n          <Button icon={<EllipsisIcon />} />\n        </Dropdown>\n        <BAIFlex\n          direction=\"row\"\n          gap={'xs'}\n          wrap=\"wrap\"\n          style={{ flexShrink: 1 }}\n        >\n          <BAIFlex gap={'xs'}>\n            <Tooltip title={t('button.Refresh')}>\n              <Button\n                icon={<ReloadOutlined />}\n                loading={isRefetchPending}\n                onClick={() => {\n                  startRefetchTransition(() =>\n                    updateKeypairResourcePolicyFetchKey(),\n                  );\n                }}\n              />\n            </Tooltip>\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              onClick={() => {\n                setIsCreatingPolicySetting(true);\n              }}\n            >\n              {t('button.Create')}\n            </Button>\n          </BAIFlex>\n        </BAIFlex>\n      </BAIFlex>\n      <BAITable\n        columns={\n          _.filter(\n            columns,\n            (column) => !_.includes(hiddenColumnKeys, _.toString(column?.key)),\n          ) as ColumnType<AnyObject>[]\n        }\n        dataSource={\n          keypair_resource_policies as readonly AnyObject[] | undefined\n        }\n        rowKey=\"name\"\n        scroll={{ x: 'max-content' }}\n        pagination={{\n          extraContent: (\n            <Button\n              type=\"text\"\n              icon={<SettingOutlined />}\n              onClick={() => {\n                toggleColumnSettingModal();\n              }}\n            />\n          ),\n        }}\n        showSorterTooltip={false}\n      />\n      <TableColumnsSettingModal\n        open={visibleColumnSettingModal}\n        onRequestClose={(values) => {\n          values?.selectedColumnKeys &&\n            setHiddenColumnKeys(\n              _.difference(\n                columns.map((column) => _.toString(column.key)),\n                values?.selectedColumnKeys,\n              ),\n            );\n          toggleColumnSettingModal();\n        }}\n        columns={columns}\n        hiddenColumnKeys={hiddenColumnKeys}\n      />\n      <Suspense>\n        <KeypairResourcePolicySettingModal\n          existingPolicyNames={_.map(\n            keypair_resource_policies,\n            (policy) => policy?.name || '',\n          )}\n          open={!!editingKeypairResourcePolicy || isCreatingPolicySetting}\n          keypairResourcePolicyFrgmt={editingKeypairResourcePolicy || null}\n          onRequestClose={(success) => {\n            setEditingKeypairResourcePolicy(null);\n            setIsCreatingPolicySetting(false);\n            if (success) {\n              startRefetchTransition(() => {\n                updateKeypairResourcePolicyFetchKey();\n              });\n            }\n          }}\n        />\n      </Suspense>\n      <KeypairResourcePolicyInfoModal\n        open={!!currentResourcePolicy || isPendingInfoModalOpen}\n        onRequestClose={() => {\n          setCurrentResourcePolicy(null);\n        }}\n        loading={isPendingInfoModalOpen}\n        resourcePolicyFrgmt={currentResourcePolicy || null}\n      />\n    </BAIFlex>\n  );\n};\n\nexport default KeypairResourcePolicyList;\n","/**\n * @generated SignedSource<<653c29fa1207a836c0f67a752b92919d>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type ProjectResourcePolicyListMutation$variables = {\n  name: string;\n};\nexport type ProjectResourcePolicyListMutation$data = {\n  readonly delete_project_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ProjectResourcePolicyListMutation = {\n  response: ProjectResourcePolicyListMutation$data;\n  variables: ProjectResourcePolicyListMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      }\n    ],\n    \"concreteType\": \"DeleteProjectResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"delete_project_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ProjectResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ProjectResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"9f1218faa2207eff18f5a145f12f87ac\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ProjectResourcePolicyListMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ProjectResourcePolicyListMutation(\\n  $name: String!\\n) {\\n  delete_project_resource_policy(name: $name) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"2c5a20c6c463174bbfc726a27cdfdcac\";\n\nexport default node;\n","/**\n * @generated SignedSource<<c1fccec7250457cf07244eb8952836b3>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ProjectResourcePolicyListQuery$variables = Record<PropertyKey, never>;\nexport type ProjectResourcePolicyListQuery$data = {\n  readonly project_resource_policies: ReadonlyArray<{\n    readonly created_at: string;\n    readonly id: string;\n    readonly max_network_count: number | null | undefined;\n    readonly max_quota_scope_size: any | null | undefined;\n    readonly max_vfolder_count: number | null | undefined;\n    readonly name: string;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"ProjectResourcePolicySettingModalFragment\">;\n  } | null | undefined> | null | undefined;\n};\nexport type ProjectResourcePolicyListQuery = {\n  response: ProjectResourcePolicyListQuery$data;\n  variables: ProjectResourcePolicyListQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"created_at\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_vfolder_count\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_quota_scope_size\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_network_count\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ProjectResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ProjectResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"project_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"ProjectResourcePolicySettingModalFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Operation\",\n    \"name\": \"ProjectResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ProjectResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"project_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"6aea9773e50cdfa81562c7a8322c8faa\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ProjectResourcePolicyListQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query ProjectResourcePolicyListQuery {\\n  project_resource_policies {\\n    id\\n    name\\n    created_at\\n    max_vfolder_count @since(version: \\\"23.09.6\\\")\\n    max_quota_scope_size @since(version: \\\"23.09.2\\\")\\n    max_network_count @since(version: \\\"24.12.0\\\")\\n    ...ProjectResourcePolicySettingModalFragment\\n  }\\n}\\n\\nfragment ProjectResourcePolicySettingModalFragment on ProjectResourcePolicy {\\n  id\\n  name\\n  created_at\\n  max_vfolder_count @since(version: \\\"23.09.6\\\")\\n  max_quota_scope_size @since(version: \\\"23.09.2\\\")\\n  max_network_count @since(version: \\\"24.12.0\\\")\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"4c7451b05822ee2f8c5e2c8d35ed57db\";\n\nexport default node;\n","/**\n * @generated SignedSource<<a308fcdd6cd4f30f2db50e6e555d5885>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type ModifyProjectResourcePolicyInput = {\n  max_network_count?: number | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n  max_vfolder_size?: any | null | undefined;\n};\nexport type ProjectResourcePolicySettingModalModifyMutation$variables = {\n  name: string;\n  props: ModifyProjectResourcePolicyInput;\n};\nexport type ProjectResourcePolicySettingModalModifyMutation$data = {\n  readonly modify_project_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ProjectResourcePolicySettingModalModifyMutation = {\n  response: ProjectResourcePolicySettingModalModifyMutation$data;\n  variables: ProjectResourcePolicySettingModalModifyMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"ModifyProjectResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_project_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ProjectResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ProjectResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"aedc4eab77206f7ab189ccd3f2d938b3\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ProjectResourcePolicySettingModalModifyMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ProjectResourcePolicySettingModalModifyMutation(\\n  $name: String!\\n  $props: ModifyProjectResourcePolicyInput!\\n) {\\n  modify_project_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"3cd62195489eba58dd9693f1fc9df8ff\";\n\nexport default node;\n","/**\n * @generated SignedSource<<018c67762a92cca5da9105d24c8ee706>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type CreateProjectResourcePolicyInput = {\n  max_network_count?: number | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n  max_vfolder_size?: any | null | undefined;\n};\nexport type ProjectResourcePolicySettingModalCreateMutation$variables = {\n  name: string;\n  props: CreateProjectResourcePolicyInput;\n};\nexport type ProjectResourcePolicySettingModalCreateMutation$data = {\n  readonly create_project_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ProjectResourcePolicySettingModalCreateMutation = {\n  response: ProjectResourcePolicySettingModalCreateMutation$data;\n  variables: ProjectResourcePolicySettingModalCreateMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"CreateProjectResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"create_project_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ProjectResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ProjectResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"b94d7a4b8e8341df4e396784abba4203\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ProjectResourcePolicySettingModalCreateMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ProjectResourcePolicySettingModalCreateMutation(\\n  $name: String!\\n  $props: CreateProjectResourcePolicyInput!\\n) {\\n  create_project_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"c0683608e8a527146563ba5bd9fcad33\";\n\nexport default node;\n","/**\n * @generated SignedSource<<eaf1fd7bc1d92c56bc2d65772dfe7a31>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ProjectResourcePolicySettingModalFragment$data = {\n  readonly created_at: string;\n  readonly id: string;\n  readonly max_network_count: number | null | undefined;\n  readonly max_quota_scope_size: any | null | undefined;\n  readonly max_vfolder_count: number | null | undefined;\n  readonly name: string;\n  readonly \" $fragmentType\": \"ProjectResourcePolicySettingModalFragment\";\n};\nexport type ProjectResourcePolicySettingModalFragment$key = {\n  readonly \" $data\"?: ProjectResourcePolicySettingModalFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"ProjectResourcePolicySettingModalFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"ProjectResourcePolicySettingModalFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_vfolder_count\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_quota_scope_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_network_count\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"ProjectResourcePolicy\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"949f6a93198024700bf15197f3b613f0\";\n\nexport default node;\n","import {\n  CreateProjectResourcePolicyInput,\n  ProjectResourcePolicySettingModalCreateMutation,\n} from '../__generated__/ProjectResourcePolicySettingModalCreateMutation.graphql';\nimport { ProjectResourcePolicySettingModalFragment$key } from '../__generated__/ProjectResourcePolicySettingModalFragment.graphql';\nimport {\n  ModifyProjectResourcePolicyInput,\n  ProjectResourcePolicySettingModalModifyMutation,\n} from '../__generated__/ProjectResourcePolicySettingModalModifyMutation.graphql';\nimport { GBToBytes, bytesToGB } from '../helper';\nimport { SIGNED_32BIT_MAX_INT } from '../helper/const-vars';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport FormItemWithUnlimited from './FormItemWithUnlimited';\nimport {\n  Form,\n  Input,\n  Alert,\n  App,\n  theme,\n  InputNumber,\n  FormInstance,\n} from 'antd';\nimport { BAIModal, BAIModalProps, BAIFlex } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment, useMutation } from 'react-relay';\n\ninterface Props extends BAIModalProps {\n  existingPolicyNames?: string[];\n  projectResourcePolicyFrgmt: ProjectResourcePolicySettingModalFragment$key | null;\n  onRequestClose: (success?: boolean) => void;\n}\n\nconst ProjectResourcePolicySettingModal: React.FC<Props> = ({\n  existingPolicyNames,\n  projectResourcePolicyFrgmt = null,\n  onRequestClose,\n  ...baiModalProps\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { message } = App.useApp();\n  const formRef = useRef<FormInstance>(null);\n\n  const baiClient = useSuspendedBackendaiClient();\n  const supportMaxNetworkCount = baiClient?.supports('max_network_count');\n\n  const projectResourcePolicy = useFragment(\n    graphql`\n      fragment ProjectResourcePolicySettingModalFragment on ProjectResourcePolicy {\n        id\n        name\n        created_at\n        # follows version of https://github.com/lablup/backend.ai/pull/1993\n        # --------------- START --------------------\n        max_vfolder_count @since(version: \"23.09.6\")\n        max_quota_scope_size @since(version: \"23.09.2\")\n        # ---------------- END ---------------------\n        max_network_count @since(version: \"24.12.0\")\n      }\n    `,\n    projectResourcePolicyFrgmt,\n  );\n\n  const [\n    commitCreateProjectResourcePolicy,\n    isInFlightCommitCreateProjectResourcePolicy,\n  ] = useMutation<ProjectResourcePolicySettingModalCreateMutation>(graphql`\n    mutation ProjectResourcePolicySettingModalCreateMutation(\n      $name: String!\n      $props: CreateProjectResourcePolicyInput!\n    ) {\n      create_project_resource_policy(name: $name, props: $props) {\n        ok\n        msg\n      }\n    }\n  `);\n\n  const [\n    commitModifyProjectResourcePolicy,\n    isInFlightCommitModifyProjectResourcePolicy,\n  ] = useMutation<ProjectResourcePolicySettingModalModifyMutation>(graphql`\n    mutation ProjectResourcePolicySettingModalModifyMutation(\n      $name: String!\n      $props: ModifyProjectResourcePolicyInput!\n    ) {\n      modify_project_resource_policy(name: $name, props: $props) {\n        ok\n        msg\n      }\n    }\n  `);\n\n  const initialValues = useMemo(() => {\n    let unlimitedValues = {};\n    if (projectResourcePolicy === null) {\n      unlimitedValues = {\n        // Initialize unlimited values as a default when creating a new policy.\\\n        max_vfolder_count: 0,\n        max_quota_scope_size: -1,\n        max_network_count: -1,\n      };\n    }\n    let maxQuotaScopeSize = projectResourcePolicy?.max_quota_scope_size;\n    maxQuotaScopeSize =\n      _.isUndefined(maxQuotaScopeSize) || maxQuotaScopeSize === -1\n        ? -1\n        : bytesToGB(maxQuotaScopeSize);\n    return {\n      ...unlimitedValues,\n      ...projectResourcePolicy,\n      max_quota_scope_size: maxQuotaScopeSize,\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    projectResourcePolicy,\n    projectResourcePolicy?.max_vfolder_count,\n    projectResourcePolicy?.max_quota_scope_size,\n  ]);\n\n  const handleOk = () => {\n    return formRef?.current\n      ?.validateFields()\n      .then((values) => {\n        const props:\n          | CreateProjectResourcePolicyInput\n          | ModifyProjectResourcePolicyInput = {\n          max_vfolder_count: values?.max_vfolder_count || 0,\n          max_quota_scope_size:\n            values?.max_quota_scope_size === -1\n              ? -1\n              : GBToBytes(values?.max_quota_scope_size),\n          max_network_count: values?.max_network_count || -1,\n        };\n        if (!supportMaxNetworkCount) {\n          delete props.max_network_count;\n        }\n        if (projectResourcePolicy === null) {\n          commitCreateProjectResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as CreateProjectResourcePolicyInput,\n            },\n            onCompleted(res, errors) {\n              if (!res?.create_project_resource_policy?.ok || errors) {\n                message.error(\n                  res?.create_project_resource_policy?.msg ||\n                    t('resourcePolicy.CannotCreateResourcePolicy'),\n                );\n                onRequestClose();\n              } else {\n                message.success(\n                  t('storageHost.ResourcePolicySuccessfullyUpdated'),\n                );\n                onRequestClose(true);\n              }\n            },\n            onError(error) {\n              message.error(\n                error?.message ||\n                  t('resourcePolicy.CannotCreateResourcePolicy'),\n              );\n            },\n          });\n        } else {\n          commitModifyProjectResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as ModifyProjectResourcePolicyInput,\n            },\n            onCompleted(res, errors) {\n              if (!res?.modify_project_resource_policy?.ok || errors) {\n                message.error(\n                  res?.modify_project_resource_policy?.msg ||\n                    t('resourcePolicy.CannotUpdateResourcePolicy'),\n                );\n                onRequestClose();\n              } else {\n                message.success(\n                  t('storageHost.ResourcePolicySuccessfullyUpdated'),\n                );\n                onRequestClose(true);\n              }\n            },\n            onError(error) {\n              message.error(\n                error?.message ||\n                  t('resourcePolicy.CannotUpdateResourcePolicy'),\n              );\n            },\n          });\n        }\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <BAIModal\n      title={\n        projectResourcePolicy === null\n          ? t('resourcePolicy.CreateResourcePolicy')\n          : t('resourcePolicy.UpdateResourcePolicy')\n      }\n      onOk={handleOk}\n      onCancel={() => onRequestClose()}\n      destroyOnHidden\n      confirmLoading={\n        isInFlightCommitCreateProjectResourcePolicy ||\n        isInFlightCommitModifyProjectResourcePolicy\n      }\n      {...baiModalProps}\n    >\n      <Alert\n        title={t('storageHost.BeCarefulToSetProjectResourcePolicy')}\n        type=\"warning\"\n        showIcon\n        style={{ marginBottom: token.marginMD }}\n      />\n      <Form\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={initialValues}\n        preserve={false}\n      >\n        <Form.Item\n          label={t('resourcePolicy.Name')}\n          name=\"name\"\n          required\n          rules={[\n            {\n              required: true,\n              message: t('data.explorer.ValueRequired'),\n            },\n            {\n              max: 255,\n            },\n            {\n              validator: (_, value) => {\n                if (\n                  !projectResourcePolicy &&\n                  existingPolicyNames?.includes(value)\n                ) {\n                  return Promise.reject(\n                    t('resourcePolicy.ResourcePolicyNameAlreadyExists'),\n                  );\n                }\n                return Promise.resolve();\n              },\n            },\n          ]}\n        >\n          <Input disabled={!!projectResourcePolicy} />\n        </Form.Item>\n        <BAIFlex\n          direction=\"column\"\n          align=\"stretch\"\n          gap={'md'}\n          style={{ marginBottom: token.marginMD }}\n        >\n          <FormItemWithUnlimited\n            name={'max_vfolder_count'}\n            unlimitedValue={0}\n            label={t('resourcePolicy.MaxFolderCount')}\n            style={{ width: '100%', margin: 0 }}\n          >\n            <InputNumber\n              min={0}\n              max={SIGNED_32BIT_MAX_INT}\n              style={{ width: '100%' }}\n            />\n          </FormItemWithUnlimited>\n          <FormItemWithUnlimited\n            name={'max_quota_scope_size'}\n            unlimitedValue={-1}\n            label={t('storageHost.MaxFolderSize')}\n            style={{ width: '100%', margin: 0 }}\n          >\n            <InputNumber\n              min={0}\n              // Maximum safe integer divided by 10^9 to prevent overflow when converting GB to bytes\n              max={Math.floor(Number.MAX_SAFE_INTEGER / Math.pow(10, 9))}\n              suffix=\"GB\"\n              style={{ width: '100%' }}\n            />\n          </FormItemWithUnlimited>\n          {supportMaxNetworkCount ? (\n            <FormItemWithUnlimited\n              name={'max_network_count'}\n              unlimitedValue={-1}\n              label={t('resourcePolicy.MaxNetworkCount')}\n              style={{ width: '100%', margin: 0 }}\n            >\n              <InputNumber\n                min={0}\n                max={SIGNED_32BIT_MAX_INT}\n                style={{ width: '100%' }}\n              />\n            </FormItemWithUnlimited>\n          ) : null}\n        </BAIFlex>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default ProjectResourcePolicySettingModal;\n","import { ProjectResourcePolicyListMutation } from '../__generated__/ProjectResourcePolicyListMutation.graphql';\nimport {\n  ProjectResourcePolicyListQuery,\n  ProjectResourcePolicyListQuery$data,\n} from '../__generated__/ProjectResourcePolicyListQuery.graphql';\nimport { ProjectResourcePolicySettingModalFragment$key } from '../__generated__/ProjectResourcePolicySettingModalFragment.graphql';\nimport {\n  bytesToGB,\n  localeCompare,\n  numberSorterWithInfinityValue,\n} from '../helper';\nimport { exportCSVWithFormattingRules } from '../helper/csv-util';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport { useHiddenColumnKeysSetting } from '../hooks/useHiddenColumnKeysSetting';\nimport ProjectResourcePolicySettingModal from './ProjectResourcePolicySettingModal';\nimport TableColumnsSettingModal from './TableColumnsSettingModal';\nimport {\n  DeleteOutlined,\n  PlusOutlined,\n  ReloadOutlined,\n  SettingOutlined,\n} from '@ant-design/icons';\nimport { useToggle } from 'ahooks';\nimport { Button, Dropdown, message, Popconfirm, theme, Tooltip } from 'antd';\nimport { ColumnType } from 'antd/es/table';\nimport {\n  filterOutEmpty,\n  filterOutNullAndUndefined,\n  BAITable,\n  BAIFlex,\n  useUpdatableState,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { EllipsisIcon } from 'lucide-react';\nimport React, { useState, useTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useLazyLoadQuery, useMutation } from 'react-relay';\n\ntype ProjectResourcePolicies = NonNullable<\n  NonNullable<\n    ProjectResourcePolicyListQuery$data['project_resource_policies']\n  >[number]\n>;\n\ninterface ProjectResourcePolicyListProps {}\n\nconst ProjectResourcePolicyList: React.FC<\n  ProjectResourcePolicyListProps\n> = () => {\n  const { token } = theme.useToken();\n  const { t } = useTranslation();\n  const [isRefetchPending, startRefetchTransition] = useTransition();\n  const [projectResourcePolicyFetchKey, updateProjectResourcePolicyFetchKey] =\n    useUpdatableState('initial-fetch');\n  const [isCreatingPolicySetting, setIsCreatingPolicySetting] = useState(false);\n  const [visibleColumnSettingModal, { toggle: toggleColumnSettingModal }] =\n    useToggle();\n  const [inFlightResourcePolicyName, setInFlightResourcePolicyName] =\n    useState<string>();\n  const [editingProjectResourcePolicy, setEditingProjectResourcePolicy] =\n    useState<ProjectResourcePolicySettingModalFragment$key | null>();\n\n  const baiClient = useSuspendedBackendaiClient();\n  const supportMaxNetworkCount = baiClient?.supports('max_network_count');\n\n  const { project_resource_policies } =\n    useLazyLoadQuery<ProjectResourcePolicyListQuery>(\n      graphql`\n        query ProjectResourcePolicyListQuery {\n          project_resource_policies {\n            id\n            name\n            created_at\n            # follows version of https://github.com/lablup/backend.ai/pull/1993\n            # --------------- START --------------------\n            max_vfolder_count @since(version: \"23.09.6\")\n            max_quota_scope_size @since(version: \"23.09.2\")\n            # ---------------- END ---------------------\n            max_network_count @since(version: \"24.12.0\")\n            ...ProjectResourcePolicySettingModalFragment\n          }\n        }\n      `,\n      {},\n      {\n        fetchPolicy:\n          projectResourcePolicyFetchKey === 'initial-fetch'\n            ? 'store-and-network'\n            : 'network-only',\n        fetchKey: projectResourcePolicyFetchKey,\n      },\n    );\n\n  const [commitDelete, isInflightDelete] =\n    useMutation<ProjectResourcePolicyListMutation>(graphql`\n      mutation ProjectResourcePolicyListMutation($name: String!) {\n        delete_project_resource_policy(name: $name) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const columns = filterOutEmpty<ColumnType<ProjectResourcePolicies>>([\n    {\n      title: t('resourcePolicy.Name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      sorter: (a, b) => localeCompare(a?.name, b?.name),\n    },\n    {\n      title: t('resourcePolicy.MaxVFolderCount'),\n      dataIndex: 'max_vfolder_count',\n      key: 'max_vfolder_count',\n      render: (text: ProjectResourcePolicies) =>\n        _.toNumber(text) === 0 ? '' : text,\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_vfolder_count,\n          b?.max_vfolder_count,\n          0,\n        ),\n    },\n    {\n      title: t('resourcePolicy.MaxQuotaScopeSize'),\n      dataIndex: 'max_quota_scope_size',\n      key: 'max_quota_scope_size',\n      render: (text) => (text === -1 ? '' : bytesToGB(text)),\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_quota_scope_size,\n          b?.max_quota_scope_size,\n          -1,\n        ),\n    },\n    supportMaxNetworkCount\n      ? {\n          title: t('resourcePolicy.MaxNetworkCount'),\n          dataIndex: 'max_network_count',\n          key: 'max_network_count',\n          render: (text) => (text === -1 ? '' : text),\n          sorter: () => true,\n        }\n      : {},\n    {\n      title: 'ID',\n      dataIndex: 'id',\n      key: 'id',\n      sorter: (a, b) => localeCompare(a?.id, b?.id),\n    },\n    {\n      title: t('resourcePolicy.CreatedAt'),\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => dayjs(text).format('lll'),\n      sorter: (a, b) => localeCompare(a?.created_at, b?.created_at),\n    },\n    {\n      title: t('general.Control'),\n      fixed: 'right',\n      key: 'control',\n      render: (_text: any, row: ProjectResourcePolicies) => (\n        <BAIFlex direction=\"row\" align=\"stretch\">\n          <Button\n            type=\"text\"\n            icon={<SettingOutlined />}\n            style={{\n              color: token.colorInfo,\n            }}\n            onClick={() => {\n              setEditingProjectResourcePolicy(row);\n            }}\n          />\n          <Popconfirm\n            title={t('dialog.ask.DoYouWantToProceed')}\n            description={t('dialog.warning.CannotBeUndone')}\n            okType=\"danger\"\n            okText={t('button.Delete')}\n            onConfirm={() => {\n              if (row?.name) {\n                setInFlightResourcePolicyName(\n                  row.name + projectResourcePolicyFetchKey,\n                );\n                commitDelete({\n                  variables: {\n                    name: row.name,\n                  },\n                  onCompleted: (res, errors) => {\n                    if (!res?.delete_project_resource_policy?.ok) {\n                      message.error(res?.delete_project_resource_policy?.msg);\n                      return;\n                    }\n                    if (errors && errors?.length > 0) {\n                      const errorMsgList = _.map(\n                        errors,\n                        (error) => error.message,\n                      );\n                      for (const error of errorMsgList) {\n                        message.error(error);\n                      }\n                    } else {\n                      startRefetchTransition(() =>\n                        updateProjectResourcePolicyFetchKey(),\n                      );\n                      message.success(t('resourcePolicy.SuccessfullyDeleted'));\n                    }\n                  },\n                  onError(err) {\n                    message.error(err?.message);\n                  },\n                });\n              }\n            }}\n          >\n            <Button\n              type=\"text\"\n              icon={\n                <DeleteOutlined\n                  style={{\n                    color: token.colorError,\n                  }}\n                />\n              }\n              loading={\n                isInflightDelete &&\n                inFlightResourcePolicyName ===\n                  row?.name + projectResourcePolicyFetchKey\n              }\n              disabled={\n                isInflightDelete &&\n                inFlightResourcePolicyName !==\n                  row?.name + projectResourcePolicyFetchKey\n              }\n            />\n          </Popconfirm>\n        </BAIFlex>\n      ),\n    },\n  ]);\n\n  const [hiddenColumnKeys, setHiddenColumnKeys] = useHiddenColumnKeysSetting(\n    'ProjectResourcePolicyList',\n  );\n\n  const handleExportCSV = () => {\n    if (!project_resource_policies) {\n      message.error(t('resourcePolicy.NoDataToExport'));\n      return;\n    }\n\n    const columnkeys = _.without(\n      _.map(columns, (column) => _.toString(column.key)),\n      'control',\n    );\n    const responseData = _.map(project_resource_policies, (policy) => {\n      return _.pick(\n        policy,\n        columnkeys.map((key) => key as keyof ProjectResourcePolicies),\n      );\n    });\n    exportCSVWithFormattingRules(\n      responseData as ProjectResourcePolicies[],\n      'project_resource_polices',\n      {\n        max_vfolder_count: (text: ProjectResourcePolicies) =>\n          _.toNumber(text) === 0 ? '-' : text,\n        max_quota_scope_size: (text) => (text === -1 ? '-' : bytesToGB(text)),\n      },\n    );\n  };\n\n  return (\n    <BAIFlex direction=\"column\" align=\"stretch\" gap=\"sm\">\n      <BAIFlex direction=\"row\" justify=\"end\" wrap=\"wrap\" gap={'xs'}>\n        <BAIFlex\n          direction=\"row\"\n          gap={'xs'}\n          wrap=\"wrap\"\n          style={{ flexShrink: 1 }}\n        >\n          <Dropdown\n            menu={{\n              items: [\n                {\n                  key: 'exportCSV',\n                  label: t('resourcePolicy.ExportCSV'),\n                  onClick: () => {\n                    handleExportCSV();\n                  },\n                },\n              ],\n            }}\n            trigger={['click']}\n          >\n            <Button icon={<EllipsisIcon />} />\n          </Dropdown>\n          <BAIFlex gap={'xs'}>\n            <Tooltip title={t('button.Refresh')}>\n              <Button\n                icon={<ReloadOutlined />}\n                loading={isRefetchPending}\n                onClick={() => {\n                  startRefetchTransition(() =>\n                    updateProjectResourcePolicyFetchKey(),\n                  );\n                }}\n              />\n            </Tooltip>\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              onClick={() => {\n                setIsCreatingPolicySetting(true);\n              }}\n            >\n              {t('button.Create')}\n            </Button>\n          </BAIFlex>\n        </BAIFlex>\n      </BAIFlex>\n      <BAITable\n        rowKey=\"id\"\n        showSorterTooltip={false}\n        columns={_.filter(\n          columns,\n          (column) => !_.includes(hiddenColumnKeys, _.toString(column?.key)),\n        )}\n        dataSource={filterOutNullAndUndefined(project_resource_policies)}\n        scroll={{ x: 'max-content' }}\n        pagination={{\n          extraContent: (\n            <Button\n              type=\"text\"\n              icon={<SettingOutlined />}\n              onClick={() => {\n                toggleColumnSettingModal();\n              }}\n            />\n          ),\n        }}\n      />\n      <TableColumnsSettingModal\n        open={visibleColumnSettingModal}\n        onRequestClose={(values) => {\n          values?.selectedColumnKeys &&\n            setHiddenColumnKeys(\n              _.difference(\n                columns.map((column) => _.toString(column.key)),\n                values?.selectedColumnKeys,\n              ),\n            );\n          toggleColumnSettingModal();\n        }}\n        columns={columns}\n        hiddenColumnKeys={hiddenColumnKeys}\n      />\n      <ProjectResourcePolicySettingModal\n        existingPolicyNames={_.map(project_resource_policies, 'name')}\n        open={!!editingProjectResourcePolicy || isCreatingPolicySetting}\n        projectResourcePolicyFrgmt={editingProjectResourcePolicy || null}\n        onRequestClose={(success) => {\n          if (success) {\n            startRefetchTransition(() => updateProjectResourcePolicyFetchKey());\n          }\n          setEditingProjectResourcePolicy(null);\n          setIsCreatingPolicySetting(false);\n        }}\n      />\n    </BAIFlex>\n  );\n};\n\nexport default ProjectResourcePolicyList;\n","/**\n * @generated SignedSource<<305f7843659d8f0fe03b1b010a8f6ac4>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type UserResourcePolicyListMutation$variables = {\n  name: string;\n};\nexport type UserResourcePolicyListMutation$data = {\n  readonly delete_user_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type UserResourcePolicyListMutation = {\n  response: UserResourcePolicyListMutation$data;\n  variables: UserResourcePolicyListMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      }\n    ],\n    \"concreteType\": \"DeleteUserResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"delete_user_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"UserResourcePolicyListMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"7be7fa4bc2e6ce7666489318e415d769\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"UserResourcePolicyListMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation UserResourcePolicyListMutation(\\n  $name: String!\\n) {\\n  delete_user_resource_policy(name: $name) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"5b565e4db37c96850ac85a92cd4e0290\";\n\nexport default node;\n","/**\n * @generated SignedSource<<3d49d6818a26c02e4fd0210b5e20340f>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserResourcePolicyListQuery$variables = Record<PropertyKey, never>;\nexport type UserResourcePolicyListQuery$data = {\n  readonly user_resource_policies: ReadonlyArray<{\n    readonly created_at: string;\n    readonly id: string;\n    readonly max_customized_image_count: number | null | undefined;\n    readonly max_quota_scope_size: any | null | undefined;\n    readonly max_session_count_per_model_session: number | null | undefined;\n    readonly max_vfolder_count: number | null | undefined;\n    readonly name: string;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"UserResourcePolicySettingModalFragment\">;\n  } | null | undefined> | null | undefined;\n};\nexport type UserResourcePolicyListQuery = {\n  response: UserResourcePolicyListQuery$data;\n  variables: UserResourcePolicyListQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"created_at\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_vfolder_count\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_session_count_per_model_session\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_quota_scope_size\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"max_customized_image_count\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"UserResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"UserResourcePolicySettingModalFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Operation\",\n    \"name\": \"UserResourcePolicyListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"UserResourcePolicy\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"user_resource_policies\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"00b0583474f74c417b06d53115787d3b\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"UserResourcePolicyListQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query UserResourcePolicyListQuery {\\n  user_resource_policies {\\n    id\\n    name\\n    created_at\\n    max_vfolder_count @since(version: \\\"23.09.6\\\")\\n    max_session_count_per_model_session @since(version: \\\"23.09.10\\\")\\n    max_quota_scope_size @since(version: \\\"23.09.2\\\")\\n    max_customized_image_count @since(version: \\\"24.03.0\\\")\\n    ...UserResourcePolicySettingModalFragment\\n  }\\n}\\n\\nfragment UserResourcePolicySettingModalFragment on UserResourcePolicy {\\n  id\\n  name\\n  max_vfolder_count @since(version: \\\"23.09.6\\\")\\n  max_session_count_per_model_session @since(version: \\\"23.09.10\\\")\\n  max_quota_scope_size @since(version: \\\"23.09.2\\\")\\n  max_customized_image_count @since(version: \\\"24.03.0\\\")\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"be57da0a1c15efb970cb1e828500e6dc\";\n\nexport default node;\n","/**\n * @generated SignedSource<<516cdfaea99cb07684f044e42d036873>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type ModifyUserResourcePolicyInput = {\n  max_customized_image_count?: number | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_session_count_per_model_session?: number | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n};\nexport type UserResourcePolicySettingModalModifyMutation$variables = {\n  name: string;\n  props: ModifyUserResourcePolicyInput;\n};\nexport type UserResourcePolicySettingModalModifyMutation$data = {\n  readonly modify_user_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type UserResourcePolicySettingModalModifyMutation = {\n  response: UserResourcePolicySettingModalModifyMutation$data;\n  variables: UserResourcePolicySettingModalModifyMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"ModifyUserResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_user_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"UserResourcePolicySettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"f33ed379f4871e357183803b340a938a\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"UserResourcePolicySettingModalModifyMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation UserResourcePolicySettingModalModifyMutation(\\n  $name: String!\\n  $props: ModifyUserResourcePolicyInput!\\n) {\\n  modify_user_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"d50cbcfb63bfd30da81fea8968bb6436\";\n\nexport default node;\n","/**\n * @generated SignedSource<<5e90d5b429e58268493ce58fa40b7c81>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type CreateUserResourcePolicyInput = {\n  max_customized_image_count?: number | null | undefined;\n  max_quota_scope_size?: any | null | undefined;\n  max_session_count_per_model_session?: number | null | undefined;\n  max_vfolder_count?: number | null | undefined;\n  max_vfolder_size?: any | null | undefined;\n};\nexport type UserResourcePolicySettingModalCreateMutation$variables = {\n  name: string;\n  props: CreateUserResourcePolicyInput;\n};\nexport type UserResourcePolicySettingModalCreateMutation$data = {\n  readonly create_user_resource_policy: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type UserResourcePolicySettingModalCreateMutation = {\n  response: UserResourcePolicySettingModalCreateMutation$data;\n  variables: UserResourcePolicySettingModalCreateMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"CreateUserResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"create_user_resource_policy\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"UserResourcePolicySettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"129c4a570d8ae1a075d9aa9261094c48\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"UserResourcePolicySettingModalCreateMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation UserResourcePolicySettingModalCreateMutation(\\n  $name: String!\\n  $props: CreateUserResourcePolicyInput!\\n) {\\n  create_user_resource_policy(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"9c00928ca86d4779838243df247257aa\";\n\nexport default node;\n","/**\n * @generated SignedSource<<c174f2aae0611f9833328ac9b877be73>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserResourcePolicySettingModalFragment$data = {\n  readonly id: string;\n  readonly max_customized_image_count: number | null | undefined;\n  readonly max_quota_scope_size: any | null | undefined;\n  readonly max_session_count_per_model_session: number | null | undefined;\n  readonly max_vfolder_count: number | null | undefined;\n  readonly name: string;\n  readonly \" $fragmentType\": \"UserResourcePolicySettingModalFragment\";\n};\nexport type UserResourcePolicySettingModalFragment$key = {\n  readonly \" $data\"?: UserResourcePolicySettingModalFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"UserResourcePolicySettingModalFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"UserResourcePolicySettingModalFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_vfolder_count\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_session_count_per_model_session\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_quota_scope_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_customized_image_count\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"UserResourcePolicy\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"d93790c2b9fef92baa6999ce770cd9da\";\n\nexport default node;\n","import {\n  CreateUserResourcePolicyInput,\n  UserResourcePolicySettingModalCreateMutation,\n} from '../__generated__/UserResourcePolicySettingModalCreateMutation.graphql';\nimport { UserResourcePolicySettingModalFragment$key } from '../__generated__/UserResourcePolicySettingModalFragment.graphql';\nimport {\n  ModifyUserResourcePolicyInput,\n  UserResourcePolicySettingModalModifyMutation,\n} from '../__generated__/UserResourcePolicySettingModalModifyMutation.graphql';\nimport { GBToBytes, bytesToGB } from '../helper';\nimport { SIGNED_32BIT_MAX_INT } from '../helper/const-vars';\nimport FormItemWithUnlimited from './FormItemWithUnlimited';\nimport {\n  Form,\n  Input,\n  Alert,\n  App,\n  InputNumber,\n  theme,\n  FormInstance,\n} from 'antd';\nimport { BAIModal, BAIModalProps, BAIFlex } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment, useMutation } from 'react-relay';\n\ninterface Props extends BAIModalProps {\n  existingPolicyNames?: string[];\n  userResourcePolicyFrgmt: UserResourcePolicySettingModalFragment$key | null;\n  onRequestClose: (success?: boolean) => void;\n}\n\nconst UserResourcePolicySettingModal: React.FC<Props> = ({\n  existingPolicyNames,\n  userResourcePolicyFrgmt = null,\n  onRequestClose,\n  ...baiModalProps\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { message } = App.useApp();\n\n  const formRef = useRef<FormInstance>(null);\n\n  const userResourcePolicy = useFragment(\n    graphql`\n      fragment UserResourcePolicySettingModalFragment on UserResourcePolicy {\n        id\n        name\n        # follows version of https://github.com/lablup/backend.ai/pull/1993\n        # --------------- START --------------------\n        max_vfolder_count @since(version: \"23.09.6\")\n        max_session_count_per_model_session @since(version: \"23.09.10\")\n        max_quota_scope_size @since(version: \"23.09.2\")\n        # ---------------- END ---------------------\n        max_customized_image_count @since(version: \"24.03.0\")\n      }\n    `,\n    userResourcePolicyFrgmt,\n  );\n\n  const [\n    commitCreateUserResourcePolicy,\n    isInFlightCommitCreateUserResourcePolicy,\n  ] = useMutation<UserResourcePolicySettingModalCreateMutation>(graphql`\n    mutation UserResourcePolicySettingModalCreateMutation(\n      $name: String!\n      $props: CreateUserResourcePolicyInput!\n    ) {\n      create_user_resource_policy(name: $name, props: $props) {\n        ok\n        msg\n      }\n    }\n  `);\n\n  const [\n    commitModifyUserResourcePolicy,\n    isInFlightCommitModifyUserResourcePolicy,\n  ] = useMutation<UserResourcePolicySettingModalModifyMutation>(graphql`\n    mutation UserResourcePolicySettingModalModifyMutation(\n      $name: String!\n      $props: ModifyUserResourcePolicyInput!\n    ) {\n      modify_user_resource_policy(name: $name, props: $props) {\n        ok\n        msg\n      }\n    }\n  `);\n\n  const initialValues = useMemo(() => {\n    let unlimitedValues = {};\n    if (userResourcePolicy === null) {\n      // Initialize unlimited values as a default when creating a new policy.\n      unlimitedValues = {\n        max_vfolder_count: 0,\n        max_quota_scope_size: -1,\n      };\n    }\n    let maxQuotaScopeSize = userResourcePolicy?.max_quota_scope_size;\n    maxQuotaScopeSize =\n      _.isUndefined(maxQuotaScopeSize) || maxQuotaScopeSize === -1\n        ? -1\n        : bytesToGB(maxQuotaScopeSize);\n    return {\n      ...unlimitedValues,\n      ...userResourcePolicy,\n      max_quota_scope_size: maxQuotaScopeSize,\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    userResourcePolicy,\n    userResourcePolicy?.max_vfolder_count,\n    userResourcePolicy?.max_quota_scope_size,\n  ]);\n\n  const handleOk = () => {\n    return formRef?.current\n      ?.validateFields()\n      .then((values) => {\n        const props:\n          | CreateUserResourcePolicyInput\n          | ModifyUserResourcePolicyInput = {\n          max_vfolder_count: values?.max_vfolder_count || 0,\n          max_quota_scope_size:\n            values?.max_quota_scope_size === -1\n              ? -1\n              : GBToBytes(values?.max_quota_scope_size),\n          max_session_count_per_model_session:\n            values?.max_session_count_per_model_session,\n          max_customized_image_count: values?.max_customized_image_count,\n        };\n        if (userResourcePolicy === null) {\n          commitCreateUserResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as CreateUserResourcePolicyInput,\n            },\n            onCompleted(res, errors) {\n              if (!res?.create_user_resource_policy?.ok || errors) {\n                message.error(\n                  res?.create_user_resource_policy?.msg ||\n                    t('resourcePolicy.CannotCreateResourcePolicy'),\n                );\n                onRequestClose();\n              } else {\n                message.success(\n                  t('storageHost.ResourcePolicySuccessfullyUpdated'),\n                );\n                onRequestClose(true);\n              }\n            },\n            onError(error) {\n              message.error(\n                error?.message ||\n                  t('resourcePolicy.CannotCreateResourcePolicy'),\n              );\n            },\n          });\n        } else {\n          commitModifyUserResourcePolicy({\n            variables: {\n              name: values?.name,\n              props: props as ModifyUserResourcePolicyInput,\n            },\n            onCompleted(res, errors) {\n              if (!res?.modify_user_resource_policy?.ok || errors) {\n                message.error(\n                  res?.modify_user_resource_policy?.msg ||\n                    t('resourcePolicy.CannotUpdateResourcePolicy'),\n                );\n                onRequestClose();\n              } else {\n                message.success(\n                  t('storageHost.ResourcePolicySuccessfullyUpdated'),\n                );\n                onRequestClose(true);\n              }\n            },\n            onError(error) {\n              message.error(\n                error?.message ||\n                  t('resourcePolicy.CannotUpdateResourcePolicy'),\n              );\n            },\n          });\n        }\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <BAIModal\n      title={\n        userResourcePolicy === null\n          ? t('resourcePolicy.CreateResourcePolicy')\n          : t('resourcePolicy.UpdateResourcePolicy')\n      }\n      onOk={handleOk}\n      onCancel={() => onRequestClose()}\n      destroyOnHidden\n      confirmLoading={\n        isInFlightCommitCreateUserResourcePolicy ||\n        isInFlightCommitModifyUserResourcePolicy\n      }\n      {...baiModalProps}\n    >\n      <Alert\n        title={t('storageHost.BeCarefulToSetUserResourcePolicy')}\n        type=\"warning\"\n        showIcon\n        style={{ marginBottom: token.marginMD }}\n      />\n      <Form\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={initialValues}\n        preserve={false}\n      >\n        <Form.Item\n          label={t('resourcePolicy.Name')}\n          name=\"name\"\n          required\n          rules={[\n            {\n              required: true,\n              message: t('data.explorer.ValueRequired'),\n            },\n            {\n              max: 255,\n            },\n            {\n              validator: (_, value) => {\n                if (\n                  !userResourcePolicy &&\n                  existingPolicyNames?.includes(value)\n                ) {\n                  return Promise.reject(\n                    t('resourcePolicy.ResourcePolicyNameAlreadyExists'),\n                  );\n                }\n                return Promise.resolve();\n              },\n            },\n          ]}\n        >\n          <Input disabled={!!userResourcePolicy} />\n        </Form.Item>\n        <BAIFlex\n          direction=\"column\"\n          align=\"stretch\"\n          gap={'md'}\n          style={{ marginBottom: token.marginMD }}\n        >\n          <FormItemWithUnlimited\n            name={'max_vfolder_count'}\n            unlimitedValue={0}\n            label={t('resourcePolicy.MaxFolderCount')}\n            style={{ width: '100%', margin: 0 }}\n          >\n            <InputNumber\n              min={0}\n              max={SIGNED_32BIT_MAX_INT}\n              style={{ width: '100%' }}\n            />\n          </FormItemWithUnlimited>\n          <FormItemWithUnlimited\n            name={'max_quota_scope_size'}\n            unlimitedValue={-1}\n            label={t('storageHost.MaxFolderSize')}\n            style={{ width: '100%', margin: 0 }}\n          >\n            <InputNumber\n              min={0}\n              // Maximum safe integer divided by 10^9 to prevent overflow when converting GB to bytes\n              max={Math.floor(Number.MAX_SAFE_INTEGER / Math.pow(10, 9))}\n              suffix=\"GB\"\n              style={{ width: '100%' }}\n            />\n          </FormItemWithUnlimited>\n        </BAIFlex>\n        <Form.Item\n          name={'max_session_count_per_model_session'}\n          label={t('resourcePolicy.MaxSessionCountPerModelSession')}\n          rules={[\n            { required: true, message: t('data.explorer.ValueRequired') },\n          ]}\n        >\n          <InputNumber\n            min={0}\n            max={SIGNED_32BIT_MAX_INT}\n            style={{ width: '100%' }}\n          />\n        </Form.Item>\n        <Form.Item\n          name={'max_customized_image_count'}\n          label={t('resourcePolicy.MaxCustomizedImageCount')}\n          rules={[\n            { required: true, message: t('data.explorer.ValueRequired') },\n          ]}\n        >\n          <InputNumber\n            min={0}\n            max={SIGNED_32BIT_MAX_INT}\n            style={{ width: '100%' }}\n          />\n        </Form.Item>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default UserResourcePolicySettingModal;\n","import { UserResourcePolicyListMutation } from '../__generated__/UserResourcePolicyListMutation.graphql';\nimport {\n  UserResourcePolicyListQuery,\n  UserResourcePolicyListQuery$data,\n} from '../__generated__/UserResourcePolicyListQuery.graphql';\nimport { UserResourcePolicySettingModalFragment$key } from '../__generated__/UserResourcePolicySettingModalFragment.graphql';\nimport {\n  bytesToGB,\n  localeCompare,\n  numberSorterWithInfinityValue,\n} from '../helper';\nimport { exportCSVWithFormattingRules } from '../helper/csv-util';\nimport { useHiddenColumnKeysSetting } from '../hooks/useHiddenColumnKeysSetting';\nimport TableColumnsSettingModal from './TableColumnsSettingModal';\nimport UserResourcePolicySettingModal from './UserResourcePolicySettingModal';\nimport {\n  DeleteOutlined,\n  PlusOutlined,\n  ReloadOutlined,\n  SettingOutlined,\n} from '@ant-design/icons';\nimport { useToggle } from 'ahooks';\nimport { App, Button, Dropdown, Popconfirm, theme, Tooltip } from 'antd';\nimport { ColumnType } from 'antd/es/table';\nimport {\n  useUpdatableState,\n  filterOutEmpty,\n  filterOutNullAndUndefined,\n  BAITable,\n  BAIFlex,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { EllipsisIcon } from 'lucide-react';\nimport React, { useState, useTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useLazyLoadQuery, useMutation } from 'react-relay';\n\ntype UserResourcePolicies = NonNullable<\n  NonNullable<\n    UserResourcePolicyListQuery$data['user_resource_policies']\n  >[number]\n>;\n\ninterface UserResourcePolicyListProps {}\n\nconst UserResourcePolicyList: React.FC<UserResourcePolicyListProps> = () => {\n  const { token } = theme.useToken();\n  const { t } = useTranslation();\n  const { message } = App.useApp();\n\n  const [isRefetchPending, startRefetchTransition] = useTransition();\n  const [userResourcePolicyFetchKey, updateUserResourcePolicyFetchKey] =\n    useUpdatableState('initial-fetch');\n  const [isCreatingPolicySetting, setIsCreatingPolicySetting] = useState(false);\n  const [visibleColumnSettingModal, { toggle: toggleColumnSettingModal }] =\n    useToggle();\n  const [inFlightResourcePolicyName, setInFlightResourcePolicyName] =\n    useState<string>();\n  const [editingUserResourcePolicy, setEditingUserResourcePolicy] =\n    useState<UserResourcePolicySettingModalFragment$key | null>();\n\n  const { user_resource_policies } =\n    useLazyLoadQuery<UserResourcePolicyListQuery>(\n      graphql`\n        query UserResourcePolicyListQuery {\n          user_resource_policies {\n            id\n            name\n            created_at\n            # follows version of https://github.com/lablup/backend.ai/pull/1993\n            # --------------- START --------------------\n            max_vfolder_count @since(version: \"23.09.6\")\n            max_session_count_per_model_session @since(version: \"23.09.10\")\n            max_quota_scope_size @since(version: \"23.09.2\")\n            # ---------------- END ---------------------\n            max_customized_image_count @since(version: \"24.03.0\")\n            ...UserResourcePolicySettingModalFragment\n          }\n        }\n      `,\n      {},\n      {\n        fetchPolicy:\n          userResourcePolicyFetchKey === 'initial-fetch'\n            ? 'store-and-network'\n            : 'network-only',\n        fetchKey: userResourcePolicyFetchKey,\n      },\n    );\n  const [commitDelete, isInflightDelete] =\n    useMutation<UserResourcePolicyListMutation>(graphql`\n      mutation UserResourcePolicyListMutation($name: String!) {\n        delete_user_resource_policy(name: $name) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const columns = filterOutEmpty<ColumnType<UserResourcePolicies>>([\n    {\n      title: t('resourcePolicy.Name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      sorter: (a, b) => localeCompare(a?.name, b?.name),\n    },\n    {\n      title: t('resourcePolicy.MaxVFolderCount'),\n      dataIndex: 'max_vfolder_count',\n      key: 'max_vfolder_count',\n      render: (text) => (_.toNumber(text) === 0 ? '' : text),\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_vfolder_count,\n          b?.max_vfolder_count,\n          0,\n        ),\n    },\n    {\n      title: t('resourcePolicy.MaxSessionCountPerModelSession'),\n      dataIndex: 'max_session_count_per_model_session',\n      key: 'max_session_count_per_model_session',\n      sorter: (a, b) =>\n        (a?.max_session_count_per_model_session ?? 0) -\n        (b?.max_session_count_per_model_session ?? 0),\n    },\n    {\n      title: t('resourcePolicy.MaxQuotaScopeSize'),\n      dataIndex: 'max_quota_scope_size',\n      key: 'max_quota_scope_size',\n      render: (text) => (text === -1 ? '' : bytesToGB(text)),\n      sorter: (a, b) =>\n        numberSorterWithInfinityValue(\n          a?.max_quota_scope_size,\n          b?.max_quota_scope_size,\n          -1,\n        ),\n    },\n    {\n      title: t('resourcePolicy.MaxCustomizedImageCount'),\n      key: 'max_customized_image_count',\n      dataIndex: 'max_customized_image_count',\n      sorter: (a, b) =>\n        (a?.max_customized_image_count ?? 0) -\n        (b?.max_customized_image_count ?? 0),\n    },\n    {\n      title: 'ID',\n      dataIndex: 'id',\n      key: 'id',\n      sorter: (a, b) => localeCompare(a?.id, b?.id),\n    },\n    {\n      title: t('resourcePolicy.CreatedAt'),\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => dayjs(text).format('lll'),\n      sorter: (a, b) => localeCompare(a?.created_at, b?.created_at),\n    },\n    {\n      title: t('general.Control'),\n      fixed: 'right',\n      key: 'control',\n      render: (_text: any, row: UserResourcePolicies) => (\n        <BAIFlex direction=\"row\" align=\"stretch\">\n          <Button\n            type=\"text\"\n            icon={<SettingOutlined />}\n            style={{\n              color: token.colorInfo,\n            }}\n            onClick={() => {\n              setEditingUserResourcePolicy(row);\n            }}\n          />\n          <Popconfirm\n            title={t('dialog.ask.DoYouWantToProceed')}\n            description={t('dialog.warning.CannotBeUndone')}\n            okType=\"danger\"\n            okText={t('button.Delete')}\n            onConfirm={() => {\n              if (row?.name) {\n                setInFlightResourcePolicyName(\n                  row.name + userResourcePolicyFetchKey,\n                );\n                commitDelete({\n                  variables: {\n                    name: row.name,\n                  },\n                  onCompleted: (res, errors) => {\n                    if (!res?.delete_user_resource_policy?.ok) {\n                      message.error(res?.delete_user_resource_policy?.msg);\n                      return;\n                    }\n                    if (errors && errors.length > 0) {\n                      const errorMsgList = errors.map((error) => error.message);\n                      for (const error of errorMsgList) {\n                        message.error(error);\n                      }\n                      return;\n                    }\n                    startRefetchTransition(() =>\n                      updateUserResourcePolicyFetchKey(),\n                    );\n                    message.success(t('resourcePolicy.SuccessfullyDeleted'));\n                  },\n                  onError(err) {\n                    message.error(err?.message);\n                  },\n                });\n              }\n            }}\n          >\n            <Button\n              type=\"text\"\n              icon={\n                <DeleteOutlined\n                  style={{\n                    color: token.colorError,\n                  }}\n                />\n              }\n              loading={\n                isInflightDelete &&\n                inFlightResourcePolicyName ===\n                  row?.name + userResourcePolicyFetchKey\n              }\n              disabled={\n                isInflightDelete &&\n                inFlightResourcePolicyName !==\n                  row?.name + userResourcePolicyFetchKey\n              }\n            />\n          </Popconfirm>\n        </BAIFlex>\n      ),\n    },\n  ]);\n\n  const [hiddenColumnKeys, setHiddenColumnKeys] = useHiddenColumnKeysSetting(\n    'UserResourcePolicyList',\n  );\n\n  const handleExportCSV = () => {\n    if (\n      !user_resource_policies ||\n      user_resource_policies.length === hiddenColumnKeys?.length\n    ) {\n      message.error(t('resourcePolicy.NoDataToExport'));\n      return;\n    }\n\n    const columnKeys = _.without(\n      _.map(columns, (column) => _.toString(column.key)),\n      'control',\n    );\n    const responseData = _.map(user_resource_policies, (policy) => {\n      return _.pick(\n        policy,\n        columnKeys.map((key) => key as keyof UserResourcePolicies),\n      );\n    });\n\n    exportCSVWithFormattingRules(\n      responseData as UserResourcePolicies[],\n      'user-resource-policies',\n      {\n        max_vfolder_count: (text) => (_.toNumber(text) === 0 ? '-' : text),\n        max_quota_scope_size: (text) => (text === -1 ? '-' : bytesToGB(text)),\n      },\n    );\n  };\n\n  return (\n    <BAIFlex direction=\"column\" align=\"stretch\" gap=\"sm\">\n      <BAIFlex direction=\"row\" justify=\"end\" wrap=\"wrap\" gap={'xs'}>\n        <BAIFlex\n          direction=\"row\"\n          gap={'xs'}\n          wrap=\"wrap\"\n          style={{ flexShrink: 1 }}\n        >\n          <Dropdown\n            menu={{\n              items: [\n                {\n                  key: 'exportCSV',\n                  label: t('resourcePolicy.ExportCSV'),\n                  onClick: () => {\n                    handleExportCSV();\n                  },\n                },\n              ],\n            }}\n            trigger={['click']}\n          >\n            <Button icon={<EllipsisIcon />} />\n          </Dropdown>\n          <BAIFlex gap={'xs'}>\n            <Tooltip title={t('button.Refresh')}>\n              <Button\n                icon={<ReloadOutlined />}\n                loading={isRefetchPending}\n                onClick={() => {\n                  startRefetchTransition(() =>\n                    updateUserResourcePolicyFetchKey(),\n                  );\n                }}\n              />\n            </Tooltip>\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              onClick={() => {\n                setIsCreatingPolicySetting(true);\n              }}\n            >\n              {t('button.Create')}\n            </Button>\n          </BAIFlex>\n        </BAIFlex>\n      </BAIFlex>\n      <BAITable\n        rowKey=\"id\"\n        showSorterTooltip={false}\n        columns={_.filter(\n          columns,\n          (column) => !_.includes(hiddenColumnKeys, _.toString(column?.key)),\n        )}\n        dataSource={filterOutNullAndUndefined(user_resource_policies)}\n        scroll={{ x: 'max-content' }}\n        pagination={{\n          extraContent: (\n            <Button\n              type=\"text\"\n              icon={<SettingOutlined />}\n              onClick={() => {\n                toggleColumnSettingModal();\n              }}\n            />\n          ),\n        }}\n      />\n      <TableColumnsSettingModal\n        open={visibleColumnSettingModal}\n        onRequestClose={(values) => {\n          values?.selectedColumnKeys &&\n            setHiddenColumnKeys(\n              _.difference(\n                columns.map((column) => _.toString(column.key)),\n                values?.selectedColumnKeys,\n              ),\n            );\n          toggleColumnSettingModal();\n        }}\n        columns={columns}\n        hiddenColumnKeys={hiddenColumnKeys}\n      />\n      <UserResourcePolicySettingModal\n        existingPolicyNames={_.map(user_resource_policies, 'name')}\n        open={!!editingUserResourcePolicy || isCreatingPolicySetting}\n        userResourcePolicyFrgmt={editingUserResourcePolicy || null}\n        onRequestClose={(success) => {\n          if (success) {\n            startRefetchTransition(() => updateUserResourcePolicyFetchKey());\n          }\n          setEditingUserResourcePolicy(null);\n          setIsCreatingPolicySetting(false);\n        }}\n      />\n    </BAIFlex>\n  );\n};\n\nexport default UserResourcePolicyList;\n","import KeypairResourcePolicyList from '../components/KeypairResourcePolicyList';\nimport ProjectResourcePolicyList from '../components/ProjectResourcePolicyList';\nimport UserResourcePolicyList from '../components/UserResourcePolicyList';\nimport { useWebUINavigate } from '../hooks';\nimport { Skeleton } from 'antd';\nimport { filterOutEmpty, BAICard } from 'backend.ai-ui';\nimport React, { Suspense } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport BAIErrorBoundary from 'src/components/BAIErrorBoundary';\nimport { withDefault, StringParam, useQueryParam } from 'use-query-params';\n\nconst tabParam = withDefault(StringParam, 'keypair');\n\ninterface ResourcePolicyPageProps {}\nconst ResourcePolicyPage: React.FC<ResourcePolicyPageProps> = () => {\n  const { t } = useTranslation();\n  const [curTabKey] = useQueryParam('tab', tabParam);\n  const webUINavigate = useWebUINavigate();\n\n  return (\n    <BAICard\n      activeTabKey={curTabKey}\n      onTabChange={(key) => {\n        webUINavigate(\n          {\n            pathname: '/resource-policy',\n            search: new URLSearchParams({\n              tab: key,\n            }).toString(),\n          },\n          {\n            params: {\n              tab: key,\n            },\n          },\n        );\n      }}\n      tabList={filterOutEmpty([\n        {\n          key: 'keypair',\n          label: t('resourcePolicy.Keypair'),\n        },\n        {\n          key: 'user',\n          label: t('resourcePolicy.User'),\n        },\n        {\n          key: 'project',\n          label: t('resourcePolicy.Project'),\n        },\n      ])}\n    >\n      <Suspense fallback={<Skeleton active />}>\n        {curTabKey === 'keypair' && (\n          <BAIErrorBoundary>\n            <KeypairResourcePolicyList />\n          </BAIErrorBoundary>\n        )}\n        {curTabKey === 'user' && (\n          <BAIErrorBoundary>\n            <UserResourcePolicyList />\n          </BAIErrorBoundary>\n        )}\n        {curTabKey === 'project' && (\n          <BAIErrorBoundary>\n            <ProjectResourcePolicyList />\n          </BAIErrorBoundary>\n        )}\n      </Suspense>\n    </BAICard>\n  );\n};\n\nexport default ResourcePolicyPage;\n","import { SearchOutlined } from '@ant-design/icons';\nimport { Checkbox, Input, theme, Form } from 'antd';\nimport { ColumnsType } from 'antd/es/table';\nimport { FormInstance } from 'antd/lib';\nimport { BAIModal, BAIModalProps } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface FormValues {\n  searchInput?: string;\n  selectedColumnKeys?: Array<string>;\n}\n\ninterface TableColumnsSettingProps extends BAIModalProps {\n  open: boolean;\n  onRequestClose: (formValues?: FormValues) => void;\n  columns: ColumnsType<any>;\n  hiddenColumnKeys?: Array<string>;\n}\n\nconst TableColumnsSettingModal: React.FC<TableColumnsSettingProps> = ({\n  open,\n  onRequestClose,\n  columns,\n  hiddenColumnKeys,\n  ...modalProps\n}) => {\n  const formRef = useRef<FormInstance>(null);\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n\n  const onChangeTitleToString: any = (element: any) => {\n    const text = React.Children.map(element.props.children, (child) => {\n      if (typeof child === 'string') {\n        return child;\n      }\n    });\n    return text;\n  };\n\n  const columnOptions = _.map(columns, (column) => {\n    if (typeof column.title === 'string') {\n      return {\n        label: column.title,\n        value: _.toString(column.key),\n      };\n    } else if (typeof column.title === 'object' && 'props' in column.title!) {\n      return {\n        label: onChangeTitleToString(column.title),\n        value: _.toString(column.key),\n      };\n    } else {\n      return {\n        label: undefined,\n        value: _.toString(column.key),\n      };\n    }\n  });\n\n  return (\n    <BAIModal\n      title={t('table.SettingTable')}\n      open={open}\n      destroyOnHidden\n      centered\n      onOk={() => {\n        formRef.current\n          ?.validateFields()\n          .then((values) => {\n            onRequestClose(values);\n          })\n          .catch(() => {});\n      }}\n      onCancel={() => {\n        onRequestClose();\n      }}\n      {...modalProps}\n    >\n      <Form\n        ref={formRef}\n        preserve={false}\n        initialValues={{\n          selectedColumnKeys: _.map(columnOptions, 'value')?.filter(\n            (columnKey) => !_.includes(hiddenColumnKeys, columnKey),\n          ),\n        }}\n        layout=\"vertical\"\n      >\n        <Form.Item\n          name=\"searchInput\"\n          label={t('table.SelectColumnToDisplay')}\n          style={{ marginBottom: 0 }}\n        >\n          <Input\n            prefix={<SearchOutlined />}\n            style={{ marginBottom: token.marginSM }}\n            placeholder={t('table.SearchTableColumn')}\n          />\n        </Form.Item>\n        <Form.Item\n          noStyle\n          shouldUpdate={(prev, cur) => prev.searchInput !== cur.searchInput}\n        >\n          {({ getFieldValue }) => {\n            const searchKeyword = getFieldValue('searchInput')\n              ? _.toLower(getFieldValue('searchInput'))\n              : undefined;\n\n            const filteredColumns = _.map(columnOptions, (columnOption) =>\n              _.toLower(_.toString(columnOption.label)).includes(\n                searchKeyword || '',\n              )\n                ? columnOption\n                : {\n                    ...columnOption,\n                    style: {\n                      display: 'none',\n                    },\n                  },\n            );\n            return (\n              <Form.Item\n                name=\"selectedColumnKeys\"\n                style={{\n                  height: 220,\n                  overflowY: 'auto',\n                }}\n                rules={[\n                  {\n                    required: true,\n                    message: t('general.validation.PleaseSelectOptions'),\n                  },\n                ]}\n              >\n                <Checkbox.Group\n                  options={filteredColumns}\n                  style={{ flexDirection: 'column' }}\n                />\n              </Form.Item>\n            );\n          }}\n        </Form.Item>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default TableColumnsSettingModal;\n"],"names":["useHiddenColumnKeysSetting","listName","hiddenColumnKeys","setHiddenColumnKeys","useBAISettingUserState","concat","node","v0","v1","hash","v2","v3","v4","v5","v6","v7","v8","useStyles","createStyles","_ref","css","description","_templateObject","_taggedTemplateLiteral","_ref2","open","onRequestClose","resourcePolicyFrgmt","modalProps","_objectWithoutProperties","_excluded","styles","t","useTranslation","token","theme","useToken","resourcePolicy","useFragment","_KeypairResourcePolicyInfoModalFragment","descriptionItems","filterOutEmpty","label","children","_jsx","Typography","Text","copyable","name","default_for_unspecified","dayjs","created_at","format","total_resource_slots","_","JSON","parse","Descriptions","className","size","column","Item","BAIFlex","direction","align","style","width","v","type","BAIResourceNumberWithIcon","value","allowed_vfolder_hosts","BAIAllowedVfolderHostsWithPermission","allowedHostPermissionFrgmtFromKeyPair","max_concurrent_sessions","max_containers_per_session","idle_timeout","max_session_lifetime","max_pending_session_count","max_concurrent_sftp_sessions","max_pending_session_resource_slots","BAIModal","_objectSpread","onCancel","footer","title","centered","screenSM","bordered","items","unlimitedValue","disableUnlimited","formItemPropsWithoutNameAndChildren","isUnlimited","setIsUnlimited","useState","form","Form","useFormInstance","useEffect","fieldValue","getFieldValue","childrenWithProps","isValidElement","cloneElement","disabled","childrenWithUndefinedValue","undefined","_jsxs","margin","hidden","Checkbox","checked","onChange","e","target","setFieldValue","resetFields","existingPolicyNames","keypairResourcePolicyFrgmt","props","message","App","useApp","formRef","useRef","resourceSlots","useResourceSlots","mergedResourceSlots","useResourceSlotsDetails","baiClient","useSuspendedBackendaiClient","keypairResourcePolicy","_KeypairResourcePolicySettingModalFragment","commitCreateKeypairResourcePolicy","isInFlightCommitCreateUserSetting","useMutation","_KeypairResourcePolicySettingModalCreateMutation","commitModifyKeypairResourcePolicy","isInFlightCommitModifyUserSetting","_KeypairResourcePolicySettingModalModifyMutation","initialValues","useMemo","_keypairResourcePolic","_keypairResourcePolic2","_keypairResourcePolic3","_keypairResourcePolic4","_keypairResourcePolic5","_keypairResourcePolic6","_keypairResourcePolic7","_$keys","_keypairResourcePolic8","_keypairResourcePolic9","parsedVfolderHosts","parsedTotalResourceSlots","mem","_autoUniResult","_autoUniResult2","_autoUniResult3","autoUniResult","convertToBinaryUnit","unit","onOk","handleOk","_formRef$current","current","validateFields","then","values","key","_convertToBinaryUnit","numberFixed","hostName","_initialValues$allowe","includes","_name","restValues","_excluded2","stringify","variables","onCompleted","res","_res$create_keypair_r","_res$create_keypair_r2","_res$create_keypair_r3","_res$create_keypair_r4","create_keypair_resource_policy","ok","msg","success","error","onError","err","errors","_res$modify_keypair_r","_res$modify_keypair_r2","modify_keypair_resource_policy","length","forEach","catch","destroyOnHidden","confirmLoading","requiredMark","ref","layout","preserve","required","rules","max","validator","Promise","reject","resolve","Input","gap","Tooltip","_Fragment","placement","QuestionCircleOutlined","color","colorTextSecondary","cursor","Select","options","Card","keys","chunk","map","resourceSlotKeys","index","Row","gutter","resourceSlotKey","_$get","_$get2","Col","xs","span","md","alignSelf","marginBottom","marginLG","FormItemWithUnlimited","__","number","Error","BAIDynamicUnitInputNumber","InputNumber","min","MAX_CPU_QUOTA","step","suffix","display_unit","SIGNED_32BIT_MAX_INT","supports","Number","MAX_SAFE_INTEGER","BAIAllowedHostNamesSelect","mode","Ellipsis","createLucideIcon","cx","cy","r","modal","keypairResourcePolicyFetchKey","updateKeypairResourcePolicyFetchKey","useUpdatableState","isRefetchPending","startRefetchTransition","useTransition","visibleColumnSettingModal","toggle","toggleColumnSettingModal","useToggle","isCreatingPolicySetting","setIsCreatingPolicySetting","inFlightResourcePolicyName","setInFlightResourcePolicyName","editingKeypairResourcePolicy","setEditingKeypairResourcePolicy","currentResourcePolicy","setCurrentResourcePolicy","isPendingInfoModalOpen","startInfoModalOpenTransition","keypair_resource_policies","useLazyLoadQuery","_KeypairResourcePolicyListQuery","fetchPolicy","fetchKey","commitDelete","isInflightDelete","_KeypairResourcePolicyListMutation","columns","dataIndex","fixed","sorter","a","b","localeCompare","render","_text","row","text","numberSorterWithInfinityValue","Button","icon","InfoCircleOutlined","colorInfo","onClick","SettingOutlined","DeleteOutlined","colorError","loading","confirm","content","strong","okButtonProps","danger","okText","_res$delete_keypair_r","_res$delete_keypair_r2","delete_keypair_resource_policy","errorMsgList","justify","wrap","Dropdown","menu","handleExportCSV","columnKeys","responseData","policy","exportCSVWithFormattingRules","join","trigger","EllipsisIcon","flexShrink","ReloadOutlined","PlusOutlined","BAITable","dataSource","rowKey","scroll","x","pagination","extraContent","showSorterTooltip","TableColumnsSettingModal","selectedColumnKeys","Suspense","KeypairResourcePolicySettingModal","KeypairResourcePolicyInfoModal","projectResourcePolicyFrgmt","baiModalProps","supportMaxNetworkCount","projectResourcePolicy","_ProjectResourcePolicySettingModalFragment","commitCreateProjectResourcePolicy","isInFlightCommitCreateProjectResourcePolicy","_ProjectResourcePolicySettingModalCreateMutation","commitModifyProjectResourcePolicy","isInFlightCommitModifyProjectResourcePolicy","_ProjectResourcePolicySettingModalModifyMutation","unlimitedValues","max_vfolder_count","max_quota_scope_size","max_network_count","maxQuotaScopeSize","bytesToGB","GBToBytes","_res$create_project_r","_res$create_project_r2","create_project_resource_policy","_res$modify_project_r","_res$modify_project_r2","modify_project_resource_policy","Alert","showIcon","marginMD","Math","floor","pow","ProjectResourcePolicyList","projectResourcePolicyFetchKey","updateProjectResourcePolicyFetchKey","editingProjectResourcePolicy","setEditingProjectResourcePolicy","project_resource_policies","_ProjectResourcePolicyListQuery","_ProjectResourcePolicyListMutation","id","Popconfirm","okType","onConfirm","_res$delete_project_r","_res$delete_project_r2","delete_project_resource_policy","columnkeys","filterOutNullAndUndefined","ProjectResourcePolicySettingModal","userResourcePolicyFrgmt","userResourcePolicy","_UserResourcePolicySettingModalFragment","commitCreateUserResourcePolicy","isInFlightCommitCreateUserResourcePolicy","_UserResourcePolicySettingModalCreateMutation","commitModifyUserResourcePolicy","isInFlightCommitModifyUserResourcePolicy","_UserResourcePolicySettingModalModifyMutation","max_session_count_per_model_session","max_customized_image_count","_res$create_user_reso","_res$create_user_reso2","create_user_resource_policy","_res$modify_user_reso","_res$modify_user_reso2","modify_user_resource_policy","UserResourcePolicyList","userResourcePolicyFetchKey","updateUserResourcePolicyFetchKey","editingUserResourcePolicy","setEditingUserResourcePolicy","user_resource_policies","_UserResourcePolicyListQuery","_UserResourcePolicyListMutation","_a$max_session_count_","_b$max_session_count_","_a$max_customized_ima","_b$max_customized_ima","_res$delete_user_reso","_res$delete_user_reso2","delete_user_resource_policy","UserResourcePolicySettingModal","tabParam","withDefault","StringParam","ResourcePolicyPage","curTabKey","useQueryParam","webUINavigate","useWebUINavigate","BAICard","activeTabKey","onTabChange","pathname","search","URLSearchParams","tab","toString","params","tabList","fallback","Skeleton","active","BAIErrorBoundary","KeypairResourcePolicyList","_$map","columnOptions","element","React","child","filter","columnKey","prefix","SearchOutlined","marginSM","placeholder","noStyle","shouldUpdate","prev","cur","searchInput","searchKeyword","filteredColumns","columnOption","display","height","overflowY","Group","flexDirection"],"ignoreList":[],"sourceRoot":""}