"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6769],{18864:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(75890),r=t(53350);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};var c=t(4273),i=function(e,n){return r.createElement(c.A,(0,o.A)({},e,{ref:n,icon:a}))};const l=r.forwardRef(i)},92657:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(75890),r=t(53350);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};var c=t(4273),i=function(e,n){return r.createElement(c.A,(0,o.A)({},e,{ref:n,icon:a}))};const l=r.forwardRef(i)},34869:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(75890),r=t(53350);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};var c=t(4273),i=function(e,n){return r.createElement(c.A,(0,o.A)({},e,{ref:n,icon:a}))};const l=r.forwardRef(i)},25206:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(75890),r=t(53350);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};var c=t(4273),i=function(e,n){return r.createElement(c.A,(0,o.A)({},e,{ref:n,icon:a}))};const l=r.forwardRef(i)},18682:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(75890),r=t(53350);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};var c=t(4273),i=function(e,n){return r.createElement(c.A,(0,o.A)({},e,{ref:n,icon:a}))};const l=r.forwardRef(i)},79190:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var o=t(75890),r=t(66313),a=t(3205),c=t(97294),i=t(69826),l=t(32511),s=t(62097),u=t.n(s);function f(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var m=t(5596),d=t(53350),v=t(69833),h=t(26325),p=t(5051),g=t(38932),C=t(3558),A=d.createContext(null);const w=function(e){var n=e.visible,t=e.maskTransitionName,o=e.getContainer,c=e.prefixCls,i=e.rootClassName,l=e.icons,s=e.countRender,f=e.showSwitch,m=e.showProgress,v=e.current,h=e.transform,w=e.count,b=e.scale,y=e.minScale,x=e.maxScale,k=e.closeIcon,R=e.onActive,E=e.onClose,S=e.onZoomIn,N=e.onZoomOut,T=e.onRotateRight,I=e.onRotateLeft,z=e.onFlipX,Y=e.onFlipY,M=e.onReset,X=e.toolbarRender,P=e.zIndex,L=e.image,H=(0,d.useContext)(A),Z=l.rotateLeft,O=l.rotateRight,F=l.zoomIn,V=l.zoomOut,W=l.close,B=l.left,D=l.right,_=l.flipX,j=l.flipY,G="".concat(c,"-operations-operation");d.useEffect((function(){var e=function(e){e.keyCode===p.A.ESC&&E()};return n&&window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);var U=function(e,n){e.preventDefault(),e.stopPropagation(),R(n)},$=d.useCallback((function(e){var n=e.type,t=e.disabled,o=e.onClick,r=e.icon;return d.createElement("div",{key:n,className:u()(G,"".concat(c,"-operations-operation-").concat(n),(0,a.A)({},"".concat(c,"-operations-operation-disabled"),!!t)),onClick:o},r)}),[G,c]),q=f?$({icon:B,onClick:function(e){return U(e,-1)},type:"prev",disabled:0===v}):void 0,J=f?$({icon:D,onClick:function(e){return U(e,1)},type:"next",disabled:v===w-1}):void 0,K=$({icon:j,onClick:Y,type:"flipY"}),Q=$({icon:_,onClick:z,type:"flipX"}),ee=$({icon:Z,onClick:I,type:"rotateLeft"}),ne=$({icon:O,onClick:T,type:"rotateRight"}),te=$({icon:V,onClick:N,type:"zoomOut",disabled:b<=y}),oe=$({icon:F,onClick:S,type:"zoomIn",disabled:b===x}),re=d.createElement("div",{className:"".concat(c,"-operations")},K,Q,ee,ne,te,oe);return d.createElement(C.default,{visible:n,motionName:t},(function(e){var n=e.className,t=e.style;return d.createElement(g.A,{open:!0,getContainer:null!==o&&void 0!==o?o:document.body},d.createElement("div",{className:u()("".concat(c,"-operations-wrapper"),n,i),style:(0,r.A)((0,r.A)({},t),{},{zIndex:P})},null===k?null:d.createElement("button",{className:"".concat(c,"-close"),onClick:E},k||W),f&&d.createElement(d.Fragment,null,d.createElement("div",{className:u()("".concat(c,"-switch-left"),(0,a.A)({},"".concat(c,"-switch-left-disabled"),0===v)),onClick:function(e){return U(e,-1)}},B),d.createElement("div",{className:u()("".concat(c,"-switch-right"),(0,a.A)({},"".concat(c,"-switch-right-disabled"),v===w-1)),onClick:function(e){return U(e,1)}},D)),d.createElement("div",{className:"".concat(c,"-footer")},m&&d.createElement("div",{className:"".concat(c,"-progress")},s?s(v+1,w):"".concat(v+1," / ").concat(w)),X?X(re,(0,r.A)((0,r.A)({icons:{prevIcon:q,nextIcon:J,flipYIcon:K,flipXIcon:Q,rotateLeftIcon:ee,rotateRightIcon:ne,zoomOutIcon:te,zoomInIcon:oe},actions:{onActive:R,onFlipY:Y,onFlipX:z,onRotateLeft:I,onRotateRight:T,onZoomOut:N,onZoomIn:S,onReset:M,onClose:E},transform:h},H?{current:v,total:w}:{}),{},{image:L})):re)))}))};var b=t(72857),y=t(93256),x={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};var k=t(22085);function R(e,n,t,o){var r=n+t,c=(t-o)/2;if(t>o){if(n>0)return(0,a.A)({},e,c);if(n<0&&r<o)return(0,a.A)({},e,-c)}else if(n<0||r>o)return(0,a.A)({},e,n<0?c:-c);return{}}function E(e,n,t,o){var a=f(),c=a.width,i=a.height,l=null;return e<=c&&n<=i?l={x:0,y:0}:(e>c||n>i)&&(l=(0,r.A)((0,r.A)({},R("x",t,e,c)),R("y",o,n,i))),l}function S(e){var n=e.src,t=e.isCustomPlaceholder,o=e.fallback,r=(0,d.useState)(t?"loading":"normal"),a=(0,c.A)(r,2),i=a[0],l=a[1],s=(0,d.useRef)(!1),u="error"===i;(0,d.useEffect)((function(){var e=!0;return function(e){return new Promise((function(n){var t=document.createElement("img");t.onerror=function(){return n(!1)},t.onload=function(){return n(!0)},t.src=e}))}(n).then((function(n){!n&&e&&l("error")})),function(){e=!1}}),[n]),(0,d.useEffect)((function(){t&&!s.current?l("loading"):u&&l("normal")}),[n]);var f=function(){l("normal")};return[function(e){s.current=!1,"loading"===i&&null!==e&&void 0!==e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(s.current=!0,f())},u&&o?{src:o}:{onLoad:f,src:n},i]}function N(e,n){var t=e.x-n.x,o=e.y-n.y;return Math.hypot(t,o)}function T(e,n,t,o,a,i,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,v=(0,d.useState)(!1),p=(0,c.A)(v,2),g=p[0],C=p[1],A=(0,d.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),w=function(e){A.current=(0,r.A)((0,r.A)({},A.current),e)};return(0,d.useEffect)((function(){var e;return t&&n&&(e=(0,h.A)(window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1})),function(){var n;null===(n=e)||void 0===n||n.remove()}}),[t,n]),{isTouching:g,onTouchStart:function(e){if(n){e.stopPropagation(),C(!0);var t=e.touches,o=void 0===t?[]:t;o.length>1?w({point1:{x:o[0].clientX,y:o[0].clientY},point2:{x:o[1].clientX,y:o[1].clientY},eventType:"touchZoom"}):w({point1:{x:o[0].clientX-f,y:o[0].clientY-m},eventType:"move"})}},onTouchMove:function(e){var n=e.touches,t=void 0===n?[]:n,o=A.current,r=o.point1,a=o.point2,s=o.eventType;if(t.length>1&&"touchZoom"===s){var u={x:t[0].clientX,y:t[0].clientY},f={x:t[1].clientX,y:t[1].clientY},m=function(e,n,t,o){var r=N(e,t),a=N(n,o);if(0===r&&0===a)return[e.x,e.y];var c=r/(r+a);return[e.x+c*(n.x-e.x),e.y+c*(n.y-e.y)]}(r,a,u,f),d=(0,c.A)(m,2),v=d[0],h=d[1],p=N(u,f)/N(r,a);l(p,"touchZoom",v,h,!0),w({point1:u,point2:f,eventType:"touchZoom"})}else"move"===s&&(i({x:t[0].clientX-r.x,y:t[0].clientY-r.y},"move"),w({eventType:"move"}))},onTouchEnd:function(){if(t){if(g&&C(!1),w({eventType:"none"}),o>u)return i({x:0,y:0,scale:o},"touchZoom");var n=e.current.offsetWidth*u,a=e.current.offsetHeight*u,c=e.current.getBoundingClientRect(),l=c.left,f=c.top,m=s%180!==0,d=E(m?a:n,m?n:a,l,f);d&&i((0,r.A)({},d),"dragRebound")}}}}var I=["fallback","src","imgRef"],z=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Y=function(e){var n=e.fallback,t=e.src,r=e.imgRef,a=(0,l.A)(e,I),i=S({src:t,fallback:n}),s=(0,c.A)(i,2),u=s[0],f=s[1];return d.createElement("img",(0,o.A)({ref:function(e){r.current=e,u(e)}},a,f))};const M=function(e){var n=e.prefixCls,t=e.src,i=e.alt,s=e.imageInfo,m=e.fallback,g=e.movable,C=void 0===g||g,R=e.onClose,S=e.visible,N=e.icons,I=void 0===N?{}:N,M=e.rootClassName,X=e.closeIcon,P=e.getContainer,L=e.current,H=void 0===L?0:L,Z=e.count,O=void 0===Z?1:Z,F=e.countRender,V=e.scaleStep,W=void 0===V?.5:V,B=e.minScale,D=void 0===B?1:B,_=e.maxScale,j=void 0===_?50:_,G=e.transitionName,U=void 0===G?"zoom":G,$=e.maskTransitionName,q=void 0===$?"fade":$,J=e.imageRender,K=e.imgCommonProps,Q=e.toolbarRender,ee=e.onTransform,ne=e.onChange,te=(0,l.A)(e,z),oe=(0,d.useRef)(),re=(0,d.useContext)(A),ae=re&&O>1,ce=re&&O>=1,ie=(0,d.useState)(!0),le=(0,c.A)(ie,2),se=le[0],ue=le[1],fe=function(e,n,t,o){var a=(0,d.useRef)(null),i=(0,d.useRef)([]),l=(0,d.useState)(x),s=(0,c.A)(l,2),u=s[0],m=s[1],v=function(e,n){null===a.current&&(i.current=[],a.current=(0,y.A)((function(){m((function(e){var t=e;return i.current.forEach((function(e){t=(0,r.A)((0,r.A)({},t),e)})),a.current=null,null===o||void 0===o||o({transform:t,action:n}),t}))}))),i.current.push((0,r.A)((0,r.A)({},u),e))};return{transform:u,resetTransform:function(e){m(x),(0,b.A)(x,u)||null===o||void 0===o||o({transform:x,action:e})},updateTransform:v,dispatchZoomChange:function(o,r,a,c,i){var l=e.current,s=l.width,m=l.height,d=l.offsetWidth,h=l.offsetHeight,p=l.offsetLeft,g=l.offsetTop,C=o,A=u.scale*o;A>t?(A=t,C=t/u.scale):A<n&&(C=(A=i?A:n)/u.scale);var w=null!==a&&void 0!==a?a:innerWidth/2,b=null!==c&&void 0!==c?c:innerHeight/2,y=C-1,x=y*s*.5,k=y*m*.5,R=y*(w-u.x-p),E=y*(b-u.y-g),S=u.x-(R-x),N=u.y-(E-k);if(o<1&&1===A){var T=d*A,I=h*A,z=f(),Y=z.width,M=z.height;T<=Y&&I<=M&&(S=0,N=0)}v({x:S,y:N,scale:A},r)}}}(oe,D,j,ee),me=fe.transform,de=fe.resetTransform,ve=fe.updateTransform,he=fe.dispatchZoomChange,pe=function(e,n,t,o,a,i,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,v=(0,d.useState)(!1),p=(0,c.A)(v,2),g=p[0],C=p[1],A=(0,d.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),w=function(e){t&&g&&i({x:e.pageX-A.current.diffX,y:e.pageY-A.current.diffY},"move")},b=function(){if(t&&g){C(!1);var n=A.current,o=n.transformX,a=n.transformY;if(f===o||m===a)return;var c=e.current.offsetWidth*u,l=e.current.offsetHeight*u,d=e.current.getBoundingClientRect(),v=d.left,h=d.top,p=s%180!==0,w=E(p?l:c,p?c:l,v,h);w&&i((0,r.A)({},w),"dragRebound")}};return(0,d.useEffect)((function(){var e,t,o,r;if(n){o=(0,h.A)(window,"mouseup",b,!1),r=(0,h.A)(window,"mousemove",w,!1);try{window.top!==window.self&&(e=(0,h.A)(window.top,"mouseup",b,!1),t=(0,h.A)(window.top,"mousemove",w,!1))}catch(a){(0,k.$e)(!1,"[rc-image] ".concat(a))}}return function(){var n,a,c,i;null===(n=o)||void 0===n||n.remove(),null===(a=r)||void 0===a||a.remove(),null===(c=e)||void 0===c||c.remove(),null===(i=t)||void 0===i||i.remove()}}),[t,g,f,m,s,n]),{isMoving:g,onMouseDown:function(e){n&&0===e.button&&(e.preventDefault(),e.stopPropagation(),A.current={diffX:e.pageX-f,diffY:e.pageY-m,transformX:f,transformY:m},C(!0))},onMouseMove:w,onMouseUp:b,onWheel:function(e){if(t&&0!=e.deltaY){var n=Math.abs(e.deltaY/100),r=1+Math.min(n,1)*o;e.deltaY>0&&(r=1/r),l(r,"wheel",e.clientX,e.clientY)}}}}(oe,C,S,W,me,ve,he),ge=pe.isMoving,Ce=pe.onMouseDown,Ae=pe.onWheel,we=T(oe,C,S,D,me,ve,he),be=we.isTouching,ye=we.onTouchStart,xe=we.onTouchMove,ke=we.onTouchEnd,Re=me.rotate,Ee=me.scale,Se=u()((0,a.A)({},"".concat(n,"-moving"),ge));(0,d.useEffect)((function(){se||ue(!0)}),[se]);var Ne=function(e){var n=H+e;!Number.isInteger(n)||n<0||n>O-1||(ue(!1),de(e<0?"prev":"next"),null===ne||void 0===ne||ne(n,H))},Te=function(e){S&&ae&&(e.keyCode===p.A.LEFT?Ne(-1):e.keyCode===p.A.RIGHT&&Ne(1))};(0,d.useEffect)((function(){var e=(0,h.A)(window,"keydown",Te,!1);return function(){e.remove()}}),[S,ae,H]);var Ie=d.createElement(Y,(0,o.A)({},K,{width:e.width,height:e.height,imgRef:oe,className:"".concat(n,"-img"),alt:i,style:{transform:"translate3d(".concat(me.x,"px, ").concat(me.y,"px, 0) scale3d(").concat(me.flipX?"-":"").concat(Ee,", ").concat(me.flipY?"-":"").concat(Ee,", 1) rotate(").concat(Re,"deg)"),transitionDuration:(!se||be)&&"0s"},fallback:m,src:t,onWheel:Ae,onMouseDown:Ce,onDoubleClick:function(e){S&&(1!==Ee?ve({x:0,y:0,scale:1},"doubleClick"):he(1+W,"doubleClick",e.clientX,e.clientY))},onTouchStart:ye,onTouchMove:xe,onTouchEnd:ke,onTouchCancel:ke})),ze=(0,r.A)({url:t,alt:i},s);return d.createElement(d.Fragment,null,d.createElement(v.default,(0,o.A)({transitionName:U,maskTransitionName:q,closable:!1,keyboard:!0,prefixCls:n,onClose:R,visible:S,classNames:{wrapper:Se},rootClassName:M,getContainer:P},te,{afterClose:function(){de("close")}}),d.createElement("div",{className:"".concat(n,"-img-wrapper")},J?J(Ie,(0,r.A)({transform:me,image:ze},re?{current:H}:{})):Ie)),d.createElement(w,{visible:S,transform:me,maskTransitionName:q,closeIcon:X,getContainer:P,prefixCls:n,rootClassName:M,icons:I,countRender:F,showSwitch:ae,showProgress:ce,current:H,count:O,scale:Ee,minScale:D,maxScale:j,toolbarRender:Q,onActive:Ne,onZoomIn:function(){he(1+W,"zoomIn")},onZoomOut:function(){he(1/(1+W),"zoomOut")},onRotateRight:function(){ve({rotate:Re+90},"rotateRight")},onRotateLeft:function(){ve({rotate:Re-90},"rotateLeft")},onFlipX:function(){ve({flipX:!me.flipX},"flipX")},onFlipY:function(){ve({flipY:!me.flipY},"flipY")},onClose:R,onReset:function(){de("reset")},zIndex:void 0!==te.zIndex?te.zIndex+1:void 0,image:ze}))};var X=t(78546),P=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];var L=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],H=["src"];var Z=0;var O=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],F=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],V=function(e){var n=e.src,t=e.alt,s=e.onPreviewClose,f=e.prefixCls,v=void 0===f?"rc-image":f,h=e.previewPrefixCls,p=void 0===h?"".concat(v,"-preview"):h,g=e.placeholder,C=e.fallback,w=e.width,b=e.height,y=e.style,x=e.preview,k=void 0===x||x,R=e.className,E=e.onClick,N=e.onError,T=e.wrapperClassName,I=e.wrapperStyle,z=e.rootClassName,Y=(0,l.A)(e,O),X=g&&!0!==g,L="object"===(0,i.A)(k)?k:{},H=L.src,V=L.visible,W=void 0===V?void 0:V,B=L.onVisibleChange,D=void 0===B?s:B,_=L.getContainer,j=void 0===_?void 0:_,G=L.mask,U=L.maskClassName,$=L.movable,q=L.icons,J=L.scaleStep,K=L.minScale,Q=L.maxScale,ee=L.imageRender,ne=L.toolbarRender,te=(0,l.A)(L,F),oe=null!==H&&void 0!==H?H:n,re=(0,m.A)(!!W,{value:W,onChange:D}),ae=(0,c.A)(re,2),ce=ae[0],ie=ae[1],le=S({src:n,isCustomPlaceholder:X,fallback:C}),se=(0,c.A)(le,3),ue=se[0],fe=se[1],me=se[2],de=(0,d.useState)(null),ve=(0,c.A)(de,2),he=ve[0],pe=ve[1],ge=(0,d.useContext)(A),Ce=!!k,Ae=u()(v,T,z,(0,a.A)({},"".concat(v,"-error"),"error"===me)),we=(0,d.useMemo)((function(){var n={};return P.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n}),P.map((function(n){return e[n]}))),be=function(e,n){var t=d.useState((function(){return String(Z+=1)})),o=(0,c.A)(t,1)[0],r=d.useContext(A),a={data:n,canPreview:e};return d.useEffect((function(){if(r)return r.register(o,a)}),[]),d.useEffect((function(){r&&r.register(o,a)}),[e,n]),o}(Ce,(0,d.useMemo)((function(){return(0,r.A)((0,r.A)({},we),{},{src:oe})}),[oe,we]));return d.createElement(d.Fragment,null,d.createElement("div",(0,o.A)({},Y,{className:Ae,onClick:Ce?function(e){var n=function(e){var n=e.getBoundingClientRect(),t=document.documentElement;return{left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}(e.target),t=n.left,o=n.top;ge?ge.onPreview(be,oe,t,o):(pe({x:t,y:o}),ie(!0)),null===E||void 0===E||E(e)}:E,style:(0,r.A)({width:w,height:b},I)}),d.createElement("img",(0,o.A)({},we,{className:u()("".concat(v,"-img"),(0,a.A)({},"".concat(v,"-img-placeholder"),!0===g),R),style:(0,r.A)({height:b},y),ref:ue},fe,{width:w,height:b,onError:N})),"loading"===me&&d.createElement("div",{"aria-hidden":"true",className:"".concat(v,"-placeholder")},g),G&&Ce&&d.createElement("div",{className:u()("".concat(v,"-mask"),U),style:{display:"none"===(null===y||void 0===y?void 0:y.display)?"none":void 0}},G)),!ge&&Ce&&d.createElement(M,(0,o.A)({"aria-hidden":!ce,visible:ce,prefixCls:p,onClose:function(){ie(!1),pe(null)},mousePosition:he,src:oe,alt:t,imageInfo:{width:w,height:b},fallback:C,getContainer:j,icons:q,movable:$,scaleStep:J,minScale:K,maxScale:Q,rootClassName:z,imageRender:ee,imgCommonProps:we,toolbarRender:ne},te)))};V.PreviewGroup=function(e){var n,t=e.previewPrefixCls,s=void 0===t?"rc-image-preview":t,u=e.children,f=e.icons,v=void 0===f?{}:f,h=e.items,p=e.preview,g=e.fallback,C="object"===(0,i.A)(p)?p:{},w=C.visible,b=C.onVisibleChange,y=C.getContainer,x=C.current,k=C.movable,R=C.minScale,E=C.maxScale,S=C.countRender,N=C.closeIcon,T=C.onChange,I=C.onTransform,z=C.toolbarRender,Y=C.imageRender,Z=(0,l.A)(C,L),O=function(e){var n=d.useState({}),t=(0,c.A)(n,2),o=t[0],i=t[1],l=d.useCallback((function(e,n){return i((function(t){return(0,r.A)((0,r.A)({},t),{},(0,a.A)({},e,n))})),function(){i((function(n){var t=(0,r.A)({},n);return delete t[e],t}))}}),[]);return[d.useMemo((function(){return e?e.map((function(e){if("string"===typeof e)return{data:{src:e}};var n={};return Object.keys(e).forEach((function(t){["src"].concat((0,X.A)(P)).includes(t)&&(n[t]=e[t])})),{data:n}})):Object.keys(o).reduce((function(e,n){var t=o[n],r=t.canPreview,a=t.data;return r&&e.push({data:a,id:n}),e}),[])}),[e,o]),l,!!e]}(h),F=(0,c.A)(O,3),V=F[0],W=F[1],B=F[2],D=(0,m.A)(0,{value:x}),_=(0,c.A)(D,2),j=_[0],G=_[1],U=(0,d.useState)(!1),$=(0,c.A)(U,2),q=$[0],J=$[1],K=(null===(n=V[j])||void 0===n?void 0:n.data)||{},Q=K.src,ee=(0,l.A)(K,H),ne=(0,m.A)(!!w,{value:w,onChange:function(e,n){null===b||void 0===b||b(e,n,j)}}),te=(0,c.A)(ne,2),oe=te[0],re=te[1],ae=(0,d.useState)(null),ce=(0,c.A)(ae,2),ie=ce[0],le=ce[1],se=d.useCallback((function(e,n,t,o){var r=B?V.findIndex((function(e){return e.data.src===n})):V.findIndex((function(n){return n.id===e}));G(r<0?0:r),re(!0),le({x:t,y:o}),J(!0)}),[V,B]);d.useEffect((function(){oe?q||G(0):J(!1)}),[oe]);var ue=d.useMemo((function(){return{register:W,onPreview:se}}),[W,se]);return d.createElement(A.Provider,{value:ue},u,d.createElement(M,(0,o.A)({"aria-hidden":!oe,movable:k,visible:oe,prefixCls:s,closeIcon:N,onClose:function(){re(!1),le(null)},mousePosition:ie,imgCommonProps:ee,src:Q,fallback:g,icons:v,minScale:R,maxScale:E,getContainer:y,current:j,count:V.length,countRender:S,onTransform:I,toolbarRender:z,imageRender:Y,onChange:function(e,n){G(e),null===T||void 0===T||T(e,n)}},Z)))};const W=V}}]);
//# sourceMappingURL=6769.c34db251.chunk.js.map