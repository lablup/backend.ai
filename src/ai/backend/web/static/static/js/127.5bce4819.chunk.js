"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[127,570],{66570:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(1413),i=n(29439),o=n(40406),l=n(77758),a=n(99277),s=n(43306),d=n(91278),c=n(7517),u=n(87462),g=n(4519),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},f=n(9491),p=function(e,t){return g.createElement(f.Z,(0,u.Z)({},e,{ref:t,icon:h}))};var m=g.forwardRef(p),x=n(28501),y=n(32064),Z=n(43596),v=n(67873),j=n(44036),k=n(70389),b=n(38818),C=n(14634),w=n(38812),S=n(3597),T=n(52176),I=n(99517),L=n.n(I),M=n(32048),R=n.n(M),E=n(81748),K=n(2556),q=function(){var e=(0,E.$G)().t,t=j.Z.useToken().token,n=(0,g.useState)(!1),u=(0,i.Z)(n,2),h=u[0],f=u[1],p=(0,g.useState)(!1),I=(0,i.Z)(p,2),M=I[0],q=I[1],z=(0,g.useState)(!1),B=(0,i.Z)(z,2),P=B[0],H=B[1],U=(0,g.useState)(""),W=(0,i.Z)(U,2),D=W[0],G=W[1],V=(0,o.Kr)("first"),_=(0,i.Z)(V,2),O=_[0],$=_[1],F=(0,g.useTransition)(),J=(0,i.Z)(F,2),N=J[0],Q=J[1],X=(0,g.useTransition)(),Y=(0,i.Z)(X,2),A=Y[0],ee=Y[1];(0,o.Dj)();var te=[{title:e("logs.TimeStamp"),dataIndex:"formattedTimeStamp",key:"timeStamp",render:function(e){return(0,K.jsx)("div",{style:{minWidth:50},children:R().isUndefined(e)?"-":(0,K.jsx)(d.Z,{keyword:D,children:e})})},fixed:"left"},{title:e("logs.Status"),dataIndex:"statusCode",key:"status",render:function(e,t){return(0,K.jsx)("div",{style:{minWidth:50},children:R().isUndefined(e)?"-":(0,K.jsx)(d.Z,{keyword:D,children:e+" "+t.statusText})})}},{title:e("logs.ErrorTitle"),dataIndex:"title",key:"errorTitle",render:function(e){return(0,K.jsx)("div",{style:{minWidth:50},children:e?(0,K.jsx)(d.Z,{keyword:D,children:R().toString(e)}):"-"})}},{title:e("logs.ErrorMessage"),dataIndex:"message",key:"errorMessage",render:function(e){return(0,K.jsx)("div",{style:{minWidth:70},children:e?(0,K.jsx)(d.Z,{keyword:D,children:e}):"-"})}},{title:e("logs.ErrorType"),dataIndex:"type",key:"errorType",render:function(e){return(0,K.jsx)("div",{style:{minWidth:60},children:e?(0,K.jsx)(d.Z,{keyword:D,children:e}):"-"})}},{title:e("logs.Method"),dataIndex:"requestMethod",key:"method",render:function(e){return(0,K.jsx)("div",{style:{minWidth:60},children:e?(0,K.jsx)(d.Z,{keyword:D,children:e}):"-"})}},{title:e("logs.RequestUrl"),dataIndex:"requestUrl",key:"requestUrl",render:function(e){return(0,K.jsx)("div",{style:{minWidth:60},children:e?(0,K.jsx)(d.Z,{keyword:D,children:e}):"-"})}},{title:e("logs.Parameters"),dataIndex:"requestParameters",key:"requestParameter",render:function(e){return(0,K.jsx)("div",{style:{minWidth:100},children:e?(0,K.jsx)(d.Z,{keyword:D,children:e}):"-"})}}],ne=(0,v.Z)("backendaiwebui.ErrorLogList.displayedColumnKeys",{defaultValue:te.map((function(e){return R().toString(e.key)}))}),re=(0,i.Z)(ne,2),ie=re[0],oe=re[1],le=(0,g.useMemo)((function(){var e=JSON.parse(localStorage.getItem("backendaiwebui.logs")||"[]");return R().map(e,(function(e){return(0,r.Z)((0,r.Z)({},e),{},{formattedTimeStamp:L()(e.timestamp).format("ll LTS")})}))}),[O]),ae=(0,g.useMemo)((function(){var e=new RegExp("".concat(R().escapeRegExp(D)),"i");return R().filter(le,(function(t){return!D||!!R().find(t,(function(t,n){return"timestamp"!==n&&R().toString(t).match(e)}))}))}),[D,le]);return(0,K.jsxs)(a.Z,{direction:"column",align:"stretch",children:[(0,K.jsxs)(a.Z,{direction:"row",justify:"between",wrap:"wrap",gap:"xs",style:{padding:t.paddingContentVertical,paddingLeft:t.paddingContentHorizontalSM,paddingRight:t.paddingContentHorizontalSM},children:[(0,K.jsxs)(a.Z,{direction:"column",align:"start",children:[(0,K.jsx)(k.Z.Title,{level:4,style:{margin:0,padding:0},children:e("logs.LogMessages")}),(0,K.jsx)(k.Z.Text,{type:"secondary",children:e("logs.UpTo3000Logs")})]}),(0,K.jsxs)(a.Z,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:[(0,K.jsxs)(a.Z,{gap:"xs",children:[(0,K.jsx)(b.Z,{allowClear:!0,prefix:(0,K.jsx)(c.Z,{}),placeholder:e("logs.SearchLogs"),onChange:function(e){ee((function(){return G(e.target.value)}))},style:{width:200}}),(0,K.jsx)(C.Z,{onChange:function(e){return H(e.target.checked)},children:e("logs.ShowOnlyError")})]}),(0,K.jsxs)(a.Z,{gap:"xs",children:[(0,K.jsx)(w.ZP,{icon:(0,K.jsx)(m,{}),loading:N,onClick:function(){Q((function(){return $()}))},children:e("button.Refresh")}),(0,K.jsx)(w.ZP,{danger:!0,icon:(0,K.jsx)(x.Z,{}),onClick:function(){f(!0)},children:e("button.ClearLogs")})]})]})]}),(0,K.jsx)(S.Z,{pagination:{showSizeChanger:!1,style:{marginBottom:0}},loading:!!A&&{indicator:(0,K.jsx)(y.Z,{})},scroll:{x:"max-content",y:"calc(100vh - 400px)"},dataSource:P?R().filter(ae,(function(e){return e.isError})):ae,columns:te.filter((function(e){return null===ie||void 0===ie?void 0:ie.includes(R().toString(e.key))})),onRow:function(e){return{style:{color:e.isError?t.colorError:""}}}}),(0,K.jsx)(a.Z,{justify:"end",style:{paddingRight:t.paddingXS},children:(0,K.jsx)(w.ZP,{type:"text",icon:(0,K.jsx)(Z.Z,{}),onClick:function(){q(!0)}})}),(0,K.jsx)(l.Z,{open:h,title:e("dialog.warning.LogDeletion"),okText:e("button.Delete"),okButtonProps:{danger:!0},onOk:function(){localStorage.removeItem("backendaiwebui.logs"),$(),f(!1)},cancelText:e("button.Cancel"),onCancel:function(){return f(!1)},children:(0,K.jsx)(T.Z,{message:e("dialog.warning.CannotBeUndone"),type:"warning"})}),(0,K.jsx)(s.Z,{open:M,onRequestClose:function(e){(null===e||void 0===e?void 0:e.selectedColumnKeys)&&oe(null===e||void 0===e?void 0:e.selectedColumnKeys),q(!1)},columns:te,displayedColumnKeys:ie||[]})]})}},43306:function(e,t,n){var r=n(1413),i=n(44925),o=n(77758),l=n(7517),a=n(44036),s=n(57054),d=n(38818),c=n(14634),u=n(32048),g=n.n(u),h=n(4519),f=n(81748),p=n(2556),m=["open","onRequestClose","columns","displayedColumnKeys"];t.Z=function(e){var t=e.open,n=e.onRequestClose,u=e.columns,x=e.displayedColumnKeys,y=(0,i.Z)(e,m),Z=(0,h.useRef)(null),v=(0,f.$G)().t,j=a.Z.useToken().token,k=u.map((function(e){return"string"===typeof e.title?{label:e.title,value:g().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(t=e.title,h.Children.map(t.props.children,(function(e){if("string"===typeof e)return e}))),value:g().toString(e.key)}:{label:void 0,value:g().toString(e.key)};var t}));return(0,p.jsx)(o.Z,(0,r.Z)((0,r.Z)({title:v("table.SettingTable"),open:t,destroyOnClose:!0,centered:!0,onOk:function(){var e;null===(e=Z.current)||void 0===e||e.validateFields().then((function(e){n(e)})).catch((function(){}))},onCancel:function(){n()}},y),{},{children:(0,p.jsxs)(s.Z,{ref:Z,preserve:!1,initialValues:{selectedColumnKeys:x||k.map((function(e){return e.value}))},layout:"vertical",children:[(0,p.jsx)(s.Z.Item,{name:"searchInput",label:v("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,p.jsx)(d.Z,{prefix:(0,p.jsx)(l.Z,{}),style:{marginBottom:j.marginSM},placeholder:v("table.SearchTableColumn")})}),(0,p.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.searchInput!==t.searchInput},children:function(e){var t=e.getFieldValue,n=t("searchInput")?g().toLower(t("searchInput")):void 0,i=k.map((function(e){return g().toLower(g().toString(e.label)).includes(n||"")?e:(0,r.Z)((0,r.Z)({},e),{},{style:{display:"none"}})}));return(0,p.jsx)(s.Z.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,p.jsx)(c.Z.Group,{options:i,style:{flexDirection:"column"}})})}})]})}))}},31127:function(e,t,n){n.r(t);var r=n(29439),i=n(66570),o=n(99277),l=n(40406),a=n(44036),s=n(18676),d=n(81748),c=n(55144),u=n(2556),g=(0,c.withDefault)(c.StringParam,"general");t.default=function(){var e=(0,d.$G)().t,t=a.Z.useToken().token,n=(0,l.uB)(),h=(0,c.useQueryParam)("tab",g),f=(0,r.Z)(h,1)[0];return(0,u.jsxs)(s.Z,{activeTabKey:f,onTabChange:function(e){n({pathname:"/usersettings",search:"?tab=".concat(e)},{params:{tab:e}})},tabList:[{key:"general",label:e("usersettings.General")},{key:"logs",label:e("usersettings.Logs")}],bodyStyle:{padding:0},children:[(0,u.jsx)(o.Z,{style:{display:"general"===f?"block":"none",paddingTop:t.paddingContentVerticalSM,paddingBottom:t.paddingContentVerticalLG,paddingLeft:t.paddingContentHorizontalSM,paddingRight:t.paddingContentHorizontalSM},children:(0,u.jsx)("backend-ai-usersettings-general-list",{active:"general"===f})}),"logs"===f&&(0,u.jsx)(i.default,{})]})}},28501:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(87462),i=n(4519),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},l=n(9491),a=function(e,t){return i.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:o}))};var s=i.forwardRef(a)}}]);
//# sourceMappingURL=127.5bce4819.chunk.js.map