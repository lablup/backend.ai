/*! For license information please see 4899.f686e21c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4899],{4740:(e,l,n)=>{n.d(l,{A:()=>s});var a=n(29262);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};var r=n(7422);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const t=(e,l)=>a.createElement(r.A,o({},e,{ref:l,icon:i}));const s=a.forwardRef(t)},44157:(e,l,n)=>{n.d(l,{A:()=>m});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],l=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VFolderLazyViewQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[{kind:"RequiredField",field:n,action:"THROW"},a,{args:null,kind:"FragmentSpread",name:"VFolderNodeIdenticonFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VFolderLazyViewQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[n,a],storageKey:null}]},params:{cacheID:"9741b4e48e1380bf300c9109258c38dd",id:null,metadata:{},name:"VFolderLazyViewQuery",operationKind:"query",text:"query VFolderLazyViewQuery(\n  $id: String!\n) {\n  vfolder_node(id: $id) {\n    id\n    name\n    ...VFolderNodeIdenticonFragment\n  }\n}\n\nfragment VFolderNodeIdenticonFragment on VirtualFolderNode {\n  id\n}\n"}}}();a.hash="403cbd1b2a26241898d8c1f1893de307";const i=a;var r=n(37138),o=n(2145),t=n(69319),s=n(7265),u=(n(29262),n(84372)),d=n(55812),c=n(26862);const m=e=>{let{uuid:l,clickable:n}=e;const a=(0,d.zy)(),m=(0,r.f0)(),{vfolder_node:v}=(0,u.useLazyLoadQuery)(i,{id:l});return(0,c.jsx)(c.Fragment,{children:v&&(0,c.jsxs)(s.OOm,{align:"center",gap:"xs",children:[(0,c.jsx)(o.A,{vfolderNodeIdenticonFrgmt:v}),n?(0,c.jsx)(t.A.Link,{onClick:()=>{m({pathname:a.pathname,search:new URLSearchParams({folder:(0,s.omW)(v.id)}).toString()})},children:v.name}):(0,c.jsx)(t.A.Text,{children:v.name})]})})}},75886:(e,l,n)=>{n.r(l),n.d(l,{default:()=>le});var a=n(56276);const i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpoint_id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{kind:"Variable",name:"endpoint_id",variableName:"endpoint_id"},{kind:"Variable",name:"props",variableName:"props"}],n={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},b={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},K={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L={alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},N={alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,o,t,s,u,d,c,m,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[g,p,_,y,f,S,h,k,b,K,x,A],storageKey:null},g,j,V,L,N],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,o,t,s,u,d,c,m,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[g,p,_,y,f,S,h,k,b,K,x,A,P],storageKey:null},g,j,V,L,N,P],storageKey:null}],storageKey:null}]},params:{cacheID:"6e4e20e60305351f47a87be19f8d6a86",id:null,metadata:{},name:"ServiceLauncherPageContentModifyMutation",operationKind:"mutation",text:'mutation ServiceLauncherPageContentModifyMutation(\n  $endpoint_id: UUID!\n  $props: ModifyEndpointInput!\n) {\n  modify_endpoint(endpoint_id: $endpoint_id, props: $props) {\n    ok\n    msg\n    endpoint {\n      endpoint_id\n      desired_session_count @deprecatedSince(version: "24.12.0")\n      replicas @since(version: "24.12.0")\n      resource_group\n      resource_slots\n      resource_opts\n      cluster_mode\n      cluster_size\n      open_to_public\n      model\n      image_object @since(version: "23.09.9") {\n        name @deprecatedSince(version: "24.12.0")\n        namespace @since(version: "24.12.0")\n        humanized_name\n        tag\n        registry\n        architecture\n        is_local\n        digest\n        resource_limits {\n          key\n          min\n          max\n        }\n        labels {\n          key\n          value\n        }\n        size_bytes\n        supported_accelerators\n        id\n      }\n      name\n      model_definition_path @since(version: "24.03.4")\n      model_mount_destination @since(version: "24.03.4")\n      extra_mounts @since(version: "24.03.4") {\n        id\n        host\n        quota_scope_id\n        name\n        user\n        user_email\n        group\n        group_name\n        creator\n        unmanaged_path\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n      }\n      runtime_variant @since(version: "24.03.5") {\n        name\n        human_readable_name\n      }\n      id\n    }\n  }\n}\n'}}}();i.hash="a63a50401ffb00cb96aa893c9536b016";const r=i,o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"user_RP_name"}],l=[{kind:"Variable",name:"name",variableName:"user_RP_name"}],n={alias:null,args:null,kind:"ScalarField",name:"max_session_count_per_model_session",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"9521f8ab6e4190bdffb95e25ce45d8c3",id:null,metadata:{},name:"ServiceLauncherPageContent_UserResourcePolicyQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserResourcePolicyQuery(\n  $user_RP_name: String\n) {\n  user_resource_policy(name: $user_RP_name) @since(version: "23.09.6") {\n    max_session_count_per_model_session\n    id\n  }\n}\n'}}}();o.hash="2625e741ab935b9160f781d3aba13067";const t=o,s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"},{defaultValue:null,kind:"LocalArgument",name:"email"}],l=[{alias:null,args:[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserInfoQuery",selections:l,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserInfoQuery",selections:l},params:{cacheID:"bd463b860cd7ab56a302e7f1dc7b2611",id:null,metadata:{},name:"ServiceLauncherPageContent_UserInfoQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserInfoQuery(\n  $domain_name: String\n  $email: String\n) {\n  user(domain_name: $domain_name, email: $email) {\n    id\n    resource_policy @since(version: "23.09.0")\n  }\n}\n'}}}();s.hash="6c33adac7ab1ae44cf36f91363ec7dbf";const u=s,d=function(){var e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},{alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null}],storageKey:null},e],type:"Endpoint",abstractKey:null}}();d.hash="94cbb7504efa704a02c71affc0c33ce8";const c=d;var m=n(15584),v=n(31871),g=n(37138),p=n(63590),_=n(52053);const y=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},l={defaultValue:null,kind:"LocalArgument",name:"limit"},n={defaultValue:null,kind:"LocalArgument",name:"offset"},a={defaultValue:null,kind:"LocalArgument",name:"projectID"},i=[{alias:null,args:[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"project",variableName:"projectID"}],concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,l,n,a],kind:"Fragment",metadata:null,name:"useValidateServiceNameQuery",selections:i,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,n,l],kind:"Operation",name:"useValidateServiceNameQuery",selections:i},params:{cacheID:"30593ccd7db40f50bf74aaecbae29ccf",id:null,metadata:{},name:"useValidateServiceNameQuery",operationKind:"query",text:"query useValidateServiceNameQuery(\n  $projectID: UUID!\n  $filter: String\n  $offset: Int!\n  $limit: Int!\n) {\n  endpoint_list(project: $projectID, filter: $filter, offset: $offset, limit: $limit) {\n    total_count\n  }\n}\n"}}}();y.hash="941c25547ab1d1d93c0181fcde27f16c";const f=y;var S=n(60669),h=n.n(S),k=n(29262),F=n(99118),b=n(84372);var K=n(59078),x=n(77085),A=n(76234),j=n(67813),V=n(44157),P=n(11863),L=n(28529),N=n(54585),I=n(40720),E=n(29268),T=n(69266),O=n(37717),D=n(7265),w=n(87894),C=n(26862);const M=["autoSelectDefault","allowFolderExplorer","allowCreateFolder","valuePropName","filter"],z=e=>{var l,n;let{autoSelectDefault:i,allowFolderExplorer:r,allowCreateFolder:o,valuePropName:t="name",filter:s}=e,u=(0,P.A)(e,M);const d=(0,_.hd)(),c=(0,v.QE)(),{generateFolderPath:m}=(0,I.useFolderExplorerOpener)(),{t:g}=(0,F.Bd)(),[y,f]=(0,L.A)(u),[S,b]=(0,D.TwB)("first"),[K,x]=(0,k.useState)(!1),{data:A}=(0,p.nj)({queryKey:["VFolderSelectQuery",S],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",d.id),c({method:"GET",url:"/folders?".concat(e.toString())})},staleTime:0}),j=s?h().filter(A,s):A,V=h().first(j)?{label:null===(l=h().first(j))||void 0===l?void 0:l.name,value:null===(n=h().first(j))||void 0===n?void 0:n[t]}:void 0;return(0,k.useEffect)((()=>{i&&V&&f(V.value,V)}),[i]),(0,C.jsxs)(D.OOm,{gap:"xs",children:[(0,C.jsx)(E.A,(0,a.A)((0,a.A)({showSearch:{optionFilterProp:"label"}},u),{},{value:y,labelRender:e=>{let{label:l,value:n}=e;return r?(0,C.jsx)(D.rmy,{type:"hover",to:m(h().toString(n)),onClick:e=>{e.stopPropagation()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},children:l}):l},onChange:f,onOpenChange:e=>{e&&(0,k.startTransition)((()=>{b()}))},options:h().map(j,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e[t]})))})),o?(0,C.jsx)(T.A,{title:g("data.CreateANewStorageFolder"),children:(0,C.jsx)(O.Ay,{icon:(0,C.jsx)(w.A,{}),type:"primary",ghost:!0,onClick:()=>{x(!0)}})}):null,(0,C.jsx)(N.A,{open:K,initialValues:{usage_mode:"model"},onRequestClose:e=>{x(!1),e&&(0,k.startTransition)((()=>{b(),f(e.id,h().map(j,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e[t]}))))}))}})]})};var R=n(74833),q=n(80162),Q=n(41448),U=n(87272),$=n(36961),G=n(66203),B=n(52251),J=n(91129),W=n(96922),Z=n(39648),X=n(59005),H=n(86425),Y=n(31495);const ee=k.lazy((()=>n.e(3197).then(n.bind(n,33197)))),le=e=>{var l;const n=(0,m.c)(130),{endpointFrgmt:i}=e,o=void 0===i?null:i,{logger:s}=(0,D.Q7t)(),{token:d}=U.A.useToken(),{message:y}=$.A.useApp(),{t:S}=(0,F.Bd)();let P;n[0]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Y.withDefault)(Y.JsonParam,{}),n[0]=P):P=n[0];const L=P;let N;n[1]===Symbol.for("react.memo_cache_sentinel")?(N={model:Y.StringParam,formValues:L},n[1]=N):N=n[1];const[I,w]=(0,Y.useQueryParams)(N),{model:M,formValues:le}=I,ye=(0,g.f0)(),fe=(0,g.CX)(),Se=(0,v.QE)(),he=(0,g.eZ)(),ke=(()=>{const{t:e}=(0,F.Bd)(),l=(0,b.useRelayEnvironment)(),n=(0,_.hd)();return(0,k.useMemo)((()=>[{min:4,message:e("modelService.ServiceNameMinLength")},{max:24,message:e("modelService.ServiceNameMaxLength"),type:"string"},{validator:(l,n)=>h().isEmpty(n)?Promise.resolve():/^\w/.test(n)?/\w$/.test(n)?/^[\w-]*$/.test(n)?Promise.resolve():Promise.reject(e("modelService.ServiceNameInvalidCharacter")):Promise.reject(e("modelService.ServiceNameShouldEndWith")):Promise.reject(e("modelService.ServiceNameShouldStartWith"))},{validator:async(a,i)=>i?(0,b.fetchQuery)(l,f,{projectID:n.id,filter:'lifecycle_stage != "destroyed" & name == "'.concat(i,'"'),offset:0,limit:1}).toPromise().catch((()=>Promise.resolve())).then((l=>{var n,a;if((null!==(n=null===l||void 0===l||null===(a=l.endpoint_list)||void 0===a?void 0:a.total_count)&&void 0!==n?n:0)>0)return Promise.reject(e("modelService.ServiceAlreadyExists"))})):Promise.resolve()},{required:!0}]),[l,n.id,e])})(),[Fe,be]=(0,k.useState)(!1),[Ke]=G.A.useForm(),[xe,Ae]=(0,k.useState)(!1),[je,Ve]=(0,_.zL)(),{getErrorMessage:Pe}=(0,D.B78)(),Le=(()=>{const{t:e}=(0,F.Bd)();return{vllm:{optionalEnvVars:[{variable:"BACKEND_MODEL_NAME",placeholder:e("modelService.VllmModelName")},{variable:"VLLM_QUANTIZATION",placeholder:e("modelService.VllmQuantization")},{variable:"VLLM_TP_SIZE",placeholder:e("modelService.VllmTpSize")},{variable:"VLLM_PP_SIZE",placeholder:e("modelService.VllmPpSize")},{variable:"VLLM_EXTRA_ARGS",placeholder:e("modelService.VllmExtraArgs")}]},sglang:{optionalEnvVars:[{variable:"BACKEND_MODEL_NAME",placeholder:e("modelService.SglangModelName")},{variable:"SGLANG_QUANTIZATION",placeholder:e("modelService.SglangQuantization")},{variable:"SGLANG_TP_SIZE",placeholder:e("modelService.SglangTpSize")},{variable:"SGLANG_PP_SIZE",placeholder:e("modelService.SglangPpSize")},{variable:"SGLANG_EXTRA_ARGS",placeholder:e("modelService.SglangExtraArgs")}]},nim:{optionalEnvVars:[{variable:"NGC_API_KEY",placeholder:e("modelService.NimApiKey")}]}}})();let Ne;n[2]!==Le||n[3]!==Ke?(Ne=(e,l)=>{const n=Le[e];if(!n)return;const a=l.envvars||[],i=h().map(h().filter(a,ne),"variable"),r=h().map(h().filter(n.requiredEnvVars||[],(e=>!h().includes(i,e.variable))),ae);if(r.length>0){const e=[...a,...r];Ke.setFieldValue("envvars",e)}},n[2]=Le,n[3]=Ke,n[4]=Ne):Ne=n[4];const Ie=Ne;let Ee;n[5]!==Le?(Ee=(e,l)=>{if(!e||!l)return!0;const n=Le[e];if(!n)return!0;const a=[...n.requiredEnvVars||[],...n.optionalEnvVars||[]],i=h().map(a,"variable"),r=[];return h().forEach(Le,((l,n)=>{if(n!==e){const e=[...l.requiredEnvVars||[],...l.optionalEnvVars||[]];r.push(...h().map(e,"variable"))}})),!!h().includes(i,l)||!h().includes(r,l)},n[5]=Le,n[6]=Ee):Ee=n[6];const Te=Ee;let Oe;n[7]!==Ie?(Oe=(e,l)=>{e.runtimeVariant&&Ie(e.runtimeVariant,l)},n[7]=Ie,n[8]=Oe):Oe=n[8];const De=Oe;let we;n[9]===Symbol.for("react.memo_cache_sentinel")?(we=c,n[9]=we):we=n[9];const Ce=(0,b.useFragment)(we,o);let Me,ze;n[10]===Symbol.for("react.memo_cache_sentinel")?(Me=["baiClient.modelService.runtime.list"],n[10]=Me):Me=n[10],n[11]!==Se?(ze={queryKey:Me,queryFn:()=>Se({method:"GET",url:"/services/_/runtimes"}),staleTime:1e3},n[11]=Se,n[12]=ze):ze=n[12];const{data:Re}=(0,p.nj)(ze),qe=ie,Qe=re,Ue=oe;let $e;n[13]!==fe||n[14]!==he?($e={mutationFn:e=>{var l,n,i,r,o;const t={};e.envvars&&e.envvars.filter(te).forEach((e=>{t[e.variable]=e.value}));const s=(0,a.A)((0,a.A)({name:e.serviceName,desired_session_count:e.replicas},Ue(qe(fe._config.allow_manual_image_name_for_session,null===(l=e.environments)||void 0===l?void 0:l.manual),e)),{},{runtime_variant:e.runtimeVariant,group:fe.current_group,domain:he,cluster_size:e.cluster_size,cluster_mode:e.cluster_mode,open_to_public:e.openToPublic,config:(0,a.A)({model:e.vFolderID,model_version:1,extra_mounts:h().reduce(e.mount_ids,((l,n)=>(l[n]=(0,a.A)((0,a.A)({},e.mount_id_map[n]&&{mount_destination:e.mount_id_map[n]}),{},{type:"bind"}),l)),{}),model_definition_path:e.modelDefinitionPath,model_mount_destination:""!==e.modelMountDestination?e.modelMountDestination:"/models",environ:t,scaling_group:e.resourceGroup,resources:(0,a.A)({cpu:null===(n=e.resource.cpu)||void 0===n?void 0:n.toString(),mem:e.resource.mem},null!==(i=e.resource)&&void 0!==i&&i.acceleratorType&&null!==(r=e.resource)&&void 0!==r&&r.accelerator&&e.resource.accelerator>0?{[e.resource.acceleratorType]:null===(o=e.resource.accelerator)||void 0===o?void 0:o.toString()}:void 0)},e.resource.shmem&&{shmem:(0,v.Mh)(e.resource.mem,"4g")>0&&(0,v.Mh)(e.resource.shmem,"1g")<0?"1g":e.resource.shmem})});return(0,v.hu)({method:"POST",url:"/services",body:s,client:fe})}},n[13]=fe,n[14]=he,n[15]=$e):$e=n[15];const Ge=(0,p.ET)($e);let Be;n[16]===Symbol.for("react.memo_cache_sentinel")?(Be=u,n[16]=Be):Be=n[16];const Je=(0,g.eZ)(),We=null===fe||void 0===fe?void 0:fe.email;let Ze;n[17]!==Je||n[18]!==We?(Ze={domain_name:Je,email:We},n[17]=Je,n[18]=We,n[19]=Ze):Ze=n[19];const{user:Xe}=(0,b.useLazyLoadQuery)(Be,Ze);let He;n[20]===Symbol.for("react.memo_cache_sentinel")?(He=t,n[20]=He):He=n[20];const Ye=null===Xe||void 0===Xe?void 0:Xe.resource_policy;let el;n[21]!==Ye?(el={user_RP_name:Ye},n[21]=Ye,n[22]=el):el=n[22];const{user_resource_policy:ll}=(0,b.useLazyLoadQuery)(He,el);let nl;n[23]===Symbol.for("react.memo_cache_sentinel")?(nl=r,n[23]=nl):nl=n[23];const[al]=(0,b.useMutation)(nl);let il;n[24]!==fe||n[25]!==al||n[26]!==Ce||n[27]!==Ke||n[28]!==Pe||n[29]!==y||n[30]!==Ge||n[31]!==Ve||n[32]!==S||n[33]!==ye?(il=()=>{Ke.validateFields().then((e=>{if(Ce){var l,n,i;const r={endpoint_id:(null===Ce||void 0===Ce?void 0:Ce.endpoint_id)||"",props:(0,a.A)((0,a.A)((0,a.A)({resource_slots:JSON.stringify((0,a.A)({cpu:e.resource.cpu,mem:e.resource.mem},null!==(l=e.resource)&&void 0!==l&&l.acceleratorType&&null!==(n=e.resource)&&void 0!==n&&n.accelerator&&e.resource.accelerator>0?{[e.resource.acceleratorType]:e.resource.accelerator}:void 0)),resource_opts:JSON.stringify({shmem:e.resource.shmem}),cluster_mode:"single-node"===e.cluster_mode?"SINGLE_NODE":"MULTI_NODE",cluster_size:e.cluster_size},fe.supports("replicas")?{replicas:e.replicas}:{desired_session_count:e.replicas}),Qe(qe(fe._config.allow_manual_image_name_for_session,null===(i=e.environments)||void 0===i?void 0:i.manual),e)),{},{extra_mounts:h().map(e.mount_ids,(l=>(0,a.A)({vfolder_id:l},e.mount_id_map[l]&&{mount_destination:e.mount_id_map[l]}))),name:e.serviceName,resource_group:e.resourceGroup,model_definition_path:e.modelDefinitionPath,runtime_variant:e.runtimeVariant})},o={};e.envvars&&e.envvars.filter(se).forEach((e=>{o[e.variable]=e.value})),r.props.environ=JSON.stringify(o),al({variables:r,onCompleted:(e,l)=>{var n,a,i;if(null!==(n=e.modify_endpoint)&&void 0!==n&&n.ok){var r;const l=null===(r=e.modify_endpoint)||void 0===r?void 0:r.endpoint;return y.success(S("modelService.ServiceUpdated",{name:null===l||void 0===l?void 0:l.name})),void ye("/serving/".concat(null===Ce||void 0===Ce?void 0:Ce.endpoint_id))}if(null!==(a=e.modify_endpoint)&&void 0!==a&&a.msg)y.error(null===(i=e.modify_endpoint)||void 0===i?void 0:i.msg);else if(l&&(null===l||void 0===l?void 0:l.length)>0){const e=h().map(l,ue);for(const l of e)y.error(l)}},onError:e=>{e.message?y.error(e.message):y.error(S("modelService.FailedToUpdateService"))}})}else Ge.mutate(e,{onSuccess:()=>{Ve(e.resourceGroup),y.success(S("modelService.ServiceCreated",{name:e.serviceName})),ye("/serving")},onError:e=>{const l=S(Ce?"modelService.FailedToUpdateService":"modelService.FailedToStartService");y.error(Pe(e,l))}})})).catch((e=>{var l,n;(null===e||void 0===e||null===(l=e.errorFields)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.name)&&Ke.scrollToField(e.errorFields[0].name,{behavior:"smooth",block:"center"})}))},n[24]=fe,n[25]=al,n[26]=Ce,n[27]=Ke,n[28]=Pe,n[29]=y,n[30]=Ge,n[31]=Ve,n[32]=S,n[33]=ye,n[34]=il):il=n[34];const rl=il,[ol,tl]=(0,k.useState)(),sl=de;let ul,dl;n[35]!==Ke||n[36]!==w?(ul=()=>{const e=Ke.getFieldsValue();w({formValues:h().assign(h().omit(e,["environments.image","environments.customizedTag","vfoldersAliasMap","envvars"]),{envvars:(0,K.z7)(Ke.getFieldValue("envvars"))})},"replaceIn")},n[35]=Ke,n[36]=w,n[37]=ul):ul=n[37],n[38]===Symbol.for("react.memo_cache_sentinel")?(dl={leading:!1,wait:500,trailing:!0},n[38]=dl):dl=n[38];const{run:cl}=(0,Q.A)(ul,dl);let ml;if(n[39]!==(null===(l=fe._config)||void 0===l?void 0:l.default_session_environment)||n[40]!==je||n[41]!==Ce||n[42]!==le||n[43]!==M){var vl,gl,pl,_l,yl,fl,Sl,hl,kl,Fl,bl,Kl,xl,Al,jl,Vl,Pl,Ll,Nl,Il;const e=Ce?{serviceName:null===Ce||void 0===Ce?void 0:Ce.name,resourceGroup:null===Ce||void 0===Ce?void 0:Ce.resource_group,allocationPreset:"custom",replicas:null!==(vl=null!==(gl=null===Ce||void 0===Ce?void 0:Ce.replicas)&&void 0!==gl?gl:null===Ce||void 0===Ce?void 0:Ce.desired_session_count)&&void 0!==vl?vl:1,resource:(0,a.A)({cpu:parseInt(null===(pl=JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_slots)||"{}"))||void 0===pl?void 0:pl.cpu),mem:null===(_l=(0,v.mv)(null===(yl=JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_slots)||"{}"))||void 0===yl?void 0:yl.mem,"g",3,!0))||void 0===_l?void 0:_l.value,shmem:null===(fl=(0,v.mv)((null===(Sl=JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_opts)||"{}"))||void 0===Sl?void 0:Sl.shmem)||j.t2,"g",3,!0))||void 0===fl?void 0:fl.value},sl(h().omit(JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_slots)||"{}"),["cpu","mem"]))),cluster_mode:"MULTI_NODE"===(null===Ce||void 0===Ce?void 0:Ce.cluster_mode)?"multi-node":"single-node",cluster_size:null===Ce||void 0===Ce?void 0:Ce.cluster_size,openToPublic:null===Ce||void 0===Ce?void 0:Ce.open_to_public,environments:{environment:null!==(hl=null===Ce||void 0===Ce||null===(kl=Ce.image_object)||void 0===kl?void 0:kl.namespace)&&void 0!==hl?hl:null===Ce||void 0===Ce||null===(Fl=Ce.image_object)||void 0===Fl?void 0:Fl.name,version:"".concat(null===Ce||void 0===Ce||null===(bl=Ce.image_object)||void 0===bl?void 0:bl.registry,"/").concat(null!==(Kl=null===Ce||void 0===Ce||null===(xl=Ce.image_object)||void 0===xl?void 0:xl.namespace)&&void 0!==Kl?Kl:null===Ce||void 0===Ce||null===(Al=Ce.image_object)||void 0===Al?void 0:Al.name,":").concat(null===Ce||void 0===Ce||null===(jl=Ce.image_object)||void 0===jl?void 0:jl.tag,"@").concat(null===Ce||void 0===Ce||null===(Vl=Ce.image_object)||void 0===Vl?void 0:Vl.architecture),image:null===Ce||void 0===Ce?void 0:Ce.image_object},vFolderID:null===Ce||void 0===Ce?void 0:Ce.model,mount_ids:h().map(null===Ce||void 0===Ce?void 0:Ce.extra_mounts,ce),modelMountDestination:null===Ce||void 0===Ce?void 0:Ce.model_mount_destination,modelDefinitionPath:null===Ce||void 0===Ce?void 0:Ce.model_definition_path,runtimeVariant:null===Ce||void 0===Ce||null===(Pl=Ce.runtime_variant)||void 0===Pl?void 0:Pl.name,envvars:h().map(JSON.parse((null===Ce||void 0===Ce?void 0:Ce.environ)||"{}"),me)}:(0,a.A)((0,a.A)((0,a.A)({replicas:1,runtimeVariant:"custom"},j.jh),(null===(Ll=fe._config)||void 0===Ll?void 0:Ll.default_session_environment)&&{environments:{environment:null===(Nl=fe._config)||void 0===Nl?void 0:Nl.default_session_environment}}),{},{vFolderID:M||(h().get(le,"vFolderID")||void 0),resourceGroup:je,allocationPreset:"auto-select",mount_ids:[],mount_id_map:{}});ml=h().merge({},e,le),n[39]=null===(Il=fe._config)||void 0===Il?void 0:Il.default_session_environment,n[40]=je,n[41]=Ce,n[42]=le,n[43]=M,n[44]=ml}else ml=n[44];const El=ml;let Tl,Ol,Dl,wl;n[45]===Symbol.for("react.memo_cache_sentinel")?(Tl={justifyContent:"revert"},n[45]=Tl):Tl=n[45],n[46]===Symbol.for("react.memo_cache_sentinel")?(Ol={flex:1,maxWidth:700},n[46]=Ol):Ol=n[46],n[47]!==(null===Ce||void 0===Ce?void 0:Ce.extra_mounts)||n[48]!==S||n[49]!==d?(Dl=h().filter((0,D.faj)(null===Ce||void 0===Ce?void 0:Ce.extra_mounts),ve).length>0&&(0,C.jsx)(B.A,{title:S("modelService.ExtraMountsWarning"),type:"warning",showIcon:!0,style:{marginBottom:d.marginMD}}),n[47]=null===Ce||void 0===Ce?void 0:Ce.extra_mounts,n[48]=S,n[49]=d,n[50]=Dl):Dl=n[50],n[51]!==cl?(wl=()=>{cl()},n[51]=cl,n[52]=wl):wl=n[52];const Cl=Ge.isPending;let Ml,zl,Rl,ql;var Ql,Ul;(n[53]===Symbol.for("react.memo_cache_sentinel")?(Ml={span:12},n[53]=Ml):Ml=n[53],n[54]!==Le||n[55]!==(null===Re||void 0===Re?void 0:Re.runtimes)||n[56]!==fe||n[57]!==Ce||n[58]!==Ke||n[59]!==le||n[60]!==M||n[61]!==S||n[62]!==d||n[63]!==Te||n[64]!==ke?(zl=(fe.supports("modify-endpoint")||!Ce)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.A.Item,{label:S("modelService.ServiceName"),name:"serviceName",validateDebounce:500,rules:Ce?[]:ke,children:(0,C.jsx)(J.A,{disabled:!!Ce})}),(0,C.jsx)(G.A.Item,{name:"openToPublic",valuePropName:"checked",children:(0,C.jsx)(W.A,{disabled:!!Ce,children:S("modelService.OpenToPublic")})}),Ce?(null===Ce||void 0===Ce?void 0:Ce.model)&&(0,C.jsx)(G.A.Item,{name:"vFolderID",label:S("session.launcher.ModelStorageToMount"),required:!0,children:(0,C.jsx)(k.Suspense,{fallback:(0,C.jsx)(Z.A.Input,{active:!0}),children:(0,C.jsx)(V.A,{uuid:null===Ce||void 0===Ce?void 0:Ce.model})})}):(0,C.jsx)(G.A.Item,{name:"vFolderID",label:S("session.launcher.ModelStorageToMount"),rules:[{required:!0}],children:(0,C.jsx)(z,{filter:ge,valuePropName:"id",autoSelectDefault:!M&&!le.vFolderID,disabled:!!Ce,allowFolderExplorer:!0,allowCreateFolder:!0})}),(0,C.jsx)(G.A.Item,{name:"runtimeVariant",required:!0,label:S("modelService.RuntimeVariant"),children:(0,C.jsx)(E.A,{defaultActiveFirstOption:!0,showSearch:!0,options:h().map(null===Re||void 0===Re?void 0:Re.runtimes,pe),onChange:()=>{queueMicrotask((()=>{const e=(Ke.getFieldValue("envvars")||[]).map(_e);e.length>0&&Ke.validateFields(e)}))}})}),(0,C.jsx)(G.A.Item,{dependencies:["runtimeVariant"],noStyle:!0,children:e=>{const{getFieldValue:l}=e;return"custom"===l("runtimeVariant")&&(0,C.jsxs)(D.OOm,{direction:"row",gap:"xxs",align:"stretch",justify:"between",children:[(0,C.jsx)(G.A.Item,{name:"modelMountDestination",label:S("modelService.ModelMountDestination"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,C.jsx)(J.A,{allowClear:!0,placeholder:"/models",disabled:!!Ce})}),(0,C.jsx)(q.A,{style:{fontSize:d.fontSizeXL,color:d.colorTextDisabled},rotate:290}),(0,C.jsx)(G.A.Item,{name:"modelDefinitionPath",label:S("modelService.ModelDefinitionPath"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,C.jsx)(J.A,{allowClear:!0,placeholder:null!==Ce&&void 0!==Ce&&Ce.model_definition_path?null===Ce||void 0===Ce?void 0:Ce.model_definition_path:"model-definition.yaml"})})]})}}),(0,C.jsx)(G.A.Item,{dependencies:["runtimeVariant"],noStyle:!0,children:e=>{const{getFieldValue:l}=e,n=l("runtimeVariant"),a=n?Le[n]:null;return(0,C.jsx)(G.A.Item,{label:S("session.launcher.EnvironmentVariable"),children:(0,C.jsx)(K.Ay,{name:"envvars",requiredEnvVars:null===a||void 0===a?void 0:a.requiredEnvVars,optionalEnvVars:null===a||void 0===a?void 0:a.optionalEnvVars,formItemProps:{validateTrigger:["onChange","onBlur"],rules:[{warningOnly:!0,validator:async(e,l)=>{if(!l)return Promise.resolve();if(Te(n,l))return Promise.resolve();throw S("session.launcher.EnvironmentVariableNotForRuntime")}}]}})})}}),(0,C.jsx)(G.A.Item,{noStyle:!0,dependencies:["vFolderID"],children:e=>{const{getFieldValue:l}=e;return(0,C.jsx)(R.A,{rowKey:"id",label:S("modelService.AdditionalMounts"),rowFilter:e=>{var n;return e.id!==l("vFolderID")&&"ready"===e.status&&"model"!==e.usage_mode&&!(null!==(n=e.name)&&void 0!==n&&n.startsWith("."))},tableProps:{size:"small"}})}})]}),n[54]=Le,n[55]=null===Re||void 0===Re?void 0:Re.runtimes,n[56]=fe,n[57]=Ce,n[58]=Ke,n[59]=le,n[60]=M,n[61]=S,n[62]=d,n[63]=Te,n[64]=ke,n[65]=zl):zl=n[65],n[66]!==zl?(Rl=(0,C.jsx)(X.A,{children:zl}),n[66]=zl,n[67]=Rl):Rl=n[67],n[68]!==fe||n[69]!==Ce||n[70]!==Ke||n[71]!==S||n[72]!==(null===ll||void 0===ll?void 0:ll.max_session_count_per_model_session)||n[73]!==xe)?(ql=(fe.supports("modify-endpoint")||!Ce)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.A.Item,{label:S("modelService.NumberOfReplicas"),name:"replicas",rules:[{required:!0},{type:"number",min:0},{type:"number",max:null!==(Ql=null===ll||void 0===ll?void 0:ll.max_session_count_per_model_session)&&void 0!==Ql?Ql:0}],children:(0,C.jsx)(A.A,{inputContainerMinWidth:190,min:0,max:null!==(Ul=null===ll||void 0===ll?void 0:ll.max_session_count_per_model_session)&&void 0!==Ul?Ul:0,inputNumberProps:{suffix:"#"},step:1})}),(0,C.jsx)(x.A,{}),Ce&&!xe&&!fe._config.allowCustomResourceAllocation&&(0,C.jsx)(G.A.Item,{label:(0,C.jsxs)(C.Fragment,{children:[S("modelService.Resources"),(0,C.jsx)(O.Ay,{type:"link",onClick:()=>{Ke.setFieldsValue({allocationPreset:"auto-select"}),Ae(!0)},children:S("general.Change")})]}),required:!0,children:(0,C.jsxs)(D.OOm,{gap:"xs",children:[(0,C.jsx)(T.A,{title:S("session.ResourceGroup"),children:(0,C.jsx)(H.A,{children:null===Ce||void 0===Ce?void 0:Ce.resource_group})}),h().map(JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_slots)||"{}"),((e,l)=>(0,C.jsx)(D.jOc,{type:l,value:e,opts:JSON.parse((null===Ce||void 0===Ce?void 0:Ce.resource_opts)||"{}")},l)))]})}),(0,C.jsx)("div",{style:{display:!Ce||xe||fe._config.allowCustomResourceAllocation?"block":"none"},children:(0,C.jsx)(j.Ay,{enableResourcePresets:!0})})]}),n[68]=fe,n[69]=Ce,n[70]=Ke,n[71]=S,n[72]=null===ll||void 0===ll?void 0:ll.max_session_count_per_model_session,n[73]=xe,n[74]=ql):ql=n[74];let $l,Gl,Bl,Jl,Wl,Zl,Xl,Hl,Yl,en,ln,nn,an,rn,on,tn,sn,un;return n[75]!==ql?($l=(0,C.jsx)(X.A,{children:ql}),n[75]=ql,n[76]=$l):$l=n[76],n[77]!==Ke||n[78]!==s||n[79]!==y||n[80]!==S?(Gl=()=>{Ke.validateFields().then((e=>{tl(e),be(!0)})).catch((e=>{s.error(e.message),y.error(S("modelService.FormValidationFailed"))}))},n[77]=Ke,n[78]=s,n[79]=y,n[80]=S,n[81]=Gl):Gl=n[81],n[82]!==S?(Bl=S("modelService.Validate"),n[82]=S,n[83]=Bl):Bl=n[83],n[84]!==Gl||n[85]!==Bl?(Jl=(0,C.jsx)(D.OOm,{children:(0,C.jsx)(O.Ay,{onClick:Gl,children:Bl})}),n[84]=Gl,n[85]=Bl,n[86]=Jl):Jl=n[86],n[87]!==Ce||n[88]!==S?(Wl=S(Ce?"button.Update":"button.Create"),n[87]=Ce,n[88]=S,n[89]=Wl):Wl=n[89],n[90]!==rl||n[91]!==Wl?(Zl=(0,C.jsx)(D.OOm,{gap:"sm",children:(0,C.jsx)(O.Ay,{type:"primary",onClick:rl,children:Wl})}),n[90]=rl,n[91]=Wl,n[92]=Zl):Zl=n[92],n[93]!==Jl||n[94]!==Zl?(Xl=(0,C.jsxs)(D.OOm,{direction:"row",justify:"between",align:"end",gap:"xs",children:[Jl,Zl]}),n[93]=Jl,n[94]=Zl,n[95]=Xl):Xl=n[95],n[96]!==Rl||n[97]!==$l||n[98]!==Xl?(Hl=(0,C.jsxs)(D.OOm,{direction:"column",gap:"md",align:"stretch",children:[Rl,$l,Xl]}),n[96]=Rl,n[97]=$l,n[98]=Xl,n[99]=Hl):Hl=n[99],n[100]!==Ke||n[101]!==De||n[102]!==El||n[103]!==Ge.isPending||n[104]!==Hl?(Yl=(0,C.jsx)(G.A,{form:Ke,disabled:Cl,layout:"vertical",labelCol:Ml,initialValues:El,onValuesChange:De,scrollToFirstError:!0,children:Hl}),n[100]=Ke,n[101]=De,n[102]=El,n[103]=Ge.isPending,n[104]=Hl,n[105]=Yl):Yl=n[105],n[106]!==wl||n[107]!==Yl?(en=(0,C.jsx)(G.A.Provider,{onFormChange:wl,children:Yl}),n[106]=wl,n[107]=Yl,n[108]=en):en=n[108],n[109]!==Dl||n[110]!==en?(ln=(0,C.jsx)(D.OOm,{direction:"column",align:"stretch",style:Tl,children:(0,C.jsx)(D.OOm,{direction:"row",gap:"md",align:"start",children:(0,C.jsxs)(D.OOm,{direction:"column",align:"stretch",style:Ol,wrap:"nowrap",children:[Dl,en]})})}),n[109]=Dl,n[110]=en,n[111]=ln):ln=n[111],n[112]!==S?(nn=S("modelService.ValidationInfo"),n[112]=S,n[113]=nn):nn=n[113],n[114]!==Fe?(an=()=>{be(!Fe)},n[114]=Fe,n[115]=an):an=n[115],n[116]===Symbol.for("react.memo_cache_sentinel")?(rn={style:{display:"none"}},n[116]=rn):rn=n[116],n[117]!==S?(on=S("button.Close"),n[117]=S,n[118]=on):on=n[118],n[119]!==ol?(tn=(0,C.jsx)(ee,{serviceData:ol}),n[119]=ol,n[120]=tn):tn=n[120],n[121]!==Fe||n[122]!==nn||n[123]!==an||n[124]!==on||n[125]!==tn?(sn=(0,C.jsx)(D.IbE,{width:1e3,title:nn,open:Fe,destroyOnHidden:!0,onCancel:an,okButtonProps:rn,cancelText:on,maskClosable:!1,children:tn}),n[121]=Fe,n[122]=nn,n[123]=an,n[124]=on,n[125]=tn,n[126]=sn):sn=n[126],n[127]!==ln||n[128]!==sn?(un=(0,C.jsxs)(C.Fragment,{children:[ln,sn]}),n[127]=ln,n[128]=sn,n[129]=un):un=n[129],un};function ne(e){return null!=e&&!!e.variable}function ae(e){return{variable:e.variable,value:""}}function ie(e,l){const n=void 0===l?"":l;return void 0!==e&&e&&n&&!h().isEmpty(n)}function re(e,l){var n,a,i,r,o;const t=void 0!==e&&e;return{image:{name:t?null===(n=l.environments.manual)||void 0===n?void 0:n.split("@")[0]:l.environments.version.split("@")[0],architecture:t?null===(a=l.environments.manual)||void 0===a?void 0:a.split("@")[1]:null===(i=l.environments.image)||void 0===i?void 0:i.architecture,registry:t?null===(r=l.environments.manual)||void 0===r?void 0:r.split("/")[0]:null===(o=l.environments.image)||void 0===o?void 0:o.registry}}}function oe(e,l){var n,a,i,r;const o=void 0!==e&&e;return{image:o?null===(n=l.environments.manual)||void 0===n?void 0:n.split("@")[0]:null===(a=l.environments.version)||void 0===a?void 0:a.split("@")[0],architecture:o?null===(i=l.environments.manual)||void 0===i?void 0:i.split("@")[1]:null===(r=l.environments.image)||void 0===r?void 0:r.architecture}}function te(e){return null!=e&&!!e.variable&&!!e.value}function se(e){return null!=e&&!!e.variable&&!!e.value}function ue(e){return e.message}function de(e){if(Object.keys(e).length<=0)return;const l=Object.keys(e)[0];return{acceleratorType:l,accelerator:"string"===typeof e[l]?"cuda.shares"===l?parseFloat(e[l]):parseInt(e[l]):e[l]}}function ce(e){var l;return null===e||void 0===e||null===(l=e.row_id)||void 0===l?void 0:l.replaceAll("-","")}function me(e,l){return{variable:l,value:e}}function ve(e){return(null===e||void 0===e?void 0:e.name)&&!(null!==e&&void 0!==e&&e.name.startsWith("."))}function ge(e){return"model"===e.usage_mode&&"ready"===e.status&&"group"!==e.ownership_type}function pe(e){return{value:e.name,label:e.human_readable_name}}function _e(e,l){return["envvars",l,"variable"]}}}]);
//# sourceMappingURL=4899.f686e21c.chunk.js.map