"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[556,711],{1502:function(n,e,a){a.r(e),a.d(e,{default:function(){return L},useShadowRoot:function(){return _},useWebComponentInfo:function(){return C}});var i=a(9439),t=a(4519),l=a(6980),r=a(7340),o=a(9002),u=a(7112),s=a(4447),d=a(1748),c=a(3881),g=a(9883),m=a(6670),f=a(4165),v=a(5861),p=a(1011),h=a(1413);function b(n,e){var a=(0,h.Z)({},e);return function(n){for(var e,a=/(\w+)\s@\s*(\w+)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/g,t=[];null!==(e=a.exec(n));){var l=e,r=(0,i.Z)(l,5),o=r[0],u=r[1],s=r[2],d=r[3],c=r[4];t.push({fieldName:u,directive:s,argumentName:d,argumentValue:c,originFieldStr:o})}return t}(n).forEach((function(i){if("skipOnClient"===i.directive&&"if"===i.argumentName&&(n=!i.argumentValue||!0!==e[i.argumentValue.substring(1)]&&"true"!==i.argumentValue?n.replace(i.originFieldStr,i.originFieldStr.replace(/@\s*(skipOnClient)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/,"")):n.replace(i.originFieldStr,""),i.argumentValue.startsWith("$")&&2===n.split(i.argumentValue).length)){var t=i.argumentValue.substring(1),l=new RegExp(".*".concat(t,".*\n"),"g");n=n.replace(l,""),delete a[i.argumentValue.substring(1)]}})),{query:n,variables:a}}p.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var k=function(){var n=(0,v.Z)((0,f.Z)().mark((function n(e,a){var i,t,l,r,o,u;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=b(e.text||"",a),r={query:l.query,variables:l.variables},o=null===(i=globalThis.backendaiclient)||void 0===i?void 0:i.newSignedRequest("POST","/admin/gql",r),n.next=5,null===(t=globalThis.backendaiclient)||void 0===t?void 0:t._wrapWithPromise(o,!1,null,1e4,0);case 5:return u=n.sent,n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})));return function(e,a){return n.apply(this,arguments)}}();var y,x=new p.Environment({network:p.Network.create(k,void 0),store:new p.Store(new p.RecordSource)}),S=a(382),w=a(1843),j=a(2674),T=a(2556),I=t.createContext(null),Z=t.createContext(null),_=function(){return t.useContext(Z)},C=function(){return t.useContext(I)},E=new u.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});s.ZP.use(d.Db).use(c.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(y=globalThis.backendaioptions)||void 0===y?void 0:y.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var F=function(){var n=(0,j.s0)();return(0,t.useLayoutEffect)((function(){var e=function(e){var a=e.detail;n(a,{replace:!0})};return document.addEventListener("react-navigate",e),function(){document.removeEventListener("react-navigate",e)}}),[n]),null},L=function(n){var e=n.children,a=n.value,s=n.styles,c=n.shadowRoot,f=n.dispatchEvent,v=(0,t.useMemo)((function(){return(0,r.Df)()}),[]),p=function(){var n,e=(0,t.useState)(null===globalThis||void 0===globalThis||null===(n=globalThis.backendaioptions)||void 0===n?void 0:n.get("current_language")),a=(0,i.Z)(e,2),l=a[0],r=a[1],o=(0,d.$G)().i18n;return(0,t.useEffect)((function(){setTimeout((function(){return null===o||void 0===o?void 0:o.changeLanguage(l)}),0)}),[]),(0,t.useEffect)((function(){var n=function(n){var e,a;r(null===n||void 0===n||null===(e=n.detail)||void 0===e?void 0:e.lang);var i=(null===n||void 0===n||null===(a=n.detail)||void 0===a?void 0:a.lang)||"en";null===o||void 0===o||o.changeLanguage(i)};return window.addEventListener("langChanged",n),function(){return window.removeEventListener("langChanged",n)}}),[o]),[l]}(),h=(0,i.Z)(p,1)[0],b=(0,S.x)(),k=(0,t.useMemo)((function(){return{value:a,dispatchEvent:f,moveTo:function(n){f("moveTo",{path:n})}}}),[a,f]);return(0,T.jsx)(T.Fragment,{children:x&&(0,T.jsx)(l.RelayEnvironmentProvider,{environment:x,children:(0,T.jsxs)(t.StrictMode,{children:[(0,T.jsxs)("style",{children:[s,"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n"]}),(0,T.jsx)(u.QueryClientProvider,{client:E,children:(0,T.jsx)(Z.Provider,{value:c,children:(0,T.jsx)(I.Provider,{value:k,children:(0,T.jsx)(o.ZP,{getPopupContainer:function(n){return c},locale:"ko"===h?m.Z:g.Z,theme:b,children:(0,T.jsx)(r.V9,{container:c,cache:v,children:(0,T.jsx)(t.Suspense,{fallback:"",children:(0,T.jsxs)(w.VK,{children:[(0,T.jsx)(F,{}),e]})})})})})})})]})})})}},4652:function(n,e,a){a.r(e);var i,t=a(1413),l=a(6459),r=(a(4519),a(7112)),o=a(6980),u=a(3842),s=a(2513),d=a(1346),c=a(7171),g=a(5870),m=a(1748),f=a(1502),v=a(7760),p=a(2048),h=a.n(p),b=a(2556);e.default=function(n){var e,p,k=Object.assign({},((0,l.Z)(n),n)),y=(0,m.$G)().t,x=(0,f.useWebComponentInfo)(),S=x.value,w=x.dispatchEvent;try{p=JSON.parse(S||"")}catch(P){p={open:!1,userEmail:""}}var j,T=p,I=T.open,Z=T.userEmail,_=(0,v.Dj)(),C=(0,r.useQuery)("isManagerSupportingTOTP",(function(){return _.isManagerSupportingTOTP()}),{suspense:!1}),E=C.data,F=C.isLoading;j=(null===_||void 0===_?void 0:_.supports("2FA"))&&E;var L=(0,o.useLazyLoadQuery)(void 0!==i?i:i=a(1960),{email:Z,isTOTPSupported:null!==(e=j)&&void 0!==e&&e}).user,K={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,b.jsxs)(u.Z,(0,t.Z)((0,t.Z)({open:I,onCancel:function(){w("cancel",null)},centered:!0,title:y("credential.UserDetail"),footer:[(0,b.jsx)(s.ZP,{type:"primary",onClick:function(){w("cancel",null)},children:y("button.OK")},"ok")]},k),{},{children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{size:"small",column:K,title:y("credential.Information"),labelStyle:{width:"50%"},children:[(0,b.jsx)(d.Z.Item,{label:y("credential.UserID"),children:null===L||void 0===L?void 0:L.email}),(0,b.jsx)(d.Z.Item,{label:y("credential.UserName"),children:null===L||void 0===L?void 0:L.username}),(0,b.jsx)(d.Z.Item,{label:y("credential.FullName"),children:null===L||void 0===L?void 0:L.full_name}),(0,b.jsx)(d.Z.Item,{label:y("credential.DescActiveUser"),children:"active"===(null===L||void 0===L?void 0:L.status)?y("button.Yes"):y("button.No")}),(0,b.jsx)(d.Z.Item,{label:y("credential.DescRequirePasswordChange"),children:null!==L&&void 0!==L&&L.need_password_change?y("button.Yes"):y("button.No")}),j&&(0,b.jsx)(d.Z.Item,{label:y("webui.menu.TotpActivated"),children:(0,b.jsx)(c.Z,{spinning:F,children:null!==L&&void 0!==L&&L.totp_activated?y("button.Yes"):y("button.No")})})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{size:"small",column:K,title:y("credential.Association"),labelStyle:{width:"50%"},children:[(0,b.jsx)(d.Z.Item,{label:y("credential.Domain"),children:null===L||void 0===L?void 0:L.domain_name}),(0,b.jsx)(d.Z.Item,{label:y("credential.Role"),children:null===L||void 0===L?void 0:L.role})]}),(0,b.jsx)("br",{}),(0,b.jsx)(d.Z,{title:y("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,b.jsx)(d.Z.Item,{children:h().map(null===L||void 0===L?void 0:L.groups,(function(n){return(0,b.jsx)(g.Z,{children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})})]}))}},1960:function(n,e,a){a.r(e);var i=function(){var n=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],e=[{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},g={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]};return{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,i,t,l,r,o,u,s,c,g],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,i,t,l,r,o,u,s,c,g,d],storageKey:null}]},params:{cacheID:"0df215d9d53a960adda4cd628fa40661",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:"query UserInfoModalQuery(\n  $email: String\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    totp_activated @include(if: $isTOTPSupported)\n    id\n  }\n}\n"}}}();i.hash="ebbace65870261723ee661def143e3e8",e.default=i},7760:function(n,e,a){a.d(e,{Dj:function(){return d},Kr:function(){return r},M:function(){return s},dS:function(){return c},qh:function(){return u},tQ:function(){return o}});var i=a(9439),t=a(4519),l=a(7112),r=function(n){return function(n){var e=(0,t.useState)(n||(new Date).toISOString()),a=(0,i.Z)(e,2),l=a[0],r=a[1];return[l,function(n){r(n||(new Date).toISOString())}]}(n)},o=function(){return d()._config.domainName},u=function(){var n=d(),e=(0,t.useState)({name:n.current_group,id:n.groupIds[n.current_group]}),a=(0,i.Z)(e,2),l=a[0],r=a[1];return(0,t.useEffect)((function(){var e=function(e){var a=e.detail;r({name:a,id:n.groupIds[a]})};return document.addEventListener("backend-ai-group-changed",e),function(){document.removeEventListener("backend-ai-group-changed",e)}})),l},s=function(n){var e=n.api_endpoint;return(0,t.useMemo)((function(){var n=new globalThis.BackendAIClientConfig("","",e,"SESSION");return new globalThis.BackendAIClient(n,"Backend.AI Console.")}),[e])},d=function(){return(0,l.useQuery)({queryKey:"backendai-client-for-suspense",queryFn:function(){return new Promise((function(n){if("undefined"!==typeof globalThis.backendaiclient&&null!==globalThis.backendaiclient&&!1!==globalThis.backendaiclient.ready)return n(globalThis.backendaiclient);document.addEventListener("backend-ai-connected",(function e(){n(globalThis.backendaiclient),document.removeEventListener("backend-ai-connected",e)}))}))},retry:!1,suspense:!0}).data},c=function(){var n=(0,l.useQuery)({queryKey:"backendai-metadata-for-suspense",queryFn:function(){return fetch("resources/image_metadata.json").then((function(n){return n.json()})).then((function(n){return n}))},suspense:!0,retry:!1}).data,e=function(n){if(!n)return{key:"",tags:[]};var e=n.split("/"),a=(e[2]||e[1]).split(":"),t=(0,i.Z)(a,2);return{key:t[0],tags:t[1].split("-")}};return[n,{getImageAliasName:function(a){var i=e(a).key;return(null===n||void 0===n?void 0:n.imageInfo[i].name)||i},getImageIcon:function(a){var i,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"resources/icons/";if(!a)return"default.png";var r=e(a).key;return l+(void 0!==(null===n||void 0===n||null===(i=n.imageInfo[r])||void 0===i?void 0:i.icon)?null===n||void 0===n||null===(t=n.imageInfo[r])||void 0===t?void 0:t.icon:"default.png")},getImageTags:function(n){},getBaseVersion:function(n){return e(n).tags[0]},getBaseImage:function(n){return e(n).tags[1]},getImageMeta:e}]}}}]);
//# sourceMappingURL=556.a75e59da.chunk.js.map