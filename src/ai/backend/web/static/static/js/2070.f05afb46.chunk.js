/*! For license information please see 2070.f05afb46.chunk.js.LICENSE.txt */
(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2070],{94190:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>G});var a=n(72375),i=n(23441),r=n(73e3),s=n(81530),o=n(9189),t=n(4101),u=n(72338),d=n(60828),c=n(63515),m=n(7208),g=n(42388),v=n(20936),p=n(85730),_=n(1581),y=n(46976),h=n.n(y),f=n(53350),S=n(60598);const k=e=>{var l,n;let{filter:o,autoSelectDefault:t,valuePropName:u="name",...d}=e;const c=(0,s.hd)(),m=(0,a.QE)(),[g,v]=(0,p.A)(d),[y,k]=(0,i.Tw)("first"),{data:F}=(0,r.nj)({queryKey:["VFolderSelectQuery",y],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",c.id),m({method:"GET",url:`/folders?${e.toString()}`})},staleTime:0}),b=o?h().filter(F,o):F,K=h().first(b)?{label:null===(l=h().first(b))||void 0===l?void 0:l.name,value:null===(n=h().first(b))||void 0===n?void 0:n[u]}:void 0;return(0,f.useEffect)((()=>{t&&K&&v(K.value,K)}),[t]),(0,S.jsx)(_.A,{showSearch:!0,optionFilterProp:"label",...d,value:g,onChange:v,onDropdownVisibleChange:e=>{e&&(0,f.startTransition)((()=>{k()}))},options:h().map(b,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e[u]})))})};var F=n(19528),b=n(40991),K=n(55272),x=n(90055),A=function(e,l){return f.createElement(x.A,(0,b.A)({},e,{ref:l,icon:K.A}))};const j=f.forwardRef(A);var P,T,L,C,I=n(9571),M=n(67710),w=n(13170),N=n(20418),D=n(83978),V=n(77109),z=n(91867),E=n(52335),R=n(82919),U=n(24798),O=n(91788),q=n(22018),$=n(32043);const Q=f.lazy((()=>n.e(7472).then(n.bind(n,95091)))),G=e=>{var l,p,y,b,K,x,A,G,J,B,W,H,X,Z,Y,ee,le,ne,ae,ie,re;let{endpointFrgmt:se=null}=e;const{token:oe}=I.A.useToken(),{message:te}=M.A.useApp(),{t:ue}=(0,O.Bd)(),[{model:de}]=(0,$.useQueryParams)({model:$.StringParam}),ce=(0,i.f0)(),me=(0,i.CX)(),ge=(0,a.QE)(),ve=(0,i.eZ)(),[pe,_e]=(0,f.useState)(!1),[ye]=w.A.useForm(),[he,fe]=(0,f.useState)(!1),[Se,ke]=(0,s.zL)(),Fe=(0,q.useFragment)(void 0!==P?P:P=n(95297),se),{data:be}=(0,r.nj)({queryKey:["baiClient.modelService.runtime.list"],queryFn:()=>me.isManagerVersionCompatibleWith("24.03.5")?ge({method:"GET",url:"/services/_/runtimes"}):Promise.resolve({runtimes:[{name:"custom",human_readable_name:"Custom (Default)"}]}),staleTime:1e3}),Ke=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&e&&!h().isEmpty(e)},xe=function(){var e,l,n,a,i;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1?arguments[1]:void 0;return{image:{name:r?null===(e=s.environments.manual)||void 0===e?void 0:e.split("@")[0]:s.environments.version.split("@")[0],architecture:r?null===(l=s.environments.manual)||void 0===l?void 0:l.split("@")[1]:null===(n=s.environments.image)||void 0===n?void 0:n.architecture,registry:r?null===(a=s.environments.manual)||void 0===a?void 0:a.split("/")[0]:null===(i=s.environments.image)||void 0===i?void 0:i.registry}}},Ae=function(){var e,l,n,a;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;return{image:i?null===(e=r.environments.manual)||void 0===e?void 0:e.split("@")[0]:null===(l=r.environments.version)||void 0===l?void 0:l.split("@")[0],architecture:i?null===(n=r.environments.manual)||void 0===n?void 0:n.split("@")[1]:null===(a=r.environments.image)||void 0===a?void 0:a.architecture}},je=(0,r.ET)({mutationFn:e=>{const l={to:e.replicas};return(0,a.hu)({method:"POST",url:`/services/${null===Fe||void 0===Fe?void 0:Fe.endpoint_id}/scale`,body:l,client:me})}}),Pe=(0,r.ET)({mutationFn:e=>{var l;const n={};e.envvars&&e.envvars.forEach((e=>n[e.variable]=e.value));const i={name:e.serviceName,desired_session_count:e.replicas,...Ae(Ke(me._config.allow_manual_image_name_for_session,null===(l=e.environments)||void 0===l?void 0:l.manual),e),runtime_variant:e.runtimeVariant,group:me.current_group,domain:ve,cluster_size:e.cluster_size,cluster_mode:e.cluster_mode,open_to_public:e.openToPublic,config:{model:e.vFolderID,model_version:1,...me.supports("endpoint-extra-mounts")&&{extra_mounts:h().reduce(e.mounts,((l,n)=>(l[n]={...e.vfoldersAliasMap[n]&&{mount_destination:e.vfoldersAliasMap[n]},type:"bind"},l)),{}),model_definition_path:e.modelDefinitionPath},model_mount_destination:me.supports("endpoint-extra-mounts")&&""!==e.modelMountDestination?e.modelMountDestination:"/models",environ:n,scaling_group:e.resourceGroup,resources:{cpu:e.resource.cpu.toString(),mem:e.resource.mem,...e.resource.accelerator>0?{[e.resource.acceleratorType]:e.resource.accelerator.toString()}:void 0},resource_opts:{shmem:(0,a.Mh)(e.resource.mem,"4g")>0&&(0,a.Mh)(e.resource.shmem,"1g")<0?"1g":e.resource.shmem}}};return(0,a.hu)({method:"POST",url:"/services",body:i,client:me})}}),{user:Te}=(0,q.useLazyLoadQuery)(void 0!==T?T:T=n(44459),{domain_name:(0,i.eZ)(),email:null===me||void 0===me?void 0:me.email}),{user_resource_policy:Le}=(0,q.useLazyLoadQuery)(void 0!==L?L:L=n(41569),{user_RP_name:null===Te||void 0===Te?void 0:Te.resource_policy}),[Ce]=(0,q.useMutation)(void 0!==C?C:C=n(58632)),[Ie,Me]=(0,f.useState)(),we=Fe?{serviceName:null===Fe||void 0===Fe?void 0:Fe.name,resourceGroup:null===Fe||void 0===Fe?void 0:Fe.resource_group,allocationPreset:"custom",replicas:null!==(l=null!==(p=null===Fe||void 0===Fe?void 0:Fe.replicas)&&void 0!==p?p:null===Fe||void 0===Fe?void 0:Fe.desired_session_count)&&void 0!==l?l:1,resource:{cpu:parseInt(null===(y=JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_slots)||"{}"))||void 0===y?void 0:y.cpu),mem:null===(b=(0,a.Is)((null===(K=JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_slots)||"{}"))||void 0===K?void 0:K.mem)+"b","g",3,!0))||void 0===b?void 0:b.numberUnit,shmem:null===(x=(0,a.Is)((null===(A=JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_opts)||"{}"))||void 0===A?void 0:A.shmem)||m.t2,"g",3,!0))||void 0===x?void 0:x.numberUnit,...(e=>{if(Object.keys(e).length<=0)return;const l=Object.keys(e)[0];return{acceleratorType:l,accelerator:"string"===typeof e[l]?"cuda.shares"===l?parseFloat(e[l]):parseInt(e[l]):e[l]}})(h().omit(JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_slots)||"{}"),["cpu","mem"]))},cluster_mode:"MULTI_NODE"===(null===Fe||void 0===Fe?void 0:Fe.cluster_mode)?"multi-node":"single-node",cluster_size:null===Fe||void 0===Fe?void 0:Fe.cluster_size,openToPublic:null===Fe||void 0===Fe?void 0:Fe.open_to_public,environments:{environment:null!==(G=null===Fe||void 0===Fe||null===(J=Fe.image_object)||void 0===J?void 0:J.namespace)&&void 0!==G?G:null===Fe||void 0===Fe||null===(B=Fe.image_object)||void 0===B?void 0:B.name,version:`${null===Fe||void 0===Fe||null===(W=Fe.image_object)||void 0===W?void 0:W.registry}/${null!==(H=null===Fe||void 0===Fe||null===(X=Fe.image_object)||void 0===X?void 0:X.namespace)&&void 0!==H?H:null===Fe||void 0===Fe||null===(Z=Fe.image_object)||void 0===Z?void 0:Z.name}:${null===Fe||void 0===Fe||null===(Y=Fe.image_object)||void 0===Y?void 0:Y.tag}@${null===Fe||void 0===Fe||null===(ee=Fe.image_object)||void 0===ee?void 0:ee.architecture}`,image:null===Fe||void 0===Fe?void 0:Fe.image_object},vFolderID:null===Fe||void 0===Fe?void 0:Fe.model,mounts:h().map(null===Fe||void 0===Fe?void 0:Fe.extra_mounts,(e=>{var l;return null===e||void 0===e||null===(l=e.row_id)||void 0===l?void 0:l.replaceAll("-","")})),modelMountDestination:null===Fe||void 0===Fe?void 0:Fe.model_mount_destination,modelDefinitionPath:null===Fe||void 0===Fe?void 0:Fe.model_definition_path,runtimeVariant:null===Fe||void 0===Fe||null===(le=Fe.runtime_variant)||void 0===le?void 0:le.name,envvars:h().map(JSON.parse((null===Fe||void 0===Fe?void 0:Fe.environ)||"{}"),((e,l)=>({variable:l,value:e})))}:{replicas:1,runtimeVariant:"custom",...m.jh,...(null===(ne=me._config)||void 0===ne?void 0:ne.default_session_environment)&&{environments:{environment:null===(ae=me._config)||void 0===ae?void 0:ae.default_session_environment}},vFolderID:de||void 0,resourceGroup:Se,allocationPreset:"auto-select"};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.A,{direction:"column",align:"stretch",style:{justifyContent:"revert"},children:(0,S.jsx)(u.A,{direction:"row",gap:"md",align:"start",children:(0,S.jsx)(u.A,{direction:"column",align:"stretch",style:{flex:1,maxWidth:700},wrap:"nowrap",children:(0,S.jsx)(w.A,{form:ye,disabled:Pe.isPending,layout:"vertical",labelCol:{span:12},initialValues:we,requiredMark:"optional",children:(0,S.jsxs)(u.A,{direction:"column",gap:"md",align:"stretch",children:[(0,S.jsx)(N.A,{children:(me.supports("modify-endpoint")||!Fe)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.A.Item,{label:ue("modelService.ServiceName"),name:"serviceName",rules:[{min:4,message:ue("modelService.ServiceNameMinLength"),type:"string"},{max:24,message:ue("modelService.ServiceNameMaxLength"),type:"string"},{pattern:/^(?:[^-]|[^-].*[^-])$/,message:ue("modelService.ServiceNameCannotStartWithHyphen")},{pattern:/^[\w-]+$/,message:ue("modelService.ServiceNameRule")},{required:!0}],children:(0,S.jsx)(D.A,{disabled:!!Fe})}),(0,S.jsx)(w.A.Item,{name:"openToPublic",label:ue("modelService.OpenToPublic"),valuePropName:"checked",children:(0,S.jsx)(V.A,{disabled:!!Fe})}),Fe?(null===Fe||void 0===Fe?void 0:Fe.model)&&(0,S.jsx)(w.A.Item,{name:"vFolderID",label:ue("session.launcher.ModelStorageToMount"),required:!0,children:(0,S.jsx)(f.Suspense,{fallback:(0,S.jsx)(z.A.Input,{active:!0}),children:(0,S.jsx)(v.A,{uuid:null===Fe||void 0===Fe?void 0:Fe.model})})}):(0,S.jsx)(w.A.Item,{name:"vFolderID",label:ue("session.launcher.ModelStorageToMount"),rules:[{required:!0}],children:(0,S.jsx)(k,{filter:e=>"model"===e.usage_mode&&"ready"===e.status,valuePropName:"id",autoSelectDefault:!de,disabled:!!Fe})}),me.supports("endpoint-runtime-variant")?(0,S.jsx)(w.A.Item,{name:"runtimeVariant",required:!0,label:ue("modelService.RuntimeVariant"),children:(0,S.jsx)(_.A,{defaultActiveFirstOption:!0,showSearch:!0,options:h().map(null===be||void 0===be?void 0:be.runtimes,(e=>({value:e.name,label:e.human_readable_name})))})}):null,(0,S.jsx)(w.A.Item,{dependencies:["runtimeVariant"],noStyle:!0,children:e=>{let{getFieldValue:l}=e;return"custom"===l("runtimeVariant")&&me.supports("endpoint-extra-mounts")?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(u.A,{direction:"row",gap:"xxs",align:"stretch",justify:"between",children:[(0,S.jsx)(w.A.Item,{name:"modelMountDestination",label:ue("modelService.ModelMountDestination"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,S.jsx)(D.A,{allowClear:!0,placeholder:"/models",disabled:!!Fe})}),(0,S.jsx)(j,{style:{fontSize:oe.fontSizeXL,color:oe.colorTextDisabled},rotate:290}),(0,S.jsx)(w.A.Item,{name:"modelDefinitionPath",label:ue("modelService.ModelDefinitionPath"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,S.jsx)(D.A,{allowClear:!0,placeholder:null!==Fe&&void 0!==Fe&&Fe.model_definition_path?null===Fe||void 0===Fe?void 0:Fe.model_definition_path:"model-definition.yaml"})})]})}):null}}),me.supports("endpoint-extra-mounts")?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(w.A.Item,{noStyle:!0,dependencies:["vFolderID"],children:e=>{let{getFieldValue:l}=e;return(0,S.jsx)(F.A,{rowKey:"id",label:ue("modelService.AdditionalMounts"),filter:e=>{var n;return e.name!==l("vFolderID")&&"ready"===e.status&&"model"!==e.usage_mode&&!(null!==(n=e.name)&&void 0!==n&&n.startsWith("."))},tableProps:{size:"small"}})}})}):null]})}),(0,S.jsx)(N.A,{children:(me.supports("modify-endpoint")||!Fe)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.A.Item,{label:ue("modelService.NumberOfReplicas"),name:"replicas",rules:[{required:!0},{type:"number",min:0},{type:"number",max:null!==(ie=null===Le||void 0===Le?void 0:Le.max_session_count_per_model_session)&&void 0!==ie?ie:0}],children:(0,S.jsx)(c.A,{min:0,max:null!==(re=null===Le||void 0===Le?void 0:Le.max_session_count_per_model_session)&&void 0!==re?re:0,inputNumberProps:{addonAfter:"#"},step:1})}),(0,S.jsx)(d.A,{}),Fe&&!he&&!me._config.allowCustomResourceAllocation&&(0,S.jsx)(w.A.Item,{label:(0,S.jsxs)(S.Fragment,{children:[ue("modelService.Resources"),(0,S.jsx)(E.Ay,{type:"link",onClick:()=>{ye.setFieldsValue({allocationPreset:"auto-select"}),fe(!0)},children:ue("general.Change")})]}),required:!0,children:(0,S.jsxs)(u.A,{gap:"xs",children:[(0,S.jsx)(R.A,{title:ue("session.ResourceGroup"),children:(0,S.jsx)(U.A,{children:null===Fe||void 0===Fe?void 0:Fe.resource_group})}),h().map(JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_slots)||"{}"),((e,l)=>(0,S.jsx)(g.A,{type:l,value:e,opts:JSON.parse((null===Fe||void 0===Fe?void 0:Fe.resource_opts)||"{}")},l)))]})}),(0,S.jsx)("div",{style:{display:!Fe||he||me._config.allowCustomResourceAllocation?"block":"none"},children:(0,S.jsx)(m.Ay,{enableResourcePresets:!0})}),(0,S.jsx)(w.A.Item,{label:ue("session.launcher.EnvironmentVariable"),children:(0,S.jsx)(t.Ay,{name:"envvars",formItemProps:{validateTrigger:["onChange","onBlur"]}})})]})}),(0,S.jsxs)(u.A,{direction:"row",justify:"between",align:"end",gap:"xs",children:[(0,S.jsx)(u.A,{children:me.supports("model-service-validation")?(0,S.jsx)(E.Ay,{onClick:()=>{ye.validateFields().then((e=>{Me(e),_e(!0)})).catch((e=>{console.log(e.message),te.error(ue("modelService.FormValidationFailed"))}))},children:ue("modelService.Validate")}):null}),(0,S.jsx)(u.A,{gap:"sm",children:(0,S.jsx)(E.Ay,{type:"primary",onClick:()=>{ye.validateFields().then((e=>{if(Fe)if(me.supports("modify-endpoint")){var l;const n={endpoint_id:(null===Fe||void 0===Fe?void 0:Fe.endpoint_id)||"",props:{resource_slots:JSON.stringify({cpu:e.resource.cpu,mem:e.resource.mem,...e.resource.accelerator>0?{[e.resource.acceleratorType]:e.resource.accelerator}:void 0}),resource_opts:JSON.stringify({shmem:e.resource.shmem}),cluster_mode:"single-node"===e.cluster_mode?"SINGLE_NODE":"MULTI_NODE",cluster_size:e.cluster_size,...me.supports("replicas")?{replicas:e.replicas}:{desired_session_count:e.replicas},...xe(Ke(me._config.allow_manual_image_name_for_session,null===(l=e.environments)||void 0===l?void 0:l.manual),e),extra_mounts:h().map(e.mounts,(l=>({vfolder_id:l,...e.vfoldersAliasMap[l]&&{mount_destination:e.vfoldersAliasMap[l]}}))),name:e.serviceName,resource_group:e.resourceGroup,model_definition_path:e.modelDefinitionPath,runtime_variant:e.runtimeVariant}};if(me.supports("modify-endpoint-environ")){const l={};e.envvars&&e.envvars.forEach((e=>l[e.variable]=e.value)),n.props.environ=JSON.stringify(l)}Ce({variables:n,onCompleted:(e,l)=>{var n,a;if(null!==(n=e.modify_endpoint)&&void 0!==n&&n.ok)if(l&&(null===l||void 0===l?void 0:l.length)>0){const e=h().map(l,(e=>e.message));for(const l of e)te.error(l,2.5)}else{var i;const l=null===(i=e.modify_endpoint)||void 0===i?void 0:i.endpoint;te.success(ue("modelService.ServiceUpdated",{name:null===l||void 0===l?void 0:l.name})),ce(`/serving/${null===Fe||void 0===Fe?void 0:Fe.endpoint_id}`)}else te.error(null===(a=e.modify_endpoint)||void 0===a?void 0:a.msg)},onError:e=>{e.message?te.error(e.message):te.error(ue("modelService.FailedToUpdateService"))}})}else je.mutate(e,{onSuccess:()=>{te.success(ue("modelService.ServiceUpdated",{name:Fe.name})),ce(`/serving/${null===Fe||void 0===Fe?void 0:Fe.endpoint_id}`)},onError:e=>{te.error(ue("modelService.FailedToUpdateService"))}});else Pe.mutate(e,{onSuccess:()=>{ke(e.resourceGroup),te.success(ue("modelService.ServiceCreated",{name:e.serviceName})),ce("/serving")},onError:e=>{null!==e&&void 0!==e&&e.message?te.error(h().truncate(null===e||void 0===e?void 0:e.message,{length:200})):Fe?te.error(ue("modelService.FailedToUpdateService")):te.error(ue("modelService.FailedToStartService"))}})})).catch((e=>{var l,n;(null===e||void 0===e||null===(l=e.errorFields)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.name)&&ye.scrollToField(e.errorFields[0].name,{behavior:"smooth",block:"center"})}))},children:ue(Fe?"button.Update":"button.Create")})})]})]})})})})}),me.supports("model-service-validation")?(0,S.jsx)(o.A,{zIndex:o.z+1,width:1e3,title:ue("modelService.ValidationInfo"),open:pe,destroyOnClose:!0,onCancel:()=>{_e(!pe)},okButtonProps:{style:{display:"none"}},cancelText:ue("button.Close"),maskClosable:!1,children:(0,S.jsx)(Q,{serviceData:Ie})}):null]})}},20936:(e,l,n)=>{"use strict";n.d(l,{A:()=>c});var a=n(72375),i=n(23441),r=n(73e3),s=n(81530),o=n(2759),t=n(50128),u=(n(53350),n(50423)),d=n(60598);const c=e=>{let{uuid:l,clickable:n}=e;const c=(0,s.hd)(),m=(0,a.QE)(),g=(0,u.zy)(),v=(0,i.f0)(),{data:p}=(0,r.nj)({queryKey:["VFolderSelectQuery"],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",c.id),m({method:"GET",url:`/folders?${e.toString()}`})},staleTime:1e3}),_=null===p||void 0===p?void 0:p.find((e=>e.id===l.replaceAll("-","")));return _&&(n?(0,d.jsxs)(t.A.Link,{onClick:()=>{v({pathname:g.pathname,search:`?folder=${_.id}`})},children:[(0,d.jsx)(o.A,{})," ",_.name]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(o.A,{})," ",_.name]}))}},95297:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>i});const a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},{alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null}],storageKey:null},e],type:"Endpoint",abstractKey:null}}();a.hash="527819bdfda0bde357e321df1aa5a204";const i=a},58632:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpoint_id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{kind:"Variable",name:"endpoint_id",variableName:"endpoint_id"},{kind:"Variable",name:"props",variableName:"props"}],n={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},b={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},K={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L={alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[T,{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},C={alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,s,o,t,u,d,c,m,g,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[v,p,_,y,h,f,S,k,b,K,x,A],storageKey:null},v,j,P,L,C],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,s,o,t,u,d,c,m,g,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[v,p,_,y,h,f,S,k,b,K,x,A,T],storageKey:null},v,j,P,L,C,T],storageKey:null}],storageKey:null}]},params:{cacheID:"6e4e20e60305351f47a87be19f8d6a86",id:null,metadata:{},name:"ServiceLauncherPageContentModifyMutation",operationKind:"mutation",text:'mutation ServiceLauncherPageContentModifyMutation(\n  $endpoint_id: UUID!\n  $props: ModifyEndpointInput!\n) {\n  modify_endpoint(endpoint_id: $endpoint_id, props: $props) {\n    ok\n    msg\n    endpoint {\n      endpoint_id\n      desired_session_count @deprecatedSince(version: "24.12.0")\n      replicas @since(version: "24.12.0")\n      resource_group\n      resource_slots\n      resource_opts\n      cluster_mode\n      cluster_size\n      open_to_public\n      model\n      image_object @since(version: "23.09.9") {\n        name @deprecatedSince(version: "24.12.0")\n        namespace @since(version: "24.12.0")\n        humanized_name\n        tag\n        registry\n        architecture\n        is_local\n        digest\n        resource_limits {\n          key\n          min\n          max\n        }\n        labels {\n          key\n          value\n        }\n        size_bytes\n        supported_accelerators\n        id\n      }\n      name\n      model_definition_path @since(version: "24.03.4")\n      model_mount_destination @since(version: "24.03.4")\n      extra_mounts @since(version: "24.03.4") {\n        id\n        host\n        quota_scope_id\n        name\n        user\n        user_email\n        group\n        group_name\n        creator\n        unmanaged_path\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n      }\n      runtime_variant @since(version: "24.03.5") {\n        name\n        human_readable_name\n      }\n      id\n    }\n  }\n}\n'}}}();a.hash="a63a50401ffb00cb96aa893c9536b016";const i=a},44459:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"},{defaultValue:null,kind:"LocalArgument",name:"email"}],l=[{alias:null,args:[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserInfoQuery",selections:l,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserInfoQuery",selections:l},params:{cacheID:"bd463b860cd7ab56a302e7f1dc7b2611",id:null,metadata:{},name:"ServiceLauncherPageContent_UserInfoQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserInfoQuery(\n  $domain_name: String\n  $email: String\n) {\n  user(domain_name: $domain_name, email: $email) {\n    id\n    resource_policy @since(version: "23.09.0")\n  }\n}\n'}}}();a.hash="6c33adac7ab1ae44cf36f91363ec7dbf";const i=a},41569:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"user_RP_name"}],l=[{kind:"Variable",name:"name",variableName:"user_RP_name"}],n={alias:null,args:null,kind:"ScalarField",name:"max_session_count_per_model_session",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"9521f8ab6e4190bdffb95e25ce45d8c3",id:null,metadata:{},name:"ServiceLauncherPageContent_UserResourcePolicyQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserResourcePolicyQuery(\n  $user_RP_name: String\n) {\n  user_resource_policy(name: $user_RP_name) @since(version: "23.09.6") {\n    max_session_count_per_model_session\n    id\n  }\n}\n'}}}();a.hash="2625e741ab935b9160f781d3aba13067";const i=a},20940:(e,l,n)=>{"use strict";n.d(l,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"}},55272:(e,l,n)=>{"use strict";n.d(l,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"}},89840:(e,l,n)=>{"use strict";n.d(l,{A:()=>t});var a=n(40991),i=n(53350),r=n(17491),s=n(90055),o=function(e,l){return i.createElement(s.A,(0,a.A)({},e,{ref:l,icon:r.A}))};const t=i.forwardRef(o)},53787:(e,l,n)=>{"use strict";n.d(l,{A:()=>t});var a=n(40991),i=n(53350),r=n(69602),s=n(90055),o=function(e,l){return i.createElement(s.A,(0,a.A)({},e,{ref:l,icon:r.A}))};const t=i.forwardRef(o)},2759:(e,l,n)=>{"use strict";n.d(l,{A:()=>t});var a=n(40991),i=n(53350),r=n(25594),s=n(90055),o=function(e,l){return i.createElement(s.A,(0,a.A)({},e,{ref:l,icon:r.A}))};const t=i.forwardRef(o)},67483:(e,l,n)=>{"use strict";n.d(l,{A:()=>t});var a=n(40991),i=n(53350),r=n(20940),s=n(90055),o=function(e,l){return i.createElement(s.A,(0,a.A)({},e,{ref:l,icon:r.A}))};const t=i.forwardRef(o)},42175:(e,l,n)=>{"use strict";n.d(l,{A:()=>c});var a=n(92509),i=n(48977),r=n.n(i),s=n(53350),o=n(48512),t=n(66625),u=n(66413),d=n(51146);const c=function(e,l){var n;d.A&&((0,u.Tn)(e)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof e)));var i=(0,o.A)(e),c=null!==(n=null===l||void 0===l?void 0:l.wait)&&void 0!==n?n:1e3,m=(0,s.useMemo)((function(){return r()((function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];return i.current.apply(i,(0,a.fX)([],(0,a.zs)(e),!1))}),c,l)}),[]);return(0,t.A)((function(){m.cancel()})),{run:m,cancel:m.cancel,flush:m.flush}}},48977:(e,l,n)=>{var a=n(2174),i=n(42366);e.exports=function(e,l,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),a(e,l,{leading:r,maxWait:l,trailing:s})}},85202:(e,l,n)=>{"use strict";n.d(l,{A:()=>a});const a=(0,n(60521).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}}]);
//# sourceMappingURL=2070.f05afb46.chunk.js.map