/*! For license information please see 5855.09ba815e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[5855],{11276(e,l,n){n.d(l,{A:()=>m});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],l=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VFolderLazyViewQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[{kind:"RequiredField",field:n,action:"THROW"},a,{args:null,kind:"FragmentSpread",name:"VFolderNodeIdenticonFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VFolderLazyViewQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[n,a],storageKey:null}]},params:{cacheID:"9741b4e48e1380bf300c9109258c38dd",id:null,metadata:{},name:"VFolderLazyViewQuery",operationKind:"query",text:"query VFolderLazyViewQuery(\n  $id: String!\n) {\n  vfolder_node(id: $id) {\n    id\n    name\n    ...VFolderNodeIdenticonFragment\n  }\n}\n\nfragment VFolderNodeIdenticonFragment on VirtualFolderNode {\n  id\n}\n"}}}();a.hash="403cbd1b2a26241898d8c1f1893de307";const i=a;var r=n(18249),o=n(66561),s=n(68632),t=n(96337),d=(n(32397),n(19869)),u=n(31356),c=n(33337);const m=e=>{let{uuid:l,clickable:n}=e;const a=(0,u.zy)(),m=(0,r.f0)(),{vfolder_node:v}=(0,d.useLazyLoadQuery)(i,{id:l});return(0,c.jsx)(c.Fragment,{children:v&&(0,c.jsxs)(t.OOm,{align:"center",gap:"xs",children:[(0,c.jsx)(o.A,{vfolderNodeIdenticonFrgmt:v}),n?(0,c.jsx)(s.A.Link,{onClick:()=>{m({pathname:a.pathname,search:new URLSearchParams({folder:(0,t.omW)(v.id)}).toString()})},children:v.name}):(0,c.jsx)(s.A.Text,{children:v.name})]})})}},11588(e,l,n){n.d(l,{A:()=>t});var a=n(32397);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};var r=n(16826);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const s=(e,l)=>a.createElement(r.A,o({},e,{ref:l,icon:i}));const t=a.forwardRef(s)},73799(e,l,n){n.d(l,{A:()=>p});var a=n(56276),i=n(11863);const r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"projectId"}],l=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"projectId"}],concreteType:"GroupNode",kind:"LinkedField",name:"group_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SwitchToProjectButtonQuery",selections:l,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SwitchToProjectButtonQuery",selections:l},params:{cacheID:"d9b043a52eacadb018a0097fe3c1f3c2",id:null,metadata:{},name:"SwitchToProjectButtonQuery",operationKind:"query",text:'query SwitchToProjectButtonQuery(\n  $projectId: String!\n) {\n  group_node(id: $projectId) @since(version: "24.03.0") {\n    id\n    name\n  }\n}\n'}}}();r.hash="4618e2aed2bc3c75a1d0a91f0b01c28c";const o=r;var s=n(45682),t=n(96337),d=n(32397),u=n(94109),c=n(19869),m=n(33337);const v=["projectId"],g=e=>{let{projectId:l}=e,n=(0,i.A)(e,v);const{t:r}=(0,u.Bd)(),g=(0,s.iT)(),[p,_]=(0,d.useTransition)(),{group_node:y}=(0,c.useLazyLoadQuery)(o,{projectId:(0,t.wcZ)("GroupNode",l)});return(0,m.jsx)(t.Fvl,(0,a.A)((0,a.A)({type:"link",size:"small",loading:p,onClick:()=>{const e=(0,t.omW)((null===y||void 0===y?void 0:y.id)||""),l=null===y||void 0===y?void 0:y.name;e&&l&&_((()=>{g({projectId:e,projectName:l})}))}},n),{},{children:r("modelService.SwitchToProject",{projectName:null===y||void 0===y?void 0:y.name})}))},p=e=>(0,m.jsx)(d.Suspense,{fallback:(0,m.jsx)(t.Fvl,{type:"link",size:"small",loading:!0}),children:(0,m.jsx)(g,(0,a.A)({},e))})},75202(e,l,n){n.r(l),n.d(l,{default:()=>ee});var a=n(56276);const i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpoint_id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{kind:"Variable",name:"endpoint_id",variableName:"endpoint_id"},{kind:"Variable",name:"props",variableName:"props"}],n={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},b={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},K={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L={alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},I={alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,o,s,t,d,u,c,m,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[g,p,_,y,S,h,f,k,b,K,x,j],storageKey:null},g,A,V,L,I],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContentModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpoint",kind:"LinkedField",name:"modify_endpoint",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[i,r,o,s,t,d,u,c,m,v,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[g,p,_,y,S,h,f,k,b,K,x,j,P],storageKey:null},g,A,V,L,I,P],storageKey:null}],storageKey:null}]},params:{cacheID:"6e4e20e60305351f47a87be19f8d6a86",id:null,metadata:{},name:"ServiceLauncherPageContentModifyMutation",operationKind:"mutation",text:'mutation ServiceLauncherPageContentModifyMutation(\n  $endpoint_id: UUID!\n  $props: ModifyEndpointInput!\n) {\n  modify_endpoint(endpoint_id: $endpoint_id, props: $props) {\n    ok\n    msg\n    endpoint {\n      endpoint_id\n      desired_session_count @deprecatedSince(version: "24.12.0")\n      replicas @since(version: "24.12.0")\n      resource_group\n      resource_slots\n      resource_opts\n      cluster_mode\n      cluster_size\n      open_to_public\n      model\n      image_object @since(version: "23.09.9") {\n        name @deprecatedSince(version: "24.12.0")\n        namespace @since(version: "24.12.0")\n        humanized_name\n        tag\n        registry\n        architecture\n        is_local\n        digest\n        resource_limits {\n          key\n          min\n          max\n        }\n        labels {\n          key\n          value\n        }\n        size_bytes\n        supported_accelerators\n        id\n      }\n      name\n      model_definition_path @since(version: "24.03.4")\n      model_mount_destination @since(version: "24.03.4")\n      extra_mounts @since(version: "24.03.4") {\n        id\n        host\n        quota_scope_id\n        name\n        user\n        user_email\n        group\n        group_name\n        creator\n        unmanaged_path\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n      }\n      runtime_variant @since(version: "24.03.5") {\n        name\n        human_readable_name\n      }\n      id\n    }\n  }\n}\n'}}}();i.hash="a63a50401ffb00cb96aa893c9536b016";const r=i,o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"user_RP_name"}],l=[{kind:"Variable",name:"name",variableName:"user_RP_name"}],n={alias:null,args:null,kind:"ScalarField",name:"max_session_count_per_model_session",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserResourcePolicyQuery",selections:[{alias:null,args:l,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policy",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"9521f8ab6e4190bdffb95e25ce45d8c3",id:null,metadata:{},name:"ServiceLauncherPageContent_UserResourcePolicyQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserResourcePolicyQuery(\n  $user_RP_name: String\n) {\n  user_resource_policy(name: $user_RP_name) @since(version: "23.09.6") {\n    max_session_count_per_model_session\n    id\n  }\n}\n'}}}();o.hash="2625e741ab935b9160f781d3aba13067";const s=o,t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"},{defaultValue:null,kind:"LocalArgument",name:"email"}],l=[{alias:null,args:[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServiceLauncherPageContent_UserInfoQuery",selections:l,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServiceLauncherPageContent_UserInfoQuery",selections:l},params:{cacheID:"bd463b860cd7ab56a302e7f1dc7b2611",id:null,metadata:{},name:"ServiceLauncherPageContent_UserInfoQuery",operationKind:"query",text:'query ServiceLauncherPageContent_UserInfoQuery(\n  $domain_name: String\n  $email: String\n) {\n  user(domain_name: $domain_name, email: $email) {\n    id\n    resource_policy @since(version: "23.09.0")\n  }\n}\n'}}}();t.hash="6c33adac7ab1ae44cf36f91363ec7dbf";const d=t,u=function(){var e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ServiceLauncherPageContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},{alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null}],storageKey:null},e],type:"Endpoint",abstractKey:null}}();u.hash="e1d6a2fba421d71bb5b21cb8fced0807";const c=u;var m=n(23177),v=n(48648),g=n(18249),p=n(41458),_=n(45682),y=n(47476),S=n.n(y),h=n(94109);var f=n(88813),k=n(81010),F=n(95427),b=n(69501),K=n(73799),x=n(11276),j=n(11863),A=n(8378),V=n(9095),P=n(87295),L=n(71489),I=n(94668),N=n(21843),T=n(96337),w=n(65181),E=n(32397),O=n(33337);const C=["autoSelectDefault","allowFolderExplorer","allowCreateFolder","valuePropName","filter"],D=e=>{var l,n;let{autoSelectDefault:i,allowFolderExplorer:r,allowCreateFolder:o,valuePropName:s="name",filter:t}=e,d=(0,j.A)(e,C);const u=(0,_.hd)(),c=(0,v.QE)(),{generateFolderPath:m}=(0,P.useFolderExplorerOpener)(),{t:g}=(0,h.Bd)(),[y,f]=(0,A.A)(d),[k,F]=(0,T.TwB)("first"),[b,K]=(0,E.useState)(!1),{data:x}=(0,p.nj)({queryKey:["VFolderSelectQuery",k],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",u.id),c({method:"GET",url:"/folders?".concat(e.toString())})},staleTime:0}),D=t?S().filter(x,t):x,M=S().first(D)?{label:null===(l=S().first(D))||void 0===l?void 0:l.name,value:null===(n=S().first(D))||void 0===n?void 0:n[s]}:void 0;return(0,E.useEffect)((()=>{i&&M&&f(M.value,M)}),[i]),(0,O.jsxs)(T.OOm,{gap:"xs",children:[(0,O.jsx)(L.A,(0,a.A)((0,a.A)({showSearch:{optionFilterProp:"label"}},d),{},{value:y,labelRender:e=>{let{label:l,value:n}=e;return r?(0,O.jsx)(T.rmy,{type:"hover",to:m(S().toString(n)),onClick:e=>{e.stopPropagation()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},children:l}):l},onChange:f,onOpenChange:e=>{e&&(0,E.startTransition)((()=>{F()}))},options:S().map(D,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e[s]})))})),o?(0,O.jsx)(I.A,{title:g("data.CreateANewStorageFolder"),children:(0,O.jsx)(N.Ay,{icon:(0,O.jsx)(w.A,{}),type:"primary",ghost:!0,onClick:()=>{K(!0)}})}):null,(0,O.jsx)(V.A,{open:b,initialValues:{usage_mode:"model"},onRequestClose:e=>{K(!1),e&&(0,E.startTransition)((()=>{F(),f(e.id,S().map(D,(e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e[s]}))))}))}})]})};var M=n(45143),z=n(8698),R=n(72703),q=n(7749),Q=n(81262),U=n(22722),G=n(60594),B=n(85895),$=n(37942),J=n(63745),W=n(40007),Z=n(2616),X=n(19869),H=n(22905);const Y=E.lazy((()=>n.e(2886).then(n.bind(n,42886)))),ee=e=>{var l;const n=(0,m.c)(138),{endpointFrgmt:i}=e,o=void 0===i?null:i,{logger:t}=(0,T.Q7t)(),{token:u}=q.A.useToken(),{message:y}=Q.A.useApp(),{t:j}=(0,h.Bd)();let A;n[0]===Symbol.for("react.memo_cache_sentinel")?(A=(0,H.withDefault)(H.JsonParam,{}),n[0]=A):A=n[0];const V=A;let P;n[1]===Symbol.for("react.memo_cache_sentinel")?(P={model:H.StringParam,formValues:V},n[1]=P):P=n[1];const[w,C]=(0,H.useQueryParams)(P),{model:ee,formValues:_e}=w,ye=(0,g.f0)(),Se=(0,g.CX)(),he=(0,v.QE)(),fe=(0,g.eZ)(),ke=(()=>{const e=(0,m.c)(15),{t:l}=(0,h.Bd)();let n,a,i,r,o,s,t;return e[0]!==l?(n=l("modelService.ServiceNameMinLength"),e[0]=l,e[1]=n):n=e[1],e[2]!==n?(a={min:4,message:n},e[2]=n,e[3]=a):a=e[3],e[4]!==l?(i=l("modelService.ServiceNameMaxLength"),e[4]=l,e[5]=i):i=e[5],e[6]!==i?(r={max:24,message:i,type:"string"},e[6]=i,e[7]=r):r=e[7],e[8]!==l?(o={validator:(e,n)=>S().isEmpty(n)?Promise.resolve():/^\w/.test(n)?/\w$/.test(n)?/^[\w-]*$/.test(n)?Promise.resolve():Promise.reject(l("modelService.ServiceNameInvalidCharacter")):Promise.reject(l("modelService.ServiceNameShouldEndWith")):Promise.reject(l("modelService.ServiceNameShouldStartWith"))},e[8]=l,e[9]=o):o=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(s={required:!0},e[10]=s):s=e[10],e[11]!==a||e[12]!==r||e[13]!==o?(t=[a,r,o,s],e[11]=a,e[12]=r,e[13]=o,e[14]=t):t=e[14],t})(),[Fe,be]=(0,E.useState)(!1),[Ke]=U.A.useForm(),[xe,je]=(0,E.useState)(!1),[Ae,Ve]=(0,_.zL)(),{getErrorMessage:Pe}=(0,T.B78)(),Le=(()=>{const{t:e}=(0,h.Bd)();return{vllm:{optionalEnvVars:[{variable:"BACKEND_MODEL_NAME",placeholder:e("modelService.VllmModelName")},{variable:"VLLM_QUANTIZATION",placeholder:e("modelService.VllmQuantization")},{variable:"VLLM_TP_SIZE",placeholder:e("modelService.VllmTpSize")},{variable:"VLLM_PP_SIZE",placeholder:e("modelService.VllmPpSize")},{variable:"VLLM_EXTRA_ARGS",placeholder:e("modelService.VllmExtraArgs")}]},sglang:{optionalEnvVars:[{variable:"BACKEND_MODEL_NAME",placeholder:e("modelService.SglangModelName")},{variable:"SGLANG_QUANTIZATION",placeholder:e("modelService.SglangQuantization")},{variable:"SGLANG_TP_SIZE",placeholder:e("modelService.SglangTpSize")},{variable:"SGLANG_PP_SIZE",placeholder:e("modelService.SglangPpSize")},{variable:"SGLANG_EXTRA_ARGS",placeholder:e("modelService.SglangExtraArgs")}]},nim:{optionalEnvVars:[{variable:"NGC_API_KEY",placeholder:e("modelService.NimApiKey")}]}}})(),Ie=(0,_.hd)();let Ne;n[2]!==Le||n[3]!==Ke?(Ne=(e,l)=>{const n=Le[e];if(!n)return;const a=l.envvars||[],i=S().map(S().filter(a,le),"variable"),r=S().map(S().filter(n.requiredEnvVars||[],(e=>!S().includes(i,e.variable))),ne);if(r.length>0){const e=[...a,...r];Ke.setFieldValue("envvars",e)}},n[2]=Le,n[3]=Ke,n[4]=Ne):Ne=n[4];const Te=Ne;let we;n[5]!==Le?(we=(e,l)=>{if(!e||!l)return!0;const n=Le[e];if(!n)return!0;const a=[...n.requiredEnvVars||[],...n.optionalEnvVars||[]],i=S().map(a,"variable"),r=[];return S().forEach(Le,((l,n)=>{if(n!==e){const e=[...l.requiredEnvVars||[],...l.optionalEnvVars||[]];r.push(...S().map(e,"variable"))}})),!!S().includes(i,l)||!S().includes(r,l)},n[5]=Le,n[6]=we):we=n[6];const Ee=we;let Oe;n[7]!==Te?(Oe=(e,l)=>{e.runtimeVariant&&Te(e.runtimeVariant,l)},n[7]=Te,n[8]=Oe):Oe=n[8];const Ce=Oe;let De;n[9]===Symbol.for("react.memo_cache_sentinel")?(De=c,n[9]=De):De=n[9];const Me=(0,X.useFragment)(De,o),ze=!!Me&&Me.project!==Ie.id;let Re,qe;n[10]===Symbol.for("react.memo_cache_sentinel")?(Re=["baiClient.modelService.runtime.list"],n[10]=Re):Re=n[10],n[11]!==he?(qe={queryKey:Re,queryFn:()=>he({method:"GET",url:"/services/_/runtimes"}),staleTime:1e3},n[11]=he,n[12]=qe):qe=n[12];const{data:Qe}=(0,p.nj)(qe),Ue=ae,Ge=ie,Be=re;let $e;n[13]!==Se||n[14]!==fe?($e={mutationFn:e=>{var l,n,i,r,o;const s={};e.envvars&&e.envvars.filter(oe).forEach((e=>{s[e.variable]=e.value}));const t=(0,a.A)((0,a.A)({name:e.serviceName,desired_session_count:e.replicas},Be(Ue(Se._config.allow_manual_image_name_for_session,null===(l=e.environments)||void 0===l?void 0:l.manual),e)),{},{runtime_variant:e.runtimeVariant,group:Se.current_group,domain:fe,cluster_size:e.cluster_size,cluster_mode:e.cluster_mode,open_to_public:e.openToPublic,config:(0,a.A)({model:e.vFolderID,model_version:1,extra_mounts:S().reduce(e.mount_ids,((l,n)=>(l[n]=(0,a.A)((0,a.A)({},e.mount_id_map[n]&&{mount_destination:e.mount_id_map[n]}),{},{type:"bind"}),l)),{}),model_definition_path:e.modelDefinitionPath,model_mount_destination:""!==e.modelMountDestination?e.modelMountDestination:"/models",environ:s,scaling_group:e.resourceGroup,resources:(0,a.A)({cpu:null===(n=e.resource.cpu)||void 0===n?void 0:n.toString(),mem:e.resource.mem},null!==(i=e.resource)&&void 0!==i&&i.acceleratorType&&null!==(r=e.resource)&&void 0!==r&&r.accelerator&&e.resource.accelerator>0?{[e.resource.acceleratorType]:null===(o=e.resource.accelerator)||void 0===o?void 0:o.toString()}:void 0)},e.resource.shmem&&{shmem:(0,v.Mh)(e.resource.mem,"4g")>0&&(0,v.Mh)(e.resource.shmem,"1g")<0?"1g":e.resource.shmem})});return(0,v.hu)({method:"POST",url:"/services",body:t,client:Se})}},n[13]=Se,n[14]=fe,n[15]=$e):$e=n[15];const Je=(0,p.ET)($e);let We;n[16]===Symbol.for("react.memo_cache_sentinel")?(We=d,n[16]=We):We=n[16];const Ze=(0,g.eZ)(),Xe=null===Se||void 0===Se?void 0:Se.email;let He;n[17]!==Ze||n[18]!==Xe?(He={domain_name:Ze,email:Xe},n[17]=Ze,n[18]=Xe,n[19]=He):He=n[19];const{user:Ye}=(0,X.useLazyLoadQuery)(We,He);let el;n[20]===Symbol.for("react.memo_cache_sentinel")?(el=s,n[20]=el):el=n[20];const ll=null===Ye||void 0===Ye?void 0:Ye.resource_policy;let nl;n[21]!==ll?(nl={user_RP_name:ll},n[21]=ll,n[22]=nl):nl=n[22];const{user_resource_policy:al}=(0,X.useLazyLoadQuery)(el,nl);let il;n[23]===Symbol.for("react.memo_cache_sentinel")?(il=r,n[23]=il):il=n[23];const[rl]=(0,X.useMutation)(il);let ol;n[24]!==Se||n[25]!==rl||n[26]!==Me||n[27]!==Ke||n[28]!==Pe||n[29]!==y||n[30]!==Je||n[31]!==Ve||n[32]!==j||n[33]!==ye?(ol=()=>{Ke.validateFields().then((e=>{if(Me){var l,n,i;const r={endpoint_id:(null===Me||void 0===Me?void 0:Me.endpoint_id)||"",props:(0,a.A)((0,a.A)((0,a.A)({resource_slots:JSON.stringify((0,a.A)({cpu:e.resource.cpu,mem:e.resource.mem},null!==(l=e.resource)&&void 0!==l&&l.acceleratorType&&null!==(n=e.resource)&&void 0!==n&&n.accelerator&&e.resource.accelerator>0?{[e.resource.acceleratorType]:e.resource.accelerator}:void 0)),resource_opts:JSON.stringify({shmem:e.resource.shmem}),cluster_mode:"single-node"===e.cluster_mode?"SINGLE_NODE":"MULTI_NODE",cluster_size:e.cluster_size},Se.supports("replicas")?{replicas:e.replicas}:{desired_session_count:e.replicas}),Ge(Ue(Se._config.allow_manual_image_name_for_session,null===(i=e.environments)||void 0===i?void 0:i.manual),e)),{},{extra_mounts:S().map(e.mount_ids,(l=>(0,a.A)({vfolder_id:l},e.mount_id_map[l]&&{mount_destination:e.mount_id_map[l]}))),name:e.serviceName,resource_group:e.resourceGroup,model_definition_path:e.modelDefinitionPath,runtime_variant:e.runtimeVariant})},o={};e.envvars&&e.envvars.filter(se).forEach((e=>{o[e.variable]=e.value})),r.props.environ=JSON.stringify(o),rl({variables:r,onCompleted:(e,l)=>{var n,a,i;if(null!==(n=e.modify_endpoint)&&void 0!==n&&n.ok){var r;const l=null===(r=e.modify_endpoint)||void 0===r?void 0:r.endpoint;return y.success(j("modelService.ServiceUpdated",{name:null===l||void 0===l?void 0:l.name})),void ye("/serving/".concat(null===Me||void 0===Me?void 0:Me.endpoint_id))}if(null!==(a=e.modify_endpoint)&&void 0!==a&&a.msg)y.error(null===(i=e.modify_endpoint)||void 0===i?void 0:i.msg);else if(l&&(null===l||void 0===l?void 0:l.length)>0){const e=S().map(l,te);for(const l of e)y.error(l)}},onError:e=>{e.message?y.error(e.message):y.error(j("modelService.FailedToUpdateService"))}})}else Je.mutate(e,{onSuccess:()=>{Ve(e.resourceGroup),y.success(j("modelService.ServiceCreated",{name:e.serviceName})),ye("/serving")},onError:e=>{const l=j(Me?"modelService.FailedToUpdateService":"modelService.FailedToStartService");y.error(Pe(e,l))}})})).catch((e=>{var l,n;(null===e||void 0===e||null===(l=e.errorFields)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.name)&&Ke.scrollToField(e.errorFields[0].name,{behavior:"smooth",block:"center"})}))},n[24]=Se,n[25]=rl,n[26]=Me,n[27]=Ke,n[28]=Pe,n[29]=y,n[30]=Je,n[31]=Ve,n[32]=j,n[33]=ye,n[34]=ol):ol=n[34];const sl=ol,[tl,dl]=(0,E.useState)(),ul=de;let cl,ml;n[35]!==Ke||n[36]!==C?(cl=()=>{const e=Ke.getFieldsValue();C({formValues:S().assign(S().omit(e,["environments.image","environments.customizedTag","vfoldersAliasMap","envvars"]),{envvars:(0,f.z7)(Ke.getFieldValue("envvars"))})},"replaceIn")},n[35]=Ke,n[36]=C,n[37]=cl):cl=n[37],n[38]===Symbol.for("react.memo_cache_sentinel")?(ml={leading:!1,wait:500,trailing:!0},n[38]=ml):ml=n[38];const{run:vl}=(0,R.A)(cl,ml);let gl;if(n[39]!==(null===(l=Se._config)||void 0===l?void 0:l.default_session_environment)||n[40]!==Ae||n[41]!==Me||n[42]!==_e||n[43]!==ee){var pl,_l,yl,Sl,hl,fl,kl,Fl,bl,Kl,xl,jl,Al,Vl,Pl,Ll,Il,Nl,Tl,wl;const e=Me?{serviceName:null===Me||void 0===Me?void 0:Me.name,resourceGroup:null===Me||void 0===Me?void 0:Me.resource_group,allocationPreset:"custom",replicas:null!==(pl=null!==(_l=null===Me||void 0===Me?void 0:Me.replicas)&&void 0!==_l?_l:null===Me||void 0===Me?void 0:Me.desired_session_count)&&void 0!==pl?pl:1,resource:(0,a.A)({cpu:parseInt(null===(yl=JSON.parse((null===Me||void 0===Me?void 0:Me.resource_slots)||"{}"))||void 0===yl?void 0:yl.cpu),mem:null===(Sl=(0,v.mv)(null===(hl=JSON.parse((null===Me||void 0===Me?void 0:Me.resource_slots)||"{}"))||void 0===hl?void 0:hl.mem,"g",3,!0))||void 0===Sl?void 0:Sl.value,shmem:null===(fl=(0,v.mv)((null===(kl=JSON.parse((null===Me||void 0===Me?void 0:Me.resource_opts)||"{}"))||void 0===kl?void 0:kl.shmem)||b.t2,"g",3,!0))||void 0===fl?void 0:fl.value},ul(S().omit(JSON.parse((null===Me||void 0===Me?void 0:Me.resource_slots)||"{}"),["cpu","mem"]))),cluster_mode:"MULTI_NODE"===(null===Me||void 0===Me?void 0:Me.cluster_mode)?"multi-node":"single-node",cluster_size:null===Me||void 0===Me?void 0:Me.cluster_size,openToPublic:null===Me||void 0===Me?void 0:Me.open_to_public,environments:{environment:null!==(Fl=null===Me||void 0===Me||null===(bl=Me.image_object)||void 0===bl?void 0:bl.namespace)&&void 0!==Fl?Fl:null===Me||void 0===Me||null===(Kl=Me.image_object)||void 0===Kl?void 0:Kl.name,version:"".concat(null===Me||void 0===Me||null===(xl=Me.image_object)||void 0===xl?void 0:xl.registry,"/").concat(null!==(jl=null===Me||void 0===Me||null===(Al=Me.image_object)||void 0===Al?void 0:Al.namespace)&&void 0!==jl?jl:null===Me||void 0===Me||null===(Vl=Me.image_object)||void 0===Vl?void 0:Vl.name,":").concat(null===Me||void 0===Me||null===(Pl=Me.image_object)||void 0===Pl?void 0:Pl.tag,"@").concat(null===Me||void 0===Me||null===(Ll=Me.image_object)||void 0===Ll?void 0:Ll.architecture),image:null===Me||void 0===Me?void 0:Me.image_object},vFolderID:null===Me||void 0===Me?void 0:Me.model,mount_ids:S().map(null===Me||void 0===Me?void 0:Me.extra_mounts,ue),modelMountDestination:null===Me||void 0===Me?void 0:Me.model_mount_destination,modelDefinitionPath:null===Me||void 0===Me?void 0:Me.model_definition_path,runtimeVariant:null===Me||void 0===Me||null===(Il=Me.runtime_variant)||void 0===Il?void 0:Il.name,envvars:S().map(JSON.parse((null===Me||void 0===Me?void 0:Me.environ)||"{}"),ce)}:(0,a.A)((0,a.A)((0,a.A)({replicas:1,runtimeVariant:"custom"},b.jh),(null===(Nl=Se._config)||void 0===Nl?void 0:Nl.default_session_environment)&&{environments:{environment:null===(Tl=Se._config)||void 0===Tl?void 0:Tl.default_session_environment}}),{},{vFolderID:ee||(S().get(_e,"vFolderID")||void 0),resourceGroup:Ae,allocationPreset:"auto-select",mount_ids:[],mount_id_map:{}});gl=S().merge({},e,_e),n[39]=null===(wl=Se._config)||void 0===wl?void 0:wl.default_session_environment,n[40]=Ae,n[41]=Me,n[42]=_e,n[43]=ee,n[44]=gl}else gl=n[44];const El=gl;let Ol,Cl,Dl,Ml,zl;n[45]===Symbol.for("react.memo_cache_sentinel")?(Ol={justifyContent:"revert"},n[45]=Ol):Ol=n[45],n[46]===Symbol.for("react.memo_cache_sentinel")?(Cl={flex:1,maxWidth:700},n[46]=Cl):Cl=n[46],n[47]!==Me||n[48]!==ze||n[49]!==j||n[50]!==u?(Dl=ze&&(null===Me||void 0===Me?void 0:Me.project)&&(0,O.jsx)(G.A,{title:j("modelService.NotInProject"),type:"warning",showIcon:!0,style:{marginBottom:u.marginMD},action:(0,O.jsx)(K.A,{projectId:Me.project})}),n[47]=Me,n[48]=ze,n[49]=j,n[50]=u,n[51]=Dl):Dl=n[51],n[52]!==(null===Me||void 0===Me?void 0:Me.extra_mounts)||n[53]!==j||n[54]!==u?(Ml=S().filter((0,T.faj)(null===Me||void 0===Me?void 0:Me.extra_mounts),me).length>0&&(0,O.jsx)(G.A,{title:j("modelService.ExtraMountsWarning"),type:"warning",showIcon:!0,style:{marginBottom:u.marginMD}}),n[52]=null===Me||void 0===Me?void 0:Me.extra_mounts,n[53]=j,n[54]=u,n[55]=Ml):Ml=n[55],n[56]!==vl?(zl=()=>{vl()},n[56]=vl,n[57]=zl):zl=n[57];const Rl=Je.isPending||ze;let ql,Ql,Ul,Gl;var Bl,$l;(n[58]===Symbol.for("react.memo_cache_sentinel")?(ql={span:12},n[58]=ql):ql=n[58],n[59]!==Le||n[60]!==(null===Qe||void 0===Qe?void 0:Qe.runtimes)||n[61]!==Se||n[62]!==Me||n[63]!==Ke||n[64]!==_e||n[65]!==ee||n[66]!==j||n[67]!==u||n[68]!==Ee||n[69]!==ke?(Ql=(Se.supports("modify-endpoint")||!Me)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U.A.Item,{label:j("modelService.ServiceName"),name:"serviceName",rules:Me?[]:ke,children:(0,O.jsx)(B.A,{disabled:!!Me})}),(0,O.jsx)(U.A.Item,{name:"openToPublic",valuePropName:"checked",children:(0,O.jsx)($.A,{disabled:!!Me,children:j("modelService.OpenToPublic")})}),Me?(null===Me||void 0===Me?void 0:Me.model)&&(0,O.jsx)(U.A.Item,{name:"vFolderID",label:j("session.launcher.ModelStorageToMount"),required:!0,children:(0,O.jsx)(E.Suspense,{fallback:(0,O.jsx)(J.A.Input,{active:!0}),children:(0,O.jsx)(x.A,{uuid:null===Me||void 0===Me?void 0:Me.model})})}):(0,O.jsx)(U.A.Item,{name:"vFolderID",label:j("session.launcher.ModelStorageToMount"),rules:[{required:!0}],children:(0,O.jsx)(D,{filter:ve,valuePropName:"id",autoSelectDefault:!ee&&!_e.vFolderID,disabled:!!Me,allowFolderExplorer:!0,allowCreateFolder:!0})}),(0,O.jsx)(U.A.Item,{name:"runtimeVariant",required:!0,label:j("modelService.RuntimeVariant"),children:(0,O.jsx)(L.A,{defaultActiveFirstOption:!0,showSearch:!0,options:S().map(null===Qe||void 0===Qe?void 0:Qe.runtimes,ge),onChange:()=>{queueMicrotask((()=>{const e=(Ke.getFieldValue("envvars")||[]).map(pe);e.length>0&&Ke.validateFields(e)}))}})}),(0,O.jsx)(U.A.Item,{dependencies:["runtimeVariant"],noStyle:!0,children:e=>{const{getFieldValue:l}=e;return"custom"===l("runtimeVariant")&&(0,O.jsxs)(T.OOm,{direction:"row",gap:"xxs",align:"stretch",justify:"between",children:[(0,O.jsx)(U.A.Item,{name:"modelMountDestination",label:j("modelService.ModelMountDestination"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,O.jsx)(B.A,{allowClear:!0,placeholder:"/models",disabled:!!Me})}),(0,O.jsx)(z.A,{style:{fontSize:u.fontSizeXL,color:u.colorTextDisabled},rotate:290}),(0,O.jsx)(U.A.Item,{name:"modelDefinitionPath",label:j("modelService.ModelDefinitionPath"),style:{width:"50%"},labelCol:{style:{flex:1}},children:(0,O.jsx)(B.A,{allowClear:!0,placeholder:null!==Me&&void 0!==Me&&Me.model_definition_path?null===Me||void 0===Me?void 0:Me.model_definition_path:"model-definition.yaml"})})]})}}),(0,O.jsx)(U.A.Item,{dependencies:["runtimeVariant"],noStyle:!0,children:e=>{const{getFieldValue:l}=e,n=l("runtimeVariant"),a=n?Le[n]:null;return(0,O.jsx)(U.A.Item,{label:j("session.launcher.EnvironmentVariable"),children:(0,O.jsx)(f.Ay,{name:"envvars",requiredEnvVars:null===a||void 0===a?void 0:a.requiredEnvVars,optionalEnvVars:null===a||void 0===a?void 0:a.optionalEnvVars,formItemProps:{validateTrigger:["onChange","onBlur"],rules:[{warningOnly:!0,validator:async(e,l)=>{if(!l)return Promise.resolve();if(Ee(n,l))return Promise.resolve();throw j("session.launcher.EnvironmentVariableNotForRuntime")}}]}})})}}),(0,O.jsx)(U.A.Item,{noStyle:!0,dependencies:["vFolderID"],children:e=>{const{getFieldValue:l}=e;return(0,O.jsx)(M.A,{rowKey:"id",label:j("modelService.AdditionalMounts"),rowFilter:e=>{var n;return e.id!==l("vFolderID")&&"ready"===e.status&&"model"!==e.usage_mode&&!(null!==(n=e.name)&&void 0!==n&&n.startsWith("."))},tableProps:{size:"small"}})}})]}),n[59]=Le,n[60]=null===Qe||void 0===Qe?void 0:Qe.runtimes,n[61]=Se,n[62]=Me,n[63]=Ke,n[64]=_e,n[65]=ee,n[66]=j,n[67]=u,n[68]=Ee,n[69]=ke,n[70]=Ql):Ql=n[70],n[71]!==Ql?(Ul=(0,O.jsx)(W.A,{children:Ql}),n[71]=Ql,n[72]=Ul):Ul=n[72],n[73]!==Se||n[74]!==Me||n[75]!==Ke||n[76]!==j||n[77]!==(null===al||void 0===al?void 0:al.max_session_count_per_model_session)||n[78]!==xe)?(Gl=(Se.supports("modify-endpoint")||!Me)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U.A.Item,{label:j("modelService.NumberOfReplicas"),name:"replicas",rules:[{required:!0},{type:"number",min:0},{type:"number",max:null!==(Bl=null===al||void 0===al?void 0:al.max_session_count_per_model_session)&&void 0!==Bl?Bl:0}],children:(0,O.jsx)(F.A,{inputContainerMinWidth:190,min:0,max:null!==($l=null===al||void 0===al?void 0:al.max_session_count_per_model_session)&&void 0!==$l?$l:0,inputNumberProps:{suffix:"#"},step:1})}),(0,O.jsx)(k.A,{}),Me&&!xe&&!Se._config.allowCustomResourceAllocation&&(0,O.jsx)(U.A.Item,{label:(0,O.jsxs)(O.Fragment,{children:[j("modelService.Resources"),(0,O.jsx)(N.Ay,{type:"link",onClick:()=>{Ke.setFieldsValue({allocationPreset:"auto-select"}),je(!0)},children:j("general.Change")})]}),required:!0,children:(0,O.jsxs)(T.OOm,{gap:"xs",children:[(0,O.jsx)(I.A,{title:j("session.ResourceGroup"),children:(0,O.jsx)(Z.A,{children:null===Me||void 0===Me?void 0:Me.resource_group})}),S().map(JSON.parse((null===Me||void 0===Me?void 0:Me.resource_slots)||"{}"),((e,l)=>(0,O.jsx)(T.jOc,{type:l,value:e,opts:JSON.parse((null===Me||void 0===Me?void 0:Me.resource_opts)||"{}")},l)))]})}),(0,O.jsx)("div",{style:{display:!Me||xe||Se._config.allowCustomResourceAllocation?"block":"none"},children:(0,O.jsx)(b.Ay,{enableResourcePresets:!0})})]}),n[73]=Se,n[74]=Me,n[75]=Ke,n[76]=j,n[77]=null===al||void 0===al?void 0:al.max_session_count_per_model_session,n[78]=xe,n[79]=Gl):Gl=n[79];let Jl,Wl,Zl,Xl,Hl,Yl,en,ln,nn,an,rn,on,sn,tn,dn,un,cn,mn;return n[80]!==Gl?(Jl=(0,O.jsx)(W.A,{children:Gl}),n[80]=Gl,n[81]=Jl):Jl=n[81],n[82]!==Ke||n[83]!==t||n[84]!==y||n[85]!==j?(Wl=()=>{Ke.validateFields().then((e=>{dl(e),be(!0)})).catch((e=>{t.error(e.message),y.error(j("modelService.FormValidationFailed"))}))},n[82]=Ke,n[83]=t,n[84]=y,n[85]=j,n[86]=Wl):Wl=n[86],n[87]!==j?(Zl=j("modelService.Validate"),n[87]=j,n[88]=Zl):Zl=n[88],n[89]!==ze||n[90]!==Wl||n[91]!==Zl?(Xl=(0,O.jsx)(T.OOm,{children:(0,O.jsx)(N.Ay,{disabled:ze,onClick:Wl,children:Zl})}),n[89]=ze,n[90]=Wl,n[91]=Zl,n[92]=Xl):Xl=n[92],n[93]!==Me||n[94]!==j?(Hl=j(Me?"button.Update":"button.Create"),n[93]=Me,n[94]=j,n[95]=Hl):Hl=n[95],n[96]!==sl||n[97]!==ze||n[98]!==Hl?(Yl=(0,O.jsx)(T.OOm,{gap:"sm",children:(0,O.jsx)(N.Ay,{type:"primary",disabled:ze,onClick:sl,children:Hl})}),n[96]=sl,n[97]=ze,n[98]=Hl,n[99]=Yl):Yl=n[99],n[100]!==Xl||n[101]!==Yl?(en=(0,O.jsxs)(T.OOm,{direction:"row",justify:"between",align:"end",gap:"xs",children:[Xl,Yl]}),n[100]=Xl,n[101]=Yl,n[102]=en):en=n[102],n[103]!==Ul||n[104]!==Jl||n[105]!==en?(ln=(0,O.jsxs)(T.OOm,{direction:"column",gap:"md",align:"stretch",children:[Ul,Jl,en]}),n[103]=Ul,n[104]=Jl,n[105]=en,n[106]=ln):ln=n[106],n[107]!==Ke||n[108]!==Ce||n[109]!==El||n[110]!==Rl||n[111]!==ln?(nn=(0,O.jsx)(U.A,{form:Ke,disabled:Rl,layout:"vertical",labelCol:ql,initialValues:El,onValuesChange:Ce,scrollToFirstError:!0,children:ln}),n[107]=Ke,n[108]=Ce,n[109]=El,n[110]=Rl,n[111]=ln,n[112]=nn):nn=n[112],n[113]!==zl||n[114]!==nn?(an=(0,O.jsx)(U.A.Provider,{onFormChange:zl,children:nn}),n[113]=zl,n[114]=nn,n[115]=an):an=n[115],n[116]!==Dl||n[117]!==Ml||n[118]!==an?(rn=(0,O.jsx)(T.OOm,{direction:"column",align:"stretch",style:Ol,children:(0,O.jsx)(T.OOm,{direction:"row",gap:"md",align:"start",children:(0,O.jsxs)(T.OOm,{direction:"column",align:"stretch",style:Cl,wrap:"nowrap",children:[Dl,Ml,an]})})}),n[116]=Dl,n[117]=Ml,n[118]=an,n[119]=rn):rn=n[119],n[120]!==j?(on=j("modelService.ValidationInfo"),n[120]=j,n[121]=on):on=n[121],n[122]!==Fe?(sn=()=>{be(!Fe)},n[122]=Fe,n[123]=sn):sn=n[123],n[124]===Symbol.for("react.memo_cache_sentinel")?(tn={style:{display:"none"}},n[124]=tn):tn=n[124],n[125]!==j?(dn=j("button.Close"),n[125]=j,n[126]=dn):dn=n[126],n[127]!==tl?(un=(0,O.jsx)(Y,{serviceData:tl}),n[127]=tl,n[128]=un):un=n[128],n[129]!==Fe||n[130]!==on||n[131]!==sn||n[132]!==dn||n[133]!==un?(cn=(0,O.jsx)(T.IbE,{width:1e3,title:on,open:Fe,destroyOnHidden:!0,onCancel:sn,okButtonProps:tn,cancelText:dn,maskClosable:!1,children:un}),n[129]=Fe,n[130]=on,n[131]=sn,n[132]=dn,n[133]=un,n[134]=cn):cn=n[134],n[135]!==rn||n[136]!==cn?(mn=(0,O.jsxs)(O.Fragment,{children:[rn,cn]}),n[135]=rn,n[136]=cn,n[137]=mn):mn=n[137],mn};function le(e){return null!=e&&!!e.variable}function ne(e){return{variable:e.variable,value:""}}function ae(e,l){const n=void 0===l?"":l;return void 0!==e&&e&&n&&!S().isEmpty(n)}function ie(e,l){var n,a,i,r,o;const s=void 0!==e&&e;return{image:{name:s?null===(n=l.environments.manual)||void 0===n?void 0:n.split("@")[0]:l.environments.version.split("@")[0],architecture:s?null===(a=l.environments.manual)||void 0===a?void 0:a.split("@")[1]:null===(i=l.environments.image)||void 0===i?void 0:i.architecture,registry:s?null===(r=l.environments.manual)||void 0===r?void 0:r.split("/")[0]:null===(o=l.environments.image)||void 0===o?void 0:o.registry}}}function re(e,l){var n,a,i,r;const o=void 0!==e&&e;return{image:o?null===(n=l.environments.manual)||void 0===n?void 0:n.split("@")[0]:null===(a=l.environments.version)||void 0===a?void 0:a.split("@")[0],architecture:o?null===(i=l.environments.manual)||void 0===i?void 0:i.split("@")[1]:null===(r=l.environments.image)||void 0===r?void 0:r.architecture}}function oe(e){return null!=e&&!!e.variable&&!!e.value}function se(e){return null!=e&&!!e.variable&&!!e.value}function te(e){return e.message}function de(e){if(Object.keys(e).length<=0)return;const l=Object.keys(e)[0];return{acceleratorType:l,accelerator:"string"===typeof e[l]?"cuda.shares"===l?parseFloat(e[l]):parseInt(e[l]):e[l]}}function ue(e){var l;return null===e||void 0===e||null===(l=e.row_id)||void 0===l?void 0:l.replaceAll("-","")}function ce(e,l){return{variable:l,value:e}}function me(e){return(null===e||void 0===e?void 0:e.name)&&!(null!==e&&void 0!==e&&e.name.startsWith("."))}function ve(e){return"model"===e.usage_mode&&"ready"===e.status&&"group"!==e.ownership_type}function ge(e){return{value:e.name,label:e.human_readable_name}}function pe(e,l){return["envvars",l,"variable"]}}}]);
//# sourceMappingURL=5855.09ba815e.chunk.js.map