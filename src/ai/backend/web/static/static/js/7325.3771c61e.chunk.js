/*! For license information please see 7325.3771c61e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[7325],{57325:(e,l,r)=>{r.r(l),r.d(l,{default:()=>C});var n=r(72375),a=r(23441),t=r(88543),o=r(72338),d=r(57893),i=r(40991),c=r(55093);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"};var u=r(36462),v=function(e,l){return c.createElement(u.A,(0,i.A)({},e,{ref:l,icon:s}))};const f=c.forwardRef(v);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};var h=function(e,l){return c.createElement(u.A,(0,i.A)({},e,{ref:l,icon:m}))};const p=c.forwardRef(h);const x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var g=function(e,l){return c.createElement(u.A,(0,i.A)({},e,{ref:l,icon:x}))};const y=c.forwardRef(g);var k,b=r(66596),A=r(28354),j=r(16954),V=r(99142),F=r(35364),w=r(85632),D=r(2556),S=r(12221),L=r(77946),H=r(33364),E=r(63821),I=r(79569);const U=(0,L.rU)((e=>{let{token:l,css:r}=e;return{baiModalHeader:r`
    .ant-modal-title {
      width: 100%;
      margin-right: ${l.marginXXL}px;
    }
  `}})),M=e=>{let{vfolderID:l}=e;const{token:a}=b.A.useToken(),{vfolder:t,vfolder_node:o}=(0,E.useLazyLoadQuery)(void 0!==k?k:k=r(70723),{vfolderID:l,vfolderUUID:btoa("VirtualFolderNode:"+(0,n._4)(l))},{fetchPolicy:"store-and-network"}),d=(null===t||void 0===t?void 0:t.name)||(null===o||void 0===o?void 0:o.name)||"";return(0,I.jsx)(D.A,{title:d,children:(0,I.jsx)(S.A.Title,{level:3,style:{marginTop:a.marginSM},ellipsis:!0,children:d})})},C=e=>{let{vfolderID:l,onRequestClose:r,...n}=e;const{t:i}=(0,H.Bd)(),{token:s}=b.A.useToken(),{styles:u}=U(),{lg:v}=A.Ay.useBreakpoint(),[m,h]=(0,c.useState)(!1),[x,g]=(0,c.useState)(!1),k=(0,c.useRef)(null);return(0,a.CX)(),(0,c.useEffect)((()=>{const e=e=>{h(e.detail||!1)},l=e=>{g(e.detail||!1)};return document.addEventListener("folderExplorer:connected",e),document.addEventListener("folderExplorer:columnSelected",l),()=>{document.removeEventListener("folderExplorer:connected",e),document.removeEventListener("folderExplorer:columnSelected",l)}}),[]),(0,I.jsx)(t.A,{className:u.baiModalHeader,centered:!0,width:1200,destroyOnClose:!0,footer:null,title:(0,I.jsxs)(o.A,{justify:"between",gap:s.marginMD,style:{width:"100%"},children:[(0,I.jsx)(o.A,{gap:s.marginMD,style:{flex:1},children:(0,I.jsx)(c.Suspense,{fallback:(0,I.jsx)(j.A.Input,{active:!0}),children:(0,I.jsx)(M,{vfolderID:l})})}),(0,I.jsxs)(o.A,{justify:"end",gap:s.marginSM,style:{flex:v?2:1},children:[(0,I.jsx)(V.Ay,{danger:!0,disabled:!x||!m,icon:(0,I.jsx)(d.A,{}),onClick:()=>{var e;null===(e=k.current)||void 0===e||e._openDeleteMultipleFileDialog()},children:v&&i("button.Delete")}),(0,I.jsx)(V.Ay,{disabled:!m,icon:(0,I.jsx)(f,{}),onClick:()=>{var e;null===(e=k.current)||void 0===e||e.openMkdirDialog()},children:v&&i("button.Create")}),(0,I.jsx)(F.A,{disabled:!m,menu:{items:[{key:"upload files",label:i("data.explorer.UploadFiles"),icon:(0,I.jsx)(p,{}),onClick:()=>{var e;null===(e=k.current)||void 0===e||e.handleUpload("file")}},{key:"upload folder",label:i("data.explorer.UploadFolder"),icon:(0,I.jsx)(f,{}),onClick:()=>{var e;null===(e=k.current)||void 0===e||e.handleUpload("folder")}}]},children:(0,I.jsx)(V.Ay,{icon:(0,I.jsx)(y,{}),children:v&&"Upload"})}),(0,I.jsx)(V.Ay,{icon:(0,I.jsx)(w.A,{width:"18px",src:"/resources/icons/filebrowser.svg",alt:"File Browser",preview:!1}),onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e._executeFileBrowser()},children:v&&i("data.explorer.ExecuteFileBrowser")}),(0,I.jsx)(V.Ay,{icon:(0,I.jsx)(w.A,{width:"18px",src:"/resources/icons/sftp.png",alt:"SSH / SFTP",preview:!1}),onClick:()=>{var e;null===(e=k.current)||void 0===e||e._executeSSHProxyAgent()},children:v&&i("data.explorer.RunSSH/SFTPserver")})]})]}),onCancel:()=>{r()},...n,children:(0,I.jsx)("backend-ai-folder-explorer",{ref:k,active:!0,vfolderID:l})})}},70723:(e,l,r)=>{r.r(l),r.d(l,{default:()=>a});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"vfolderID"},{defaultValue:null,kind:"LocalArgument",name:"vfolderUUID"}],l=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],r=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"vfolderID"}],concreteType:"VirtualFolder",kind:"LinkedField",name:"vfolder",plural:!1,selections:l,storageKey:null},{alias:null,args:[{kind:"Variable",name:"id",variableName:"vfolderUUID"}],concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:l,storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LegacyFolderExplorerVFolderNameTitleQuery",selections:r,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LegacyFolderExplorerVFolderNameTitleQuery",selections:r},params:{cacheID:"d068f3eaad8b8108353e61ba6cdf73e9",id:null,metadata:{},name:"LegacyFolderExplorerVFolderNameTitleQuery",operationKind:"query",text:'query LegacyFolderExplorerVFolderNameTitleQuery(\n  $vfolderID: String!\n  $vfolderUUID: String!\n) {\n  vfolder(id: $vfolderID) @deprecatedSince(version: "24.03.4") {\n    id\n    name\n  }\n  vfolder_node(id: $vfolderUUID) @since(version: "24.03.4") {\n    id\n    name\n  }\n}\n'}}}();n.hash="9c571e622253de1513d54bf011a863ef";const a=n}}]);
//# sourceMappingURL=7325.3771c61e.chunk.js.map