/*! For license information please see 995.c890f8bd.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[995],{995(e,n,a){a.r(n),a.d(n,{default:()=>Nn});const l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"}],n=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"}],concreteType:"DeleteKeyPair",kind:"LinkedField",name:"delete_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserCredentialListDeleteMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserCredentialListDeleteMutation",selections:n},params:{cacheID:"00d579de4db39e2f3e48067fb19aaf72",id:null,metadata:{},name:"UserCredentialListDeleteMutation",operationKind:"mutation",text:"mutation UserCredentialListDeleteMutation(\n  $access_key: String!\n) {\n  delete_keypair(access_key: $access_key) {\n    ok\n    msg\n  }\n}\n"}}}();l.hash="b955bc28ed14b19b153f202b0f1e6e22";const i=l,r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyKeyPair",kind:"LinkedField",name:"modify_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserCredentialListModifyMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserCredentialListModifyMutation",selections:n},params:{cacheID:"49292a75a914ad1eeb6f8e2667974b95",id:null,metadata:{},name:"UserCredentialListModifyMutation",operationKind:"mutation",text:"mutation UserCredentialListModifyMutation(\n  $access_key: String!\n  $props: ModifyKeyPairInput!\n) {\n  modify_keypair(access_key: $access_key, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();r.hash="b3504d39bac9dd8ac749460ba5e510c0";const t=r,s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"domain_name"},n={defaultValue:null,kind:"LocalArgument",name:"email"},a={defaultValue:null,kind:"LocalArgument",name:"filter"},l={defaultValue:null,kind:"LocalArgument",name:"is_active"},i={defaultValue:null,kind:"LocalArgument",name:"limit"},r={defaultValue:null,kind:"LocalArgument",name:"offset"},t={defaultValue:null,kind:"LocalArgument",name:"order"},s=[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"is_active",variableName:"is_active"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"}],o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_admin",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"num_queries",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"concurrency_used",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l,i,r,t],kind:"Fragment",metadata:null,name:"UserCredentialListQuery",selections:[{alias:null,args:s,concreteType:"KeyPairList",kind:"LinkedField",name:"keypair_list",plural:!1,selections:[{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"items",plural:!0,selections:[o,d,u,c,m,g,p,y,k,{args:null,kind:"FragmentSpread",name:"KeypairSettingModalFragment"},{args:null,kind:"FragmentSpread",name:"KeypairInfoModalFragment"}],storageKey:null},v],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,r,a,t,e,n,l],kind:"Operation",name:"UserCredentialListQuery",selections:[{alias:null,args:s,concreteType:"KeyPairList",kind:"LinkedField",name:"keypair_list",plural:!1,selections:[{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"items",plural:!0,selections:[o,d,u,c,m,g,p,y,k,{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null}],storageKey:null},v],storageKey:null}]},params:{cacheID:"3318983898774e0fa0110bbe3a8f1ad5",id:null,metadata:{},name:"UserCredentialListQuery",operationKind:"query",text:'query UserCredentialListQuery(\n  $limit: Int!\n  $offset: Int!\n  $filter: String\n  $order: String\n  $domain_name: String\n  $email: String\n  $is_active: Boolean\n) {\n  keypair_list(limit: $limit, offset: $offset, filter: $filter, order: $order, domain_name: $domain_name, email: $email, is_active: $is_active) {\n    items {\n      id\n      user_id\n      access_key\n      is_admin\n      resource_policy\n      created_at\n      rate_limit\n      num_queries\n      concurrency_used @since(version: "24.09.0")\n      ...KeypairSettingModalFragment\n      ...KeypairInfoModalFragment\n    }\n    total_count\n  }\n}\n\nfragment KeypairInfoModalFragment on KeyPair {\n  user_id\n  access_key\n  secret_key\n  is_admin\n  created_at\n  last_used\n  resource_policy\n  num_queries\n  rate_limit\n  concurrency_used @since(version: "24.09.0")\n}\n\nfragment KeypairSettingModalFragment on KeyPair {\n  rate_limit\n  access_key\n  resource_policy\n}\n'}}}();s.hash="591117e6f6a9853325076522a5e68177";const o=s;var d=a(38544),u=a(29371),c=a(56276),m=a(11863);const g=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"},{defaultValue:null,kind:"LocalArgument",name:"email"}],n=[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KeypairInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KeypairInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"ae75c283d1803be0e160390a438f1ef0",id:null,metadata:{},name:"KeypairInfoModalQuery",operationKind:"query",text:'query KeypairInfoModalQuery(\n  $domain_name: String\n  $email: String\n) {\n  user(domain_name: $domain_name, email: $email) {\n    main_access_key @since(version: "24.03.0")\n    id\n  }\n}\n'}}}();g.hash="4e1858d8f369f238aa329976b4678e7b";const p=g,y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairInfoModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_queries",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"concurrency_used",storageKey:null}],type:"KeyPair",abstractKey:null,hash:"11d6baebc6283f59151dab410a2a80d2"},k=y;var v=a(49749),f=a(85212),_=a(46311),b=a(96165),S=a(83765),h=a(56062),x=a.n(h),A=a(32601),K=a(35721),F=a(83037);const j=["keypairInfoModalFrgmt","onRequestClose"],M=e=>{var n;let{keypairInfoModalFrgmt:a=null,onRequestClose:l}=e,i=(0,m.A)(e,j);const{token:r}=v.A.useToken(),t=(0,K.useFragment)(k,a),{user:s}=(0,K.useLazyLoadQuery)(p,{email:null===t||void 0===t?void 0:t.user_id},{fetchPolicy:i.open&&null!==t&&void 0!==t&&t.user_id?"network-only":"store-only"});return(0,F.jsxs)(S.IbE,(0,c.A)((0,c.A)({title:(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(f.A.Text,{style:{fontSize:r.fontSizeHeading5},children:(0,A.t)("credential.KeypairDetail")}),(null===s||void 0===s?void 0:s.main_access_key)===(null===t||void 0===t?void 0:t.access_key)&&(0,F.jsx)(_.A,{color:"red",children:(0,A.t)("credential.MainAccessKey")})]}),onCancel:()=>l(),footer:null},i),{},{children:[(0,F.jsxs)(b.A,{title:(0,A.t)("credential.Information"),size:"small",column:1,labelStyle:{width:"40%"},children:[(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.UserID"),children:null===t||void 0===t?void 0:t.user_id}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.AccessKey"),children:null===t||void 0===t?void 0:t.access_key}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.SecretKey"),children:(0,F.jsx)(f.A.Text,{copyable:{text:null!==(n=null===t||void 0===t?void 0:t.secret_key)&&void 0!==n?n:""},children:null!==t&&void 0!==t&&t.secret_key?"********":""})}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.Permission"),children:null!==t&&void 0!==t&&t.is_admin?(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(_.A,{color:"red",children:"admin"}),(0,F.jsx)(_.A,{color:"green",children:"user"})]}):(0,F.jsx)(_.A,{color:"green",children:"user"})}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.CreatedAt"),children:x()(null===t||void 0===t?void 0:t.created_at).format("lll")}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.LastUsed"),children:null!==t&&void 0!==t&&t.last_used?x()(null===t||void 0===t?void 0:t.last_used).format("lll"):"-"})]}),(0,F.jsx)("br",{}),(0,F.jsxs)(b.A,{title:(0,A.t)("credential.Allocation"),size:"small",column:1,labelStyle:{width:"40%"},children:[(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.ResourcePolicy"),children:null===t||void 0===t?void 0:t.resource_policy}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.NumberOfQueries"),children:null===t||void 0===t?void 0:t.num_queries}),(0,F.jsx)(b.A.Item,{label:(0,A.t)("credential.ConcurrentSessions"),children:null===t||void 0===t?void 0:t.concurrency_used}),(0,F.jsx)(b.A.Item,{label:"".concat((0,A.t)("credential.RateLimit")," ").concat((0,A.t)("credential.For900Seconds")),children:null===t||void 0===t?void 0:t.rate_limit})]})]}))},P=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"access_key"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"access_key",variableName:"access_key"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyKeyPair",kind:"LinkedField",name:"modify_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KeypairSettingModalModifyMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KeypairSettingModalModifyMutation",selections:n},params:{cacheID:"0bf2a12bbaaabcbf7577479149266c0b",id:null,metadata:{},name:"KeypairSettingModalModifyMutation",operationKind:"mutation",text:"mutation KeypairSettingModalModifyMutation(\n  $access_key: String!\n  $props: ModifyKeyPairInput!\n) {\n  modify_keypair(access_key: $access_key, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();P.hash="59732bd851a981ce0e4bd3bda1b4c602";const I=P,T=function(){var e={defaultValue:null,kind:"LocalArgument",name:"props"},n={defaultValue:null,kind:"LocalArgument",name:"user_id"},a=[{alias:null,args:[{kind:"Variable",name:"props",variableName:"props"},{kind:"Variable",name:"user_id",variableName:"user_id"}],concreteType:"CreateKeyPair",kind:"LinkedField",name:"create_keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"KeypairSettingModalCreateMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"KeypairSettingModalCreateMutation",selections:a},params:{cacheID:"2911946ae5cad21bdff21cc88cf64c74",id:null,metadata:{},name:"KeypairSettingModalCreateMutation",operationKind:"mutation",text:"mutation KeypairSettingModalCreateMutation(\n  $user_id: String!\n  $props: KeyPairInput!\n) {\n  create_keypair(user_id: $user_id, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();T.hash="a81bb2d7d4e5a095deaf58a442f4211d";const U=T,L={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"rate_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],type:"KeyPair",abstractKey:null,hash:"a453330249f3d6cb4a241e19f2314614"},C=L;var w=a(59991);const D=function(){var e=[{alias:null,args:null,concreteType:"KeyPairResourcePolicy",kind:"LinkedField",name:"keypair_resource_policies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KeypairResourcePolicySelectQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"KeypairResourcePolicySelectQuery",selections:e},params:{cacheID:"f1b8b8a22196df6830db5af46e0050cb",id:null,metadata:{},name:"KeypairResourcePolicySelectQuery",operationKind:"query",text:"query KeypairResourcePolicySelectQuery {\n  keypair_resource_policies {\n    name\n  }\n}\n"}}}();D.hash="8d526f411223d503c43d6bedff672a64";const O=D;var N=a(12059),V=a(31084),E=a(54841),R=a(47984),q=a.n(R),$=a(48130);const Q=e=>{let n=Object.assign({},((0,w.A)(e),e));const{t:a}=(0,$.Bd)(),[l,i]=(0,V.A)({value:n.value,onChange:n.onChange}),{keypair_resource_policies:r}=(0,K.useLazyLoadQuery)(O,{},{fetchPolicy:"store-and-network"});return(0,F.jsx)(E.A,(0,c.A)((0,c.A)({showSearch:!0,placeholder:a("credential.SelectPolicy"),options:q().map(r,(e=>({value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}))).sort(((e,n)=>(0,N._f)(null===e||void 0===e?void 0:e.label,null===n||void 0===n?void 0:n.label)))},n),{},{value:l,onChange:(e,n)=>{i(e,n)}}))};var z=a(15336),B=a(96627),X=a(48871),G=a(16449),Y=a(31279),H=a(120),W=a(90953);const Z=["keypairSettingModalFrgmt","onRequestClose"],J=e=>{let{keypairSettingModalFrgmt:n=null,onRequestClose:a}=e,l=(0,m.A)(e,Z);const{t:i}=(0,$.Bd)(),{message:r}=z.A.useApp(),t=(0,W.useRef)(null),s=(0,K.useFragment)(C,n),[o,d]=(0,K.useMutation)(U),[u,g]=(0,K.useMutation)(I);return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:i(s?"credential.ModifyKeypairResourcePolicy":"credential.AddCredential"),width:500,destroyOnHidden:!0,onOk:()=>{var e;null===(e=t.current)||void 0===e||e.validateFields().then((e=>{var n,l;s?u({variables:{access_key:null!==(n=s.access_key)&&void 0!==n?n:"",props:{rate_limit:e.rate_limit,resource_policy:e.resource_policy}},onCompleted:(e,n)=>{var l,t;if(null===(l=e.modify_keypair)||void 0===l||!l.ok||n)return r.error(null===e||void 0===e||null===(t=e.modify_keypair)||void 0===t?void 0:t.msg),void a(!1);r.success(i("notification.SuccessfullyUpdated")),a(!0)},onError:e=>{r.error(e.message),a(!1)}}):o({variables:{user_id:null!==(l=e.user_id)&&void 0!==l?l:"",props:{rate_limit:e.rate_limit,resource_policy:e.resource_policy}},onCompleted:(e,n)=>{var l,t;if(null===(l=e.create_keypair)||void 0===l||!l.ok||n)return r.error(null===e||void 0===e||null===(t=e.create_keypair)||void 0===t?void 0:t.msg),void a(!1);r.success(i("credential.KeypairCreated")),a(!0)},onError:e=>{r.error(e.message),a(!1)}})})).catch((()=>{}))},okButtonProps:{loading:d||g},onCancel:()=>a(!1)},l),{},{children:(0,F.jsxs)(B.A,{ref:t,layout:"vertical",initialValues:s?(0,c.A)({},s):{},children:[!s&&(0,F.jsx)(B.A.Item,{name:"user_id",label:i("credential.UserIDAsEmail"),rules:[{required:!0},{type:"email"}],children:(0,F.jsx)(X.A,{})}),(0,F.jsxs)(G.A,{gutter:16,children:[(0,F.jsx)(Y.A,{span:12,children:(0,F.jsx)(B.A.Item,{name:"resource_policy",label:i("credential.ResourcePolicy"),rules:[{required:!0}],children:(0,F.jsx)(Q,{})})}),(0,F.jsx)(Y.A,{span:12,children:(0,F.jsx)(B.A.Item,{name:"rate_limit",label:i("credential.RateLimitFor15min"),rules:[{required:!0},{type:"number",min:0,max:5e4},{validator:(e,n)=>n<=100?Promise.reject(i("credential.WarningLessRateLimit")):Promise.resolve(),warningOnly:!0}],children:(0,F.jsx)(H.A,{min:0,max:5e4,style:{width:"100%"}})})})]})]})}))};var ee=a(29243),ne=a(59646),ae=a(52378),le=a(20857),ie=a(25558),re=a(88951),te=a(32589),se=a(81105),oe=a(1503),de=a(39924),ue=a(67313);const ce=()=>{const{t:e}=(0,$.Bd)(),{token:n}=v.A.useToken(),{message:a,modal:l}=z.A.useApp(),{logger:r}=(0,S.Q7t)(),[s,c]=(0,ue.useQueryParam)("action",ue.StringParam),[m,g]=(0,S.TwB)("first"),[p,y]=(0,ue.useQueryParams)({activeType:(0,ue.withDefault)(ue.StringParam,"active"),order:(0,ue.withDefault)(ue.StringParam,void 0),filter:(0,ue.withDefault)(ue.StringParam,void 0)}),[k,b]=(0,W.useState)(null),[h,A]=(0,W.useState)(!1),[j,P]=(0,W.useState)(null),[I,T]=(0,W.useTransition)(),[U,L]=(0,W.useTransition)(),{baiPaginationOption:C,tablePaginationOption:w,setTablePaginationOption:D}=(0,d.L0)({current:1,pageSize:20}),O={limit:C.limit,offset:C.offset,is_active:"active"===p.activeType,filter:p.filter,order:p.order},N=(0,W.useDeferredValue)(O),V=(0,W.useDeferredValue)(m),{keypair_list:E}=(0,K.useLazyLoadQuery)(o,N,{fetchKey:V,fetchPolicy:V===S.eIE?"store-and-network":"network-only"}),[R,Q]=(0,K.useMutation)(t),[B,X]=(0,K.useMutation)(i);return(0,W.useEffect)((()=>{"add"===s&&(A(!0),c(void 0))}),[s,c]),(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[(0,F.jsxs)(S.OOm,{justify:"between",align:"start",gap:"xs",wrap:"wrap",children:[(0,F.jsxs)(S.OOm,{gap:"sm",align:"start",children:[(0,F.jsx)(u.A,{value:p.activeType,onChange:e=>{y({activeType:e.target.value},"replaceIn"),D({current:1,pageSize:w.pageSize})},optionType:"button",options:[{label:e("general.Active"),value:"active"},{label:e("general.Inactive"),value:"inactive"}]}),(0,F.jsx)(S.Af6,{filterProperties:[{key:"email",propertyLabel:e("credential.UserID"),type:"string"},{key:"access_key",propertyLabel:e("credential.AccessKey"),type:"string"},{key:"is_admin",propertyLabel:e("credential.Permission"),type:"boolean",strictSelection:!0,defaultOperator:"==",options:[{label:"admin",value:"true"},{label:"user",value:"false"}]},{key:"resource_policy",propertyLabel:e("credential.ResourcePolicy"),type:"string"}],value:p.filter,onChange:e=>{y({filter:e},"replaceIn")}})]}),(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(ie.A,{title:e("button.Refresh"),children:(0,F.jsx)(re.Ay,{loading:V!==m,onClick:()=>{g()},icon:(0,F.jsx)(ee.A,{})})}),(0,F.jsx)(re.Ay,{type:"primary",icon:(0,F.jsx)(se.A,{}),onClick:()=>{A(!0)},children:e("credential.AddCredential")})]})]}),(0,F.jsx)(S.zxw,{rowKey:"id",scroll:{x:"max-content"},loading:N!==O,dataSource:(0,S.faj)(null===E||void 0===E?void 0:E.items),columns:(0,S.YM3)([{key:"accessKey",title:e("credential.AccessKey"),sorter:!0,render:(e,n)=>(0,F.jsx)(S.mQ0,{monospace:!0,children:n.access_key})},{key:"userID",title:e("credential.UserID"),dataIndex:"email",fixed:"left",sorter:!0,render:(e,n)=>n.user_id},{key:"control",title:e("general.Control"),fixed:"left",render:(i,t)=>(0,F.jsxs)(S.OOm,{gap:n.marginXS,children:[(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(ne.A,{style:{color:n.colorInfo}}),onClick:()=>{T((()=>{P(t)}))}}),(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(ae.A,{style:{color:n.colorInfo}}),onClick:()=>{L((()=>{b(t)}))}}),"inactive"===p.activeType&&(0,F.jsx)(ie.A,{title:e("credential.Activate"),children:(0,F.jsx)(te.A,{title:e("credential.ActivateCredential"),description:t.user_id,okText:e("credential.Activate"),placement:"left",onConfirm:()=>{var n;R({variables:{access_key:null!==(n=t.access_key)&&void 0!==n?n:"",props:{is_active:!0}},onCompleted:(n,l)=>{var i,r;null!==n&&void 0!==n&&null!==(i=n.modify_keypair)&&void 0!==i&&i.ok&&!l?(a.success(e("credential.KeypairStatusUpdatedSuccessfully")),g()):a.error(null===n||void 0===n||null===(r=n.modify_keypair)||void 0===r?void 0:r.msg)},onError:e=>{a.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},children:(0,F.jsx)(re.Ay,{type:"text",icon:(0,F.jsx)(oe.A,{})})})}),"active"===p.activeType?(0,F.jsx)(ie.A,{title:e("credential.Deactivate"),children:(0,F.jsx)(te.A,{title:e("credential.DeactivateCredential"),description:t.user_id,okButtonProps:{loading:Q},okType:"danger",okText:e("credential.Deactivate"),placement:"left",onConfirm:()=>{var n;R({variables:{access_key:null!==(n=t.access_key)&&void 0!==n?n:"",props:{is_active:!1}},onCompleted:(n,l)=>{var i,r;null!==n&&void 0!==n&&null!==(i=n.modify_keypair)&&void 0!==i&&i.ok&&!l?(a.success(e("credential.KeypairStatusUpdatedSuccessfully")),g()):a.error(null===n||void 0===n||null===(r=n.modify_keypair)||void 0===r?void 0:r.msg)},onError:e=>{a.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},children:(0,F.jsx)(re.Ay,{type:"text",danger:!0,icon:(0,F.jsx)(de.A,{})})})}):(0,F.jsx)(re.Ay,{type:"text",danger:!0,icon:(0,F.jsx)(le.A,{}),loading:X,onClick:()=>{l.confirm({title:e("credential.DeleteCredential"),content:(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",children:[(0,F.jsx)(f.A.Text,{children:e("credential.YouAreAboutToDeleteCredential")}),(0,F.jsx)(f.A.Text,{strong:!0,children:t.user_id}),(0,F.jsx)("br",{}),(0,F.jsx)(f.A.Text,{type:"danger",children:e("dialog.warning.CannotBeUndone")})]}),onOk:()=>{var n;B({variables:{access_key:null!==(n=t.access_key)&&void 0!==n?n:""},onCompleted:(n,l)=>{var i,r;null!==n&&void 0!==n&&null!==(i=n.delete_keypair)&&void 0!==i&&i.ok&&!l?(a.success(e("credential.KeypairSuccessfullyDeleted")),g()):a.error(null===n||void 0===n||null===(r=n.delete_keypair)||void 0===r?void 0:r.msg)},onError:e=>{a.error(null===e||void 0===e?void 0:e.message),r.error(e)}})},okButtonProps:{danger:!0},okText:e("button.Delete")})}})]})},{key:"permission",title:e("credential.Permission"),dataIndex:"is_admin",render:e=>e?(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(_.A,{color:"red",children:"admin"}),(0,F.jsx)(_.A,{color:"green",children:"user"})]}):(0,F.jsx)(_.A,{color:"green",children:"user"}),sorter:!0},{key:"keyAge",title:e("credential.KeyAge"),dataIndex:"created_at",render:n=>"".concat(x()().diff(n,"day")).concat(e("credential.Days")),sorter:!0},{key:"createdAt",title:e("credential.CreatedAt"),dataIndex:"created_at",render:e=>x()(e).format("lll"),sorter:!0},{key:"resourcePolicy",title:e("credential.ResourcePolicy"),dataIndex:"resource_policy",sorter:!0},{key:"allocation",title:e("credential.Allocation"),render:a=>(0,F.jsxs)(S.OOm,{direction:"column",align:"start",children:[(0,F.jsxs)(f.A.Text,{children:[a.concurrency_used,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:n.marginXXS,fontSize:n.fontSizeSM},children:e("credential.Sessions")})]}),(0,F.jsxs)(f.A.Text,{style:{fontSize:n.fontSizeSM},children:[a.rate_limit,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:n.marginXXS,fontSize:n.fontSizeSM},children:e("credential.ReqPer15Min")})]}),(0,F.jsxs)(f.A.Text,{style:{fontSize:n.fontSizeSM},children:[a.num_queries,(0,F.jsx)(f.A.Text,{type:"secondary",style:{marginLeft:n.marginXXS,fontSize:n.fontSizeSM},children:e("credential.Queries")})]})]})}]),showSorterTooltip:!1,pagination:{pageSize:w.pageSize,total:(null===E||void 0===E?void 0:E.total_count)||0,current:w.current,onChange(e,n){q().isNumber(e)&&q().isNumber(n)&&D({current:e,pageSize:n})}},onChangeOrder:e=>{y({order:e},"replaceIn")}}),(0,F.jsx)(M,{keypairInfoModalFrgmt:j,open:!!j||I,loading:I,onRequestClose:()=>{P(null)}}),(0,F.jsx)(J,{keypairSettingModalFrgmt:k,loading:U,open:!!k||U||h,onRequestClose:e=>{b(null),A(!1),e&&g()}})]})},me=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserManagementModifyMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserManagementModifyMutation",selections:n},params:{cacheID:"cd14b770d01d9b6e13257faa0f84f3cd",id:null,metadata:{},name:"UserManagementModifyMutation",operationKind:"mutation",text:"mutation UserManagementModifyMutation(\n  $email: String!\n  $props: ModifyUserInput!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();me.hash="ebfe36ddd47871027ed7d1e84b98c347";const ge=me,pe=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"first"},a={defaultValue:null,kind:"LocalArgument",name:"offset"},l={defaultValue:null,kind:"LocalArgument",name:"order"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"}],r={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l],kind:"Fragment",metadata:null,name:"UserManagementQuery",selections:[{alias:null,args:i,concreteType:"UserConnection",kind:"LinkedField",name:"user_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:t,action:"THROW"},{kind:"RequiredField",field:s,action:"THROW"},{args:null,kind:"FragmentSpread",name:"BAIUserNodesFragment"},{args:null,kind:"FragmentSpread",name:"PurgeUsersModalFragment"},{args:null,kind:"FragmentSpread",name:"UpdateUsersModalFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,e,l],kind:"Operation",name:"UserManagementQuery",selections:[{alias:null,args:i,concreteType:"UserConnection",kind:"LinkedField",name:"user_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"node",plural:!1,selections:[t,s,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},{alias:null,args:null,concreteType:"GroupConnection",kind:"LinkedField",name:"project_nodes",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GroupEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"GroupNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"918def1d0f2c60d08702c9ac873a9aef",id:null,metadata:{},name:"UserManagementQuery",operationKind:"query",text:"query UserManagementQuery(\n  $first: Int\n  $offset: Int\n  $filter: String\n  $order: String\n) {\n  user_nodes(first: $first, offset: $offset, filter: $filter, order: $order) {\n    count\n    edges {\n      node {\n        id\n        email\n        ...BAIUserNodesFragment\n        ...PurgeUsersModalFragment\n        ...UpdateUsersModalFragment\n      }\n    }\n  }\n}\n\nfragment BAIUserNodesFragment on UserNode {\n  id\n  email\n  full_name\n  role\n  description\n  username\n  created_at\n  modified_at\n  status\n  domain_name\n  resource_policy\n  allowed_client_ip\n  container_gids\n  container_main_gid\n  container_uid\n  status_info\n  sudo_session_enabled\n  need_password_change\n  totp_activated\n  project_nodes {\n    count\n    edges {\n      node {\n        name\n        id\n      }\n    }\n  }\n}\n\nfragment PurgeUsersModalFragment on UserNode {\n  id\n  email\n  username\n  full_name\n}\n\nfragment UpdateUsersModalFragment on UserNode {\n  id\n  email\n  username\n  full_name\n}\n"}}}();pe.hash="d2ccfab1390005e74fcb30ffb9db75bb";const ye=pe;var ke=a(34917),ve=a(5519);const fe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"PurgeUser",kind:"LinkedField",name:"purge_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PurgeUsersModalMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PurgeUsersModalMutation",selections:n},params:{cacheID:"595da6c69d09ff89319849df0acc2143",id:null,metadata:{},name:"PurgeUsersModalMutation",operationKind:"mutation",text:"mutation PurgeUsersModalMutation(\n  $email: String!\n  $props: PurgeUserInput!\n) {\n  purge_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();fe.hash="56a4331dd3e14bbb16ed0d0cb64294f2";const _e=fe,be={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PurgeUsersModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],type:"UserNode",abstractKey:null,hash:"2e870bb6b98badf196d37a4402ac903d"},Se=be;var he=a(54814);const xe=["usersFrgmt"],Ae=e=>{const n=(0,ke.c)(60);let a,l;if(n[0]!==e){var i=e;({usersFrgmt:l}=i),a=(0,m.A)(i,xe),n[0]=e,n[1]=a,n[2]=l}else a=n[1],l=n[2];const{t:r}=(0,$.Bd)(),{message:t}=z.A.useApp(),s=(0,W.useRef)(null),{token:o}=v.A.useToken(),[d,u]=(0,W.useState)(!1),{getErrorMessage:g}=(0,S.B78)();let p;n[3]===Symbol.for("react.memo_cache_sentinel")?(p=Se,n[3]=p):p=n[3];const y=(0,K.useFragment)(p,l);let k;n[4]===Symbol.for("react.memo_cache_sentinel")?(k=_e,n[4]=k):k=n[4];const f=(0,S.Swy)(k);let _;n[5]!==a||n[6]!==g||n[7]!==t||n[8]!==f||n[9]!==r||n[10]!==y?(_=e=>{var n;const l=q().compact(y);null===(n=s.current)||void 0===n||n.validateFields().then((n=>{u(!0);const i=n.deleteVfolder||!1,s=l.map((e=>{var n;return f({email:null!==(n=e.email)&&void 0!==n?n:"",props:{purge_shared_vfolders:i,delegate_endpoint_ownership:i}}).catch((n=>Promise.reject({user:e,error:n})))}));Promise.allSettled(s).then((n=>{const i=n.filter(Ke),s=n.filter(Fe);if(s.length>0){var o,d,u;const e=s.map((e=>e.reason.user.email||r("credential.WrongEmail"))).join(", ");e&&t.error(r("credential.FailedToDeleteUsers",{users:e}));const n=(null===(o=s[0])||void 0===o||null===(d=o.reason)||void 0===d||null===(u=d.error)||void 0===u?void 0:u.length)>0&&s[0].reason.error[0];n&&t.error(g(n))}var c,m;i.length>0&&(t.success(r("credential.UsersPermanentlyDeleted",{total:l.length,count:i.length})),null===(c=(m=a).onOk)||void 0===c||c.call(m,e))})).finally((()=>{u(!1)}))})).catch(je)},n[5]=a,n[6]=g,n[7]=t,n[8]=f,n[9]=r,n[10]=y,n[11]=_):_=n[11];const b=_;let h,x,A,j,M,P,I,T,U,L,C,w,D,O,N,V,E,R;return n[12]!==r?(h=r("credential.PermanentlyDeleteUsers"),n[12]=r,n[13]=h):h=n[13],n[14]!==r?(x=r("button.Delete"),n[14]=r,n[15]=x):x=n[15],n[16]!==b?(A=e=>b(e),n[16]=b,n[17]=A):A=n[17],n[18]!==r?(j=r("credential.TypePermanentlyDelete",{text:r("credential.PermanentlyDelete")}),n[18]=r,n[19]=j):j=n[19],n[20]!==r?(M=r("credential.PermanentlyDelete"),n[20]=r,n[21]=M):M=n[21],n[22]!==M?(P={placeholder:M},n[22]=M,n[23]=P):P=n[23],n[24]!==r?(I=r("credential.PermanentlyDelete"),n[24]=r,n[25]=I):I=n[25],n[26]!==r?(T=r("credential.PurgeUsersWarningAlertTitle"),n[26]=r,n[27]=T):T=n[27],n[28]!==o.paddingXXS?(U={margin:0,padding:0,paddingTop:o.paddingXXS,listStyle:"circle",listStylePosition:"inside",maxHeight:165,overflowY:"auto"},n[28]=o.paddingXXS,n[29]=U):U=n[29],n[30]!==y?(L=q().map(y,Me),n[30]=y,n[31]=L):L=n[31],n[32]!==U||n[33]!==L?(C=(0,F.jsx)("ul",{style:U,children:L}),n[32]=U,n[33]=L,n[34]=C):C=n[34],n[35]!==T||n[36]!==C?(w=(0,F.jsx)(S.RfO,{title:T,type:"warning",description:C,showIcon:!0}),n[35]=T,n[36]=C,n[37]=w):w=n[37],n[38]!==r?(D=r("credential.UsersPermanentlyDeleteConfirmMessage"),n[38]=r,n[39]=D):D=n[39],n[40]!==D?(O=(0,F.jsx)(S.mQ0,{children:D}),n[40]=D,n[41]=O):O=n[41],n[42]!==r?(N=r("credential.DeleteSharedVirtualFolders"),n[42]=r,n[43]=N):N=n[43],n[44]!==N?(V=(0,F.jsx)(B.A,{ref:s,children:(0,F.jsx)(B.A.Item,{name:"deleteVfolder",valuePropName:"checked",children:(0,F.jsx)(he.A,{children:N})})}),n[44]=N,n[45]=V):V=n[45],n[46]!==w||n[47]!==O||n[48]!==V?(E=(0,F.jsxs)(S.OOm,{direction:"column",gap:"sm",justify:"start",align:"stretch",children:[w,O,V]}),n[46]=w,n[47]=O,n[48]=V,n[49]=E):E=n[49],n[50]!==a||n[51]!==d||n[52]!==I||n[53]!==E||n[54]!==h||n[55]!==x||n[56]!==A||n[57]!==j||n[58]!==P?(R=(0,F.jsx)(S.Qox,(0,c.A)((0,c.A)({},a),{},{title:h,okText:x,onOk:A,confirmLoading:d,inputLabel:j,inputProps:P,confirmText:I,content:E})),n[50]=a,n[51]=d,n[52]=I,n[53]=E,n[54]=h,n[55]=x,n[56]=A,n[57]=j,n[58]=P,n[59]=R):R=n[59],R};function Ke(e){return"fulfilled"===e.status}function Fe(e){return"rejected"===e.status}function je(){}function Me(e){return(0,F.jsx)("li",{children:e.email},e.id)}const Pe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UpdateUsersModalMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UpdateUsersModalMutation",selections:n},params:{cacheID:"be538ad11b2958697ead1ef50a1924cc",id:null,metadata:{},name:"UpdateUsersModalMutation",operationKind:"mutation",text:"mutation UpdateUsersModalMutation(\n  $email: String!\n  $props: ModifyUserInput!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();Pe.hash="0868256d1ec014157447373ca9b56f4e";const Ie=Pe,Te={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"UpdateUsersModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],type:"UserNode",abstractKey:null,hash:"38f8b5d5f53c9a1edaad681cf1d0c8c9"},Ue=Te;var Le=a(44027);const Ce=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"max_vfolder_count",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"max_session_count_per_model_session",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"max_quota_scope_size",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"max_customized_image_count",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserResourcePolicySelectQuery",selections:[{alias:null,args:null,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policies",plural:!0,selections:[e,n,a,l,i,r,t,{args:null,kind:"FragmentSpread",name:"UserResourcePolicySettingModalFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"UserResourcePolicySelectQuery",selections:[{alias:null,args:null,concreteType:"UserResourcePolicy",kind:"LinkedField",name:"user_resource_policies",plural:!0,selections:[e,n,a,l,i,r,t],storageKey:null}]},params:{cacheID:"e071e72804236e9dbbbb86ca78b26844",id:null,metadata:{},name:"UserResourcePolicySelectQuery",operationKind:"query",text:'query UserResourcePolicySelectQuery {\n  user_resource_policies {\n    id\n    name\n    created_at\n    max_vfolder_count @since(version: "23.09.6")\n    max_session_count_per_model_session @since(version: "23.09.10")\n    max_quota_scope_size @since(version: "23.09.2")\n    max_customized_image_count @since(version: "24.03.0")\n    ...UserResourcePolicySettingModalFragment\n  }\n}\n\nfragment UserResourcePolicySettingModalFragment on UserResourcePolicy {\n  id\n  name\n  max_vfolder_count @since(version: "23.09.6")\n  max_session_count_per_model_session @since(version: "23.09.10")\n  max_quota_scope_size @since(version: "23.09.2")\n  max_customized_image_count @since(version: "24.03.0")\n}\n'}}}();Ce.hash="5726bc665516f441e11765f3a7f91cf6";const we=Ce,De=e=>{let n=Object.assign({},((0,w.A)(e),e));const{t:a}=(0,$.Bd)(),{user_resource_policies:l}=(0,K.useLazyLoadQuery)(we,{},{fetchPolicy:"store-and-network"});return(0,F.jsx)(E.A,(0,c.A)({showSearch:!0,placeholder:a("credential.SelectPolicy"),options:q().map(l,(e=>({value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}))).sort(((e,n)=>(0,N._f)(null===e||void 0===e?void 0:e.label,null===n||void 0===n?void 0:n.label)))},n))};var Oe=a(52187);const Ne=["userFrgmt"],Ve=e=>{const n=(0,ke.c)(155);let a,l;if(n[0]!==e){var i=e;({userFrgmt:l}=i),a=(0,m.A)(i,Ne),n[0]=e,n[1]=a,n[2]=l}else a=n[1],l=n[2];const r=(0,W.useRef)(null),[t,s]=(0,W.useState)(!1),{token:o}=v.A.useToken(),{t:d}=(0,$.Bd)(),{message:u}=z.A.useApp(),{getErrorMessage:g}=(0,S.B78)(),{logger:p}=(0,S.Q7t)();let y;n[3]===Symbol.for("react.memo_cache_sentinel")?(y=Ue,n[3]=y):y=n[3];const k=(0,K.useFragment)(y,l);let f;n[4]===Symbol.for("react.memo_cache_sentinel")?(f=Ie,n[4]=f):f=n[4];const _=(0,S.Swy)(f);let b,h,x,A,j,M,P,I,T,U,L,C,w,D,O,N,V,E,R,Q,X,G,Y,Z,J,ee,ne,ae,le,ie,re,te,se,oe,de,ue,ce,me,ge,pe,ye,ve,fe,_e,be,Se,he,xe,Ae,Ke,Fe,je,Me,Pe,Te,Ce,we,Ve,Xe,Ge,Ye,He;return n[5]!==d?(b=d("credential.UpdateUsers"),n[5]=d,n[6]=b):b=n[6],n[7]!==d?(h=d("button.Update"),n[7]=d,n[8]=h):h=n[8],n[9]!==g||n[10]!==p||n[11]!==u||n[12]!==a||n[13]!==_||n[14]!==d||n[15]!==k?(x=e=>{var n;null===(n=r.current)||void 0===n||n.validateFields().then((n=>{s(!0);const l=q().compact(k),i=q().omitBy({domain_name:n.domain_name,group_ids:n.group_ids,status:n.status,resource_policy:n.resource_policy,container_uid:n.container_uid,container_main_gid:n.container_main_gid,container_gids:q().isEmpty(n.container_gids)?void 0:q().map(n.container_gids,Ee)},Re),r=l.map((e=>_({email:e.email||"",props:i}).catch((n=>Promise.reject({user:e,error:n})))));Promise.allSettled(r).then((n=>{const i=n.filter(qe),r=n.filter($e);if(r.length>0){var t,s,o;const e=r.map((e=>e.reason.user.email||d("credential.WrongEmail"))).join(", ");e&&u.error(d("credential.FailedToUpdateUsers",{users:e}));const n=(null===(t=r[0])||void 0===t||null===(s=t.reason)||void 0===s||null===(o=s.error)||void 0===o?void 0:o.length)>0&&r[0].reason.error[0];n&&u.error(g(n))}var c,m;i.length>0&&(u.success(d("credential.UpdatedUsers",{count:i.length,total:l.length})),null===(c=(m=a).onOk)||void 0===c||c.call(m,e))})).finally((()=>{s(!1)}))})).catch((e=>{p.error("Validation failed:",e)}))},n[9]=g,n[10]=p,n[11]=u,n[12]=a,n[13]=_,n[14]=d,n[15]=k,n[16]=x):x=n[16],n[17]!==d?(A=d("credential.UpdateUsersWarningAlertTitle"),n[17]=d,n[18]=A):A=n[18],n[19]!==o.paddingXXS?(j={margin:0,padding:0,paddingTop:o.paddingXXS,listStyle:"circle",listStylePosition:"inside",maxHeight:165,overflowY:"auto"},n[19]=o.paddingXXS,n[20]=j):j=n[20],n[21]!==k?(M=q().map(k,Qe),n[21]=k,n[22]=M):M=n[22],n[23]!==j||n[24]!==M?(P=(0,F.jsx)("ul",{style:j,children:M}),n[23]=j,n[24]=M,n[25]=P):P=n[25],n[26]!==o.marginSM?(I={marginBottom:o.marginSM},n[26]=o.marginSM,n[27]=I):I=n[27],n[28]!==I||n[29]!==A||n[30]!==P?(T=(0,F.jsx)(S.RfO,{type:"warning",showIcon:!0,title:A,description:P,style:I}),n[28]=I,n[29]=A,n[30]=P,n[31]=T):T=n[31],n[32]!==d?(U=d("credential.Domain"),n[32]=d,n[33]=U):U=n[33],n[34]===Symbol.for("react.memo_cache_sentinel")?(L=(0,F.jsx)(S.xrr,{loading:!0}),n[34]=L):L=n[34],n[35]!==U?(C=(0,F.jsx)(B.A.Item,{label:U,children:L}),n[35]=U,n[36]=C):C=n[36],n[37]!==d?(w=d("credential.Domain"),n[37]=d,n[38]=w):w=n[38],n[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,F.jsx)(S.dbm,{onChange:()=>{var e;null===(e=r.current)||void 0===e||e.setFieldValue("group_ids",[])},allowClear:!0}),n[39]=D):D=n[39],n[40]!==w?(O=(0,F.jsx)(B.A.Item,{name:"domain_name",label:w,children:D}),n[40]=w,n[41]=O):O=n[41],n[42]!==C||n[43]!==O?(N=(0,F.jsx)(W.Suspense,{fallback:C,children:O}),n[42]=C,n[43]=O,n[44]=N):N=n[44],n[45]!==d?(V=d("credential.Projects"),n[45]=d,n[46]=V):V=n[46],n[47]===Symbol.for("react.memo_cache_sentinel")?(E=(0,F.jsx)(S.xrr,{loading:!0}),n[47]=E):E=n[47],n[48]!==V?(R=(0,F.jsx)(B.A.Item,{label:V,children:E}),n[48]=V,n[49]=R):R=n[49],n[50]===Symbol.for("react.memo_cache_sentinel")?(Q=["domain_name"],n[50]=Q):Q=n[50],n[51]!==d?(X=(0,F.jsx)(B.A.Item,{noStyle:!0,dependencies:Q,children:e=>{const{getFieldValue:n}=e;return(0,F.jsx)(B.A.Item,{name:"group_ids",label:d("credential.Projects"),validateStatus:n("domain_name")?void 0:"warning",help:n("domain_name")?void 0:d("credential.validation.PleaseSelectDomain"),children:(0,F.jsx)(Le.A,{mode:"multiple",domain:n("domain_name"),disableDefaultFilter:!0,disabled:!n("domain_name")})})}}),n[51]=d,n[52]=X):X=n[52],n[53]!==R||n[54]!==X?(G=(0,F.jsx)(W.Suspense,{fallback:R,children:X}),n[53]=R,n[54]=X,n[55]=G):G=n[55],n[56]!==d?(Y=d("credential.UserStatus"),n[56]=d,n[57]=Y):Y=n[57],n[58]!==d?(Z=d("general.Active"),n[58]=d,n[59]=Z):Z=n[59],n[60]!==Z?(J={value:"active",label:Z},n[60]=Z,n[61]=J):J=n[61],n[62]!==d?(ee=d("general.Inactive"),n[62]=d,n[63]=ee):ee=n[63],n[64]!==ee?(ne={value:"inactive",label:ee},n[64]=ee,n[65]=ne):ne=n[65],n[66]!==d?(ae=d("credential.BeforeVerification"),n[66]=d,n[67]=ae):ae=n[67],n[68]!==ae?(le={value:"before-verification",label:ae},n[68]=ae,n[69]=le):le=n[69],n[70]!==d?(ie=d("credential.Deleted"),n[70]=d,n[71]=ie):ie=n[71],n[72]!==ie?(re={value:"deleted",label:ie},n[72]=ie,n[73]=re):re=n[73],n[74]!==J||n[75]!==ne||n[76]!==le||n[77]!==re?(te=(0,F.jsx)(S.xrr,{options:[J,ne,le,re]}),n[74]=J,n[75]=ne,n[76]=le,n[77]=re,n[78]=te):te=n[78],n[79]!==Y||n[80]!==te?(se=(0,F.jsx)(B.A.Item,{name:"status",label:Y,children:te}),n[79]=Y,n[80]=te,n[81]=se):se=n[81],n[82]!==d?(oe=d("resourcePolicy.ResourcePolicy"),n[82]=d,n[83]=oe):oe=n[83],n[84]===Symbol.for("react.memo_cache_sentinel")?(de=(0,F.jsx)(S.xrr,{loading:!0}),n[84]=de):de=n[84],n[85]!==oe?(ue=(0,F.jsx)(B.A.Item,{label:oe,children:de}),n[85]=oe,n[86]=ue):ue=n[86],n[87]!==d?(ce=d("resourcePolicy.ResourcePolicy"),n[87]=d,n[88]=ce):ce=n[88],n[89]===Symbol.for("react.memo_cache_sentinel")?(me=(0,F.jsx)(De,{allowClear:!0}),n[89]=me):me=n[89],n[90]!==ce?(ge=(0,F.jsx)(B.A.Item,{name:"resource_policy",label:ce,children:me}),n[90]=ce,n[91]=ge):ge=n[91],n[92]!==ue||n[93]!==ge?(pe=(0,F.jsx)(W.Suspense,{fallback:ue,children:ge}),n[92]=ue,n[93]=ge,n[94]=pe):pe=n[94],n[95]!==d?(ye=d("credential.ContainerUID"),n[95]=d,n[96]=ye):ye=n[96],n[97]!==d?(ve=d("credential.ContainerUIDTooltip"),n[97]=d,n[98]=ve):ve=n[98],n[99]!==d?(fe=d("credential.validation.PleaseEnterPositiveInteger"),n[99]=d,n[100]=fe):fe=n[100],n[101]!==fe?(_e=[{type:"number",min:1,message:fe}],n[101]=fe,n[102]=_e):_e=n[102],n[103]===Symbol.for("react.memo_cache_sentinel")?(be=(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1}),n[103]=be):be=n[103],n[104]!==ye||n[105]!==ve||n[106]!==_e?(Se=(0,F.jsx)(B.A.Item,{name:"container_uid",label:ye,tooltip:ve,rules:_e,children:be}),n[104]=ye,n[105]=ve,n[106]=_e,n[107]=Se):Se=n[107],n[108]!==d?(he=d("credential.ContainerGID"),n[108]=d,n[109]=he):he=n[109],n[110]!==d?(xe=d("credential.ContainerGIDTooltip"),n[110]=d,n[111]=xe):xe=n[111],n[112]!==d?(Ae=d("credential.validation.PleaseEnterPositiveInteger"),n[112]=d,n[113]=Ae):Ae=n[113],n[114]!==Ae?(Ke=[{type:"number",min:1,message:Ae}],n[114]=Ae,n[115]=Ke):Ke=n[115],n[116]===Symbol.for("react.memo_cache_sentinel")?(Fe=(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1}),n[116]=Fe):Fe=n[116],n[117]!==he||n[118]!==xe||n[119]!==Ke?(je=(0,F.jsx)(B.A.Item,{name:"container_main_gid",label:he,tooltip:xe,rules:Ke,children:Fe}),n[117]=he,n[118]=xe,n[119]=Ke,n[120]=je):je=n[120],n[121]!==d?(Me=d("credential.ContainerSupplementaryGIDs"),n[121]=d,n[122]=Me):Me=n[122],n[123]!==d?(Pe=d("credential.ContainerSupplementaryGIDsTooltip"),n[123]=d,n[124]=Pe):Pe=n[124],n[125]!==d?(Te=[()=>({validator:(e,n)=>q().isEmpty(n)||q().every(n,ze)?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterPositiveAndUnder2_31")))}),()=>({validator:(e,n)=>q().isEmpty(n)||q().every(n,Be)?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterValidNumber")))}),()=>({validator:(e,n)=>q().isEmpty(n)||q().uniq(n).length===n.length?Promise.resolve():Promise.reject(new Error(d("credential.validation.PleaseEnterUniqueNumbers")))})],n[125]=d,n[126]=Te):Te=n[126],n[127]===Symbol.for("react.memo_cache_sentinel")?(Ce=[","," "],n[127]=Ce):Ce=n[127],n[128]!==d?(we=d("credential.ContainerSupplementaryGIDsPlaceholder"),n[128]=d,n[129]=we):we=n[129],n[130]!==we?(Ve=(0,F.jsx)(S.xrr,{mode:"tags",tokenSeparators:Ce,open:!1,suffixIcon:null,placeholder:we}),n[130]=we,n[131]=Ve):Ve=n[131],n[132]!==Me||n[133]!==Pe||n[134]!==Te||n[135]!==Ve?(Xe=(0,F.jsx)(B.A.Item,{name:"container_gids",label:Me,tooltip:Pe,rules:Te,children:Ve}),n[132]=Me,n[133]=Pe,n[134]=Te,n[135]=Ve,n[136]=Xe):Xe=n[136],n[137]!==N||n[138]!==G||n[139]!==se||n[140]!==pe||n[141]!==Se||n[142]!==je||n[143]!==Xe?(Ge=(0,F.jsxs)(B.A,{ref:r,layout:"vertical",preserve:!1,children:[N,G,se,pe,Se,je,Xe]}),n[137]=N,n[138]=G,n[139]=se,n[140]=pe,n[141]=Se,n[142]=je,n[143]=Xe,n[144]=Ge):Ge=n[144],n[145]!==T||n[146]!==Ge?(Ye=(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",children:[T,Ge]}),n[145]=T,n[146]=Ge,n[147]=Ye):Ye=n[147],n[148]!==t||n[149]!==a||n[150]!==b||n[151]!==h||n[152]!==x||n[153]!==Ye?(He=(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:b,okText:h,confirmLoading:t},a),{},{onOk:x,children:Ye})),n[148]=t,n[149]=a,n[150]=b,n[151]=h,n[152]=x,n[153]=Ye,n[154]=He):He=n[154],He};function Ee(e){return q().toNumber(e)}function Re(e){return q().isNil(e)||""===e||q().isEmpty(e)}function qe(e){return"fulfilled"===e.status}function $e(e){return"rejected"===e.status}function Qe(e){return(0,F.jsx)("li",{children:e.email},e.id)}function ze(e){const n=q().toNumber(e);return n>0&&n<=Oe.tu}function Be(e){return q().isInteger(q().toNumber(e))}const Xe=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],n=[{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},p={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]},y={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,r,t,s,o,d,c,m,g,p,y],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,r,t,s,o,d,c,m,g,p,y,u],storageKey:null}]},params:{cacheID:"d675c49fbcf67cc926cd8f0f3f7a0a93",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:'query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    resource_policy\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();Xe.hash="4c1eaa080e82b723c9491072604e8925";const Ge=Xe;var Ye=a(95650),He=a(49247);const We=["userEmail","onRequestClose"],Ze=e=>{let{userEmail:n,onRequestClose:a}=e,l=(0,m.A)(e,We);const{t:i}=(0,$.Bd)(),{isTOTPSupported:r,isLoading:t}=(0,Ye.F4)(),{user:s}=(0,K.useLazyLoadQuery)(Ge,{email:n,isNotSupportSudoSessionEnabled:!1,isTOTPSupported:null!==r&&void 0!==r&&r}),o={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,F.jsxs)(S.IbE,(0,c.A)((0,c.A)({centered:!0,title:i("credential.UserDetail"),footer:null,onCancel:a},l),{},{children:[(0,F.jsxs)(b.A,{size:"small",column:o,title:i("credential.Information"),labelStyle:{width:"50%"},children:[(0,F.jsx)(b.A.Item,{label:i("credential.UserID"),children:null===s||void 0===s?void 0:s.email}),(0,F.jsx)(b.A.Item,{label:i("credential.Description"),children:null===s||void 0===s?void 0:s.description}),(0,F.jsx)(b.A.Item,{label:i("credential.UserName"),children:null===s||void 0===s?void 0:s.username}),(0,F.jsx)(b.A.Item,{label:i("credential.FullName"),children:null===s||void 0===s?void 0:s.full_name}),(0,F.jsx)(b.A.Item,{label:i("credential.MainAccessKey"),children:null===s||void 0===s?void 0:s.main_access_key}),(0,F.jsx)(b.A.Item,{label:i("credential.DescActiveUser"),children:"active"===(null===s||void 0===s?void 0:s.status)?i("button.Yes"):i("button.No")}),(0,F.jsx)(b.A.Item,{label:i("credential.DescRequirePasswordChange"),children:null!==s&&void 0!==s&&s.need_password_change?i("button.Yes"):i("button.No")}),(0,F.jsx)(b.A.Item,{label:i("credential.EnableSudoSession"),children:null!==s&&void 0!==s&&s.sudo_session_enabled?i("button.Yes"):i("button.No")}),r&&(0,F.jsx)(b.A.Item,{label:i("webui.menu.TotpActivated"),children:(0,F.jsx)(He.A,{spinning:t,children:null!==s&&void 0!==s&&s.totp_activated?i("button.Yes"):i("button.No")})})]}),(0,F.jsx)("br",{}),(0,F.jsxs)(b.A,{size:"small",column:o,title:i("credential.Association"),labelStyle:{width:"50%"},children:[(0,F.jsx)(b.A.Item,{label:i("credential.Role"),children:null===s||void 0===s?void 0:s.role}),(0,F.jsx)(b.A.Item,{label:i("credential.Domain"),children:null===s||void 0===s?void 0:s.domain_name}),(0,F.jsx)(b.A.Item,{label:i("credential.ResourcePolicy"),children:null===s||void 0===s?void 0:s.resource_policy})]}),(0,F.jsx)("br",{}),(0,F.jsx)(b.A,{title:i("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,F.jsx)(b.A.Item,{children:(0,F.jsx)(S.OOm,{gap:"xs",wrap:"wrap",children:q().map(null===s||void 0===s?void 0:s.groups,(e=>(0,F.jsx)(_.A,{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))})})})]}))},Je=function(){var e={defaultValue:null,kind:"LocalArgument",name:"email"},n={defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"},a={defaultValue:null,kind:"LocalArgument",name:"props"},l=[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],i={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},y={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"UserSettingModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateUser",kind:"LinkedField",name:"create_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null},{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"keypair",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GeneratedKeypairListModalFragment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,n],kind:"Operation",name:"UserSettingModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateUser",kind:"LinkedField",name:"create_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x],storageKey:null},{alias:null,args:null,concreteType:"KeyPair",kind:"LinkedField",name:"keypair",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,concreteType:"UserInfo",kind:"LinkedField",name:"user_info",plural:!1,selections:[s],storageKey:null},t],storageKey:null}],storageKey:null}]},params:{cacheID:"e2216aeec5b3a041ac90522ef40e9b90",id:null,metadata:{},name:"UserSettingModalCreateMutation",operationKind:"mutation",text:"mutation UserSettingModalCreateMutation(\n  $email: String!\n  $props: UserInput!\n  $isNotSupportTotp: Boolean!\n) {\n  create_user(email: $email, props: $props) {\n    ok\n    msg\n    user {\n      id\n      email\n      username\n      need_password_change\n      full_name\n      description\n      status\n      domain_name\n      role\n      groups {\n        id\n        name\n      }\n      resource_policy\n      sudo_session_enabled\n      totp_activated @skipOnClient(if: $isNotSupportTotp)\n      allowed_client_ip\n      main_access_key\n      container_uid\n      container_main_gid\n      container_gids\n      ...TOTPActivateModalFragment\n    }\n    keypair {\n      ...GeneratedKeypairListModalFragment\n      id\n    }\n  }\n}\n\nfragment GeneratedKeypairListModalFragment on KeyPair {\n  access_key\n  secret_key\n  user_info {\n    email\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();Je.hash="6eac042d5d8dba3d8446023d51158e3d";const en=Je,nn=function(){var e={defaultValue:null,kind:"LocalArgument",name:"email"},n={defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"},a={defaultValue:null,kind:"LocalArgument",name:"props"},l=[{kind:"Variable",name:"email",variableName:"email"},{kind:"Variable",name:"props",variableName:"props"}],i={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},y={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"UserSettingModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,n],kind:"Operation",name:"UserSettingModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyUser",kind:"LinkedField",name:"modify_user",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,s,o,d,u,c,m,g,p,y,k,v,f,_,b,S,h,x],storageKey:null}],storageKey:null}]},params:{cacheID:"0f0585f16e798616c877e40a868728ea",id:null,metadata:{},name:"UserSettingModalModifyMutation",operationKind:"mutation",text:"mutation UserSettingModalModifyMutation(\n  $email: String!\n  $props: ModifyUserInput!\n  $isNotSupportTotp: Boolean!\n) {\n  modify_user(email: $email, props: $props) {\n    ok\n    msg\n    user {\n      id\n      email\n      username\n      need_password_change\n      full_name\n      description\n      status\n      domain_name\n      role\n      groups {\n        id\n        name\n      }\n      resource_policy\n      sudo_session_enabled\n      totp_activated @skipOnClient(if: $isNotSupportTotp)\n      allowed_client_ip\n      main_access_key\n      container_uid\n      container_main_gid\n      container_gids\n      ...TOTPActivateModalFragment\n    }\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();nn.hash="8c396239b33e382efa79b54f230378b8";const an=nn,ln=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportTotp"}],n=[{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"allowed_client_ip",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"container_uid",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"container_main_gid",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"container_gids",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserSettingModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,r,t,s,o,d,c,m,g,p,y,k,v,f,_,{args:null,kind:"FragmentSpread",name:"TOTPActivateModalFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserSettingModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,i,r,t,s,o,d,c,m,g,p,y,k,v,f,_,u],storageKey:null}]},params:{cacheID:"ce891f6376e333692778e57d40812a10",id:null,metadata:{},name:"UserSettingModalQuery",operationKind:"query",text:"query UserSettingModalQuery(\n  $email: String\n  $isNotSupportTotp: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    resource_policy\n    sudo_session_enabled\n    totp_activated @skipOnClient(if: $isNotSupportTotp)\n    allowed_client_ip\n    main_access_key\n    container_uid\n    container_main_gid\n    container_gids\n    ...TOTPActivateModalFragment\n    id\n  }\n}\n\nfragment TOTPActivateModalFragment on User {\n  email\n  totp_activated @skipOnClient(if: $isNotSupportTotp)\n}\n"}}}();ln.hash="fcd314cd2f431ffb74017e8c3b0d71bc";const rn=ln;var tn=a(58178);const sn=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"}],n=[{kind:"Variable",name:"email",variableName:"email"}],a={alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AccessKeySelectQuery",selections:[{alias:null,args:n,concreteType:"KeyPair",kind:"LinkedField",name:"keypairs",plural:!0,selections:[a,l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AccessKeySelectQuery",selections:[{alias:null,args:n,concreteType:"KeyPair",kind:"LinkedField",name:"keypairs",plural:!0,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"f8b8c1a3ee357c66b8050c241b494312",id:null,metadata:{},name:"AccessKeySelectQuery",operationKind:"query",text:"query AccessKeySelectQuery(\n  $email: String!\n) {\n  keypairs(email: $email) {\n    access_key\n    is_active\n    id\n  }\n}\n"}}}();sn.hash="7facb8a400bfd30d710d936f1551e2fb";const on=sn,dn=["userEmail","fetchKey"],un=e=>{let{userEmail:n,fetchKey:a}=e,l=(0,m.A)(e,dn);const{t:i}=(0,$.Bd)(),{keypairs:r}=(0,K.useLazyLoadQuery)(on,{email:n},{fetchPolicy:"store-and-network",fetchKey:a}),t=q().map(r,(e=>({value:null===e||void 0===e?void 0:e.access_key,label:null===e||void 0===e?void 0:e.access_key,disabled:!(null!==e&&void 0!==e&&e.is_active)})));return(0,F.jsx)(S.xrr,(0,c.A)({placeholder:i("credential.SelectAccessKey"),options:t},l))},cn={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"GeneratedKeypairListModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secret_key",storageKey:null},{alias:null,args:null,concreteType:"UserInfo",kind:"LinkedField",name:"user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null}],type:"KeyPair",abstractKey:null,hash:"a3a1b6d9c401dfb603fdda3157146445"},mn=cn;var gn=a(59712),pn=a(90855),yn=a(64861);const kn=["keypairFragment","onRequestClose"],vn=e=>{let{keypairFragment:n,onRequestClose:a}=e,l=(0,m.A)(e,kn);const{t:i}=(0,$.Bd)(),r=(0,K.useFragment)(mn,n);return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({title:i("credential.NewCredentialCreated"),width:600,destroyOnHidden:!0,okText:i("button.Download"),onOk:()=>{r&&(0,gn.RM)(q().map(r,(e=>{var n;return{email:null===e||void 0===e||null===(n=e.user_info)||void 0===n?void 0:n.email,"access key":null===e||void 0===e?void 0:e.access_key,"secret key":null===e||void 0===e?void 0:e.secret_key}})),"backendai_api_keypair")},okButtonProps:{icon:(0,F.jsx)(yn.A,{})},cancelText:i("button.Close"),onCancel:a},l),{},{children:(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[(0,F.jsx)(pn.A,{showIcon:!0,type:"success",title:i("credential.GeneratedKeypairSuccess")}),(0,F.jsx)(pn.A,{showIcon:!0,type:"warning",title:i("credential.GeneratedKeypairWarning")}),(0,F.jsx)(S.mQ0,{children:i("credential.GeneratedKeypairInfo")}),(0,F.jsx)(S.zxw,{size:"small",style:{overflowX:"auto"},scroll:{x:"max-content",y:500},pagination:!1,dataSource:r,rowKey:"access_key",columns:[{title:i("general.E-Mail"),dataIndex:["user_info","email"],key:"email",sorter:(e,n)=>{var a,l;return(0,N._f)(null===e||void 0===e||null===(a=e.user_info)||void 0===a?void 0:a.email,null===n||void 0===n||null===(l=n.user_info)||void 0===l?void 0:l.email)},defaultSortOrder:"ascend"},{title:i("credential.AccessKey"),dataIndex:"access_key",key:"access_key",render:e=>(0,F.jsx)(S.mQ0,{copyable:!0,monospace:!0,children:e}),sorter:(e,n)=>(0,N._f)(null===e||void 0===e?void 0:e.access_key,null===n||void 0===n?void 0:n.access_key)},{title:i("credential.SecretKey"),dataIndex:"secret_key",key:"secret_key",render:e=>(0,F.jsx)(S.mQ0,{copyable:{text:e},children:"**********"}),sorter:(e,n)=>(0,N._f)(null===e||void 0===e?void 0:e.secret_key,null===n||void 0===n?void 0:n.secret_key)}]})]})}))};var fn=a(26401),_n=a(8931),bn=a(48888),Sn=a(57318),hn=a(29730),xn=a(58318);const An=["userEmail","onRequestClose"],Kn={superadmin:["superadmin","user"],admin:["user"]},Fn=e=>{let{userEmail:n=null,onRequestClose:a}=e,l=(0,m.A)(e,An);const{t:i}=(0,$.Bd)(),{token:r}=v.A.useToken(),{modal:t}=z.A.useApp(),s=(0,W.useRef)(null),{logger:o}=(0,S.Q7t)(),d=(0,Ye.Am)(),u=(0,ve.eZ)(),g=(0,ve.CX)(),{isTOTPSupported:p,isLoading:y}=(0,Ye.F4)(),[k,{toggle:b}]=(0,bn.A)(!1),[h,x]=(0,S.TwB)("initial-fetch"),A=(0,W.useDeferredValue)(l.open),[j,M]=(0,W.useState)(),{user:P}=(0,K.useLazyLoadQuery)(rn,{email:null!==n&&void 0!==n?n:"",isNotSupportTotp:!p},{fetchPolicy:A&&n?"network-only":"store-only",fetchKey:h}),[I,T]=(0,K.useMutation)(an),[U,L]=(0,K.useMutation)(en),C=(0,tn.ET)({mutationFn:e=>g.remove_totp(e)});return(0,F.jsx)(S.IbE,(0,c.A)((0,c.A)({centered:!0,title:i(P?"credential.ModifyUserDetail":"credential.CreateUser"),destroyOnHidden:!0,onOk:()=>{var e;null===(e=s.current)||void 0===e||e.validateFields().then((async e=>{const n=(0,c.A)((0,c.A)({},q().omit(e,"email","password_confirm")),{},{container_gids:q().map(e.container_gids,(e=>q().toNumber(e))),need_password_change:e.need_password_change||!1});P?I({variables:{email:(null===e||void 0===e?void 0:e.email)||"",props:n,isNotSupportTotp:!p},onCompleted:(e,n)=>{var l,r,t;const s=null===n||void 0===n||null===(l=n[0])||void 0===l?void 0:l.message,d=!1===(null===e||void 0===e||null===(r=e.modify_user)||void 0===r?void 0:r.ok)?e.modify_user.msg:void 0;var u;if(!1===(null===(t=e.modify_user)||void 0===t?void 0:t.ok)||null!==n&&void 0!==n&&n[0])return Sn.Ay.error(d||s||i("error.UnknownError")),void o.error(null===e||void 0===e||null===(u=e.modify_user)||void 0===u?void 0:u.msg,s);Sn.Ay.success(i("environment.SuccessfullyModified")),a(!0)},onError:e=>{Sn.Ay.error(i("dialog.ErrorOccurred")),o.error(e)}}):U({variables:{email:(null===e||void 0===e?void 0:e.email)||"",props:(0,c.A)((0,c.A)({},n),{},{password:e.password}),isNotSupportTotp:!p},onCompleted:(e,n)=>{var l,r,t,s;const d=null===n||void 0===n||null===(l=n[0])||void 0===l?void 0:l.message,u=!1===(null===e||void 0===e||null===(r=e.create_user)||void 0===r?void 0:r.ok)?e.create_user.msg:void 0;var c;return u&&u.includes("already exists")||d&&d.includes("The user already exists")?(Sn.Ay.error(i("credential.UserAccountCreatedError")),void o.error(null===e||void 0===e||null===(c=e.create_user)||void 0===c?void 0:c.msg,d)):!1===(null===(t=e.create_user)||void 0===t?void 0:t.ok)||null!==n&&void 0!==n&&n[0]?(Sn.Ay.error(u||d||i("error.UnknownError")),void o.error(e,n)):void(null!==(s=e.create_user)&&void 0!==s&&s.keypair?M([e.create_user.keypair]):a(!0))},onError:e=>{Sn.Ay.error(i("dialog.ErrorOccurred")),o.error(e)}})})).catch((e=>o.error(e)))},confirmLoading:T||L,onCancel:()=>a(!1),loading:A!==l.open},l),{},{children:(0,F.jsxs)(W.Suspense,{fallback:(0,F.jsx)(hn.A,{active:!0}),children:[(0,F.jsxs)(B.A,{ref:s,preserve:!1,validateTrigger:["onChange","onBlur"],initialValues:P?(0,c.A)((0,c.A)({},P),{},{container_gids:P.container_gids?q().map(P.container_gids,(e=>String(e))):void 0}):{need_password_change:!1,status:"active",domain_name:u,role:"user",is_active:!0,resource_policy:"default"},layout:"vertical",children:[(0,F.jsx)(B.A.Item,{name:"email",label:i("general.E-Mail"),rules:[{required:!P},{type:"email"}],children:(0,F.jsx)(X.A,{disabled:!!P})}),(0,F.jsx)(B.A.Item,{name:"username",label:i("credential.UserName"),rules:[{max:64},{required:!0}],children:(0,F.jsx)(X.A,{placeholder:i("maxLength.64chars")})}),(0,F.jsx)(B.A.Item,{name:"full_name",label:i("credential.FullName"),rules:[{max:64}],children:(0,F.jsx)(X.A,{placeholder:i("maxLength.64chars")})}),(0,F.jsx)(B.A.Item,{name:"password",label:i(P?"general.NewPassword":"general.Password"),rules:[{required:!P},{pattern:/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[_\W]).{8,}$/,message:i("webui.menu.InvalidPasswordMessage")}],children:(0,F.jsx)(X.A.Password,{})}),(0,F.jsx)(B.A.Item,{name:"password_confirm",dependencies:["password"],label:i(P?"webui.menu.NewPasswordAgain":"general.ConfirmPassword"),rules:[{required:!P,message:""},e=>{let{getFieldValue:n}=e;return{validator:(e,a)=>!a&&n("password")?Promise.reject(new Error(i("webui.menu.PleaseConfirmYourPassword"))):a&&n("password")!==a?Promise.reject(new Error(i("environment.PasswordsDoNotMatch"))):Promise.resolve()}}],children:(0,F.jsx)(X.A.Password,{})}),(0,F.jsx)(B.A.Item,{name:"need_password_change",label:i("credential.DescRequirePasswordChange"),valuePropName:"checked",tooltip:i("credential.TooltipForRequirePasswordChange"),children:(0,F.jsx)(he.A,{children:i("general.Enable")})}),(0,F.jsx)(B.A.Item,{name:"description",label:i("credential.Description"),rules:[{max:500}],children:(0,F.jsx)(X.A.TextArea,{placeholder:i("maxLength.500chars")})}),(0,F.jsx)(B.A.Item,{name:"status",label:i("credential.UserStatus"),children:(0,F.jsx)(E.A,{options:[{value:"active",label:i("general.Active")},{value:"inactive",label:i("general.Inactive")},{value:"before-verification",label:i("credential.BeforeVerification")},{value:"deleted",label:i("credential.Deleted")}]})}),!!d&&d in Kn&&(0,F.jsx)(B.A.Item,{name:"role",label:i("credential.Role"),children:(0,F.jsx)(E.A,{options:q().map(Kn[d],(e=>({value:e,label:e})))})}),(0,F.jsx)(B.A.Item,{name:"sudo_session_enabled",label:i("credential.EnableSudoSession"),valuePropName:"checked",children:(0,F.jsx)(he.A,{children:i("general.Allow")})}),!!p&&(0,F.jsx)(B.A.Item,{name:"totp_activated",label:i("webui.menu.TotpActivated"),valuePropName:"checked",extra:(null===P||void 0===P?void 0:P.email)!==(null===g||void 0===g?void 0:g.email)&&(0,F.jsx)(f.A.Text,{type:"secondary",style:{fontSize:r.fontSizeSM},children:i("credential.AdminCanOnlyRemoveTotp")}),children:(0,F.jsx)(xn.A,{loading:y||C.isPending,disabled:(null===P||void 0===P?void 0:P.email)!==(null===g||void 0===g?void 0:g.email)&&!(null!==P&&void 0!==P&&P.totp_activated),onChange:e=>{var n;e?b():null!==P&&void 0!==P&&P.totp_activated&&(null===(n=s.current)||void 0===n||n.setFieldValue("totp_activated",!0),t.confirm({title:i("totp.TurnOffTotp"),icon:(0,F.jsx)(_n.A,{}),content:i("totp.ConfirmTotpRemovalBody"),okText:i("button.Yes"),okType:"danger",cancelText:i("button.No"),onOk(){C.mutate((null===P||void 0===P?void 0:P.email)||"",{onSuccess:()=>{var e;Sn.Ay.success(i("totp.RemoveTotpSetupCompleted")),x(),null===(e=s.current)||void 0===e||e.setFieldValue("totp_activated",!1)},onError:e=>{o.error(e)}})},onCancel(){var e;null===(e=s.current)||void 0===e||e.setFieldValue("totp_activated",!0)}}))}})}),(0,F.jsx)(B.A.Item,{name:"resource_policy",label:i("resourcePolicy.ResourcePolicy"),rules:[{required:!P}],children:(0,F.jsx)(De,{})}),(0,F.jsx)(B.A.Item,{name:"domain_name",label:i("credential.Domain"),rules:[{required:!0}],children:(0,F.jsx)(S.dbm,{onChange:()=>{var e;null===(e=s.current)||void 0===e||e.setFieldValue("group_ids",[])}})}),(0,F.jsx)(W.Suspense,{fallback:(0,F.jsx)(B.A.Item,{label:i("credential.Projects"),children:(0,F.jsx)(E.A,{loading:!0})}),children:(0,F.jsx)(B.A.Item,{noStyle:!0,dependencies:["domain_name"],children:e=>{let{getFieldValue:n}=e;return(0,F.jsx)(B.A.Item,{name:"group_ids",label:i("credential.Projects"),getValueFromEvent:e=>e,getValueProps:e=>({value:q().isArray(e)?e:q().map(null===P||void 0===P?void 0:P.groups,(e=>null===e||void 0===e?void 0:e.id))}),children:(0,F.jsx)(Le.A,{mode:"multiple",domain:n("domain_name"),disableDefaultFilter:!0})})}})}),(0,F.jsx)(B.A.Item,{name:"allowed_client_ip",label:i("credential.AllowedClientIP"),extra:i("credential.AllowedClientIPHint"),rules:[{validator:async(e,n)=>{if(!n||0===n.length)return Promise.resolve();const a=n.filter((e=>!(0,N.hD)(e)));return a.length>0?Promise.reject(new Error("".concat(i("credential.InvalidIP"),": ").concat(a.join(", ")))):Promise.resolve()}}],children:(0,F.jsx)(E.A,{mode:"tags",tokenSeparators:[","," "],tagRender:e=>{const n=q().isString(e.label)&&(0,N.hD)(e.label);return(0,F.jsx)(_.A,(0,c.A)((0,c.A)({color:n?void 0:"red"},e),{},{children:e.label}))},open:!1,suffixIcon:null,placeholder:i("credential.AllowedClientIPPlaceholder")})}),(0,F.jsx)(B.A.Item,{name:"container_uid",label:i("credential.ContainerUID"),tooltip:i("credential.ContainerUIDTooltip"),rules:[{type:"number",min:1,message:i("credential.validation.PleaseEnterPositiveInteger")}],children:(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1})}),(0,F.jsx)(B.A.Item,{name:"container_main_gid",label:i("credential.ContainerGID"),tooltip:i("credential.ContainerGIDTooltip"),rules:[{type:"number",min:1,message:i("credential.validation.PleaseEnterPositiveInteger")}],children:(0,F.jsx)(H.A,{style:{width:"100%"},max:Oe.tu,min:1})}),(0,F.jsx)(B.A.Item,{name:"container_gids",label:i("credential.ContainerSupplementaryGIDs"),tooltip:i("credential.ContainerSupplementaryGIDsTooltip"),rules:[()=>({validator:(e,n)=>q().isEmpty(n)||q().every(n,(e=>{const n=q().toNumber(e);return n>0&&n<=Oe.tu}))?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterPositiveAndUnder2_31")))}),()=>({validator:(e,n)=>q().isEmpty(n)||q().every(n,(e=>q().isInteger(q().toNumber(e))))?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterValidNumber")))}),()=>({validator:(e,n)=>q().isEmpty(n)||q().uniq(n).length===n.length?Promise.resolve():Promise.reject(new Error(i("credential.validation.PleaseEnterUniqueNumbers")))})],children:(0,F.jsx)(S.xrr,{mode:"tags",tokenSeparators:[","," "],open:!1,suffixIcon:null,placeholder:i("credential.ContainerSupplementaryGIDsPlaceholder")})}),!!P&&n&&(0,F.jsx)(W.Suspense,{fallback:(0,F.jsx)(B.A.Item,{label:i("credential.MainAccessKey"),children:(0,F.jsx)(E.A,{loading:!0})}),children:(0,F.jsx)(B.A.Item,{name:"main_access_key",label:i("credential.MainAccessKey"),children:(0,F.jsx)(un,{userEmail:n,fetchKey:h})})})]}),!!p&&(0,F.jsx)(fn.A,{userFrgmt:P,open:k,onRequestClose:e=>{var n;e?x():null===(n=s.current)||void 0===n||n.setFieldValue("totp_activated",!1);b()}}),(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(vn,{open:!!j,keypairFragment:(0,S.faj)(j),onRequestClose:()=>{M(null),a(!0)}})})]})}))};const jn=(0,a(22322).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var Mn=a(35564),Pn=a(42806);const In=()=>{const e=(0,ke.c)(168),{logger:n}=(0,S.Q7t)(),{t:a}=(0,$.Bd)(),{token:l}=v.A.useToken(),[i,r]=(0,S.zui)(),t=(0,ve.CX)();let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Mn.tU.withDefault(""),e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={filter:s,order:Mn.tU,status:(0,Mn.M1)(["active","inactive"]).withDefault("active")},e[1]=o):o=e[1];const[c,m]=(0,Mn.ab)(o),{message:g}=z.A.useApp(),[p,y]=(0,W.useState)(null),[k,f]=(0,W.useTransition)(),[_,b]=(0,W.useTransition)(),[h,x]=(0,W.useState)(null),[A,j]=(0,W.useState)(!1);let M;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[2]=M):M=e[2];const[P,I]=(0,W.useState)(M),[T,U]=(0,bn.A)(!1),{toggle:L}=U,[C,w]=(0,bn.A)(!1),{toggle:D}=w;let O;e[3]===Symbol.for("react.memo_cache_sentinel")?(O={current:1,pageSize:10},e[3]=O):O=e[3];const{baiPaginationOption:N,tablePaginationOption:V,setTablePaginationOption:E}=(0,d.aW)(O),[R,Q]=(0,W.useState)(),B="active"===c.status?'status == "active"':'status != "active"',X=N.limit,G=N.offset;let Y;e[4]!==c.filter||e[5]!==B?(Y=(0,S.r2g)([c.filter,B]),e[4]=c.filter,e[5]=B,e[6]=Y):Y=e[6];const H=c.order||"-created_at";let Z;e[7]!==N.limit||e[8]!==N.offset||e[9]!==Y||e[10]!==H?(Z={first:X,offset:G,filter:Y,order:H},e[7]=N.limit,e[8]=N.offset,e[9]=Y,e[10]=H,e[11]=Z):Z=e[11];const J=Z,ee=(0,W.useDeferredValue)(J),ae=(0,W.useDeferredValue)(i),[le,ie]=(0,Pn.q)("table_column_overrides.UserManagement");let ue;e[12]===Symbol.for("react.memo_cache_sentinel")?(ue=ye,e[12]=ue):ue=e[12];const ce=ae===S.eIE?"store-and-network":"network-only";let me;e[13]!==ae||e[14]!==ce?(me={fetchKey:ae,fetchPolicy:ce},e[13]=ae,e[14]=ce,e[15]=me):me=e[15];const{user_nodes:pe}=(0,K.useLazyLoadQuery)(ue,ee,me);let fe;e[16]===Symbol.for("react.memo_cache_sentinel")?(fe=ge,e[16]=fe):fe=e[16];const[_e,be]=(0,K.useMutation)(fe);let Se,he,xe;e[17]!==a?(Se=a("general.Control"),e[17]=a,e[18]=Se):Se=e[18],e[19]!==_e||e[20]!==be||e[21]!==n||e[22]!==g||e[23]!==R||e[24]!==a||e[25]!==l.colorInfo||e[26]!==l.marginXXS||e[27]!==r?(he=(e,i)=>{const t="active"===(null===i||void 0===i?void 0:i.status);return(0,F.jsxs)(S.OOm,{gap:l.marginXXS,children:[(0,F.jsx)(re.Ay,{type:"text",title:a("credential.UserDetail"),icon:(0,F.jsx)(ne.A,{style:{color:l.colorInfo}}),onClick:()=>{f((()=>{y((null===i||void 0===i?void 0:i.email)||null)}))}}),(0,F.jsx)(re.Ay,{type:"text",title:a("button.Edit"),icon:(0,F.jsx)(jn,{style:{color:l.colorInfo}}),onClick:()=>{b((()=>{x((null===i||void 0===i?void 0:i.email)||null)}))}}),(0,F.jsx)(te.A,{title:a(t?"credential.DeactivateUser":"credential.ActivateUser"),placement:"left",okType:t?"danger":"primary",okText:a(t?"credential.Deactivate":"credential.Activate"),description:null===i||void 0===i?void 0:i.email,onConfirm:()=>{Q((null===i||void 0===i?void 0:i.id)||""),_e({variables:{email:(null===i||void 0===i?void 0:i.email)||"",props:{status:t?"inactive":"active"}},onCompleted:(e,l)=>{var t,s,o;const d=null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.message,u=!1===(null===e||void 0===e||null===(s=e.modify_user)||void 0===s?void 0:s.ok)?e.modify_user.msg:void 0;var c;if(!1===(null===(o=e.modify_user)||void 0===o?void 0:o.ok)||null!==l&&void 0!==l&&l[0])return g.error(u||d||a("error.UnknownError")),void n.error(null===(c=e.modify_user)||void 0===c?void 0:c.msg,d);g.success(a("credential.StatusUpdatedSuccessfully")),I((e=>e.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)!==(null===i||void 0===i?void 0:i.id)})))),r()},onError:e=>{g.error(null===e||void 0===e?void 0:e.message),n.error(e)}})},children:(0,F.jsx)(re.Ay,{title:a(t?"credential.Deactivate":"credential.Activate"),type:"text",danger:t,icon:t?(0,F.jsx)(de.A,{}):(0,F.jsx)(oe.A,{}),disabled:be&&R!==(null===i||void 0===i?void 0:i.id),loading:be&&R===(null===i||void 0===i?void 0:i.id)})})]})},e[19]=_e,e[20]=be,e[21]=n,e[22]=g,e[23]=R,e[24]=a,e[25]=l.colorInfo,e[26]=l.marginXXS,e[27]=r,e[28]=he):he=e[28],e[29]!==Se||e[30]!==he?(xe={key:"control",title:Se,fixed:!0,required:!0,render:he},e[29]=Se,e[30]=he,e[31]=xe):xe=e[31];const Ke=xe,Fe=c.status;let je,Me,Pe,Ie,Te,Ue,Le,Ce;e[32]!==m||e[33]!==E?(je=e=>{m({status:e.target.value}),E({current:1}),I([])},e[32]=m,e[33]=E,e[34]=je):je=e[34],e[35]!==a?(Me=a("general.Active"),e[35]=a,e[36]=Me):Me=e[36],e[37]!==Me?(Pe={label:Me,value:"active"},e[37]=Me,e[38]=Pe):Pe=e[38],e[39]!==a?(Ie=a("general.Inactive"),e[39]=a,e[40]=Ie):Ie=e[40],e[41]!==Ie?(Te={label:Ie,value:"inactive"},e[41]=Ie,e[42]=Te):Te=e[42],e[43]!==Pe||e[44]!==Te?(Ue=[Pe,Te],e[43]=Pe,e[44]=Te,e[45]=Ue):Ue=e[45],e[46]!==c.status||e[47]!==je||e[48]!==Ue?(Le=(0,F.jsx)(u.A,{value:Fe,onChange:je,optionType:"button",options:Ue}),e[46]=c.status,e[47]=je,e[48]=Ue,e[49]=Le):Le=e[49],e[50]!==t||e[51]!==a?(Ce=(0,S.YM3)([{key:"email",propertyLabel:a("general.E-Mail"),type:"string"},{key:"uuid",propertyLabel:"ID",type:"string",defaultOperator:"==",rule:{message:"Invalid UUID.",validate:Tn}},{key:"username",propertyLabel:a("credential.Name"),type:"string"},{key:"full_name",propertyLabel:a("credential.FullName"),type:"string"},t.supports("user-node-query-project-filter")&&{key:"project_name",propertyLabel:a("general.Project"),type:"string"},{key:"role",propertyLabel:a("credential.Role"),type:"string",strictSelection:!0,defaultOperator:"==",options:[{label:"superadmin",value:"superadmin"},{label:"user",value:"user"}]},{key:"resource_policy",propertyLabel:a("credential.ResourcePolicy"),type:"string"},{key:"description",propertyLabel:a("credential.Description"),type:"string"},{key:"status_info",propertyLabel:a("credential.StatusInfo"),type:"string"},{key:"need_password_change",propertyLabel:a("credential.DescRequirePasswordChange"),type:"boolean"},{key:"totp_activated",propertyLabel:a("credential.2FAEnabled"),type:"boolean"},{key:"sudo_session_enabled",propertyLabel:a("credential.EnableSudoSession"),type:"boolean"}]),e[50]=t,e[51]=a,e[52]=Ce):Ce=e[52];const we=c.filter||void 0;let De,Oe,Ne,Ee;e[53]!==m?(De=e=>{m({filter:e||""})},e[53]=m,e[54]=De):De=e[54],e[55]!==Ce||e[56]!==we||e[57]!==De?(Oe=(0,F.jsx)(S.Af6,{filterProperties:Ce,value:we,onChange:De}),e[55]=Ce,e[56]=we,e[57]=De,e[58]=Oe):Oe=e[58],e[59]!==Le||e[60]!==Oe?(Ne=(0,F.jsxs)(S.OOm,{direction:"row",gap:"sm",align:"start",wrap:"wrap",children:[Le,Oe]}),e[59]=Le,e[60]=Oe,e[61]=Ne):Ne=e[61],e[62]!==c.status||e[63]!==P.length||e[64]!==a||e[65]!==L||e[66]!==D||e[67]!==l.colorError||e[68]!==l.colorErrorBg||e[69]!==l.colorInfo||e[70]!==l.colorInfoBg?(Ee=P.length>0&&(0,F.jsxs)(S.OOm,{gap:"xs",children:[(0,F.jsx)(S.mQ0,{children:a("general.NSelected",{count:P.length})}),(0,F.jsx)(S.Fvl,{icon:(0,F.jsx)(jn,{style:{color:l.colorInfo}}),style:{backgroundColor:l.colorInfoBg},onClick:D}),"inactive"===c.status&&(0,F.jsx)(S.Fvl,{icon:(0,F.jsx)(S.Zm7,{}),style:{color:l.colorError,background:l.colorErrorBg},onClick:L})]}),e[62]=c.status,e[63]=P.length,e[64]=a,e[65]=L,e[66]=D,e[67]=l.colorError,e[68]=l.colorErrorBg,e[69]=l.colorInfo,e[70]=l.colorInfoBg,e[71]=Ee):Ee=e[71];const Re=ae!==i;let qe,$e,Qe,ze,Be,Xe,Ge,Ye,He,We;e[72]!==i||e[73]!==Re||e[74]!==r?(qe=(0,F.jsx)(S.u81,{loading:Re,value:i,onChange:r}),e[72]=i,e[73]=Re,e[74]=r,e[75]=qe):qe=e[75],e[76]===Symbol.for("react.memo_cache_sentinel")?($e=(0,F.jsx)(se.A,{}),Qe=()=>{j(!0)},e[76]=$e,e[77]=Qe):($e=e[76],Qe=e[77]),e[78]!==a?(ze=a("credential.CreateUser"),e[78]=a,e[79]=ze):ze=e[79],e[80]!==ze?(Be=(0,F.jsx)(re.Ay,{type:"primary",icon:$e,onClick:Qe,children:ze}),e[80]=ze,e[81]=Be):Be=e[81],e[82]!==Ee||e[83]!==qe||e[84]!==Be?(Xe=(0,F.jsxs)(S.OOm,{gap:"xs",children:[Ee,qe,Be]}),e[82]=Ee,e[83]=qe,e[84]=Be,e[85]=Xe):Xe=e[85],e[86]!==Ne||e[87]!==Xe?(Ge=(0,F.jsxs)(S.OOm,{justify:"between",align:"start",gap:"xs",wrap:"wrap",children:[Ne,Xe]}),e[86]=Ne,e[87]=Xe,e[88]=Ge):Ge=e[88],e[89]!==(null===pe||void 0===pe?void 0:pe.edges)?(Ye=(0,S.faj)(q().map(null===pe||void 0===pe?void 0:pe.edges,"node")),e[89]=null===pe||void 0===pe?void 0:pe.edges,e[90]=Ye):Ye=e[90],e[91]!==Ke?(He=e=>[e[0],Ke,...e.slice(1)],e[91]=Ke,e[92]=He):He=e[92],e[93]===Symbol.for("react.memo_cache_sentinel")?(We={x:"max-content"},e[93]=We):We=e[93];const Je=(null===pe||void 0===pe?void 0:pe.count)||0;let en,nn,an,ln,rn,tn,sn;e[94]!==l.marginXS?(en={marginRight:l.marginXS},e[94]=l.marginXS,e[95]=en):en=e[95],e[96]!==E?(nn=(e,n)=>{q().isNumber(e)&&q().isNumber(n)&&(E({current:e,pageSize:n}),I([]))},e[96]=E,e[97]=nn):nn=e[97],e[98]!==Je||e[99]!==en||e[100]!==nn||e[101]!==V.current||e[102]!==V.pageSize?(an={pageSize:V.pageSize,total:Je,current:V.current,style:en,onChange:nn},e[98]=Je,e[99]=en,e[100]=nn,e[101]=V.current,e[102]=V.pageSize,e[103]=an):an=e[103],e[104]!==(null===pe||void 0===pe?void 0:pe.edges)?(ln=e=>{const n=q().chain(null===pe||void 0===pe?void 0:pe.edges).compact().value();I((()=>n.filter((n=>n.node&&e.includes(null===n||void 0===n?void 0:n.node.id)))))},e[104]=null===pe||void 0===pe?void 0:pe.edges,e[105]=ln):ln=e[105],e[106]!==P?(rn=q().compact(P.map(Un)),e[106]=P,e[107]=rn):rn=e[107],e[108]!==ln||e[109]!==rn?(tn={type:"checkbox",onChange:ln,selectedRowKeys:rn},e[108]=ln,e[109]=rn,e[110]=tn):tn=e[110],e[111]!==m?(sn=e=>{m({order:e}),I([])},e[111]=m,e[112]=sn):sn=e[112];const on=ee!==J||ae!==i;let dn,un;e[113]!==le||e[114]!==ie?(dn={columnOverrides:le,onColumnOverridesChange:ie},e[113]=le,e[114]=ie,e[115]=dn):dn=e[115],e[116]!==c.order||e[117]!==Ye||e[118]!==He||e[119]!==an||e[120]!==tn||e[121]!==sn||e[122]!==on||e[123]!==dn?(un=(0,F.jsx)(S.tiT,{usersFrgmt:Ye,customizeColumns:He,scroll:We,pagination:an,rowSelection:tn,onChangeOrder:sn,order:c.order,loading:on,tableSettings:dn}),e[116]=c.order,e[117]=Ye,e[118]=He,e[119]=an,e[120]=tn,e[121]=sn,e[122]=on,e[123]=dn,e[124]=un):un=e[124];const cn=p||"",mn=!!p||k;let gn,pn;e[125]===Symbol.for("react.memo_cache_sentinel")?(gn=()=>{y(null)},e[125]=gn):gn=e[125],e[126]!==k||e[127]!==cn||e[128]!==mn?(pn=(0,F.jsx)(Ze,{userEmail:cn,open:mn,loading:k,onRequestClose:gn}),e[126]=k,e[127]=cn,e[128]=mn,e[129]=pn):pn=e[129];const yn=!!h||_||A;let kn,vn,fn,_n,Sn,hn,xn,An,Kn,In,wn;return e[130]!==r?(kn=e=>{x(null),j(!1),e&&r()},e[130]=r,e[131]=kn):kn=e[131],e[132]!==h||e[133]!==_||e[134]!==yn||e[135]!==kn?(vn=(0,F.jsx)(Fn,{userEmail:h,open:yn,loading:_,onRequestClose:kn}),e[132]=h,e[133]=_,e[134]=yn,e[135]=kn,e[136]=vn):vn=e[136],e[137]!==L||e[138]!==r?(fn=()=>{L(),I([]),r()},e[137]=L,e[138]=r,e[139]=fn):fn=e[139],e[140]!==L?(_n=()=>{L()},e[140]=L,e[141]=_n):_n=e[141],e[142]!==P?(Sn=q().compact(P.map(Ln)),e[142]=P,e[143]=Sn):Sn=e[143],e[144]!==T||e[145]!==fn||e[146]!==_n||e[147]!==Sn?(hn=(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(Ae,{open:T,onOk:fn,onCancel:_n,usersFrgmt:Sn})}),e[144]=T,e[145]=fn,e[146]=_n,e[147]=Sn,e[148]=hn):hn=e[148],e[149]!==D||e[150]!==r?(xn=()=>{D(),I([]),r()},e[149]=D,e[150]=r,e[151]=xn):xn=e[151],e[152]!==D?(An=()=>{D()},e[152]=D,e[153]=An):An=e[153],e[154]!==P?(Kn=q().compact(P.map(Cn)),e[154]=P,e[155]=Kn):Kn=e[155],e[156]!==C||e[157]!==xn||e[158]!==An||e[159]!==Kn?(In=(0,F.jsx)(S.XcZ,{children:(0,F.jsx)(Ve,{open:C,onOk:xn,onCancel:An,userFrgmt:Kn})}),e[156]=C,e[157]=xn,e[158]=An,e[159]=Kn,e[160]=In):In=e[160],e[161]!==Ge||e[162]!==un||e[163]!==pn||e[164]!==vn||e[165]!==hn||e[166]!==In?(wn=(0,F.jsxs)(S.OOm,{direction:"column",align:"stretch",gap:"sm",children:[Ge,un,pn,vn,hn,In]}),e[161]=Ge,e[162]=un,e[163]=pn,e[164]=vn,e[165]=hn,e[166]=In,e[167]=wn):wn=e[167],wn};function Tn(e){return(0,S.aJy)(e)}function Un(e){var n;return null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id}function Ln(e){return null===e||void 0===e?void 0:e.node}function Cn(e){return null===e||void 0===e?void 0:e.node}var wn=a(96436),Dn=a(88464),On=a(81977);const Nn=()=>{const{t:e}=(0,$.Bd)(),[n]=(0,wn.ok)(),a=n.get("tab")||"users",l=(0,Dn.Zp)(),i=[{key:"users",label:e("credential.Users")},{key:"credentials",label:e("credential.Credentials")}];return(0,F.jsx)(S.Zuv,{activeTabKey:a,onTabChange:e=>l({pathname:"/credential",search:"?tab=".concat(e)}),tabList:i,children:(0,F.jsxs)(W.Suspense,{fallback:(0,F.jsx)(hn.A,{active:!0}),children:["users"===a&&(0,F.jsx)(On.A,{children:(0,F.jsx)(S.OOm,{direction:"column",align:"stretch",children:(0,F.jsx)(In,{})})}),"credentials"===a&&(0,F.jsx)(On.A,{children:(0,F.jsx)(S.OOm,{direction:"column",align:"stretch",children:(0,F.jsx)(ce,{})})})]})})}},1503(e,n,a){a.d(n,{A:()=>l});const l=(0,a(22322).A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]])},39924(e,n,a){a.d(n,{A:()=>l});const l=(0,a(22322).A)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}}]);
//# sourceMappingURL=995.c890f8bd.chunk.js.map