/*! For license information please see 8564.d9b19024.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2340,8564],{64041:(e,l,n)=>{n.d(l,{A:()=>o});var a=n(19876),i=n(64668),r=n(44878),t=n(42906);const o=e=>{let{value:l,onChange:n,language:o="shell",editable:s=!1,showLineNumbers:d=!0,lineWrapping:u=!1,...c}=e;const[m,g]=(0,a.A)({defaultValue:"",value:l,onChange:n}),p=[(0,i.rI)(o)];return(0,t.jsx)(r.Ay,{theme:"dark",extensions:u?[r.Lz.lineWrapping,...p]:p,editable:s,readOnly:!s,basicSetup:{lineNumbers:d},value:m,onChange:(e,l)=>g(e),...c})}},52340:(e,l,n)=>{n.r(l),n.d(l,{default:()=>r});var a=n(3730),i=(n(1426),n(42906));const r=e=>{let{text:l,children:n}=e;return(0,i.jsx)(a.A.Text,{copyable:!0,code:!0,children:l||n})}},70994:(e,l,n)=>{n.d(l,{A:()=>c});var a=n(75045),i=n(32967),r=n(88616),t=n(9160),o=n(81779),s=n(3730),d=(n(1426),n(29774)),u=n(42906);const c=e=>{let{uuid:l,clickable:n}=e;const c=(0,t.hd)(),m=(0,a.QE)(),g=(0,d.zy)(),p=(0,i.f0)(),{data:_}=(0,r.nj)({queryKey:["VFolderSelectQuery"],queryFn:()=>{const e=new URLSearchParams;return e.set("group_id",c.id),m({method:"GET",url:`/folders?${e.toString()}`})},staleTime:1e3}),y=null===_||void 0===_?void 0:_.find((e=>e.id===(null===l||void 0===l?void 0:l.replaceAll("-",""))));return y&&(n?(0,u.jsxs)(s.A.Link,{onClick:()=>{p({pathname:g.pathname,search:`?folder=${y.id}`})},children:[(0,u.jsx)(o.A,{})," ",y.name]}):(0,u.jsxs)("div",{children:[(0,u.jsx)(o.A,{})," ",y.name]}))}},66253:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"endpoint"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{kind:"Variable",name:"endpoint",variableName:"endpoint"},{kind:"Variable",name:"props",variableName:"props"}],n={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateEndpointAutoScalingRuleNode",kind:"LinkedField",name:"create_endpoint_auto_scaling_rule_node",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AutoScalingRuleEditorModalCreateMutation",selections:[{alias:null,args:l,concreteType:"CreateEndpointAutoScalingRuleNode",kind:"LinkedField",name:"create_endpoint_auto_scaling_rule_node",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"615e9654d0bf5791383c99c8fb5ab1ee",id:null,metadata:{},name:"AutoScalingRuleEditorModalCreateMutation",operationKind:"mutation",text:"mutation AutoScalingRuleEditorModalCreateMutation(\n  $endpoint: String!\n  $props: EndpointAutoScalingRuleInput!\n) {\n  create_endpoint_auto_scaling_rule_node(endpoint: $endpoint, props: $props) {\n    ok\n    msg\n    rule {\n      metric_name\n      metric_source\n      threshold\n      comparator\n      step_size\n      cooldown_seconds\n      min_replicas\n      max_replicas\n      id\n    }\n  }\n}\n"}}}();a.hash="518c2a6f9b37a86854dfe0681e3d035b";const i=a},96466:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null}],type:"EndpointAutoScalingRuleNode",abstractKey:null,hash:"e3ce8046ec702e752e597d2cb348e85b"},i=a},41739:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"props",variableName:"props"}],n={alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AutoScalingRuleEditorModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpointAutoScalingRuleNode",kind:"LinkedField",name:"modify_endpoint_auto_scaling_rule_node",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AutoScalingRuleEditorModalModifyMutation",selections:[{alias:null,args:l,concreteType:"ModifyEndpointAutoScalingRuleNode",kind:"LinkedField",name:"modify_endpoint_auto_scaling_rule_node",plural:!1,selections:[n,a,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"rule",plural:!1,selections:[i,r,t,o,s,d,u,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"254010dfb40e9042cd73b62325fc264d",id:null,metadata:{},name:"AutoScalingRuleEditorModalModifyMutation",operationKind:"mutation",text:"mutation AutoScalingRuleEditorModalModifyMutation(\n  $id: String!\n  $props: ModifyEndpointAutoScalingRuleInput!\n) {\n  modify_endpoint_auto_scaling_rule_node(id: $id, props: $props) {\n    ok\n    msg\n    rule {\n      metric_name\n      metric_source\n      threshold\n      comparator\n      step_size\n      cooldown_seconds\n      min_replicas\n      max_replicas\n      id\n    }\n  }\n}\n"}}}();a.hash="51be0409e782d9a60ce0b9a3d5e490f9";const i=a},35227:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageNodeSimpleTagFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},action:"NONE"},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:[e,l],storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:[{kind:"RequiredField",field:e,action:"NONE"},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null}],type:"ImageNode",abstractKey:null}}();a.hash="ddfd0b4565d9b5a02b5131e234002990";const i=a},23252:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InferenceSessionErrorModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],type:"InferenceSessionError",abstractKey:null,hash:"3aff870b3138311d3e5415b7bbb32f53"},i=a},48564:(e,l,n)=>{n.r(l),n.d(l,{default:()=>Ie});var a,i,r,t=n(86387),o=n(58452),s=n(90840),d=n(73552),u=n(91564),c=n(80587),m=n(88961),g=n(77036),p=n(77802),_=n(3730),y=n(86187),v=n(44389),S=n(27484),k=n.n(S),x=n(1426),h=n(9976),f=n(18347),A=n(42906);const F={LESS_THAN:"<",LESS_THAN_OR_EQUAL:"\u2264",GREATER_THAN:">",GREATER_THAN_OR_EQUAL:"\u2265"},b={KERNEL:["cpu_util","mem","net_rx","net_tx"],INFERENCE_FRAMEWORK:[]},j=e=>{let{onRequestClose:l,onCancel:S,endpoint_id:j,autoScalingRuleFrgmt:K,...R}=e;const{t:E}=(0,h.Bd)(),{message:T}=d.A.useApp(),[L,I]=(0,x.useState)(b.KERNEL||[]),w=(0,f.useFragment)(void 0!==a?a:a=n(96466),K),C=(0,x.useRef)(null),[N,M]=(0,f.useMutation)(void 0!==i?i:i=n(66253)),[V,P]=(0,f.useMutation)(void 0!==r?r:r=n(41739));return(0,A.jsx)(o.A,{...R,destroyOnClose:!0,onOk:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.validateFields().then((e=>{const n={metric_name:e.metric_name,metric_source:e.metric_source,threshold:e.threshold,comparator:e.comparator,step_size:e.step_size*("up"===e.type?1:-1),cooldown_seconds:e.cooldown_seconds,min_replicas:e.min_replicas,max_replicas:e.max_replicas};"up"===e.type?delete n.min_replicas:delete n.max_replicas,w?V({variables:{id:w.id,props:n},onCompleted:(e,n)=>{var a,i;if(null===e||void 0===e||null===(a=e.modify_endpoint_auto_scaling_rule_node)||void 0===a||!a.ok)return T.error(null===e||void 0===e||null===(i=e.modify_endpoint_auto_scaling_rule_node)||void 0===i?void 0:i.msg),void l(!1);if(n&&n.length>0){const e=k().map(n,(e=>e.message));for(const l of e)T.error(l,2.5);l(!1)}else T.success(E("autoScalingRule.SuccessfullyUpdated")),l(!0)},onError:e=>{T.error(e.message),l(!1)}}):N({variables:{endpoint:null!==j&&void 0!==j?j:"",props:n},onCompleted:(e,n)=>{var a,i;if(null===e||void 0===e||null===(a=e.create_endpoint_auto_scaling_rule_node)||void 0===a||!a.ok)return T.error(null===e||void 0===e||null===(i=e.create_endpoint_auto_scaling_rule_node)||void 0===i?void 0:i.msg),void l(!1);if(n&&n.length>0){const e=k().map(n,(e=>e.message));for(const l of e)T.error(l,2.5);l(!1)}else T.success(E("autoScalingRule.SuccessfullyCreated")),l(!0)},onError:e=>{T.error(e.message),l(!1)}})})).catch((e=>{console.log(e)}))},onCancel:()=>{l(!1)},centered:!0,title:E(w?"autoScalingRule.EditAutoScalingRule":"autoScalingRule.AddAutoScalingRule"),confirmLoading:M||P,children:(0,A.jsxs)(u.A,{ref:C,layout:"vertical",requiredMark:"optional",initialValues:w?{...w,step_size:Math.abs(w.step_size),type:w.step_size>=0?"up":"down"}:{type:"up",metric_source:"KERNEL",comparator:"GREATER_THAN",step_size:1,cooldown_seconds:300,min_replicas:0,max_replicas:5},children:[(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.ScalingType"),name:"type",rules:[{required:!0}],children:(0,A.jsx)(c.Ay.Group,{options:[{label:(0,A.jsx)(s.A,{gap:"xs",children:E("autoScalingRule.ScaleUp")}),value:"up"},{label:(0,A.jsx)(s.A,{gap:"xs",children:E("autoScalingRule.ScaleDown")}),value:"down"}],onChange:e=>{var l,n;"down"===e.target.value?null===(l=C.current)||void 0===l||l.setFieldsValue({max_replicas:1}):null===(n=C.current)||void 0===n||n.setFieldsValue({min_replicas:1})}})}),(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.MetricSource"),name:"metric_source",rules:[{required:!0}],children:(0,A.jsx)(m.A,{onChange:e=>{I(b[e]||[])},options:[{label:"Inference Framework",value:"INFERENCE_FRAMEWORK"},{label:"Kernel",value:"KERNEL"}]})}),(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.Condition"),required:!0,tooltip:E("autoScalingRule.ConditionTooltip"),dependencies:["metric_source"],children:e=>{let{getFieldValue:l}=e;return(0,A.jsxs)(g.A.Compact,{style:{width:"100%"},children:[(0,A.jsx)(u.A.Item,{name:"metric_name",rules:[{required:!0}],style:{flex:1},noStyle:!0,children:(0,A.jsx)(p.A,{placeholder:E("autoScalingRule.MetricName"),options:k().map(L,(e=>({label:e,value:e}))),onSearch:e=>I(k().filter(b[l("metric_source")],(l=>l.includes(e)))),allowClear:!0,popupMatchSelectWidth:!1})}),(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.Comparator"),name:"comparator",rules:[{required:!0}],noStyle:!0,children:(0,A.jsx)(m.A,{style:{width:100},options:k().map(F,((e,l)=>({label:(0,A.jsxs)(s.A,{gap:"xs",children:[e,(0,A.jsxs)(_.A.Text,{type:"secondary",children:["(",l,")"]})]}),value:l,selectedLabel:e}))),optionLabelProp:"selectedLabel",popupMatchSelectWidth:!1})}),(0,A.jsx)(u.A.Item,{name:"threshold",rules:[{required:!0}],noStyle:!0,children:(0,A.jsx)(y.A,{suffix:"KERNEL"===l("metric_source")?"%":"",placeholder:E("autoScalingRule.Threshold")})})]})}}),(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.StepSize"),name:"step_size",rules:[{required:!0},{type:"number",min:1,max:t.tu},{validator:(e,l)=>l%1!==0?Promise.reject(new Error(E("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,A.jsx)(v.A,{min:1,step:1,style:{width:"100%"}})}),(0,A.jsx)(u.A.Item,{noStyle:!0,dependencies:["type"],children:e=>{let{getFieldValue:l}=e;return"up"===l("type")?(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.MaxReplicas"),name:"max_replicas",style:{width:"100%"},rules:[{required:!0},{min:0,max:t.tu,type:"number"},{validator:(e,l)=>l%1!==0?Promise.reject(new Error(E("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,A.jsx)(v.A,{min:0,max:t.tu,style:{width:"100%"}})}):(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.MinReplicas"),name:"min_replicas",style:{width:"100%"},rules:[{required:!0},{min:0,max:t.tu,type:"number"},{validator:(e,l)=>l%1!==0?Promise.reject(new Error(E("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,A.jsx)(v.A,{min:0,max:t.tu,style:{width:"100%"}})})}}),(0,A.jsx)(u.A.Item,{label:E("autoScalingRule.CoolDownSeconds"),name:"cooldown_seconds",rules:[{required:!0},{min:0,type:"number"},{validator:(e,l)=>l%1!==0?Promise.reject(new Error(E("error.OnlyPositiveIntegersAreAllowed"))):Promise.resolve()}],children:(0,A.jsx)(v.A,{style:{width:"100%"}})})]})})};var K=n(60081),R=n(64041),E=n(4800);const T=e=>{let{json:l,description:n,...a}=e;const{t:i}=(0,h.Bd)(),{isDarkMode:r}=(0,K.e)(),{formattedJson:t,hasError:d}=(0,x.useMemo)((()=>{if("string"===typeof l)try{return{formattedJson:JSON.stringify(JSON.parse(l),null,2),hasError:!1}}catch(e){return{formattedJson:l,hasError:!0}}return{formattedJson:JSON.stringify(l,null,2),hasError:!1}}),[l]);return(0,A.jsx)(o.A,{footer:null,width:800,...a,children:(0,A.jsxs)(s.A,{direction:"column",align:"stretch",gap:"sm",children:[d&&(0,A.jsx)(E.A,{type:"warning",message:i("general.InvalidJSONFormat"),showIcon:!0}),n,(0,A.jsx)(R.A,{value:t,language:"json",theme:r?"dark":"light",editable:!1})]})})};var L=n(79227),I=n(37221),w=n(70022),C=n(75045),N=n(32967),M=n(88616),V=n(86359),P=n(8847),O=n(89762),$=n.n(O);const D=e=>{let{onRequestClose:l,onCancel:n,endpoint_id:a,...i}=e;const{t:r}=(0,h.Bd)(),t=(0,N.CX)(),d=(0,x.useRef)(null),c=(0,M.ET)({mutationFn:e=>{const l={valid_until:e.valid_until};return(0,C.hu)({method:"POST",url:`/services/${a}/token`,body:l,client:t})}});return(0,A.jsx)(o.A,{...i,destroyOnClose:!0,onOk:e=>{var n;null===(n=d.current)||void 0===n||n.validateFields().then((e=>{const n=e.datetime.unix();c.mutate({valid_until:n},{onSuccess:()=>{V.Ay.success(r("modelService.TokenGenerated")),l(!0)},onError:e=>{var l;null!==e&&void 0!==e&&null!==(l=e.message)&&void 0!==l&&l.includes("valid_until is older than now")?V.Ay.error(r("modelService.TokenExpiredDateError")):(V.Ay.error(r("modelService.TokenGenerationFailed")),console.log(e))}})}))},onCancel:()=>{l()},okText:r("modelService.Generate"),confirmLoading:c.isPending,centered:!0,title:r("modelService.GenerateNewToken"),children:(0,A.jsx)(u.A,{ref:d,preserve:!1,labelCol:{span:10},initialValues:{datetime:$()().add(24,"hour")},validateTrigger:["onChange","onBlur"],style:{maxWidth:500},children:(0,A.jsxs)(s.A,{direction:"column",gap:"sm",align:"stretch",children:[(0,A.jsx)(E.A,{type:"info",showIcon:!0,message:r("modelService.TokenExpiredDateHelp")}),(0,A.jsx)(s.A,{direction:"row",align:"stretch",justify:"around",children:(0,A.jsx)(u.A.Item,{name:"datetime",label:r("modelService.ExpiredDate"),rules:[{type:"object",required:!0,message:r("modelService.PleaseSelectTime")},()=>({validator:(e,l)=>l.isAfter($()())?Promise.resolve():Promise.reject(new Error(r("modelService.TokenExpiredDateError")))})],children:(0,A.jsx)(P.A,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:200}})})})]})})})};var z,q=n(71125),G=n(64288),H=n(59806),U=n(59571),B=n(67933),J=n(20447);const Q=e=>{let{imageFrgmt:l,copyable:a=!0}=e;const[,{tagAlias:i}]=(0,N.Gj)(),{token:r}=U.A.useToken(),t=(0,f.useFragment)(void 0!==z?z:z=n(35227),l);if(!t)return null;const o=`${t.registry}/${t.namespace}:${t.tag}@${t.architecture}`;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(H.A,{image:o,style:{marginRight:r.marginXS}}),(0,A.jsx)(_.A.Text,{children:i(null===t||void 0===t?void 0:t.base_image_name)}),(0,A.jsx)(B.A,{type:"vertical"}),(0,A.jsx)(_.A.Text,{children:null===t||void 0===t?void 0:t.version}),(0,A.jsx)(B.A,{type:"vertical"}),(0,A.jsx)(_.A.Text,{children:null===t||void 0===t?void 0:t.architecture}),(0,A.jsx)(B.A,{type:"vertical"}),k().map(null===t||void 0===t?void 0:t.tags,(e=>{var l;const n=(null===e||void 0===e?void 0:e.key)&&k().includes(e.key,"customized_"),a=(n?null===(l=k().find(null===t||void 0===t?void 0:t.labels,{key:"ai.backend.customized-image.name"}))||void 0===l?void 0:l.value:null===e||void 0===e?void 0:e.value)||"",r=null!==e&&void 0!==e&&e.key?i(e.key+a):void 0;return null!==e&&void 0!==e&&e.key&&k().isEqual(r,(0,C.WY)(e.key+a))?(0,A.jsx)(G.A,{values:[{label:i(e.key),color:n?"cyan":"blue"},{label:a,color:n?"cyan":"blue"}]},e.key):(0,A.jsx)(J.A,{color:n?"cyan":"blue",children:r})})),a&&(0,A.jsx)(_.A.Text,{style:{color:r.colorLink},copyable:{text:o}})]})};var W,Y=n(52340),X=n(64181),Z=n(15561);const ee=e=>{let{onRequestClose:l,onCancel:a,inferenceSessionErrorFrgmt:i,...r}=e;const{t:t}=(0,h.Bd)(),s=(0,f.useFragment)(void 0!==W?W:W=n(23252),i);return(0,A.jsx)(o.A,{centered:!0,title:t("modelService.ServingRouteErrorModalTitle"),onCancel:()=>{l()},footer:(0,A.jsx)(X.Ay,{onClick:()=>{l()},children:t("button.Close")}),...r,children:(0,A.jsxs)(Z.A,{bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},labelStyle:{minWidth:100},style:{marginTop:20},children:[(0,A.jsx)(Z.A.Item,{label:t("modelService.SessionId"),children:(0,A.jsx)(Y.default,{children:null===s||void 0===s?void 0:s.session_id})}),(0,A.jsx)(Z.A.Item,{label:t("dialog.error.Error"),children:null===s||void 0===s?void 0:s.errors[0].repr})]})})};var le=n(4525),ne=n(44582),ae=n(1592),ie=n(70994),re=n(88653),te=n(18936),oe=n(82430),se=n(32017),de=n(38384),ue=n(78541),ce=n(81779),me=n(35924),ge=n(45554),pe=n(59706),_e=n(39651),ye=n(46841),ve=n(17452),Se=n(72803),ke=n(70468),xe=n(46443),he=n(14287),fe=n(19384),Ae=n(10878),Fe=n(66769),be=n(83745);const je=(0,be.A)("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),Ke=(0,be.A)("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);var Re,Ee,Te=n(29774);const Le=(e,l)=>{const n=$()(e.created_at),a=$()(l.created_at);return n.diff(a)},Ie=()=>{var e,l,a;const{t:i}=(0,h.Bd)(),{token:r}=U.A.useToken(),{message:t}=d.A.useApp(),{baiPaginationOption:o}=(0,te.w4)({current:1,pageSize:100}),{serviceId:u}=(0,Te.g)(),[c,m]=(0,N.Tw)("initial-fetch"),[g,p]=(0,x.useTransition)(),[y,v]=(0,x.useTransition)(),[S,b]=(0,x.useState)(null),[K,R]=(0,x.useState)(null),[E,V]=(0,x.useState)(!1),[P,O]=(0,x.useState)(!1),[z]=(0,re.U6)(),G=(0,N.CX)(),H=null!==(e=null===G||void 0===G||null===(l=G._config)||void 0===l?void 0:l.blockList)&&void 0!==e?e:null,B=(0,N.f0)(),{open:W}=(0,q.useFolderExplorerOpener)(),[Y,be]=(0,x.useState)(),Ie=G.isManagerVersionCompatibleWith("25.1.0"),[we,Ce]=(0,x.useState)(),{endpoint:Ne,endpoint_token_list:Me,endpoint_auto_scaling_rules:Ve}=(0,f.useLazyLoadQuery)(void 0!==Re?Re:Re=n(44609),{tokenListOffset:o.offset,tokenListLimit:o.limit,endpointId:u||"",autoScalingRules_endpointId:u,autoScalingRules_filter:void 0,autoScalingRules_offset:void 0,autoScalingRules_before:void 0,autoScalingRules_after:void 0,autoScalingRules_first:void 0,autoScalingRules_last:void 0,skipScalingRules:!Ie},{fetchPolicy:"initial-fetch"===c?"store-and-network":"network-only",fetchKey:c}),Pe=(0,M.ET)({mutationFn:()=>{if(Ne)return(0,C.hu)({method:"POST",url:`/services/${Ne.endpoint_id}/errors/clear`,client:G})}}),Oe=(0,M.ET)({mutationFn:e=>(0,C.hu)({method:"POST",url:`/services/${e}/sync`,client:G})}),[$e,De]=(0,f.useMutation)(void 0!==Ee?Ee:Ee=n(49695)),ze=function(){let e="default";switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()){case"HEALTHY":e="success";break;case"PROVISIONING":e="processing";break;case"UNHEALTHY":e="warning"}return e},qe=k().map(null===Ve||void 0===Ve?void 0:Ve.edges,(e=>null===e||void 0===e?void 0:e.node)),Ge=JSON.parse((null===Ne||void 0===Ne?void 0:Ne.resource_opts)||"{}"),He=[{label:i("modelService.EndpointName"),children:(0,A.jsx)(_.A.Text,{copyable:!0,children:null===Ne||void 0===Ne?void 0:Ne.name})},{label:i("modelService.Status"),children:(0,A.jsx)(w.A,{endpointFrgmt:Ne})},{label:i("modelService.EndpointId"),children:null===Ne||void 0===Ne?void 0:Ne.endpoint_id},{label:i("modelService.SessionOwner"),children:(0,A.jsx)(I.A,{endpointFrgmt:Ne})},{label:i("modelService.NumberOfReplicas"),children:null!==(a=null===Ne||void 0===Ne?void 0:Ne.replicas)&&void 0!==a?a:null===Ne||void 0===Ne?void 0:Ne.desired_session_count},{label:i("modelService.ServiceEndpoint"),children:null!==Ne&&void 0!==Ne&&Ne.url?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_.A.Text,{copyable:!0,children:null===Ne||void 0===Ne?void 0:Ne.url}),k().includes(H,"chat")?null:(0,A.jsx)(ke.A,{title:"LLM Chat Test",children:(0,A.jsx)(X.Ay,{type:"link",icon:(0,A.jsx)(Fe.A,{}),onClick:()=>{B(`/chat?endpointId=${null===Ne||void 0===Ne?void 0:Ne.endpoint_id}`)},disabled:"HEALTHY"!==(null===Ne||void 0===Ne?void 0:Ne.status)})})]}):(0,A.jsx)(_.A.Text,{type:"secondary",children:i("modelService.NoServiceEndpoint")})},{label:i("modelService.OpenToPublic"),children:null!==Ne&&void 0!==Ne&&Ne.open_to_public?(0,A.jsx)(oe.A,{}):(0,A.jsx)(se.A,{})},{label:i("modelService.Resources"),children:(0,A.jsxs)(s.A,{direction:"row",wrap:"wrap",gap:"md",children:[(0,A.jsx)(ke.A,{title:i("session.ResourceGroup"),children:(0,A.jsx)(J.A,{children:null===Ne||void 0===Ne?void 0:Ne.resource_group})}),k().map(JSON.parse((null===Ne||void 0===Ne?void 0:Ne.resource_slots)||"{}"),((e,l)=>(0,A.jsx)(le.A,{type:l,value:e,opts:Ge},l)))]}),span:{xl:2}},{label:i("session.launcher.ModelStorage"),children:null!==Ne&&void 0!==Ne&&Ne.model?(0,A.jsx)(x.Suspense,{fallback:(0,A.jsx)(xe.A,{indicator:(0,A.jsx)(de.A,{spin:!0})}),children:(0,A.jsxs)(s.A,{direction:"column",align:"start",children:[(0,A.jsx)(ie.A,{uuid:null===Ne||void 0===Ne?void 0:Ne.model,clickable:!0}),G.supports("endpoint-extra-mounts")&&(null===Ne||void 0===Ne?void 0:Ne.model_mount_destination)&&(0,A.jsxs)(s.A,{direction:"row",align:"center",gap:"xxs",children:[(0,A.jsx)(ue.A,{type:"secondary"}),(0,A.jsx)(_.A.Text,{type:"secondary",children:null===Ne||void 0===Ne?void 0:Ne.model_mount_destination})]})]})}):null}];return G.supports("endpoint-extra-mounts")&&He.push({label:i("modelService.AdditionalMounts"),children:(0,A.jsx)(s.A,{direction:"column",align:"start",children:k().map(null===Ne||void 0===Ne?void 0:Ne.extra_mounts,(e=>(0,A.jsx)(s.A,{direction:"row",gap:"xxs",children:(0,A.jsxs)(_.A.Link,{onClick:()=>{(null===e||void 0===e?void 0:e.row_id)&&W(null===e||void 0===e?void 0:e.row_id)},children:[(0,A.jsx)(ce.A,{})," ",null===e||void 0===e?void 0:e.name]})},null===e||void 0===e?void 0:e.row_id)))})}),He.push({label:i("session.launcher.EnvironmentVariable"),children:(0,A.jsx)(_.A.Text,{style:{fontFamily:"monospace"},children:k().isEmpty(JSON.parse((null===Ne||void 0===Ne?void 0:Ne.environ)||"{}"))?"-":null===Ne||void 0===Ne?void 0:Ne.environ}),span:{sm:1}}),He.push({label:i("modelService.Image"),children:null!==Ne&&void 0!==Ne&&Ne.image_object?(0,A.jsx)(Q,{imageFrgmt:Ne.image_object}):null,span:{xl:3}}),(0,A.jsxs)(s.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,A.jsxs)(s.A,{direction:"row",justify:"between",children:[(0,A.jsx)(_.A.Title,{level:3,style:{margin:0},children:(null===Ne||void 0===Ne?void 0:Ne.name)||""}),(0,A.jsxs)(s.A,{gap:"xxs",children:[((null===Ne||void 0===Ne?void 0:Ne.retries)||0)>0?(0,A.jsx)(ke.A,{title:i("modelService.ClearErrors"),children:(0,A.jsx)(X.Ay,{loading:y,icon:(0,A.jsx)(me.A,{}),onClick:()=>{v((()=>{Pe.mutate(void 0,{onSuccess:()=>p((()=>{m()}))})}))}})}):(0,A.jsx)(A.Fragment,{}),(0,A.jsx)(X.Ay,{loading:g,icon:(0,A.jsx)(ge.A,{}),disabled:(0,L.l)(Ne),onClick:()=>{p((()=>{m()}))},children:i("button.Refresh")})]})]}),(0,A.jsx)(he.A,{title:i("modelService.ServiceInfo"),extra:(0,A.jsx)(X.Ay,{type:"primary",icon:(0,A.jsx)(pe.A,{}),disabled:(0,L.l)(Ne)||!(null===Ne||void 0===Ne||!Ne.created_user_email)&&(null===Ne||void 0===Ne?void 0:Ne.created_user_email)!==z.email,onClick:()=>{B("/service/update/"+u)},children:i("button.Edit")}),children:(0,A.jsx)(Z.A,{bordered:!0,column:{xxl:3,xl:3,lg:2,md:1,sm:1,xs:1},style:{backgroundColor:r.colorBgBase},items:He})}),Ie&&(0,A.jsx)(he.A,{title:i("modelService.AutoScalingRules"),extra:(0,A.jsx)(X.Ay,{type:"primary",icon:(0,A.jsx)(_e.A,{}),disabled:(0,L.l)(Ne),onClick:()=>{O(!0)},children:i("modelService.AddRules")}),children:(0,A.jsx)(fe.A,{scroll:{x:"max-content"},rowKey:"id",columns:[{title:i("autoScalingRule.ScalingType"),fixed:"left",render:(e,l)=>((null===l||void 0===l?void 0:l.step_size)||0)>0?"Up":"Down"},{title:i("autoScalingRule.MetricSource"),dataIndex:"metric_source"},{title:i("autoScalingRule.Condition"),dataIndex:"metric_name",fixed:"left",render:(e,l)=>(0,A.jsxs)(s.A,{gap:"xs",children:[(0,A.jsx)(J.A,{children:null===l||void 0===l?void 0:l.metric_name}),null!==l&&void 0!==l&&l.comparator?(0,A.jsx)(ke.A,{title:l.comparator,children:F[l.comparator]}):"-",null===l||void 0===l?void 0:l.threshold,"KERNEL"===(null===l||void 0===l?void 0:l.metric_source)?"%":""]})},{title:i("modelService.Controls"),dataIndex:"controls",key:"controls",render:(e,l)=>(0,A.jsxs)(s.A,{direction:"row",align:"stretch",children:[(0,A.jsx)(X.Ay,{type:"text",icon:(0,A.jsx)(pe.A,{}),style:(0,L.l)(Ne)||null!==Ne&&void 0!==Ne&&Ne.created_user_email&&(null===Ne||void 0===Ne?void 0:Ne.created_user_email)!==z.email?{color:r.colorTextDisabled}:{color:r.colorInfo},disabled:(0,L.l)(Ne)||!(null===Ne||void 0===Ne||!Ne.created_user_email)&&(null===Ne||void 0===Ne?void 0:Ne.created_user_email)!==z.email,onClick:()=>{l&&(R(l),O(!0))}}),(0,A.jsx)(Ae.A,{title:i("dialog.warning.CannotBeUndone"),okText:i("button.Delete"),okButtonProps:{danger:!0},disabled:De,onConfirm:()=>{qe&&$e({variables:{id:null===l||void 0===l?void 0:l.id},onCompleted:(e,l)=>{var n,a;if(null!==e&&void 0!==e&&null!==(n=e.delete_endpoint_auto_scaling_rule_node)&&void 0!==n&&n.ok)if(l&&l.length>0){const e=k().map(l,(e=>e.message||i("dialog.ErrorOccurred")));for(const l of e)t.error(l,2.5)}else R(null),p((()=>{m()})),t.success({key:"autoscaling-rule-deleted",content:i("autoScalingRule.SuccessfullyDeleted")});else t.error(null===e||void 0===e||null===(a=e.delete_endpoint_auto_scaling_rule_node)||void 0===a?void 0:a.msg)},onError:e=>{t.error((null===e||void 0===e?void 0:e.message)||i("dialog.ErrorOccurred"))}})},children:(0,A.jsx)(X.Ay,{type:"text",icon:(0,A.jsx)(ye.A,{style:(0,L.l)(Ne)?void 0:{color:r.colorError}}),disabled:!1,onClick:()=>{l&&R(l)}})})]})},{title:i("autoScalingRule.StepSize"),dataIndex:"step_size",render:(e,l)=>null!==l&&void 0!==l&&l.step_size?(0,A.jsxs)(s.A,{gap:"xs",children:[(0,A.jsx)(_.A.Text,{children:(null===l||void 0===l?void 0:l.step_size)>0?(0,A.jsx)(je,{}):(0,A.jsx)(Ke,{})}),(0,A.jsx)(_.A.Text,{children:Math.abs(null===l||void 0===l?void 0:l.step_size)})]}):"-"},{title:i("autoScalingRule.MIN/MAXReplicas"),render:(e,l)=>(0,A.jsx)("span",{children:null!==l&&void 0!==l&&l.step_size?(null===l||void 0===l?void 0:l.step_size)>0?`Max: ${null===l||void 0===l?void 0:l.max_replicas}`:`Min: ${null===l||void 0===l?void 0:l.min_replicas}`:"-"})},{title:i("autoScalingRule.CoolDownSeconds"),dataIndex:"cooldown_seconds"},{title:i("autoScalingRule.LastTriggered"),render:(e,l)=>(0,A.jsx)("span",{children:null!==l&&void 0!==l&&l.last_triggered_at?$().utc(null===l||void 0===l?void 0:l.last_triggered_at).tz().format("ll LTS"):"-"}),sorter:Le},{title:i("autoScalingRule.CreatedAt"),dataIndex:"created_at",render:(e,l)=>(0,A.jsx)("span",{children:$()(null===l||void 0===l?void 0:l.created_at).format("ll LT")}),sorter:Le}],pagination:!1,sortDirections:["descend","ascend","descend"],showSorterTooltip:!1,dataSource:qe,bordered:!0})}),(0,A.jsx)(he.A,{title:i("modelService.GeneratedTokens"),extra:(0,A.jsx)(X.Ay,{type:"primary",icon:(0,A.jsx)(_e.A,{}),disabled:(0,L.l)(Ne),onClick:()=>{V(!0)},children:i("modelService.GenerateToken")}),children:(0,A.jsx)(fe.A,{scroll:{x:"max-content"},rowKey:"token",columns:[{title:i("modelService.Token"),dataIndex:"token",fixed:"left",render:(e,l)=>(0,A.jsx)(_.A.Text,{ellipsis:!0,copyable:!0,style:{width:150},children:l.token})},{title:i("modelService.Status"),render:(e,l)=>{const n=$().utc(l.valid_until).isBefore();return(0,A.jsx)(J.A,{color:n?"red":"green",children:n?"Expired":"Valid"})}},{title:i("modelService.ExpiredDate"),dataIndex:"valid_until",render:(e,l)=>(0,A.jsx)("span",{children:l.valid_until?$().utc(l.valid_until).tz().format("ll LTS"):"-"}),sorter:Le},{title:i("modelService.CreatedAt"),dataIndex:"created_at",render:(e,l)=>(0,A.jsx)("span",{children:$()(l.created_at).format("ll LT")}),sorter:Le}],sortDirections:["descend","ascend","descend"],showSorterTooltip:!1,pagination:!1,dataSource:(0,C.tS)(null===Me||void 0===Me?void 0:Me.items),bordered:!0})}),(0,A.jsx)(he.A,{title:i("modelService.RoutesInfo"),extra:null!==Ne&&void 0!==Ne&&Ne.endpoint_id?(0,A.jsx)(X.Ay,{icon:(0,A.jsx)(ve.A,{}),loading:Oe.isPending,disabled:(0,L.l)(Ne),onClick:()=>{(null===Ne||void 0===Ne?void 0:Ne.endpoint_id)&&Oe.mutateAsync(null===Ne||void 0===Ne?void 0:Ne.endpoint_id,{onSuccess:e=>{null!==e&&void 0!==e&&e.success?(t.success(i("modelService.SyncRoutesRequested")),p((()=>{m()}))):t.error(i("modelService.SyncRoutesFailed"))},onError:e=>{t.error(i("modelService.SyncRoutesFailed"))}})},children:i("modelService.SyncRoutes")}):null,children:(0,A.jsx)(fe.A,{scroll:{x:"max-content"},columns:[{title:i("modelService.RouteId"),dataIndex:"routing_id",fixed:"left",render:(e,l)=>(0,A.jsxs)(_.A.Text,{ellipsis:!0,children:[l.routing_id,!k().isEmpty(l.error_data)&&(0,A.jsx)(X.Ay,{size:"small",type:"text",icon:(0,A.jsx)(Se.A,{}),style:{color:r.colorError},onClick:()=>{Ce((null===l||void 0===l?void 0:l.error_data)||" ")}})]})},{title:i("modelService.SessionId"),dataIndex:"session",render:e=>{var l;const n=null===Ne||void 0===Ne||null===(l=Ne.errors)||void 0===l?void 0:l.find((l=>l.session_id===e));return(0,A.jsxs)(A.Fragment,{children:[G.supports("session-node")?(0,A.jsx)(_.A.Link,{onClick:()=>{be(e)},children:e}):(0,A.jsx)(_.A.Text,{children:e}),n&&(0,A.jsx)(X.Ay,{size:"small",type:"text",icon:(0,A.jsx)(Se.A,{}),style:{color:r.colorError},onClick:()=>{b(n)}})]})}},{title:i("modelService.Status"),render:(e,l)=>l.status&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(J.A,{color:ze(null===l||void 0===l?void 0:l.status),style:{marginRight:0},children:l.status.toUpperCase()},null===l||void 0===l?void 0:l.status)})},{title:i("modelService.TrafficRatio"),dataIndex:"traffic_ratio"}],pagination:!1,dataSource:null===Ne||void 0===Ne?void 0:Ne.routings,rowKey:"routing_id",bordered:!0})}),(0,A.jsx)(ee,{open:!!S,inferenceSessionErrorFrgmt:S,onRequestClose:()=>b(null)}),(0,A.jsx)(D,{open:E,onRequestClose:e=>{V(!E),e&&p((()=>{m()}))},endpoint_id:(null===Ne||void 0===Ne?void 0:Ne.endpoint_id)||""}),Ie&&(0,A.jsx)(ae.A,{children:(0,A.jsx)(j,{open:P,endpoint_id:null===Ne||void 0===Ne?void 0:Ne.endpoint_id,autoScalingRuleFrgmt:K,onRequestClose:e=>{O(!P),R(null),e&&p((()=>{m()}))}})}),(0,A.jsx)(ne.A,{open:!Y,sessionId:Y,onClose:()=>{be(void 0)}}),(0,A.jsx)(T,{open:!!we,title:i("modelService.RouteError"),json:we,onCancel:()=>{Ce(void 0)}})]})}},49695:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],l=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"DeleteEndpointAutoScalingRuleNode",kind:"LinkedField",name:"delete_endpoint_auto_scaling_rule_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EndpointDetailPageAutoScalingRuleDeleteMutation",selections:l,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EndpointDetailPageAutoScalingRuleDeleteMutation",selections:l},params:{cacheID:"e647347518ca7cfd97bf2fbaae817544",id:null,metadata:{},name:"EndpointDetailPageAutoScalingRuleDeleteMutation",operationKind:"mutation",text:"mutation EndpointDetailPageAutoScalingRuleDeleteMutation(\n  $id: String!\n) {\n  delete_endpoint_auto_scaling_rule_node(id: $id) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="b2c728c3dedd10a4ef2c345f6ba3cfaf";const i=a},44609:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_after"},l={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_before"},n={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_endpointId"},a={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_filter"},i={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_first"},r={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_last"},t={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_offset"},o={defaultValue:null,kind:"LocalArgument",name:"autoScalingRules_order"},s={defaultValue:null,kind:"LocalArgument",name:"endpointId"},d={defaultValue:null,kind:"LocalArgument",name:"skipScalingRules"},u={defaultValue:null,kind:"LocalArgument",name:"tokenListLimit"},c={defaultValue:null,kind:"LocalArgument",name:"tokenListOffset"},m={kind:"Variable",name:"endpoint_id",variableName:"endpointId"},g=[m],p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"humanized_name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_local",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"digest",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},b={alias:null,args:null,concreteType:"ResourceLimit",kind:"LinkedField",name:"resource_limits",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},j=[F,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],K={alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:j,storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"supported_accelerators",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"replicas",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"retries",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"human_readable_name",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"model_mount_destiation",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"model_mount_destination",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"model_definition_path",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"environ",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"routing_id",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"session",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"traffic_ratio",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"error_data",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ee={alias:null,args:[m,{kind:"Variable",name:"limit",variableName:"tokenListLimit"},{kind:"Variable",name:"offset",variableName:"tokenListOffset"}],concreteType:"EndpointTokenList",kind:"LinkedField",name:"endpoint_token_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},{alias:null,args:null,concreteType:"EndpointToken",kind:"LinkedField",name:"items",plural:!0,selections:[X,{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner",storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"valid_until",storageKey:null}],storageKey:null}],storageKey:null},le=[{kind:"Variable",name:"after",variableName:"autoScalingRules_after"},{kind:"Variable",name:"before",variableName:"autoScalingRules_before"},{kind:"Variable",name:"endpoint",variableName:"autoScalingRules_endpointId"},{kind:"Variable",name:"filter",variableName:"autoScalingRules_filter"},{kind:"Variable",name:"first",variableName:"autoScalingRules_first"},{kind:"Variable",name:"last",variableName:"autoScalingRules_last"},{kind:"Variable",name:"offset",variableName:"autoScalingRules_offset"},{kind:"Variable",name:"order",variableName:"autoScalingRules_order"}],ne={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"metric_name",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"metric_source",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"threshold",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"comparator",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"step_size",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"cooldown_seconds",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"min_replicas",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"max_replicas",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"last_triggered_at",storageKey:null};return{fragment:{argumentDefinitions:[e,l,n,a,i,r,t,o,s,d,u,c],kind:"Fragment",metadata:null,name:"EndpointDetailPageQuery",selections:[{alias:null,args:g,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[p,_,y,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[p,v,S,k,x,h,f,A,b,K,R,E,{args:null,kind:"FragmentSpread",name:"ImageNodeSimpleTagFragment"}],storageKey:null},T,L,I,w,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[C,{args:null,kind:"FragmentSpread",name:"InferenceSessionErrorModalFragment"}],storageKey:null},N,{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[M],storageKey:null},V,P,O,$,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[D,p],storageKey:null},z,q,G,H,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[U,B,J,Q,_,W],storageKey:null},Y,{args:null,kind:"FragmentSpread",name:"EndpointOwnerInfoFragment"},{args:null,kind:"FragmentSpread",name:"EndpointStatusTagFragment"},{args:null,kind:"FragmentSpread",name:"ServiceLauncherPageContentFragment"}],storageKey:null},ee,{alias:"endpoint_auto_scaling_rules",args:le,concreteType:"EndpointAutoScalingRuleConnection",kind:"LinkedField",name:"endpoint_auto_scaling_rule_nodes",plural:!1,selections:[ne,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"node",plural:!1,selections:[X,Q,ae,ie,re,te,oe,se,de,ue,Z,ce,{args:null,kind:"FragmentSpread",name:"AutoScalingRuleEditorModalFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,c,u,n,a,t,o,l,e,i,r,d],kind:"Operation",name:"EndpointDetailPageQuery",selections:[{alias:null,args:g,concreteType:"Endpoint",kind:"LinkedField",name:"endpoint",plural:!1,selections:[p,_,y,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image_object",plural:!1,selections:[p,v,S,k,x,h,f,A,b,K,R,E,{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:j,storageKey:null},v,X,p],storageKey:null},T,L,I,w,{alias:null,args:null,concreteType:"InferenceSessionError",kind:"LinkedField",name:"errors",plural:!0,selections:[C,{alias:null,args:null,concreteType:"InferenceSessionErrorInfo",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"repr",storageKey:null}],storageKey:null}],storageKey:null},N,{alias:null,args:null,concreteType:"RuntimeVariantInfo",kind:"LinkedField",name:"runtime_variant",plural:!1,selections:[M,p],storageKey:null},V,P,O,$,{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"extra_mounts",plural:!0,selections:[D,p,X],storageKey:null},z,q,G,H,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[U,B,J,Q,_,W,X],storageKey:null},Y,X,{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null}],storageKey:null},ee,{alias:"endpoint_auto_scaling_rules",args:le,concreteType:"EndpointAutoScalingRuleConnection",kind:"LinkedField",name:"endpoint_auto_scaling_rule_nodes",plural:!1,selections:[ne,{alias:null,args:null,concreteType:"EndpointAutoScalingRuleEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"EndpointAutoScalingRuleNode",kind:"LinkedField",name:"node",plural:!1,selections:[X,Q,ae,ie,re,te,oe,se,de,ue,Z,ce],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"2b931679500a3a1380b8af72d9fb096b",id:null,metadata:{},name:"EndpointDetailPageQuery",operationKind:"query",text:'query EndpointDetailPageQuery(\n  $endpointId: UUID!\n  $tokenListOffset: Int!\n  $tokenListLimit: Int!\n  $autoScalingRules_endpointId: String!\n  $autoScalingRules_filter: String\n  $autoScalingRules_offset: Int\n  $autoScalingRules_order: String\n  $autoScalingRules_before: String\n  $autoScalingRules_after: String\n  $autoScalingRules_first: Int\n  $autoScalingRules_last: Int\n  $skipScalingRules: Boolean!\n) {\n  endpoint(endpoint_id: $endpointId) {\n    name\n    status\n    endpoint_id\n    image_object @since(version: "23.09.9") {\n      name\n      namespace @since(version: "24.12.0")\n      humanized_name\n      tag\n      registry\n      architecture\n      is_local\n      digest\n      resource_limits {\n        key\n        min\n        max\n      }\n      labels {\n        key\n        value\n      }\n      size_bytes\n      supported_accelerators\n      ...ImageNodeSimpleTagFragment\n      id\n    }\n    desired_session_count @deprecatedSince(version: "24.12.0")\n    replicas @since(version: "24.12.0")\n    url\n    open_to_public\n    errors {\n      session_id\n      ...InferenceSessionErrorModalFragment\n    }\n    retries\n    runtime_variant @since(version: "24.03.5") {\n      human_readable_name\n    }\n    model\n    model_mount_destiation @deprecatedSince(version: "24.03.4")\n    model_mount_destination @since(version: "24.03.4")\n    model_definition_path @since(version: "24.03.4")\n    extra_mounts @since(version: "24.03.4") {\n      row_id\n      name\n      id\n    }\n    environ\n    resource_group\n    resource_slots\n    resource_opts\n    routings {\n      routing_id\n      session\n      traffic_ratio\n      endpoint\n      status\n      error_data\n      id\n    }\n    created_user_email @since(version: "23.09.8")\n    ...EndpointOwnerInfoFragment\n    ...EndpointStatusTagFragment\n    ...ServiceLauncherPageContentFragment\n    id\n  }\n  endpoint_token_list(offset: $tokenListOffset, limit: $tokenListLimit, endpoint_id: $endpointId) {\n    total_count\n    items {\n      id\n      token\n      endpoint_id\n      domain\n      project\n      session_owner\n      created_at\n      valid_until\n    }\n  }\n  endpoint_auto_scaling_rules: endpoint_auto_scaling_rule_nodes(endpoint: $autoScalingRules_endpointId, filter: $autoScalingRules_filter, order: $autoScalingRules_order, offset: $autoScalingRules_offset, before: $autoScalingRules_before, after: $autoScalingRules_after, first: $autoScalingRules_first, last: $autoScalingRules_last) @skipOnClient(if: $skipScalingRules) {\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n    }\n    edges {\n      node {\n        id\n        endpoint\n        metric_name\n        metric_source\n        threshold\n        comparator\n        step_size\n        cooldown_seconds\n        min_replicas\n        max_replicas\n        created_at\n        last_triggered_at\n        ...AutoScalingRuleEditorModalFragment\n      }\n    }\n  }\n}\n\nfragment AutoScalingRuleEditorModalFragment on EndpointAutoScalingRuleNode {\n  id\n  endpoint\n  metric_name\n  metric_source\n  threshold\n  comparator\n  step_size\n  cooldown_seconds\n  min_replicas\n  max_replicas\n}\n\nfragment EndpointOwnerInfoFragment on Endpoint {\n  id\n  created_user_email @since(version: "23.09.8")\n  session_owner_email @since(version: "23.09.8")\n}\n\nfragment EndpointStatusTagFragment on Endpoint {\n  id\n  status\n}\n\nfragment ImageNodeSimpleTagFragment on ImageNode {\n  base_image_name\n  version\n  architecture\n  tags {\n    key\n    value\n  }\n  labels {\n    key\n    value\n  }\n  registry\n  namespace\n  tag\n}\n\nfragment InferenceSessionErrorModalFragment on InferenceSessionError {\n  session_id\n  errors {\n    repr\n  }\n}\n\nfragment ServiceLauncherPageContentFragment on Endpoint {\n  endpoint_id\n  desired_session_count @deprecatedSince(version: "24.12.0")\n  replicas @since(version: "24.12.0")\n  resource_group\n  resource_slots\n  resource_opts\n  cluster_mode\n  cluster_size\n  open_to_public\n  model\n  model_mount_destination @since(version: "24.03.4")\n  model_definition_path @since(version: "24.03.4")\n  environ\n  runtime_variant @since(version: "24.03.5") {\n    name\n    human_readable_name\n  }\n  extra_mounts @since(version: "24.03.4") {\n    row_id\n    id\n  }\n  image_object @since(version: "23.09.9") {\n    name @deprecatedSince(version: "24.12.0")\n    namespace @since(version: "24.12.0")\n    humanized_name\n    tag\n    registry\n    architecture\n    is_local\n    digest\n    resource_limits {\n      key\n      min\n      max\n    }\n    labels {\n      key\n      value\n    }\n    size_bytes\n    supported_accelerators\n    id\n  }\n  name\n}\n'}}}();a.hash="32733aa6784cb0b61c1ab53b91d47d7f";const i=a}}]);
//# sourceMappingURL=8564.d9b19024.chunk.js.map