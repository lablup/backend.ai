"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[556],{4652:function(e,l,n){n.r(l);var a,i=n(1413),s=n(36459),r=n(40406),t=n(77758),o=n(85911),u=n(38812),d=n(93448),c=n(39883),m=n(82548),p=n(32048),g=n.n(p),b=(n(4519),n(81748)),v=n(87112),y=n(16980),f=n(2556);l.default=function(e){var l,p,k=Object.assign({},((0,s.Z)(e),e)),S=(0,b.$G)().t,h=(0,o.useWebComponentInfo)(),_=h.value,x=h.dispatchEvent;try{p=JSON.parse(_||"")}catch(A){p={open:!1,userEmail:""}}var j,Z=p,K=Z.open,F=Z.userEmail,I=(0,r.Dj)(),T=null===I||void 0===I?void 0:I.supports("sudo-session-enabled"),w=(0,v.useQuery)("isManagerSupportingTOTP",(function(){return I.isManagerSupportingTOTP()}),{suspense:!1}),N=w.data,O=w.isLoading;j=(null===I||void 0===I?void 0:I.supports("2FA"))&&N;var U=(0,y.useLazyLoadQuery)(void 0!==a?a:a=n(21960),{email:F,isNotSupportSudoSessionEnabled:!T,isTOTPSupported:null!==(l=j)&&void 0!==l&&l}).user,P={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,f.jsxs)(t.Z,(0,i.Z)((0,i.Z)({open:K,onCancel:function(){x("cancel",null)},centered:!0,title:S("credential.UserDetail"),footer:[(0,f.jsx)(u.ZP,{type:"primary",onClick:function(){x("cancel",null)},children:S("button.OK")},"ok")]},k),{},{children:[(0,f.jsx)("br",{}),(0,f.jsxs)(d.Z,{size:"small",column:P,title:S("credential.Information"),labelStyle:{width:"50%"},children:[(0,f.jsx)(d.Z.Item,{label:S("credential.UserID"),children:null===U||void 0===U?void 0:U.email}),(0,f.jsx)(d.Z.Item,{label:S("credential.UserName"),children:null===U||void 0===U?void 0:U.username}),(0,f.jsx)(d.Z.Item,{label:S("credential.FullName"),children:null===U||void 0===U?void 0:U.full_name}),(0,f.jsx)(d.Z.Item,{label:S("credential.MainAccessKey"),children:null===U||void 0===U?void 0:U.main_access_key}),(0,f.jsx)(d.Z.Item,{label:S("credential.DescActiveUser"),children:"active"===(null===U||void 0===U?void 0:U.status)?S("button.Yes"):S("button.No")}),(0,f.jsx)(d.Z.Item,{label:S("credential.DescRequirePasswordChange"),children:null!==U&&void 0!==U&&U.need_password_change?S("button.Yes"):S("button.No")}),T&&(0,f.jsx)(d.Z.Item,{label:S("credential.EnableSudoSession"),children:null!==U&&void 0!==U&&U.sudo_session_enabled?S("button.Yes"):S("button.No")}),j&&(0,f.jsx)(d.Z.Item,{label:S("webui.menu.TotpActivated"),children:(0,f.jsx)(c.Z,{spinning:O,children:null!==U&&void 0!==U&&U.totp_activated?S("button.Yes"):S("button.No")})})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(d.Z,{size:"small",column:P,title:S("credential.Association"),labelStyle:{width:"50%"},children:[(0,f.jsx)(d.Z.Item,{label:S("credential.Domain"),children:null===U||void 0===U?void 0:U.domain_name}),(0,f.jsx)(d.Z.Item,{label:S("credential.Role"),children:null===U||void 0===U?void 0:U.role})]}),(0,f.jsx)("br",{}),(0,f.jsx)(d.Z,{title:S("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,f.jsx)(d.Z.Item,{children:g().map(null===U||void 0===U?void 0:U.groups,(function(e){return(0,f.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]}))}},21960:function(e,l,n){n.r(l);var a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],l=[{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},p={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]},g={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:l,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,a,i,s,r,t,o,u,c,m,p,g],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:l,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,a,i,s,r,t,o,u,c,m,p,g,d],storageKey:null}]},params:{cacheID:"129326e5b3fef57774f2f8359d108efb",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:'query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();a.hash="e2f5a5bfd435e95cb128afc7a7fbcd46",l.default=a}}]);
//# sourceMappingURL=556.415d0191.chunk.js.map