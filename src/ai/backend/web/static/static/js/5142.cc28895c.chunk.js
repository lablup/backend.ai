"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[5142],{68314:(e,l,a)=>{a.d(l,{A:()=>s});var n=a(27480),r=(a(66610),a(66906));const s=e=>{let{type:l,style:a,monospace:s,children:i,...o}=e;return s?(0,r.jsx)(n.A.Text,{type:l,...o,style:{fontFamily:"monospace",...a},children:i}):(0,r.jsx)(n.A.Text,{type:l,style:a,...o,children:i})}},65142:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ie});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"vfolderGlobalId"}],l=[{kind:"Variable",name:"id",variableName:"vfolderGlobalId"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LegacyFolderExplorerQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,r,s,i,{args:null,kind:"FragmentSpread",name:"FolderExplorerHeaderFragment"},{args:null,kind:"FragmentSpread",name:"VFolderNodeDescriptionFragment"},{args:null,kind:"FragmentSpread",name:"VFolderNameTitleNodeFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LegacyFolderExplorerQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,r,s,i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s],storageKey:null}]},params:{cacheID:"70bc60e3664edb7e845206f9f43f7a15",id:null,metadata:{},name:"LegacyFolderExplorerQuery",operationKind:"query",text:'query LegacyFolderExplorerQuery(\n  $vfolderGlobalId: String!\n) {\n  vfolder_node(id: $vfolderGlobalId) @since(version: "24.03.4") {\n    id\n    user\n    permission\n    permissions\n    unmanaged_path @since(version: "25.04.0")\n    ...FolderExplorerHeaderFragment\n    ...VFolderNodeDescriptionFragment\n    ...VFolderNameTitleNodeFragment\n  }\n}\n\nfragment FolderExplorerHeaderFragment on VirtualFolderNode {\n  id\n  user\n  permission\n  unmanaged_path @since(version: "25.04.0")\n  ...VFolderNameTitleNodeFragment\n}\n\nfragment VFolderNameTitleNodeFragment on VirtualFolderNode {\n  name\n}\n\nfragment VFolderNodeDescriptionFragment on VirtualFolderNode {\n  id\n  host\n  quota_scope_id\n  user\n  user_email\n  group\n  group_name\n  creator\n  usage_mode\n  permission\n  ownership_type\n  max_files\n  max_size\n  created_at\n  last_used\n  num_files\n  cur_size\n  cloneable\n  status\n  permissions @since(version: "24.09.0")\n  unmanaged_path @since(version: "25.04.0")\n  ...VFolderPermissionCellFragment\n  ...useVirtualFolderNodePathFragment\n}\n\nfragment VFolderPermissionCellFragment on VirtualFolderNode {\n  permissions\n}\n\nfragment useVirtualFolderNodePathFragment on VirtualFolderNode {\n  id\n  host\n  quota_scope_id\n  user\n  user_email\n  group\n  group_name\n  creator\n  usage_mode\n  permission\n  ownership_type\n  max_files\n  max_size\n  created_at\n  last_used\n  num_files\n  cur_size\n  cloneable\n  status\n  permissions @since(version: "24.09.0")\n}\n'}}}();n.hash="fac0b3f862cf0dd7c3eed34c49dcb48f";const r=n;var s=a(19885),i=a(39718),o=a(66668),t=a(68442),d=a(69301),u=a(74865),c=a(88153),m=a(60042),g=a(84395),p=a(74194),y=a(63872),F=a(66610),f=a(54070),x=a(66906);const h=e=>{let{isSelected:l,isWritable:a,folderExplorerRef:n,size:r="default"}=e;const{token:s}=c.A.useToken(),{t:i}=(0,f.Bd)();return(0,x.jsxs)(y.OO,{justify:"end",gap:s.marginSM,style:{right:0},children:[(0,x.jsx)(m.A,{title:"small"===r&&i("button.Delete"),children:(0,x.jsx)(g.Ay,{danger:!0,disabled:!l||!a,icon:(0,x.jsx)(o.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e._openDeleteMultipleFileDialog()},children:"small"!==r&&i("button.Delete")})}),(0,x.jsx)(m.A,{title:"small"===r&&i("button.Create"),children:(0,x.jsx)(g.Ay,{disabled:!a,icon:(0,x.jsx)(t.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.openMkdirDialog()},children:"small"!==r&&i("button.Create")})}),(0,x.jsx)(p.A,{disabled:!a,menu:{items:[{key:"upload files",label:i("data.explorer.UploadFiles"),icon:(0,x.jsx)(t.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.handleUpload("file")}},{key:"upload folder",label:i("data.explorer.UploadFolder"),icon:(0,x.jsx)(d.A,{}),onClick:()=>{var e;null===(e=n.current)||void 0===e||e.handleUpload("folder")}}]},children:(0,x.jsx)(m.A,{title:"small"===r&&i("button.Upload"),children:(0,x.jsx)(g.Ay,{disabled:!a,icon:(0,x.jsx)(u.A,{}),children:"small"!==r&&i("button.Upload")})})})]})},k={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FolderExplorerHeaderFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{args:null,kind:"FragmentSpread",name:"VFolderNameTitleNodeFragment"}],type:"VirtualFolderNode",abstractKey:null,hash:"c06cb69b94eff82edbf4132158807449"},S=k,v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VFolderNameTitleNodeFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"0601031289a33a9a13a254362a2ee1ab"},_=v;var b=a(27480),j=a(89737);const K=e=>{let{vfolderNodeFrgmt:l,...a}=e;const{token:n}=c.A.useToken(),r=(0,j.useFragment)(_,l);return(0,x.jsx)(m.A,{title:null===r||void 0===r?void 0:r.name,...a,children:(0,x.jsx)(b.A.Title,{level:3,style:{marginTop:n.marginSM},ellipsis:!0,children:null===r||void 0===r?void 0:r.name})})};var A=a(78824),N=a(9034),V=a(92174);const w=e=>{let{vfolderNodeFrgmt:l,folderExplorerRef:a}=e;const{t:n}=(0,f.Bd)(),{token:r}=c.A.useToken(),{lg:s}=A.Ay.useBreakpoint(),i=(0,j.useFragment)(S,l);return(0,x.jsxs)(y.OO,{"data-testid":"folder-explorer-header",justify:"between",gap:r.marginMD,style:{width:"100%"},children:[(0,x.jsx)(y.OO,{"data-testid":"folder-explorer-title",gap:r.marginMD,style:{flex:1},children:(0,x.jsx)(F.Suspense,{fallback:(0,x.jsx)(N.A.Input,{active:!0}),children:(0,x.jsx)(K,{vfolderNodeFrgmt:i})})}),(0,x.jsx)(y.OO,{"data-testid":"folder-explorer-actions",justify:"end",gap:r.marginSM,style:{flex:s?2:1},children:null!==i&&void 0!==i&&i.unmanaged_path?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.A,{title:!s&&n("data.explorer.ExecuteFileBrowser"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(V.A,{width:"18px",src:"/resources/icons/filebrowser.svg",alt:"File Browser",preview:!1}),onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e._executeFileBrowser()},children:s&&n("data.explorer.ExecuteFileBrowser")})}),(0,x.jsx)(m.A,{title:!s&&n("data.explorer.RunSSH/SFTPserver"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(V.A,{width:"18px",src:"/resources/icons/sftp.png",alt:"SSH / SFTP",preview:!1}),onClick:()=>{var e;null===(e=a.current)||void 0===e||e._executeSSHProxyAgent()},children:s&&n("data.explorer.RunSSH/SFTPserver")})})]})})]})},T=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],l=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VFolderNodeDescriptionPermissionRefreshQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VFolderNodeDescriptionPermissionRefreshQuery",selections:[{alias:null,args:l,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[a,n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"3aee063a4b508648c2365ba6c7f0f44a",id:null,metadata:{},name:"VFolderNodeDescriptionPermissionRefreshQuery",operationKind:"query",text:"query VFolderNodeDescriptionPermissionRefreshQuery(\n  $id: String!\n) {\n  vfolder_node(id: $id) {\n    permission\n    permissions\n    id\n  }\n}\n"}}}();T.hash="36063c8300310d9ef6c369b49127a2a2";const O=T,z={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VFolderNodeDescriptionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unmanaged_path",storageKey:null},{args:null,kind:"FragmentSpread",name:"VFolderPermissionCellFragment"},{args:null,kind:"FragmentSpread",name:"useVirtualFolderNodePathFragment"}],type:"VirtualFolderNode",abstractKey:null,hash:"f4ca4470ea635f85c8c346eed0a5fe8c"},P=z;var D=a(2156),E=a(37615),I=a(17457),C=a(71526),R=a(74769);const q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVirtualFolderNodePathFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ownership_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_files",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cur_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permissions",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"439221036e87c57ca3ec1ce737e0cdf7"},L=q;var M=a(8348),Q=a.n(M);const U=e=>{const l=(0,j.useFragment)(L,e),[a,n]=Q().split(null===l||void 0===l?void 0:l.quota_scope_id,":"),r=(0,y.om)(null===l||void 0===l?void 0:l.id),s=r.slice(0,2),i=r.slice(2,4),o=[r.slice(4)];return{quotaScopeType:a,quotaScopeIdWithoutType:n,vfolderId:r,vfolderIdPrefix1:s,vfolderIdPrefix2:i,vfolderIdRest:o,vfolderPath:`${n}/${s}/${i}/${o}`}};var B=a(61659),H=a(14659),$=a(32970),W=a(68314);const G=e=>{let{vfolderNodeFrgmt:l}=e;const{quotaScopeType:a,quotaScopeIdWithoutType:n,vfolderId:r,vfolderIdPrefix1:s,vfolderIdPrefix2:i,vfolderIdRest:o}=U(l),{token:t}=c.A.useToken();return(0,x.jsxs)(y.OO,{direction:"row",align:"start",justify:"start",wrap:"wrap",gap:3,children:[(0,x.jsx)(W.A,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"(root)"}),(0,x.jsx)(W.A,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,x.jsxs)(y.OO,{direction:"column",align:"start",justify:"start",children:[(0,x.jsx)(W.A,{monospace:!0,copyable:{text:n},style:{fontSize:"0.9em"},children:Q().truncate(n,{length:15})}),(0,x.jsxs)(W.A,{type:"secondary",style:{fontSize:t.fontSizeSM},children:["Quota Scope ID (",Q().upperFirst(a),")"]})]}),(0,x.jsx)(W.A,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,x.jsxs)(y.OO,{direction:"column",align:"start",justify:"start",children:[(0,x.jsxs)(y.OO,{gap:3,children:[(0,x.jsx)(W.A,{monospace:!0,style:{fontSize:"0.9em"},children:s}),(0,x.jsx)(W.A,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,x.jsx)(W.A,{monospace:!0,style:{fontSize:"0.9em"},children:i}),(0,x.jsx)(W.A,{monospace:!0,type:"secondary",style:{fontSize:"0.9em"},children:"/"}),(0,x.jsx)(W.A,{monospace:!0,copyable:{text:r},style:{fontSize:"0.9em"},children:Q().truncate(o.join(""),{length:7})})]}),(0,x.jsx)(W.A,{type:"secondary",style:{fontSize:t.fontSizeSM},children:"VFolder ID"})]})]})};var X=a(99139),Y=a(95676),J=a(39452),Z=a(32677),ee=a(4994),le=a.n(ee);const ae=e=>{var l;let{vfolderNodeFrgmt:a,onRequestRefresh:n,...r}=e;const{t:i}=(0,f.Bd)(),{token:o}=c.A.useToken(),{message:t}=J.A.useApp(),d=(0,j.useRelayEnvironment)(),u=(0,C.hd)(),m=(0,R.b)(),g=(0,s.CX)(),[p]=(0,E.U6)(),F=(0,I.ET)({mutationFn:e=>{let{permission:l,id:a}=e;return g.vfolder.update_folder({permission:l},a)}}),h=(0,j.useFragment)(P,a),{vfolderPath:k}=U(h),S=(0,y.om)(h.id),v=(0,y.YM)([!(null!==h&&void 0!==h&&h.unmanaged_path)&&{key:"path",label:(0,x.jsx)(b.A.Text,{copyable:{text:k},style:{color:o.colorTextLabel},children:i("data.folders.Path")}),children:(0,x.jsx)(G,{vfolderNodeFrgmt:h})},{key:"status",label:i("data.folders.Status"),children:(0,x.jsx)(H.A,{color:h.status?$.C[h.status]:void 0,children:Q().toUpper(h.status||"")})},{key:"host",label:i("data.Host"),children:h.host},{key:"ownership_type",label:i("data.folders.Ownership"),children:"user"===(null===h||void 0===h?void 0:h.ownership_type)?(0,x.jsxs)(y.OO,{gap:"xs",children:[(0,x.jsx)(b.A.Text,{children:i("data.User")}),(0,x.jsx)(X.A,{style:{color:o.colorTextTertiary}})]}):(0,x.jsxs)(y.OO,{gap:"xs",children:[(0,x.jsx)(b.A.Text,{children:i("data.Project")}),(0,x.jsx)(y.Ob,{style:{color:o.colorTextTertiary}})]})},((null===h||void 0===h?void 0:h.user)===p.uuid||g.is_admin&&(null===h||void 0===h?void 0:h.group)===(null===u||void 0===u?void 0:u.id))&&{key:"permission",label:i("data.folders.MountPermission"),children:(0,x.jsx)(B.A,{defaultValue:"wd"===h.permission?"rw":h.permission,options:[{value:"ro",label:i("data.ReadOnly")},{value:"rw",label:i("data.ReadWrite")}],onChange:e=>{F.mutate({permission:e,id:S},{onSuccess:()=>{t.success(i("data.permission.PermissionModified")),document.dispatchEvent(new CustomEvent("backend-ai-folder-updated")),(0,j.fetchQuery)(d,O,{id:h.id}).toPromise(),null===n||void 0===n||n()},onError:e=>{t.error(m.relieve(null===e||void 0===e?void 0:e.message))}})},popupMatchSelectWidth:!1})},{key:"owner",label:i("data.folders.Owner"),children:(null===h||void 0===h?void 0:h.user)===(null===p||void 0===p?void 0:p.uuid)||g.is_admin&&(null===h||void 0===h?void 0:h.group)===(null===u||void 0===u?void 0:u.id)?(0,x.jsx)(y.OO,{justify:"start",children:(0,x.jsx)(Y.A,{})}):null},null!==h.user_email&&{key:"user_email",label:i("data.User"),children:(0,x.jsx)(b.A.Text,{copyable:!0,children:h.user_email})},null!==h.group_name&&{key:"group_name",label:i("data.Project"),children:h.group_name},{key:"cloneable",label:i("data.folders.Cloneable"),children:h.cloneable?(0,x.jsx)(y.OO,{justify:"start",children:(0,x.jsx)(Y.A,{})}):null},{key:"max_size",label:i("data.folders.MaxSize"),children:h.max_size?null===(l=(0,D.Gh)(h.max_size,"g",2))||void 0===l?void 0:l.displayValue:"\u221e"},{key:"usage",label:i("data.UsageMode"),children:h.usage_mode},{key:"created_at",label:i("data.folders.CreatedAt"),children:le()(h.created_at).format("lll")}]);return(0,x.jsx)(Z.A,{bordered:!0,column:1,size:"small",items:v,styles:{content:{wordBreak:"break-word",overflowWrap:"break-word"}},...r})};var ne=a(84321),re=a(74026);const se=(0,a(64240).rU)((e=>{let{token:l,css:a}=e;return{baiModalHeader:a`
    .ant-modal-title {
      width: 100%;
      margin-right: ${l.marginXXL}px;
    }
  `}})),ie=e=>{let{vfolderID:l,onRequestClose:a,...n}=e;const{token:o}=c.A.useToken(),{styles:t}=se(),{xl:d}=A.Ay.useBreakpoint(),{t:u}=(0,f.Bd)(),[m,g]=(0,F.useState)(!1),[p,k]=(0,F.useState)(!1),S=(0,F.useRef)(null);(0,s.CX)(),(0,F.useEffect)((()=>{const e=e=>{g(e.detail||!1)},l=e=>{k(e.detail||!1)};return document.addEventListener("folderExplorer:connected",e),document.addEventListener("folderExplorer:columnSelected",l),()=>{document.removeEventListener("folderExplorer:connected",e),document.removeEventListener("folderExplorer:columnSelected",l)}}),[]);const{vfolder_node:v}=(0,j.useLazyLoadQuery)(r,{vfolderGlobalId:(0,y.wc)("VirtualFolderNode",l)},{fetchPolicy:n.open?"network-only":"store-only"}),_=v&&(0,x.jsx)(y.OO,{direction:"column",align:"stretch",children:null!==v&&void 0!==v&&v.unmanaged_path?(0,x.jsx)(ne.A,{message:u("explorer.NoExplorerSupportForUnmanagedFolder"),showIcon:!0}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h,{isSelected:p,isWritable:m,folderExplorerRef:S,size:d?"default":"small"}),(0,x.jsx)("backend-ai-folder-explorer",{ref:S,active:!0,vfolderID:l})]})}),b=v&&(0,x.jsx)(ae,{vfolderNodeFrgmt:v,onRequestRefresh:()=>{var e;null===(e=S.current)||void 0===e||e._fetchVFolder()}});return(0,x.jsxs)(i.A,{"data-testid":"folder-explorer",className:t.baiModalHeader,centered:!0,width:"90%",destroyOnClose:!0,footer:null,title:v?(0,x.jsx)(w,{vfolderNodeFrgmt:v,folderExplorerRef:S}):null,onCancel:()=>{a()},...n,children:[v?null:(0,x.jsx)(ne.A,{message:u("explorer.FolderNotFoundOrNoAccess"),type:"error",showIcon:!0}),v?d?(0,x.jsxs)(re.A,{style:{gap:o.size,alignSelf:"stretch"},children:[(0,x.jsx)(re.A.Panel,{resizable:!1,children:_}),(0,x.jsx)(re.A.Panel,{defaultSize:500,min:300,max:"40%",children:b})]}):(0,x.jsxs)(y.OO,{direction:"column",align:"stretch",gap:"md",children:[_,b]}):null]})}}}]);
//# sourceMappingURL=5142.cc28895c.chunk.js.map