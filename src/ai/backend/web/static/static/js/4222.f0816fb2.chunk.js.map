{"version":3,"file":"static/js/4222.f0816fb2.chunk.js","mappings":"4YA8CA,MAAMA,GAAoBC,EAAAA,EAAAA,IAA2B,IAC/CC,GAAmBD,EAAAA,EAAAA,IAAsB,CAAC,GAC1CE,GAAyBC,EAAAA,EAAAA,IAAYC,IAClCJ,EAAAA,EAAAA,KACJK,GAAQA,EAAIJ,GAAkBG,KAC/B,CAACC,EAAKC,EAAKC,KACT,MAAMC,EAAOH,EAAIJ,GACjBK,EAAIL,GAAgBQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACfD,GAAI,IACP,CAACJ,GAAYG,IACb,MAyRR,EA9QoCG,KAGlC,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,OACR,MAAEC,GAAUC,EAAAA,EAAMC,WAClBC,GAAYC,EAAAA,EAAAA,OACZ,mBAAEC,EAAkB,kBAAEC,IAAsBC,EAAAA,EAAAA,OAC5C,mBAAEC,IAAuBC,EAAAA,EAAAA,4BACxBC,EAAgBC,IAAqBC,EAAAA,EAAAA,IAAQ1B,IAC7C2B,EAAcC,IAAmBF,EAAAA,EAAAA,IAAQxB,IACzC2B,IAAwBC,EAAAA,EAAAA,GAC7B,0BAEIC,EAAQ,IAAIC,EAAAA,EAAO,CAAEC,YAAaJ,GAAwB,IAE1DK,GAAuBC,EAAAA,EAAAA,QAA+B,CAAC,GACvDC,EAA0BC,IAAAA,UAC9B,CAAChC,EAAmBiC,KAClB,MAAMC,EAAmBL,EAAqBM,QAAQnC,IAAc,EACpE6B,EAAqBM,QAAQnC,GAAa,EAE1CuB,GAAiBnB,IAAU,IAADgC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACxB,MAAMC,GAAoC,QAAfV,EAAAhC,EAAKJ,UAAU,IAAAoC,GAAgB,QAAhBC,EAAfD,EAAiBW,sBAAc,IAAAV,OAAhB,EAAfA,EAAiCW,SAAU,EAChEC,IACY,QAAfX,EAAAlC,EAAKJ,UAAU,IAAAsC,GAAgB,QAAhBC,EAAfD,EAAiBS,sBAAc,IAAAR,OAAhB,EAAfA,EAAiCS,SAAU,KAC5B,QAAfR,EAAApC,EAAKJ,UAAU,IAAAwC,GAAa,QAAbC,EAAfD,EAAiBU,mBAAW,IAAAT,OAAb,EAAfA,EAA8BO,SAAU,KACzB,QAAfN,EAAAtC,EAAKJ,UAAU,IAAA0C,GAAc,QAAdC,EAAfD,EAAiBS,oBAAY,IAAAR,OAAd,EAAfA,EAA+BK,SAAU,GAEtCI,GAAmC,QAAfR,EAAAxC,EAAKJ,UAAU,IAAA4C,OAAA,EAAfA,EAAiBQ,oBAAqB,EAC1DC,IACY,QAAfR,EAAAzC,EAAKJ,UAAU,IAAA6C,OAAA,EAAfA,EAAiBS,iBAAkB,GAAKpB,EAmC3C,OAjCApB,EAAmB,CACjByC,IAAK,UAAYvD,EACjBwD,eAAgB,CACdC,OAAQ,UACRC,QACEN,EAAoB,EACfC,EAAwBD,EAAqB,IAC9C,EACNO,SAAU,CACRC,QAAS,CACPC,aACEC,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,SAASC,MAAM,QAAOC,SAAA,EACvCJ,EAAAA,EAAAA,MAACK,EAAAA,EAAWC,KAAI,CAAAF,SAAA,CACb3D,EAAE,2BAA2B,MAAIuC,EAAmB,KAAG,IACvDG,EAAwB,SAE3BoB,EAAAA,EAAAA,KAACF,EAAAA,EAAWC,KAAI,CACdE,UAAQ,EACRC,KAAK,YACLC,MAAO,CACLC,SAAUhE,EAAMiE,WAChBC,SAAU,SACVT,SAEDjC,aASf5B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAI,IACP,CAACJ,IAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACLD,EAAKJ,IAAU,IAClBsD,eAAgBD,KACjB,GAEH,GAEJ,IACA,CAAEuB,SAAS,EAAMC,UAAU,IAgM7B,OA7LAC,EAAAA,EAAAA,YAAU,KACsB,IAA1B3D,EAAe6B,QAAiBpC,IAEpCO,EAAe4D,SAASC,IACtB,MAAM,UAAEhF,EAAS,YAAEiF,EAAW,eAAEC,GAAmBF,EAC7CG,EAAsBnD,IAAAA,MAC1BkD,GACCE,GAASA,EAAKC,KAAKC,OAGtB/D,GAAiBnB,IAAU,IAADmF,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACxB,MAAMC,GAAiBzF,EAAKJ,GACtB8F,IACY,QAAfP,EAAAnF,EAAKJ,UAAU,IAAAuF,OAAA,EAAfA,EAAiBnC,oBAAqB,GAAK+B,EACxCY,EAAUF,EACZ,IACiB,QAAfL,EAAApF,EAAKJ,UAAU,IAAAwF,OAAA,EAAfA,EAAiBlC,iBAAkB,GAAKwC,EAC1C,IA6BJ,OA3BAhF,EAAmB,CACjByC,IAAK,UAAYvD,EACjBgG,MAAM,EACNC,SACEnC,EAAAA,EAAAA,MAAA,QAAAI,SAAA,CACG3D,EAAE,oBAAoB,SACvB8D,EAAAA,EAAAA,KAAC6B,EAAAA,IAAO,CACN1B,MAAO,CACL2B,WAAY,UAEdC,GAAInF,EAAmBjB,GACvBqG,QAASA,KACPtF,EAAkB,UAAYf,EAAU,EACxCkE,SAAA,GAAAoC,OACCrB,QAGTzB,eAAgB,CACdC,OAAQ,UACRC,QAASqC,EACTpC,SAAU,CACRC,QAASrD,EAAE,+BAGfgG,SAAU,KAGZlG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAI,IACP,CAACJ,GAAY,CACXiF,cACA9B,aAAc,KACO,QAAfsC,EAAArF,EAAKJ,UAAU,IAAAyF,OAAA,EAAfA,EAAiBtC,eAAgB,MAClC+B,EAAesB,KACfpB,GAASA,EAAKC,KAAKoB,oBAAsBrB,EAAKC,KAAKqB,QAGxD3D,gBAA+B,QAAf2C,EAAAtF,EAAKJ,UAAU,IAAA0F,OAAA,EAAfA,EAAiB3C,iBAAkB,GACnDG,aAA4B,QAAfyC,EAAAvF,EAAKJ,UAAU,IAAA2F,OAAA,EAAfA,EAAiBzC,cAAe,GAC7CI,gBAA+B,QAAfsC,EAAAxF,EAAKJ,UAAU,IAAA4F,OAAA,EAAfA,EAAiBtC,iBAAkB,EACnDF,kBAAmB0C,IACpB,IAILZ,EAAeH,SAAQ4B,IAA8B,IAA7B,KAAEtB,EAAI,cAAEuB,GAAeD,EAC7CjF,EAAMmF,KAAIC,UAER,MAAM7E,EAAWoD,EAAKoB,oBAAsBpB,EAAKqB,KACjD,IAAIK,EAAwB,EAE5B,UACQH,EAAc,CAClBI,WAAYA,CAACC,EAAeC,EAAajF,KAEvC,MAAMkF,EAAaF,EAAgBF,EACnCA,EAAwBE,EACxBpF,EAAqBM,QAAQnC,IAC1B6B,EAAqBM,QAAQnC,IAAc,GAAKmH,EAEnDpF,EAAwB/B,EAAWiC,EAAS,IAKhDF,EAAwBqF,eACjBvF,EAAqBM,QAAQnC,GAEpCuB,GAAiBnB,IAAI,IAAAiH,EAAA,OAAAhH,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBD,GAAI,IACP,CAACJ,IAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACLD,EAAKJ,IAAU,IAClBmD,aAAc/C,EAAKJ,GAAWmD,aAAamE,QACxCC,GAAcA,IAAMtF,IAEvBc,eAAgB,KACK,QAAfsE,EAAAjH,EAAKJ,UAAU,IAAAqH,OAAA,EAAfA,EAAiBtE,iBAAkB,GACvCd,MAEH,GAEL,CAAE,MAAAuF,GAEAzF,EAAwBqF,eACjBvF,EAAqBM,QAAQnC,GAEpCuB,GAAiBnB,IAAI,IAAAqH,EAAA,OAAApH,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBD,GAAI,IACP,CAACJ,IAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACLD,EAAKJ,IAAU,IAClBmD,aAAc/C,EAAKJ,GAAWmD,aAAamE,QACxCC,GAAcA,IAAMtF,IAEvBiB,YAAa,KACQ,QAAfuE,EAAArH,EAAKJ,UAAU,IAAAyH,OAAA,EAAfA,EAAiBvE,cAAe,GACpCjB,MAEH,GAEL,IACA,GACF,IAEJb,EAAkB,IAAG,GAEpB,CAACD,KAEJ2D,EAAAA,EAAAA,YAAU,KACR4C,OAAOC,QAAQrG,GAAcyD,SAAQ6C,IAA0B,IAAxB5H,EAAWyD,GAAOmE,EAClD5F,IAAAA,QAAgB,OAANyB,QAAM,IAANA,OAAM,EAANA,EAAQN,gBAElBnB,IAAAA,QAAgB,OAANyB,QAAM,IAANA,OAAM,EAANA,EAAQP,aAkBXlB,IAAAA,QAAgB,OAANyB,QAAM,IAANA,OAAM,EAANA,EAAQV,kBAC5BjC,EAAmB,CACjByC,IAAK,UAAYvD,EACjBgG,MAAM,EACNC,SACEnC,EAAAA,EAAAA,MAAA,QAAAI,SAAA,CACG3D,EAAE,oBAAoB,SACvB8D,EAAAA,EAAAA,KAAC6B,EAAAA,IAAO,CACN1B,MAAO,CACL2B,WAAY,UAEdC,GAAInF,EAAmBjB,GACvBqG,QAASA,KACPtF,EAAkB,UAAYf,EAAU,EACxCkE,SAAA,GAAAoC,OACO,OAAN7C,QAAM,IAANA,OAAM,EAANA,EAAQwB,kBAGjBzB,eAAgB,CACdC,OAAQ,WACRC,QAAS,IACTC,SAAU,CACRkE,SAAUtH,EAAE,2CAGhBgG,SAAU,IAEZhF,GAAiBnB,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBD,GAAI,IACP,CAACJ,IAASK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACLD,EAAKJ,IAAU,IAClB+C,eAAgB,GAChBO,eAAgB,EAChBF,kBAAmB,SAlDvBtC,EAAmB,CACjByC,IAAK,UAAYvD,EACjBgG,MAAM,EACNC,QAAS1F,EAAE,wBAAyB,CAClCuH,WAAkB,OAANrE,QAAM,IAANA,OAAM,EAANA,EAAQwB,cAEtBzB,eAAgB,CACdC,OAAQ,WACRC,QAAS,EACTC,SAAU,CACRoE,SAAUxH,EAAE,4BAA6B,CACvCuH,WAAkB,OAANrE,QAAM,IAANA,OAAM,EAANA,EAAQwB,gBAI1B+C,iBAAkBhG,IAAAA,KAAa,OAANyB,QAAM,IAANA,OAAM,EAANA,EAAQP,YAAa,QAsClD,GACA,GAED,CAAC5B,IAEG,IAAI,EAKA2G,EAAuBA,CAAAC,EAAAJ,KAAA,MAAAK,GAAAC,EAAAA,EAAAA,GAAC,IAGnCxH,GAAkByH,EAAAA,EAAAA,QACb,EAAL9H,IAAcC,EAAAA,EAAAA,OACT,mBAALM,IAA+BE,EAAAA,EAAAA,MAE/BI,GAA0BkH,EAAAA,EAAAA,IAAW3I,GAAmB,IAAA4I,EAAAJ,EAAA,KAAAD,GAGtDK,EAAAL,GAAKM,EAAAA,EAAAA,KAAUN,GAAGO,QAAS,KAAM,IAAjC,GAAyCN,EAAA,GAAAD,EAAAC,EAAA,GAAAI,GAAAA,EAAAJ,EAAA,GAD3C,MAAA7G,EAAAC,IA9RAvB,EA+REuI,GA7RKlH,EAAAA,EAAAA,IAAQvB,EAAuBE,KAFtCA,MAgSE,IAAA0I,EAAAP,EAAA,KAAAvH,GAAAuH,EAAA,KAAAL,GAAAK,EAAA,KAAA5H,GAAA4H,EAAA,KAAArH,GAE4B4H,EAAAA,CAAAC,EAAAC,KAI5B,MAAAC,EAA4BjI,EAASkI,QAAQC,kBAC7CC,EAA2BhH,IAAAA,IACzB2G,EACAM,GACDC,OAAQC,EAAoC,GAE7C,QAAIN,EAAsB,GAAKG,EAAqBH,KAClD/H,EAAmB,CAAAkF,MACX,EAAIzC,IACL,UAAYqF,EAAS3C,QACjB1F,EAAE,wBAAyB,CAAAuH,WACN,OAAhBA,QAAgB,IAAhBA,EAAAA,EAAA,KACZjE,YACWtD,EAAE,qCAAoCgG,SACzC,EAAC6C,OACH7I,EAAE,4BAA2B6F,GACjC,CAAAiD,OACM,IAAIC,gBAAgB,CAAAC,OAClBX,IACRY,eAGC,EAEE,EACZrB,EAAA,GAAAvH,EAAAuH,EAAA,GAAAL,EAAAK,EAAA,GAAA5H,EAAA4H,EAAA,GAAArH,EAAAqH,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GA7BD,MAAAsB,EAA8Bf,EA6B5B,IAAAgB,EAAAvB,EAAA,KAAAvH,GAAAuH,EAAA,KAAAL,GAAAK,EAAA,KAAA/G,GAAA+G,EAAA,MAAAsB,GAEkBC,EAAA5C,MAAA6C,EAAAC,EAAAC,KAKlB,IAAKJ,EAAsBE,EAAOf,GAAU,OAE5C,MAAAkB,EAAoC,GACpCC,EAA+B/H,IAAAA,IAAM2H,GAAOK,IAC1CF,EAAYG,KAAM5E,GACXyB,UAOL,MAAA7E,EAAiBoD,EAAIoB,oBAAuBpB,EAAIqB,KAEhD,IACE,MAAAwD,EAAmB,CAACL,EAAa5H,GAASqF,OAAQ6C,SAAQC,KAAM,KAEhEC,QACQzJ,EAAS0J,QAAQC,sBACrBL,EACA7E,EACAuD,GACA,aAES,IAAI4B,SACf,CAAAC,EAAAC,KACE,IACiB,IAAIC,EAAAA,GAAWtF,EAAM,CAAAuF,SACxBP,EAASA,YAAAQ,YAEN,CAAC,EAAG,IAAM,IAAM,IAAO,KAAMC,UAC/BC,EAAoB1F,EAAIC,MAAM0F,6BACZ,EAAKC,SACxB,CAAAC,SACE7F,EAAIqB,KAAKyE,SACT9F,EAAId,MACfyC,WACWA,CAAAC,EAAAmE,KAAA,IAAAC,EACD,OAATC,QAAS,IAATA,GAIC,QAJQD,EAATC,EAAStE,kBAIR,IAAAqE,GAJDA,EAAAE,KAAAD,EACErE,EACAmE,EACAnJ,EACD,EACFuJ,UACUA,KACTf,EAAQ,CAAA/D,KACAzE,EAAQwJ,MACPpG,EAAIC,MACX,EACHoG,QACQC,IAEPjB,EAAO,IAAIkB,MAAM,qBAADtF,OAAsBrE,IAAY,IAGhD4J,OAAS,CAAD,MAAAC,GAGdpB,EACE,IAAIkB,MAAM,mCAADtF,OAAoCrE,IAC7C,IAGN,CAAD,MAAA8J,GAID,MAAM,IAAIH,MAAM,gCAADtF,OAAiCrE,GAAY,MAKlE+J,EAAyC,CAAAhM,UAC5B4I,EAAS3D,YACS,OAAhB6C,QAAgB,IAAhBA,EAAAA,EAAA,GAAgB5C,eACblD,IAAAA,QACd8H,EACAC,EACAkC,IAMJ7K,GAAkBhB,GAAU,IAAIA,EAAM4L,IAAmB,EAC1D7D,EAAA,GAAAvH,EAAAuH,EAAA,GAAAL,EAAAK,EAAA,GAAA/G,EAAA+G,EAAA,IAAAsB,EAAAtB,EAAA,IAAAuB,GAAAA,EAAAvB,EAAA,IA1FD,MAAA+D,EAAoBxC,EA0FlB,IAAAyC,EAMD,OANChE,EAAA,MAAA5G,GAAA4G,EAAA,MAAA+D,GAAA/D,EAAA,MAAA7G,GAEK6K,EAAA,CAAA7K,eAAAC,kBAAA2K,eAIN/D,EAAA,IAAA5G,EAAA4G,EAAA,IAAA+D,EAAA/D,EAAA,IAAA7G,EAAA6G,EAAA,IAAAgE,GAAAA,EAAAhE,EAAA,IAJMgE,CAIN,EAGGpB,EAAuBqB,IAC3B,MAAMC,EAAK,QAEX,OAAID,GAAY,KAAWC,EAClB,IAAMA,EACJD,GAAY,KAAWC,EACzB,IAAMA,EACJD,GAAY,IAAMC,EACpB,GAAKA,EAEL,GAAKA,CACd,EA1JkC,SAAApD,EAAA5D,GAAA,OAoBpBA,EAAIC,IAAK,CApBW,SAAA6D,EAAAmD,EAAAhH,GAAA,OAqBRiH,KAAID,IAAKA,EAAKhH,EAAK,CArBX,SAAA2G,EAAAO,EAAA5F,GAAA,MA+HF,CAAAvB,KACxBA,EAAIuB,gBAEL,C,kFCrbT,MAAM6F,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,oBAGZC,EAAK,CACH,CACE,KAAQ,WACR,KAAQ,KACR,aAAgB,oBAGpBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,QACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,cACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,MAAO,CACL,SAAY,CACV,oBAAwBR,EACxB,KAAQ,WACR,SAAY,KACZ,KAAQ,2BACR,WAAc,CACZ,CACE,MAAS,KACT,KAASC,EACT,aAAgB,oBAChB,KAAQ,cACR,KAAQ,eACR,QAAU,EACV,WAAc,CACXC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACD,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,gCAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,kCAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,iCAGZ,WAAc,OAGlB,KAAQ,QACR,YAAe,MAEjB,KAAQ,UACR,UAAa,CACX,oBAAwBR,EACxB,KAAQ,YACR,KAAQ,2BACR,WAAc,CACZ,CACE,MAAS,KACT,KAASC,EACT,aAAgB,oBAChB,KAAQ,cACR,KAAQ,eACR,QAAU,EACV,WAAc,CACXC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACD,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,UACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEfH,GAEH,WAAc,QAIpB,OAAU,CACR,QAAW,mCACX,GAAM,KACN,SAAY,CAAC,EACb,KAAQ,2BACR,cAAiB,QACjB,KAAQ,+7DAGZ,CAhQ+B,GAkQ9BN,EAAaU,KAAO,mCAErB,U,eC1QA,MAAMV,EAAuB,CAC3B,oBAAuB,GACvB,KAAQ,WACR,SAAY,KACZ,KAAQ,+BACR,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,KAAQ,gBACR,MAAS,CACP,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,OAAU,SAEZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,gCAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,gCAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,+BAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,6BAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,6BAGZ,KAAQ,oBACR,YAAe,KAGhBA,KAAoB,oCAErB,I,qCCjFA,MAAMA,EAAuB,CAC3B,oBAAuB,GACvB,KAAQ,WACR,SAAY,KACZ,KAAQ,4BACR,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,OAGlB,KAAQ,oBACR,YAAe,KAGhBA,KAAoB,oCAErB,I,2JCPA,MAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,cAGZC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,MACR,WAAc,MAEhBC,EAAK,CACFD,EACD,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,QACR,WAAc,OAGlBE,EAAK,CACH,CACE,MAAS,KACT,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,eACR,aAAgB,cAGpB,aAAgB,QAChB,KAAQ,cACR,KAAQ,SACR,QAAU,EACV,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,MACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,eACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,aAAgB,SAChB,KAAQ,cACR,KAAQ,SACR,QAAU,EACV,WAAeD,EACf,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,aAAgB,SAChB,KAAQ,cACR,KAAQ,OACR,QAAU,EACV,WAAeA,EACf,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,aAAgB,gBAChB,KAAQ,cACR,KAAQ,kBACR,QAAU,EACV,WAAc,CACXD,EACD,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,MACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,MACR,WAAc,OAGlB,WAAc,OAGlB,WAAc,OAGlB,MAAO,CACL,SAAY,CACV,oBAAwBD,EACxB,KAAQ,WACR,SAAY,KACZ,KAAQ,oCACR,WAAeG,EACf,KAAQ,QACR,YAAe,MAEjB,KAAQ,UACR,UAAa,CACX,oBAAwBH,EACxB,KAAQ,YACR,KAAQ,oCACR,WAAeG,GAEjB,OAAU,CACR,QAAW,mCACX,GAAM,KACN,SAAY,CAAC,EACb,KAAQ,oCACR,cAAiB,QACjB,KAAQ,obAGZ,CA9J+B,GAgK9BJ,EAAaU,KAAO,mCAErB,U,+CChMA,MAAMC,EAAYC,EA0BZC,GAA8BC,EAAAA,EAAAA,KAElCzG,UAAa,IAAD0G,EAAAC,EACZ,MAAM7M,QAAkB8M,EAAAA,GACxB,OAAO1L,IAAAA,QAA2B,QAAlBwL,EAAC5M,EAAUkI,eAAO,IAAA0E,OAAA,EAAjBA,EAAmBG,0BAEf,QADRF,EACT7M,EAAUkI,eAAO,IAAA2E,OADjBG,EACAH,EAAmBE,uBAAuB,IAG1CE,GAAqBN,EAAAA,EAAAA,KAEzBzG,UAAa,IAADgH,EAAAC,EACZ,MAAMnN,QAAkB8M,EAAAA,GACxB,OAAO1L,IAAAA,QAA2B,QAAlB8L,EAAClN,EAAUkI,eAAO,IAAAgF,OAAA,EAAjBA,EAAmBE,iBAEf,QADRD,EACTnN,EAAUkI,eAAO,IAAAiF,OADjBH,EACAG,EAAmBC,cAAc,IAEjCC,GACJrO,EAAAA,EAAAA,MAEoD,SAAAqJ,EAAAiF,GAAA,IAAAC,EAAA,MA0BvB,8BAAV,OAALD,QAAK,IAALA,OAAK,EAALA,EAAK3K,OACA,OAAL2K,QAAK,IAALA,GAAyB,QAApBC,EAALD,EAAKE,aAAoB,IAAAD,OAApB,EAALA,EAAAE,cAAoCC,SAAC,eAAc,CA3Bb,SAAAnF,EAAAoF,GAAA,IAAAC,EAAA,OAwBrC,OAALD,QAAK,IAALA,GAAmB,QAAdC,EAALD,EAAKE,cAAc,IAAAD,OAAd,EAALA,EAAAE,KACEzF,EAGD,CA5ByC,SAAAgD,EAAA0C,GAAA,IAAAC,EAAA,OAuBpC,OAARD,QAAQ,IAARA,GAAwB,QAAhBC,EAARD,EAAQE,cAAgB,IAAAD,OAAhB,EAARA,EAAAtH,OAAyB6B,EAMxB,CAsByC,SAAA2F,EAAAZ,GAAA,IAAAa,EAAA,MA2BrB,qBAAV,OAALb,QAAK,IAALA,OAAK,EAALA,EAAK3K,OACA,OAAL2K,QAAK,IAALA,GAAyB,QAApBa,EAALb,EAAKE,aAAoB,IAAAW,OAApB,EAALA,EAAAV,cAAoCC,SAAC,UAAS,CA5BV,SAAAU,EAAAT,GAAA,IAAAU,EAAA,OAyBnC,OAALV,QAAK,IAALA,GAAmB,QAAdU,EAALV,EAAKE,cAAc,IAAAQ,OAAd,EAALA,EAAAP,KACEI,EAGD,CA7BuC,SAAAI,EAAAP,GAAA,IAAAQ,EAAA,OAwBlC,OAARR,QAAQ,IAARA,GAAwB,QAAhBQ,EAARR,EAAQE,cAAgB,IAAAM,OAAhB,EAARA,EAAA7H,OAAyB0H,EAMxB,CC3GX,MAAMvC,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,cAEV,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,aAEV,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,uBAGZC,EAAK,CACH,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,wBACR,WAAc,OAGlBC,EAAK,CACH,CACE,MAAS,KACT,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,OACR,aAAgB,eAGpB,aAAgB,SAChB,KAAQ,cACR,KAAQ,SACR,QAAU,EACV,WAAeD,EACf,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,cACR,aAAgB,cAElB,CACE,KAAQ,WACR,KAAQ,KACR,aAAgB,cAGpB,aAAgB,QAChB,KAAQ,cACR,KAAQ,QACR,QAAU,EACV,WAAeA,EACf,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,OACR,aAAgB,uBAGpB,aAAgB,wBAChB,KAAQ,cACR,KAAQ,0BACR,QAAU,EACV,WAAeA,EACf,WAAc,OAGlB,MAAO,CACL,SAAY,CACV,oBAAwBD,EACxB,KAAQ,WACR,SAAY,KACZ,KAAQ,iEACR,WAAeE,EACf,KAAQ,QACR,YAAe,MAEjB,KAAQ,UACR,UAAa,CACX,oBAAwBF,EACxB,KAAQ,YACR,KAAQ,iEACR,WAAeE,GAEjB,OAAU,CACR,QAAW,mCACX,GAAM,KACN,SAAY,CAAC,EACb,KAAQ,iEACR,cAAiB,QACjB,KAAQ,0YAGZ,CA5G+B,GA8G9BH,EAAaU,KAAO,mCAErB,UCvHMV,EAAyB,WAC/B,IAAIC,EAAK,CACP,aAAgB,KAChB,KAAQ,gBACR,KAAQ,aAEVC,EAAK,CACH,aAAgB,KAChB,KAAQ,gBACR,KAAQ,cAEVC,EAAK,CACH,CACE,KAAQ,WACR,KAAQ,aACR,aAAgB,aAElB,CACE,KAAQ,WACR,KAAQ,cACR,aAAgB,eAGpBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,kBACR,WAAc,MAEhB,MAAO,CACL,SAAY,CACV,oBAAuB,CACpBH,EACAC,GAEH,KAAQ,WACR,SAAY,KACZ,KAAQ,qDACR,WAAc,CACZ,CACE,KAAQ,gBACR,MAAS,CACP,MAAS,KACT,KAASC,EACT,aAAgB,UAChB,KAAQ,cACR,KAAQ,UACR,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,gBACR,MAAUC,EACV,OAAU,UAGd,WAAc,MAEhB,OAAU,UAGd,KAAQ,QACR,YAAe,MAEjB,KAAQ,UACR,UAAa,CACX,oBAAuB,CACpBF,EACAD,GAEH,KAAQ,YACR,KAAQ,qDACR,WAAc,CACZ,CACE,MAAS,KACT,KAASE,EACT,aAAgB,UAChB,KAAQ,cACR,KAAQ,UACR,QAAU,EACV,WAAc,CACXC,EACD,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,OAGlB,WAAc,QAIpB,OAAU,CACR,QAAW,mCACX,GAAM,KACN,SAAY,CAAC,EACb,KAAQ,qDACR,cAAiB,QACjB,KAAQ,qNAGZ,CAvG+B,GAyG9BJ,EAAaU,KAAO,mCAErB,U,eC9HO,MAAMiC,EAAwCA,CACnDC,EACAC,EACAC,KACI,IAADC,EAAAC,EAAAC,EACH,MAAM9O,GAAYC,EAAAA,EAAAA,OACZ,QAAE8O,IACNC,EAAAA,EAAAA,kBAAgBC,EAYd,CACEC,WAAYT,EACZU,UAAWR,GAEb,CACES,YAAa,qBAGbC,GACJL,EAAAA,EAAAA,kBAAgBM,EAkBd,CACEJ,WAAYT,EACZC,YACAa,mBAA2B,OAAPR,QAAO,IAAPA,OAAO,EAAPA,EAASS,iBAE/B,CACEJ,YAAa,qBAIbK,EAAsCC,KAAKC,OACtB,OAAzBN,QAAyB,IAAzBA,GAAiC,QAART,EAAzBS,EAA2BZ,cAAM,IAAAG,OAAR,EAAzBA,EAAmCgB,wBAAyB,MAExDC,EAAqCH,KAAKC,OACrB,OAAzBN,QAAyB,IAAzBA,GAAgC,QAAPR,EAAzBQ,EAA2BS,aAAK,IAAAjB,OAAP,EAAzBA,EAAkCe,wBAAyB,MAEvDG,EAA6CL,KAAKC,OAC7B,OAAzBN,QAAyB,IAAzBA,GAAkD,QAAzBP,EAAzBO,EAA2BW,+BAAuB,IAAAlB,OAAzB,EAAzBA,EAAoDc,wBAClD,OAOIK,KAAMC,IAAcC,EAAAA,EAAAA,GAAiB,CAC3CC,SAAU,CAAC,aACXC,QAASnK,eACMlG,EAAU0J,QAAQ4G,aAEjCC,UAAW,IACXC,OAAQ,IAEJC,EAAkC3J,OAAO4J,OAC7C,CAAC,KACER,EAAUS,QAAQ/K,KAAKgL,IACxB,MAAO,CACL,CAACA,IAhBeC,EAgBO,CACrBpB,EAAoCmB,GACpCf,EAAmCe,GACnCb,EAA2Ca,IAnBd,IAChC,IAAIE,IAAI,GAAGpL,UAAUmL,EAAInK,OAAO6C,cADfsH,KAqBjB,KAIL,MAAO,CACLE,8BAA+BtB,EAC/BuB,6BAA8BnB,EAC9BoB,sCACElB,EACFU,kCACD,E,gEC+EH,GA1J4D9I,IAAA,IAAAiF,EAAA,MAAArF,GAAAC,EAAAA,EAAAA,GAAC,IAAD,IAAA0J,EAAApJ,EAAAqJ,EAAA,GAAA5J,EAAA,KAAAI,EAAA,KAAAyJ,EAACzJ,IAI5D0J,UAAAvJ,EAAAqJ,gBAAAC,GAAAF,GAAAI,EAAAA,EAAAA,GAAAF,EAAAG,IAAAhK,EAAA,GAAAI,EAAAJ,EAAA,GAAA2J,EAAA3J,EAAA,GAAAO,EAAAP,EAAA,GAAA4J,CAAA,MAAAD,EAAA3J,EAAA,GAAAO,EAAAP,EAAA,GAAA4J,EAAA5J,EAAA,GAHC,MAAA8J,OAAArE,IAAAlF,GAAAA,GAKK,EAALnI,IAAcC,EAAAA,EAAAA,OACT,QAALyF,EAAA,MAAAmM,GAA2BC,EAAAA,EAAGC,UACzB,OAALC,IAAmBC,EAAAA,EAAAA,OAEnBC,GAAsBC,EAAAA,EAAAA,MAEtB9R,GAAkBC,EAAAA,EAAAA,MAClB8R,GAAsBC,EAAAA,EAAAA,MACtBC,GAAuBC,EAAAA,EAAAA,MACvBC,EAAsC,OAATnS,QAAS,IAATA,GAA6B,QAApB4M,EAAT5M,EAASkI,eAAoB,IAAA0E,OAApB,EAATA,EAAAuC,WACxB,gCAALsB,GACEjC,EACEuD,EACAE,EAAc3K,GACd6K,IAGC,gBAALC,IAA4BC,EAAAA,EAAAA,QACvB,wBAALC,EAAA,0BAAAC,IACEC,EAAAA,EAAAA,KAEFC,EJEoDC,MAAA,MAAAnL,GAAAC,EAAAA,EAAAA,GAAC,IAErDuF,EAAA4F,IAA8DlS,EAAAA,EAAAA,IAC5DiM,GAEFkG,GAAiBC,EAAAA,EAAAA,uBAAsB,IAAAlL,EAAAJ,EAAA,KAAAwF,GAAAxF,EAAA,KAAAqL,GAAArL,EAAA,KAAAoL,GAEPhL,EAAAA,UACEqF,IAA5BD,IAGF+F,EAAAA,EAAAA,YACEF,EACApG,EACA,CAAAuG,WACa,GAEb,CAAA3D,YACe,qBAEhB4D,YACaC,KACN5H,GAQL4H,MACK/M,UACJ,MAAAgN,EAAmB9R,IAAAA,MAAQ+R,GAC3BR,EACEO,GAAaE,EAAAA,EAAAA,IAAiBF,GAA9B,KACD,IACDG,OACK,KAELV,EAA2B,KAAK,GAC/B,EAERpL,EAAA,GAAAwF,EAAAxF,EAAA,GAAAqL,EAAArL,EAAA,GAAAoL,EAAApL,EAAA,GAAAI,GAAAA,EAAAJ,EAAA,GAnCD,MAAA+L,GAAiBC,EAAAA,EAAAA,gBAAe5L,GAmC7B,IAAAG,EAIFgB,EAAM,OAJJvB,EAAA,KAAA+L,GAEOxL,EAAAA,KACRwL,GAAU,EACX/L,EAAA,GAAA+L,EAAA/L,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAAAA,EAAA,KAAAiM,OAAAC,IAAA,8BAAE3K,EAAA,GAAEvB,EAAA,GAAAuB,GAAAA,EAAAvB,EAAA,IAFLrD,EAAAA,EAAAA,WAAU4D,EAEPgB,GAEIiE,CAAuB,EIlDL2F,GAAyC,IAAA5J,EAAAvB,EAAA,KAAAiM,OAAAC,IAAA,8BAGhE3K,EAAA4K,EAKCnM,EAAA,GAAAuB,GAAAA,EAAAvB,EAAA,GANH,MAAAmC,GAAgBiK,EAAAA,EAAAA,aACd7K,EAMAqI,GACA,IAAA5F,EAAA,IAAAqI,EAAArM,EAAA,KAAAkJ,GAAAlJ,EAAA,KAAAmC,EAAAmK,MAE0BtI,EAAAnK,IAAAA,SAC1BqP,EAAmD,QAApBmD,EAAQ,OAAPlK,QAAO,IAAPA,OAAO,EAAPA,EAAOmK,YAAY,IAAAD,EAAAA,EAAnB,IAChC,oBACDrM,EAAA,GAAAkJ,EAAAlJ,EAAA,GAAAmC,EAAAmK,KAAAtM,EAAA,GAAAgE,GAAAA,EAAAhE,EAAA,GAHD,MAAAuM,EAA4BvI,EAG1B,IAAAwI,EAAAxM,EAAA,KAAAkL,GAAAlL,EAAA,KAAAuM,GAAAvM,EAAA,MAAA8J,GAAA9J,EAAA,MAAA5H,GAEsBoU,EAAAA,IACjBD,EAE2B,OAArBrB,EACF9S,EAAE,gDACC0R,GAADoB,EACF9S,EAAE,oCACG,GALLA,EAAE,2CAMZ4H,EAAA,GAAAkL,EAAAlL,EAAA,GAAAuM,EAAAvM,EAAA,IAAA8J,EAAA9J,EAAA,IAAA5H,EAAA4H,EAAA,IAAAwM,GAAAA,EAAAxM,EAAA,IARD,MAAAyM,EAAwBD,EAQtB,IAAAE,GAAA1M,EAAA,MAAAkL,GAAAlL,EAAA,MAAAmC,EAAApC,IAGqC2M,GAAAA,KAAA,CAAqCC,YAAA,eAAAxO,QAC9CkC,EAAAA,EAAAA,KAAU8B,EAAOpC,IAAP,KAAiB6M,YAC1C,cAAaC,aACZ,CAAAC,QACH5B,GAAA,IACV6B,iBACiB,mBAAkBC,aACtB,cAAaC,aACb,EAACC,UACJ,EAAC7M,EAAAA,EAAAA,KAAU8B,EAAOpC,IAAP,IAAiBoN,WAAY,IAAK,KAAIC,eAC7C,IACfpN,EAAA,IAAAkL,EAAAlL,EAAA,IAAAmC,EAAApC,GAAAC,EAAA,IAAA0M,IAAAA,GAAA1M,EAAA,IAXF,MAAAqN,GAAuCX,GAWpC,IAAAY,GAGgCC,GAchBC,GAjBhBxN,EAAA,MAAAyM,GAGea,GAAAb,IAAiBzM,EAAA,IAAAyM,EAAAzM,EAAA,IAAAsN,IAAAA,GAAAtN,EAAA,IAAAA,EAAA,MAAAkL,GAUrBqC,GAAArC,OAAAzF,EAAA,CAAAtG,OAGc,mBACTa,EAAA,IAAAkL,EAAAlL,EAAA,IAAAuN,IAAAA,GAAAvN,EAAA,IAAAA,EAAA,MAAAuN,IAVTC,IAAAtR,EAAAA,EAAAA,KAACuR,EAAAA,EAAK,CACEC,MAAA,OACFC,IAAA,mCACAC,IAAA,eACKC,SAAA,EAEPxR,MAAAkR,KAMFvN,EAAA,IAAAuN,GAAAvN,EAAA,IAAAwN,IAAAA,GAAAxN,EAAA,IAEM,MAAA8N,IAAC5C,IAAqBqB,EAAmB,IAAAwB,GAiClDC,GAGkDC,GApCAjO,EAAA,MAAAqN,IAAArN,EAAA,MAAAkL,GAAAlL,EAAA,MAAA6K,GAAA7K,EAAA,MAAAoK,GAAApK,EAAA,MAAAlC,GAAAkC,EAAA,MAAAiK,GAAAjK,EAAA,MAAA+K,GAAA/K,EAAA,MAAA5H,GAAA4H,EAAA,MAAAgL,GAAAhL,EAAA,MAAAmC,EAAApC,IAC3CgO,GAAApP,UACN,IAAKuM,EAAgB,OAGrB,MAAAgD,EAA6Bb,WACvBtC,EAAwBmD,GAAqBxC,MAC3CyC,IAWJ,GAVW,OAAPA,QAAO,IAAPA,GAAAA,EAAOC,WAAeD,EAAOC,UAAUvT,OAAU,GACnDmQ,EAA0BmD,EAAOC,UAAY,CAC3C,CAAAhT,IAAA,eAAA+C,QACsBkC,EAAAA,EAAAA,KAAU8B,EAAOpC,IAAP,KAAiBsO,UACpC,CAAAC,QACA,kBAKN,OAAPH,QAAO,IAAPA,GAAAA,EAAOvO,UAAcuO,EAAOvO,SAAS/E,OAAU,EAAE,CACnD,MAAA0T,EAAcJ,EAAOvO,SAAU,GAAE4O,OACjCvE,EAAKsE,MAAO,CAAAE,MACE,OAALF,QAAK,IAALA,OAAK,EAALA,EAAKE,MAAOC,QACV7D,EAAgB0D,IACxB,KAELzC,OACK6C,IACLvE,EAAMmE,MACJ,4CACAA,GAEFzQ,EAAOyQ,MAAOnW,EAAE,yBAAyB,GACzC,EACL4H,EAAA,IAAAqN,GAAArN,EAAA,IAAAkL,EAAAlL,EAAA,IAAA6K,EAAA7K,EAAA,IAAAoK,EAAApK,EAAA,IAAAlC,EAAAkC,EAAA,IAAAiK,EAAAjK,EAAA,IAAA+K,EAAA/K,EAAA,IAAA5H,EAAA4H,EAAA,IAAAgL,EAAAhL,EAAA,IAAAmC,EAAApC,GAAAC,EAAA,IAAA+N,IAAAA,GAAA/N,EAAA,IAAAA,EAAA,MAAA8J,GAAA9J,EAAA,MAAA5H,GAGA4V,GAAAlE,GAAa1R,EAAE,oCAAmC4H,EAAA,IAAA8J,EAAA9J,EAAA,IAAA5H,EAAA4H,EAAA,IAAAgO,IAAAA,GAAAhO,EAAA,IAAAA,EAAA,MAAA2J,GAAA3J,EAAA,MAAA+N,IAAA/N,EAAA,MAAAgO,IAAAhO,EAAA,MAAAwN,IAAAxN,EAAA,MAAA8N,IApDrDG,IAAA/R,EAAAA,EAAAA,KAAC0S,EAAAA,KAAS1W,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAEN2W,KAAArB,GAcQsB,SAAAhB,GACFiB,OAAAhB,IAiCJpE,GAAW,IAAA5N,SAEdiS,MACShO,EAAA,IAAA2J,EAAA3J,EAAA,IAAA+N,GAAA/N,EAAA,IAAAgO,GAAAhO,EAAA,IAAAwN,GAAAxN,EAAA,IAAA8N,GAAA9N,EAAA,IAAAiO,IAAAA,GAAAjO,EAAA,IAEA,MAAAgP,IAAC9D,IAAqBqB,EAAmB,IAAA0C,GACjCC,GAKuBC,GAUlCC,GAGNC,GAEwCC,GAChCC,GACGC,GACR,OAxB+CxP,EAAA,MAAAiM,OAAAC,IAAA,8BAC1C+C,GAAA,CAAC,SAAQjP,EAAA,IAAAiP,IAAAA,GAAAjP,EAAA,IAAAA,EAAA,MAAA5H,GAKL8W,GAAA9W,EAAE,2BAA0B4H,EAAA,IAAA5H,EAAA4H,EAAA,IAAAkP,IAAAA,GAAAlP,EAAA,IAAAA,EAAA,MAAAqN,IAAArN,EAAA,MAAAsK,GAC1B6E,GAAAA,KACP,MAAAM,EAAsBpC,KACtBqC,EAAe,IAAIvO,gBACnBuO,EAAM3X,IAAK,aAAcoQ,KAAIwH,UAAWF,IACxCC,EAAM3X,IAAK,OAAQ,KACnBuS,EAAc,CAAAsF,SACF,iBAAgB1O,OAClBwO,EAAMrO,YACd,EACHrB,EAAA,IAAAqN,GAAArN,EAAA,IAAAsK,EAAAtK,EAAA,IAAAmP,IAAAA,GAAAnP,EAAA,IAAAA,EAAA,MAAAkP,IAAAlP,EAAA,MAAAmP,IAdDC,GAAA,CAAAS,MACG,CACL,CAAAzU,IACO,SAAQ2K,MACNmJ,GAA4BhR,QAC1BiR,MAYdnP,EAAA,IAAAkP,GAAAlP,EAAA,IAAAmP,GAAAnP,EAAA,IAAAoP,IAAAA,GAAApP,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAEDmD,IAAAnT,EAAAA,EAAAA,KAAC0S,EAAAA,IAAS,CAAOC,MAAA3S,EAAAA,EAAAA,KAAC4T,EAAAA,EAAgB,MAAO9P,EAAA,IAAAqP,IAAAA,GAAArP,EAAA,IAAAA,EAAA,MAAAgP,IAAAhP,EAAA,MAAAoP,IAtB3CE,IAAApT,EAAAA,EAAAA,KAAC6T,EAAAA,EAAQ,CACGjB,SAAAE,GACDgB,QAAAf,GACHgB,KAAAb,GAiBLrT,SAEDsT,KACSrP,EAAA,IAAAgP,GAAAhP,EAAA,IAAAoP,GAAApP,EAAA,IAAAsP,IAAAA,GAAAtP,EAAA,IAAAA,EAAA,MAAAiO,IAAAjO,EAAA,MAAAsP,IA9EbC,IAAA5T,EAAAA,EAAAA,MAAAuU,EAAAA,EAAAC,QAAA,CAAApU,SAAA,CACEkS,GAsDAqB,MAwBctP,EAAA,IAAAiO,GAAAjO,EAAA,IAAAsP,GAAAtP,EAAA,IAAAuP,IAAAA,GAAAvP,EAAA,IAAAA,EAAA,MAAAuP,IAAAvP,EAAA,MAAAsN,IAhFlBkC,IAAAtT,EAAAA,EAAAA,KAACkU,EAAAA,EAAO,CAAQ3B,MAAAnB,GAAiBvR,SAC/BwT,KAgFQvP,EAAA,IAAAuP,GAAAvP,EAAA,IAAAsN,GAAAtN,EAAA,IAAAwP,IAAAA,GAAAxP,EAAA,IAjFVwP,EAiFU,EC5JRlL,GAAuB,CAC3B,oBAAuB,GACvB,KAAQ,WACR,SAAY,KACZ,KAAQ,2BACR,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,OAGlB,KAAQ,oBACR,YAAe,KAGhBA,KAAoB,oCAErB,M,gCCkJA,GA5K0DlE,IAAA,IAAAiF,EAAAgL,EAAA,MAAArQ,GAAAC,EAAAA,EAAAA,GAAC,IAAD,IAAA0J,EAAApJ,EAAAqJ,EAAA,GAAA5J,EAAA,KAAAI,EAAA,KAAAyJ,EAACzJ,IAI1D0J,UAAAvJ,EAAAqJ,gBAAAC,GAAAF,GAAAI,EAAAA,EAAAA,GAAAF,EAAAG,IAAAhK,EAAA,GAAAI,EAAAJ,EAAA,GAAA2J,EAAA3J,EAAA,GAAAO,EAAAP,EAAA,GAAA4J,CAAA,MAAAD,EAAA3J,EAAA,GAAAO,EAAAP,EAAA,GAAA4J,EAAA5J,EAAA,GAHC,MAAA8J,OAAArE,IAAAlF,GAAAA,GAMK,OAAL6J,IAAmBC,EAAAA,EAAAA,QACd,EAALjS,IAAcC,EAAAA,EAAAA,OACT,QAALyF,EAAA,MAAAmM,GAA2BC,EAAAA,EAAGC,SAE9BG,GAAsBC,EAAAA,EAAAA,MAEtB9R,GAAkBC,EAAAA,EAAAA,MAClB8R,GAAsBC,EAAAA,EAAAA,MACtBC,GAAuBC,EAAAA,EAAAA,MACvBC,EAAsC,OAATnS,QAAS,IAATA,GAA6B,QAApB4M,EAAT5M,EAASkI,eAAoB,IAAA0E,OAApB,EAATA,EAAAuC,WACxB,gCAALsB,GACEjC,EACEuD,EACAE,EAAc3K,GACd6K,IAEJjC,UAAA2H,IACEC,EAAAA,EAAAA,OAEG,gBAAL1F,IAA4BC,EAAAA,EAAAA,QACvB,wBAALC,EAAA,0BAAAC,IACEC,EAAAA,EAAAA,MAEG,eAALpF,GNgDkD2K,MAAA,MAAAxQ,GAAAC,EAAAA,EAAAA,GAAC,KAEnD4F,EAAA4K,IAA4CvX,EAAAA,EAAAA,IAAQwM,IACpDgL,EAAAC,IAAoDzX,EAAAA,EAAAA,IAClD4M,GAEFuF,GAAiBC,EAAAA,EAAAA,uBAAsB,IAAAlL,EAAAJ,EAAA,KAAAqL,GAAArL,EAAA,KAAAyQ,GAAAzQ,EAAA,KAAA2Q,GAAA3Q,EAAA,KAAA6F,GAEPzF,EAAAA,UACPqF,IAAnBI,IAGF0F,EAAAA,EAAAA,YACEF,EACApG,EACA,CAAAuG,WACa,GAEb,CAAA3D,YACe,qBAEhB4D,YACaC,KACN3E,GAQL2E,MACK/M,UACJ,MAAAgN,EAAmB9R,IAAAA,MAAQ+W,GAC3BH,EAAkB9E,GAAaE,EAAAA,EAAAA,IAAiBF,GAA9B,MAClBgF,EAAsBhF,QAAAlG,EAAwB,IAC9CqG,OACK,KAEL2E,EAAkB,KAAK,GACtB,EAERzQ,EAAA,GAAAqL,EAAArL,EAAA,GAAAyQ,EAAAzQ,EAAA,GAAA2Q,EAAA3Q,EAAA,GAAA6F,EAAA7F,EAAA,GAAAI,GAAAA,EAAAJ,EAAA,GAlCD,MAAA+L,GAAiBC,EAAAA,EAAAA,gBAAe5L,GAkC7B,IAAAG,EAIFgB,EAAKyC,EAEuC,OAN1ChE,EAAA,KAAA+L,GAEOxL,EAAAA,KACRwL,GAAU,EACX/L,EAAA,GAAA+L,EAAA/L,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAAAA,EAAA,KAAAiM,OAAAC,IAAA,8BAAE3K,EAAA,GAAEvB,EAAA,GAAAuB,GAAAA,EAAAvB,EAAA,IAFLrD,EAAAA,EAAAA,WAAU4D,EAEPgB,GAAGvB,EAAA,KAAA6F,GAAA7F,EAAA,KAAA0Q,GAEC1M,EAAA,CAAA6B,iBAAA6K,sBAAsC1Q,EAAA,GAAA6F,EAAA7F,EAAA,GAAA0Q,EAAA1Q,EAAA,IAAAgE,GAAAA,EAAAhE,EAAA,IAAtCgE,CAAsC,EMhGlBwM,GAAuC,IAAAjP,EAAAvB,EAAA,KAAAiM,OAAAC,IAAA,8BAGhE3K,EAAAsP,GAMC7Q,EAAA,GAAAuB,GAAAA,EAAAvB,EAAA,GAPH,MAAAmC,GAAgBiK,EAAAA,EAAAA,aACd7K,EAOAqI,GAKFkH,EAC2B,OAAzBR,QAAyB,IAAzBA,GACuB,QADED,EAAzBC,EAAyBS,aAAqB,OAAP5O,QAAO,IAAPA,OAAO,EAAPA,EAAOmK,OAAP,WAChB,IAAA+D,OADE,EAAzBA,EAAAW,oBACwB,IAAAhN,EAAA,IAAAqI,EAAArM,EAAA,KAAAkJ,GAAAlJ,EAAA,aAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAAmK,OAGEtI,EAAAnK,IAAAA,SAC1BqP,EAAmD,QAApBmD,EAAQ,OAAPlK,QAAO,IAAPA,OAAO,EAAPA,EAAOmK,YAAY,IAAAD,EAAAA,EAAnB,IAChC,oBACDrM,EAAA,GAAAkJ,EAAAlJ,EAAA,UAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAAmK,KAAAtM,EAAA,GAAAgE,GAAAA,EAAAhE,EAAA,GAHD,MAAAuM,GAA4BvI,EAG1B,IAAAwI,GAAAxM,EAAA,KAAAuM,IAAAvM,EAAA,KAAA8Q,GAAA9Q,EAAA,MAAA8J,GAAA9J,EAAA,MAAA6F,GAAA7F,EAAA,MAAA5H,GAEsBoU,GAAAA,IACjBD,GAEM1S,IAAAA,QAAUiX,GACZ1Y,EAAE,8CACCyN,GAEAiE,GAADjE,EACFzN,EAAE,mCACG,GAHLA,EAAE,iDAJFA,EAAE,2CAQZ4H,EAAA,GAAAuM,GAAAvM,EAAA,GAAA8Q,EAAA9Q,EAAA,IAAA8J,EAAA9J,EAAA,IAAA6F,EAAA7F,EAAA,IAAA5H,EAAA4H,EAAA,IAAAwM,IAAAA,GAAAxM,EAAA,IAVD,MAAAyM,GAAwBD,GAUtB,IAAAE,GAAA1M,EAAA,MAAAvH,EAAAkI,SAAAX,EAAA,cAAA8Q,QAAA,IAAAA,OAAA,EAAAA,EAAA,KAAA9Q,EAAA,MAAA6F,GAAA7F,EAAA,cAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAApC,KAG8B2M,GAAAA,KAAA,IAAApH,EAAAK,EAAA,OAAAzN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAADyU,YAAA,QAAAxO,QACTkC,EAAAA,EAAAA,MAAiB,OAAP8B,QAAO,IAAPA,OAAO,EAAPA,EAAOpC,KAAP,KAAkB6M,YACpC,UACwB,QAAjCtH,EAAA7M,EAASkI,eAAwB,IAAA2E,GAAjCA,EAAAO,gBACkD,QAAAF,EAAtDlN,EAASkI,eAA6C,IAAAgF,GADlDA,EAAAsL,oCAAA,CAAApE,aAGgB,CAAAqE,OACJzY,EAASkI,QAAQkF,iBAJ7B,CAAAgH,aAQgB,CAAAC,QACHjH,GAAA,MAEV,CAAF,GAAAmH,aACS,cAAaC,aACb,EAACC,UACJ,EAAC7M,EAAAA,EAAAA,MAAiB,OAAP8B,QAAO,IAAPA,OAAO,EAAPA,EAAOpC,KAAP,IAAkBoN,WAAY,IAAK,KAAIgE,cACd,OAAhCL,QAAgC,IAAhCA,OAAgC,EAAhCA,EAAgC,GAAK1D,eACrC,GAAI,EACnBpN,EAAA,IAAAvH,EAAAkI,QAAAX,EAAA,WAAA8Q,QAAA,IAAAA,OAAA,EAAAA,EAAA,GAAA9Q,EAAA,IAAA6F,EAAA7F,EAAA,WAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAApC,GAAAC,EAAA,IAAA0M,IAAAA,GAAA1M,EAAA,IApBF,MAAAoR,GAAgC1E,GAoB7B,IAAAY,GAGgCC,GAMLC,GAQlBM,GA6BHC,GAGiDC,GACxCC,GAKYe,GAEJC,GAKuBC,GAUlCC,GAGNC,GAEwCC,GAChCC,GACGC,GACR,OAhFTvP,EAAA,MAAAyM,IAGea,GAAAb,KAAiBzM,EAAA,IAAAyM,GAAAzM,EAAA,IAAAsN,IAAAA,GAAAtN,EAAA,IAAAA,EAAA,MAAAuM,IAAAvM,EAAA,MAAA8Q,GAAA9Q,EAAA,MAAA6F,GAIzB0H,GAAA1T,IAAAA,QAAUiX,KACTjL,IACA0G,GAAmBvM,EAAA,IAAAuM,GAAAvM,EAAA,IAAA8Q,EAAA9Q,EAAA,IAAA6F,EAAA7F,EAAA,IAAAuN,IAAAA,GAAAvN,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAGpBsB,IAAAtR,EAAAA,EAAAA,KAACuR,EAAAA,EAAK,CACEC,MAAA,OACFC,IAAA,4BACAC,IAAA,aACKC,SAAA,IACT7N,EAAA,IAAAwN,IAAAA,GAAAxN,EAAA,IAAAA,EAAA,MAAAoR,IAAApR,EAAA,MAAA6K,GAAA7K,EAAA,MAAAoK,GAAApK,EAAA,MAAAlC,GAAAkC,EAAA,MAAAiK,GAAAjK,EAAA,MAAA+K,GAAA/K,EAAA,MAAA5H,GAAA4H,EAAA,MAAAgL,GAAAhL,EAAA,cAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAApC,KAEI+N,GAAAnP,UACN,MAAA0S,EAAwBD,WAClBrG,EAAwBsG,GAAgB3F,MACtCyC,IASJ,GARW,OAAPA,QAAO,IAAPA,GAAAA,EAAOC,WAAeD,EAAOC,UAAUvT,OAAU,GAEnDmQ,EAA0BmD,EAAOC,UAAY,CAC3C,CAAAhT,IAAA,QAAA+C,QACekC,EAAAA,EAAAA,MAAiB,OAAP8B,QAAO,IAAPA,OAAO,EAAPA,EAAOpC,KAAP,QAIlB,OAAPoO,QAAO,IAAPA,GAAAA,EAAOvO,UAAcuO,EAAOvO,SAAS/E,OAAU,EAAE,CACnD,MAAA0T,EAAcJ,EAAOvO,SAAU,GAAE4O,OACjCvE,EAAKsE,MAAO,CAAAE,MACE,OAALF,QAAK,IAALA,OAAK,EAALA,EAAKE,MAAOC,QACV7D,EAAgB0D,IACxB,KAELzC,OACK6C,IACLvE,EAAMmE,MACJ,4CACAA,GAEFzQ,EAAOyQ,MAAOnW,EAAE,yBAAyB,GACzC,EACL4H,EAAA,IAAAoR,GAAApR,EAAA,IAAA6K,EAAA7K,EAAA,IAAAoK,EAAApK,EAAA,IAAAlC,EAAAkC,EAAA,IAAAiK,EAAAjK,EAAA,IAAA+K,EAAA/K,EAAA,IAAA5H,EAAA4H,EAAA,IAAAgL,EAAAhL,EAAA,WAAAmC,QAAA,IAAAA,OAAA,EAAAA,EAAApC,GAAAC,EAAA,IAAA8N,IAAAA,GAAA9N,EAAA,IAAAA,EAAA,MAAA8J,GAAA9J,EAAA,MAAA5H,GAGA2V,GAAAjE,GAAa1R,EAAE,mCAAkC4H,EAAA,IAAA8J,EAAA9J,EAAA,IAAA5H,EAAA4H,EAAA,IAAA+N,IAAAA,GAAA/N,EAAA,IAAAA,EAAA,MAAA2J,GAAA3J,EAAA,MAAA+N,IAAA/N,EAAA,MAAAuN,IAAAvN,EAAA,MAAA8N,IA5CpDE,IAAA9R,EAAAA,EAAAA,KAAC0S,EAAAA,KAAS1W,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAEN4W,SAAAvB,GAKAsB,KAAArB,GAOMuB,OAAAjB,IA4BJnE,GAAW,IAAA5N,SAEdgS,MACS/N,EAAA,IAAA2J,EAAA3J,EAAA,IAAA+N,GAAA/N,EAAA,IAAAuN,GAAAvN,EAAA,IAAA8N,GAAA9N,EAAA,IAAAgO,IAAAA,GAAAhO,EAAA,IAAAA,EAAA,MAAAuM,IAAAvM,EAAA,MAAA8Q,GAAA9Q,EAAA,MAAA6F,GAGRoI,GAAApU,IAAAA,QAAUiX,KACTjL,IACA0G,GAAmBvM,EAAA,IAAAuM,GAAAvM,EAAA,IAAA8Q,EAAA9Q,EAAA,IAAA6F,EAAA7F,EAAA,IAAAiO,IAAAA,GAAAjO,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAEb8C,GAAA,CAAC,SAAQhP,EAAA,IAAAgP,IAAAA,GAAAhP,EAAA,IAAAA,EAAA,MAAA5H,GAKL6W,GAAA7W,EAAE,2BAA0B4H,EAAA,IAAA5H,EAAA4H,EAAA,IAAAiP,IAAAA,GAAAjP,EAAA,IAAAA,EAAA,MAAAoR,IAAApR,EAAA,MAAAsK,GAC1B4E,GAAAA,KACP,MAAAO,EAAsB2B,KACtB1B,EAAe,IAAIvO,gBACnBuO,EAAM3X,IAAK,aAAcoQ,KAAIwH,UAAWF,IACxCC,EAAM3X,IAAK,OAAQ,KACnBuS,EAAc,CAAAsF,SACF,iBAAgB1O,OAClBwO,EAAMrO,YACd,EACHrB,EAAA,IAAAoR,GAAApR,EAAA,IAAAsK,EAAAtK,EAAA,IAAAkP,IAAAA,GAAAlP,EAAA,IAAAA,EAAA,MAAAiP,IAAAjP,EAAA,MAAAkP,IAdDC,GAAA,CAAAU,MACG,CACL,CAAAzU,IACO,SAAQ2K,MACNkJ,GAA4B/Q,QAC1BgR,MAYdlP,EAAA,IAAAiP,GAAAjP,EAAA,IAAAkP,GAAAlP,EAAA,IAAAmP,IAAAA,GAAAnP,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAEDkD,IAAAlT,EAAAA,EAAAA,KAAC0S,EAAAA,IAAS,CAAOC,MAAA3S,EAAAA,EAAAA,KAAC4T,EAAAA,EAAgB,MAAO9P,EAAA,IAAAoP,IAAAA,GAAApP,EAAA,IAAAA,EAAA,MAAAiO,IAAAjO,EAAA,MAAAmP,IA1B3CE,IAAAnT,EAAAA,EAAAA,KAAC6T,EAAAA,EAAQ,CAELjB,SAAAb,GAIO+B,QAAAhB,GACHiB,KAAAd,GAiBLpT,SAEDqT,KACSpP,EAAA,IAAAiO,GAAAjO,EAAA,IAAAmP,GAAAnP,EAAA,IAAAqP,IAAAA,GAAArP,EAAA,IAAAA,EAAA,MAAAgO,IAAAhO,EAAA,MAAAqP,IA1EbC,IAAA3T,EAAAA,EAAAA,MAAAuU,EAAAA,EAAAC,QAAA,CAAApU,SAAA,CACEiS,GA8CAqB,MA4BcrP,EAAA,IAAAgO,GAAAhO,EAAA,IAAAqP,GAAArP,EAAA,IAAAsP,IAAAA,GAAAtP,EAAA,IAAAA,EAAA,MAAAsP,IAAAtP,EAAA,MAAAsN,IA5ElBiC,IAAArT,EAAAA,EAAAA,KAACkU,EAAAA,EAAO,CAAQ3B,MAAAnB,GAAiBvR,SAC/BuT,KA4EQtP,EAAA,IAAAsP,GAAAtP,EAAA,IAAAsN,GAAAtN,EAAA,IAAAuP,IAAAA,GAAAvP,EAAA,IA7EVuP,EA6EU,E,gECtLd,MA0GA,GA1GkEnP,IAAA,MAAAJ,GAAAC,EAAAA,EAAAA,GAAC,sBAAAqR,EAAA,WAAAC,GAAAnR,GAM5D,MAAL9H,GAAkBC,GAAAA,EAAKC,YAClB,GAALgZ,GAAeC,GAAAA,GAAIC,gBAAiB,IAAAnR,EAAAP,EAAA,KAAAiM,OAAAC,IAAA,8BAGlC3L,EAAAoR,EAaC3R,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAdH,MAAA4R,GAAoBxF,EAAAA,EAAAA,aAClB7L,EAcA+Q,GACA,IAAA/P,EAO0ByC,EAMiCwI,EAoBtDE,EA0BAY,EACOC,EAeAC,EACAM,EACF,OA7EV9N,EAAA,KAAAiM,OAAAC,IAAA,8BAOS3K,EAAA,CAAAmM,MAAS,QAAQ1N,EAAA,GAAAuB,GAAAA,EAAAvB,EAAA,GAAAA,EAAA,KAAAuR,GAMfvN,GAAA9L,EAAAA,EAAAA,GAAA,CAAA2Z,KAAQ,EAAC7T,WAAc,UAAauT,GAAYvR,EAAA,GAAAuR,EAAAvR,EAAA,GAAAgE,GAAAA,EAAAhE,EAAA,GAAAA,EAAA,KAAA1H,EAAAwZ,cAAA9R,EAAA,KAAA1H,EAAAyZ,sBAAA/R,EAAA,KAAA1H,EAAA0Z,kBAAAhS,EAAA,KAAA1H,EAAA2Z,kBAAAjS,EAAA,KAAA4R,GAEtDpF,EAAAoF,GAAA1V,EAAAA,EAAAA,KACEgW,GAAAA,EAAoB,CACQN,0BAAAA,EACpBvV,MAAA,CAAAC,SACKhE,EAAK2Z,qBAJpB/V,EAAAA,EAAAA,KAQEN,EAAAA,IAAO,CACCS,MAAA,CAAA8V,YACQ7Z,EAAKyZ,qBAAqBK,YAC1B,EAACC,YACD,QAAO3E,MACbpV,EAAK0Z,iBAAiBM,OACrBha,EAAK0Z,iBAAiBF,aAChBxZ,EAAKwZ,gBAGxB9R,EAAA,GAAA1H,EAAAwZ,aAAA9R,EAAA,GAAA1H,EAAAyZ,qBAAA/R,EAAA,GAAA1H,EAAA0Z,iBAAAhS,EAAA,GAAA1H,EAAA2Z,iBAAAjS,EAAA,GAAA4R,EAAA5R,EAAA,GAAAwM,GAAAA,EAAAxM,EAAA,GAAAA,EAAA,MAAA4R,GACAlF,EAAAkF,IAAA1V,EAAAA,EAAAA,KACEqW,EAAAA,EAAmB,CACJX,aAAAA,EACFY,YAAA,EACDC,UAAAzW,GAAAA,EAAU0W,MACdC,MAAA,EACAtW,MAAA,CAAAuW,OACG,EAAClF,MACF,QAETvR,UAAA,EACU0W,SAAA,CAAAC,YACK,CAAC,OAAQ,SAEZC,WAAA,CAAA5V,KACJ,QAAO6V,MACN,CAAA7O,IACA,GAAE8O,MACD,GACP5W,MACM,CAAA2B,WACO,aAInBgC,EAAA,IAAA4R,EAAA5R,EAAA,IAAA0M,GAAAA,EAAA1M,EAAA,IAAAA,EAAA,MAAAgE,GAAAhE,EAAA,MAAAwM,GAAAxM,EAAA,MAAA0M,GAlDHY,GAAA3R,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CACM,sCACPsX,IAAA,KAEE7W,MAAA2H,EAAgDjI,SAAA,CAEtDyQ,EAmBAE,KA0BO1M,EAAA,IAAAgE,EAAAhE,EAAA,IAAAwM,EAAAxM,EAAA,IAAA0M,EAAA1M,EAAA,IAAAsN,GAAAA,EAAAtN,EAAA,IAAAA,EAAA,MAAAwR,GAAAxR,EAAA,MAAA4R,GAMPrE,GAAAqE,GAA2B,OAAXA,QAAW,IAAXA,GAAAA,EAAWuB,eAA3B,MAAAxX,EAAAA,EAAAA,MACEyX,EAAAA,SAAQ,CAAWC,UAAAnX,EAAAA,EAAAA,KAAAoX,GAAAA,EAAAC,OAAA,CAAiBC,QAAA,IAASzX,SAAA,EAC5CG,EAAAA,EAAAA,KAACuX,EAAAA,EAA6B,CAAA1X,UAC5BG,EAAAA,EAAAA,KAACwX,GAAiB,CAAe9B,aAAAA,EAAwBJ,UAAAA,OAE3DtV,EAAAA,EAAAA,KAACuX,EAAAA,EAA6B,CAAA1X,UAC5BG,EAAAA,EAAAA,KAACyX,GAAgB,CAAe/B,aAAAA,EAAwBJ,UAAAA,SAGtDxR,EAAA,IAAAwR,EAAAxR,EAAA,IAAA4R,EAAA5R,EAAA,IAAAuN,GAAAA,EAAAvN,EAAA,IAAAA,EAAA,MAAAuN,GAAAvN,EAAA,MAAA1H,EAAAsb,UAdVpG,GAAAtR,EAAAA,EAAAA,KAACN,EAAAA,IAAO,CACM,wCACJiY,QAAA,MACHX,IAAA5a,EAAKsb,SAAS7X,SAElBwR,IAUOvN,EAAA,IAAAuN,EAAAvN,EAAA,IAAA1H,EAAAsb,SAAA5T,EAAA,IAAAwN,GAAAA,EAAAxN,EAAA,IAAAA,EAAA,MAAAsN,GAAAtN,EAAA,MAAAwN,GAAAxN,EAAA,MAAA1H,EAAAwb,UAzEZhG,GAAAnS,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CACM,uCACJiY,QAAA,UACHX,IAAA5a,EAAKwb,SACHzX,MAAAkF,EAAiBxF,SAAA,CAExBuR,EAoDAE,KAgBQxN,EAAA,IAAAsN,EAAAtN,EAAA,IAAAwN,EAAAxN,EAAA,IAAA1H,EAAAwb,SAAA9T,EAAA,IAAA8N,GAAAA,EAAA9N,EAAA,IA1EV8N,CA0EU,E,gBC9Fd,MAAMxJ,GAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,aAAgB,KAChB,KAAQ,gBACR,KAAQ,OAGZC,EAAK,CACH,CACE,KAAQ,WACR,KAAQ,KACR,aAAgB,OAGpBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhBC,EAAK,CACH,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,cACR,WAAc,MAEhB,MAAO,CACL,SAAY,CACV,oBAAwBH,EACxB,KAAQ,WACR,SAAY,KACZ,KAAQ,+CACR,WAAc,CACZ,CACE,MAAS,KACT,KAASC,EACT,aAAgB,oBAChB,KAAQ,cACR,KAAQ,eACR,QAAU,EACV,WAAc,CACXC,EACAC,GAEH,WAAc,OAGlB,KAAQ,QACR,YAAe,MAEjB,KAAQ,UACR,UAAa,CACX,oBAAwBH,EACxB,KAAQ,YACR,KAAQ,+CACR,WAAc,CACZ,CACE,MAAS,KACT,KAASC,EACT,aAAgB,oBAChB,KAAQ,cACR,KAAQ,eACR,QAAU,EACV,WAAc,CACXC,EACAC,EACD,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,OAGlB,WAAc,QAIpB,OAAU,CACR,QAAW,mCACX,GAAM,KACN,SAAY,CAAC,EACb,KAAQ,+CACR,cAAiB,QACjB,KAAQ,0JAGZ,CA1F+B,GA4F9BJ,GAAaU,KAAO,mCAErB,YC7EMV,GAAuB,CAC3B,oBAAuB,GACvB,KAAQ,WACR,SAAY,KACZ,KAAQ,iCACR,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,QACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,UACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,cACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,iCAEV,CACE,KAAQ,KACR,KAAQ,iBACR,KAAQ,qCAGZ,KAAQ,oBACR,YAAe,KAGhBA,KAAoB,oCAErB,M,4BC5KA,MAAMA,GAAuB,CAC3B,oBAAuB,GACvB,KAAQ,WACR,SAAY,KACZ,KAAQ,mCACR,WAAc,CACZ,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,KACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,OACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,QACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,UACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,iBACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,aACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,WACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,YACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,SACR,WAAc,MAEhB,CACE,MAAS,KACT,KAAQ,KACR,KAAQ,cACR,KAAQ,cACR,WAAc,OAGlB,KAAQ,oBACR,YAAe,KAGhBA,KAAoB,oCAErB,MC5LayP,GACXzC,IAEA,MAAMM,GAAcxF,EAAAA,EAAAA,aAAW4H,GAyB7B1C,IAGK2C,EAAgBC,GAA2Bra,IAAAA,MACrC,OAAX+X,QAAW,IAAXA,OAAW,EAAXA,EAAauC,eACb,KAEI1T,GAAYJ,EAAAA,EAAAA,KAAqB,OAAXuR,QAAW,IAAXA,OAAW,EAAXA,EAAa7R,IACnCqU,EAAmB3T,EAAU4T,MAAM,EAAG,GACtCC,EAAmB7T,EAAU4T,MAAM,EAAG,GACtCE,EAAgB9T,EAAU4T,MAAM,GAChCG,EAAW,GAAArW,OAAM+V,EAAwB/G,WAAW,IAAK,IAAG,KAAAhP,OAAIiW,EAAgB,KAAAjW,OAAImW,EAAgB,KAAAnW,OAAIoW,EAAcpH,WAAW,IAAK,KAE5I,MAAO,CACL8G,iBACAC,0BACAzT,YACA2T,mBACAE,mBACAC,gBACAC,cACD,E,gBC3CH,MAmFA,GAnF4DhW,IAErD,IAFsD,iBAC3D8S,GACD9S,EACC,MAAM,eACJyV,EAAc,wBACdC,EAAuB,UACvBzT,EAAS,iBACT2T,EAAgB,iBAChBE,EAAgB,cAChBC,GACER,GAAqBzC,IAEnB,MAAEhZ,GAAUC,GAAAA,EAAMC,WAExB,OACEmD,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,MAAMC,MAAM,QAAQ+X,QAAQ,QAAQY,KAAK,OAAOvB,IAAK,EAAEnX,SAAA,EACxEG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACvY,KAAK,YAAYC,MAAO,CAAEC,SAAU,SAAUP,SAAC,YAGlEG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACvY,KAAK,YAAYC,MAAO,CAAEC,SAAU,SAAUP,SAAC,OAGlEJ,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,SAASC,MAAM,QAAQ+X,QAAQ,QAAO9X,SAAA,EACvDG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CACNC,WAAS,EACTC,SAAU,CACRC,KAAMX,GAER7X,MAAO,CAAEC,SAAU,SAAUP,SAE5BlC,IAAAA,SAAWqa,EAAwB/G,WAAW,IAAK,IAAK,CACvDtS,OAAQ,QAGZc,EAAAA,EAAAA,MAAC+Y,EAAAA,IAAO,CACNtY,KAAK,YACLC,MAAO,CACLC,SAAUhE,EAAMiE,YAChBR,SAAA,CACH,mBACkBlC,IAAAA,WAAaoa,GAAgB,WAGlD/X,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACvY,KAAK,YAAYC,MAAO,CAAEC,SAAU,SAAUP,SAAC,OAGlEJ,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,SAASC,MAAM,QAAQ+X,QAAQ,QAAO9X,SAAA,EACvDJ,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACsX,IAAK,EAAEnX,SAAA,EACdG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACtY,MAAO,CAAEC,SAAU,SAAUP,SAC7CqY,KAEHlY,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACvY,KAAK,YAAYC,MAAO,CAAEC,SAAU,SAAUP,SAAC,OAGlEG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACtY,MAAO,CAAEC,SAAU,SAAUP,SAC7CuY,KAEHpY,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CAACC,WAAS,EAACvY,KAAK,YAAYC,MAAO,CAAEC,SAAU,SAAUP,SAAC,OAGlEG,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CACNC,WAAS,EACTC,SAAU,CACRC,KAAMpU,GAERpE,MAAO,CAAEC,SAAU,SAAUP,SAE5BlC,IAAAA,SAAW0a,EAAcpH,WAAW,IAAK,IAAK,CAAEtS,OAAQ,UAG7DqB,EAAAA,EAAAA,KAACwY,EAAAA,IAAO,CACNtY,KAAK,YACLC,MAAO,CACLC,SAAUhE,EAAMiE,YAChBR,SACH,oBAIK,E,2FCwLd,GAxOsEyC,IAG/D,IAADsW,EAAA,IAHiE,iBACrExD,GAED9S,EADIuW,GAAKhL,EAAAA,EAAAA,GAAAvL,EAAAwL,IAER,MAAM,EAAE5R,IAAMC,EAAAA,EAAAA,OACR,MAAEC,GAAUC,GAAAA,EAAMC,YAClB,QAAEsF,GAAYoM,EAAAA,EAAIC,UAClB,gBAAEU,IAAoBC,EAAAA,EAAAA,OAEtBO,GAAWC,EAAAA,EAAAA,uBACXZ,GAAiBC,EAAAA,EAAAA,MACjBlS,GAAYC,EAAAA,EAAAA,OACXsc,IAAeC,EAAAA,GAAAA,MAEhBC,GAAiBC,EAAAA,GAAAA,IAAe,CACpCC,WAAY3V,IAA6D,IAA5D,WAAE4V,EAAU,GAAEtV,GAAwCN,EACjE,OAAOhH,EAAU0J,QAAQmT,cAAc,CAAED,cAActV,EAAG,IAIxD6R,GAAcxF,EAAAA,EAAAA,aAAWmJ,GA4B7BjE,IAGI,YAAEkD,GAAgBT,GAEtBnC,GAGInR,GAAYJ,EAAAA,EAAAA,KAAUuR,EAAY7R,IAElC8P,GAAoC2F,EAAAA,EAAAA,KAAe,GAC3C,OAAX5D,QAAW,IAAXA,GAAAA,EAAauB,iBAAkB,CAC9B/X,IAAK,OACL2K,OACE7J,EAAAA,EAAAA,KAACF,GAAAA,EAAWC,KAAI,CACd2Y,SAAU,CACRC,KAAML,GAERnY,MAAO,CACLoZ,MAAOnd,EAAMod,gBACb3Z,SAED3D,EAAE,uBAGP2D,UAAUG,EAAAA,EAAAA,KAACyZ,GAAiB,CAACrE,iBAAkBM,KAEjD,CACExW,IAAK,SACL2K,MAAO3N,EAAE,uBACT2D,UACEG,EAAAA,EAAAA,KAAC0Z,EAAAA,IAAM,CACLH,MACE7D,EAAYtW,OACRua,GAAAA,EACEjE,EAAYtW,aAEdmK,EACL1J,SAEAlC,IAAAA,QAAU+X,EAAYtW,QAAU,OAIvC,CACEF,IAAK,OACL2K,MAAO3N,EAAE,aACT2D,SAAU6V,EAAYtF,MAExB,CACElR,IAAK,iBACL2K,MAAO3N,EAAE,0BACT2D,SACkC,UAArB,OAAX6V,QAAW,IAAXA,OAAW,EAAXA,EAAakE,iBACXna,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACsX,IAAK,KAAKnX,SAAA,EACjBG,EAAAA,EAAAA,KAACF,GAAAA,EAAWC,KAAI,CAAAF,SAAE3D,EAAE,gBACpB8D,EAAAA,EAAAA,KAAC6Z,GAAAA,EAAY,CAAC1Z,MAAO,CAAEoZ,MAAOnd,EAAM0d,yBAGtCra,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACsX,IAAK,KAAKnX,SAAA,EACjBG,EAAAA,EAAAA,KAACF,GAAAA,EAAWC,KAAI,CAAAF,SAAE3D,EAAE,mBACpB8D,EAAAA,EAAAA,KAAC+Z,EAAAA,IAAgB,CAAC5Z,MAAO,CAAEoZ,MAAOnd,EAAM0d,2BAIpC,OAAXpE,QAAW,IAAXA,OAAW,EAAXA,EAAasE,QAASlB,EAAYmB,MAChC1d,EAAU2d,WAAuB,OAAXxE,QAAW,IAAXA,OAAW,EAAXA,EAAarJ,UAAwB,OAAdmC,QAAc,IAAdA,OAAc,EAAdA,EAAgB3K,MAAQ,CACtE3E,IAAK,aACL2K,MAAO3N,EAAE,gCACT2D,UACEG,EAAAA,EAAAA,KAACma,EAAAA,IAAS,CACRC,aAC6B,OAA3B1E,EAAYyD,WAAsB,KAAOzD,EAAYyD,WAEvDkB,QAAS,CACP,CAAEtQ,MAAO,KAAMF,MAAO3N,EAAE,kBACxB,CAAE6N,MAAO,KAAMF,MAAO3N,EAAE,oBAE1BoD,SAAWyK,IACTiP,EAAesB,OACb,CAAEnB,WAAYpP,EAAOlG,GAAIU,GACzB,CACE4C,UAAWA,KACTvF,EAAQ2Y,QAAQre,EAAE,uCAClBse,SAASC,cACP,IAAIC,YAAY,+BAIlBrL,EAAAA,EAAAA,YACEF,EAAQwL,GAWR,CACE9W,GAAI6R,EAAY7R,KAElB0L,WAAW,EAEflI,QAAUgL,IACRzQ,EAAQyQ,MAAM1D,EAAgB0D,GAAO,GAG1C,EAEHuI,uBAAuB,KAI7B,CACE1b,IAAK,QACL2K,MAAO3N,EAAE,sBACT2D,UACa,OAAX6V,QAAW,IAAXA,OAAW,EAAXA,EAAasE,SAAoB,OAAXlB,QAAW,IAAXA,OAAW,EAAXA,EAAamB,OAClC1d,EAAU2d,WAAuB,OAAXxE,QAAW,IAAXA,OAAW,EAAXA,EAAarJ,UAAwB,OAAdmC,QAAc,IAAdA,OAAc,EAAdA,EAAgB3K,KAC5D7D,EAAAA,EAAAA,KAACN,EAAAA,IAAO,CAACiY,QAAQ,QAAO9X,UACtBG,EAAAA,EAAAA,KAAC6a,GAAAA,EAAmB,MAEpB,MAEmB,OAA3BnF,EAAYoF,YAAuB,CACjC5b,IAAK,aACL2K,MAAO3N,EAAE,aACT2D,UACEG,EAAAA,EAAAA,KAACF,GAAAA,EAAWC,KAAI,CAAC2Y,UAAQ,EAAA7Y,SAAE6V,EAAYoF,cAGhB,OAA3BpF,EAAYqF,YAAuB,CACjC7b,IAAK,aACL2K,MAAO3N,EAAE,gBACT2D,SAAU6V,EAAYqF,YAExB,CACE7b,IAAK,YACL2K,MAAO3N,EAAE,0BACT2D,SAAU6V,EAAYsF,WACpBhb,EAAAA,EAAAA,KAACN,EAAAA,IAAO,CAACiY,QAAQ,QAAO9X,UACtBG,EAAAA,EAAAA,KAAC6a,GAAAA,EAAmB,MAEpB,MAEN,CACE3b,IAAK,WACL2K,MAAO3N,EAAE,wBACT2D,SAAU6V,EAAYuF,SACgC,QADxBrC,GAC1BsC,EAAAA,EAAAA,IAAqBxF,EAAYuF,SAAU,IAAK,UAAE,IAAArC,OAAA,EAAlDA,EAAoDuC,aACpD,UAEN,CACEjc,IAAK,QACL2K,MAAO3N,EAAE,kBACT2D,SAAU6V,EAAY0F,YAExB,CACElc,IAAK,aACL2K,MAAO3N,EAAE,0BACT2D,SAAUwb,KAAM3F,EAAY4F,YAAYC,OAAO,UAInD,OACEvb,EAAAA,EAAAA,KAACwb,GAAAA,GAAYxf,EAAAA,EAAAA,GAAA,CACXyf,UAAQ,EACRC,OAAQ,EACRza,KAAK,QACL0S,MAAOA,EACPgI,OAAQ,CACNnJ,QAAS,CACPoJ,UAAW,aACXC,aAAc,gBAGdhD,GACJ,E,4HCzPAiD,GAAeC,EAAAA,MAAW,IAC9B,gCAA+BvM,MAAMwM,IAAM,CACzCC,QAASD,EAAOE,aAmBdC,GAA4BA,CAACC,EAAgBxe,KACjD,MAAMye,EAAYD,EAAOC,UAAUC,eAEnC,IAAK,MAAMC,KAAQF,EAAW,CAAC,IAADG,EAC5B,GAAmB,QAAnBA,EAAID,EAAKE,kBAAU,IAAAD,GAAfA,EAAiBE,MAAMC,GAAgB/e,EAASgf,SAASD,KAAO,CAAC,IAADE,EAAAC,EAClE,MAAMC,EAA8B,QAAtBF,EAAiB,QAAjBC,EAAGP,EAAKS,iBAAS,IAAAF,OAAA,EAAdA,EAAiB,UAAE,IAAAD,EAAAA,EAAI,aACxC,MAAO,CAAEI,iBAAkBV,EAAK1Y,GAAIqZ,iBAAkBH,EACxD,CACF,CAEA,MAAO,CAAEE,iBAAkB,YAAaC,iBAAkB,aAAc,EA+N1E,GA5N8EhZ,IAAA,IAAAiZ,EAAA,MAAArZ,GAAAC,EAAAA,EAAAA,GAAC,IAAD,IAAAyB,EAAA4X,EAAAC,EAAAC,EAAAC,EAAA1V,EAAA,GAAA/D,EAAA,KAAAI,EAAA,KAAAyJ,EAACzJ,IAO9EqZ,kBAAA/X,cAAA4X,WAAAE,iBAAAzV,eAAA8F,GAAA0P,GAAAxP,EAAAA,EAAAA,GAAAF,EAAAG,IAAAhK,EAAA,GAAAI,EAAAJ,EAAA,GAAA0B,EAAA1B,EAAA,GAAAsZ,EAAAtZ,EAAA,GAAAuZ,EAAAvZ,EAAA,GAAAwZ,EAAAxZ,EAAA,GAAAyZ,EAAAzZ,EAAA,GAAA+D,CAAA,MAAArC,EAAA1B,EAAA,GAAAsZ,EAAAtZ,EAAA,GAAAuZ,EAAAvZ,EAAA,GAAAwZ,EAAAxZ,EAAA,GAAAyZ,EAAAzZ,EAAA,GAAA+D,EAAA/D,EAAA,GAGC,MAAK,EAAL5H,IAAcC,EAAAA,EAAAA,OACT,WAALqhB,IAAuBC,EAAAA,GAAAA,MAClB,QAAL7b,GAAoBoM,EAAAA,EAAGC,SACvB1R,GAAkByH,EAAAA,EAAAA,QACb,gBAAL2K,IAA4BC,EAAAA,EAAAA,QACvB,MAALxS,GAAkBC,GAAAA,EAAKC,YAClB,mBAALG,IAA+BE,EAAAA,GAAAA,MAE/B+gB,GAAoBC,EAAAA,GAAAA,MACpBC,GAAkBngB,EAAAA,EAAAA,QAAsC,MACxDogB,GAA4BpgB,EAAAA,EAAAA,QAAe,cAAc,IAAA4G,EAAA,IAAAyZ,EAAAC,EAAAC,EAAAla,EAAA,KAAA0B,GAAA1B,EAAA,cAAAqZ,EAAAC,SAAA,IAAAD,OAAA,EAAAA,EAAA9a,OAEvDgC,EAAgB,MAAhBmB,EACY,QAC+CsY,EADvDV,SAAQ,IAAAU,OAAA,EADZA,EAAAzb,KAEI,GAAAJ,OAAGuD,EAAW,KAAAvD,OAAY,QAAZ8b,EAAIX,SAAQ,IAAAW,OAAA,EAARA,EAAA1b,MAAc+B,QAAW,QAAS,IAAGN,EAAA,GAAA0B,EAAA1B,EAAA,WAAAka,EAAAZ,SAAA,IAAAY,OAAA,EAAAA,EAAA3b,KAAAyB,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAH7D,MAAAma,EACE5Z,EAE4D,IAAAgB,EAQJyC,EARIhE,EAAA,MAAAma,GAAAna,EAAA,MAAAyZ,GAQlDlY,EAAA,CAAC,kBAAmBkY,EAAiBU,GAASna,EAAA,IAAAma,EAAAna,EAAA,IAAAyZ,EAAAzZ,EAAA,IAAAuB,GAAAA,EAAAvB,EAAA,IAAAA,EAAA,MAAAvH,GAAAuH,EAAA,MAAAma,GAAAna,EAAA,MAAAyZ,GAC/CzV,EAAArF,UACP,MAAAyb,QAA4B3hB,EAAS0J,QAAQkY,uBAC3CF,EACAV,GACA,GAGFa,EAAA,GAAAnc,OAAuBic,EAAaG,IAAI,WAAApc,OAAUic,EAAa9hB,MAAM,kBACrEkO,QAAuBgU,MAAMF,GAE7B,IAAK9T,EAAQiU,GACX,MAAM,IAAIhX,MAAM,uBAADtF,OAAwBqI,EAAQlL,SAGd,aAAhBkL,EAAQkU,QAChB7F,MAAO,EACnB7U,EAAA,IAAAvH,EAAAuH,EAAA,IAAAma,EAAAna,EAAA,IAAAyZ,EAAAzZ,EAAA,IAAAgE,GAAAA,EAAAhE,EAAA,IACQ,MAAAwM,IAAE+M,EAAU1b,QAAWyb,KAAcG,EAAe,IAAA/M,EAAA1M,EAAA,MAAAuB,GAAAvB,EAAA,MAAAgE,GAAAhE,EAAA,MAAAwM,GAnB/CE,EAAA,CAAA7D,SACJtH,EAA8CuH,QAC/C9E,EAgBR2W,QACQnO,EAAoDxD,UAClD,EAACC,OACJ,GACTjJ,EAAA,IAAAuB,EAAAvB,EAAA,IAAAgE,EAAAhE,EAAA,IAAAwM,EAAAxM,EAAA,IAAA0M,GAAAA,EAAA1M,EAAA,IA1BD,MAAA0I,KAAAkS,EAAArM,MAAAsM,EAAA,WAAAC,IAIIC,EAAAA,GAAAA,IAAYrO,GAsBb,IAAAY,EA4DAC,EAMAC,EAGAM,EArEA9N,EAAA,MAAAvH,GAAAuH,EAAA,MAAA0B,GAAA1B,EAAA,MAAA4a,GAAA5a,EAAA,MAAAsZ,GAAAtZ,EAAA,MAAA5H,GAAA4H,EAAA,MAAAyZ,GAAAzZ,EAAA,MAAA+D,GAAA/D,EAAA,MAAArH,GAGW2U,EAAA3O,UAAA,IAAAH,EAAAwc,EAAAC,EACV,IAAK3B,EAAQ,OAEb,MAAA4B,EAAkE,QAAlE1c,EAAkE,QAAlEwc,EAAiD,QAAjDC,EAAsBnB,EAAS9f,eAAkB,IAAAihB,OAAA,EAA3BA,EAAAE,kBAA4C,IAAAH,EAAAA,EAA5CJ,SAA4C,IAAApc,EAAAA,EAA5C,GACtB4c,EAAa,IAAIC,KAAK,CAACH,GAAgB,CAAA9e,KAC/B2d,EAAmB/f,UAE3BkD,EAAa,IAAIoe,KAAK,CAACZ,GAAOpB,EAAQ/a,KAAO,CAAAnC,KACrC2d,EAAmB/f,UAQ3B,GAAkB,IAAdkD,EAAIC,KAAY,CAClB,MAAA4E,EAAmB,CAACL,EAAa4X,EAAQ/a,MAAMY,OACrC6C,SAAQC,KACV,KACRC,QAAgCzJ,EAAS0J,QAAQC,sBAC/CL,EACA7E,EACAuc,GAaF,WAVuBe,MAAMtY,EAAW,CAAAqZ,OAC9B,QAAOC,QACN,CAAC,gBACS,IAAI,eACL,kCAAkC,gBACjC,SAClBC,KACKf,KAGKD,GACX,MAAM,IAAIhX,MACRrL,EAAE,wBAAyB,CAAAuH,WAAc2Z,EAAQ/a,QAIrD5F,EAAmB,CAAAyC,IACZ,UAAYqe,EAAe5b,MAC1B,EAAIxC,eACM,CAAAC,OACN,WAAUC,QACT,IAAGC,SACF,CAAAkE,SACEtH,EAAE,2CAEfgG,SACS,GACT,YAEG2F,EAAY,CAAC7G,GAAOuc,EAAiB/X,EAAa,EAE3D1B,EAAA,IAAAvH,EAAAuH,EAAA,IAAA0B,EAAA1B,EAAA,IAAA4a,EAAA5a,EAAA,IAAAsZ,EAAAtZ,EAAA,IAAA5H,EAAA4H,EAAA,IAAAyZ,EAAAzZ,EAAA,IAAA+D,EAAA/D,EAAA,IAAArH,EAAAqH,EAAA,IAAAsN,GAAAA,EAAAtN,EAAA,IAAAA,EAAA,MAAAma,GAAAna,EAAA,MAAAwZ,GAAAxZ,EAAA,MAAA4Z,GAAA5Z,EAAA,MAAAyZ,GACUlM,EAAAA,KACTqM,EAAW8B,kBAAmB,CAAA7S,SAClB,CAAC,kBAAmB4Q,EAAiBU,KAEjDX,GAAe,EAAK,EACrBxZ,EAAA,IAAAma,EAAAna,EAAA,IAAAwZ,EAAAxZ,EAAA,IAAA4Z,EAAA5Z,EAAA,IAAAyZ,EAAAzZ,EAAA,IAAAuN,GAAAA,EAAAvN,EAAA,IAAAA,EAAA,MAAA6K,GAAA7K,EAAA,MAAAlC,GACQ0P,EAAAe,IACPzQ,EAAOyQ,MAAO1D,EAAgB0D,GAAO,EACtCvO,EAAA,IAAA6K,EAAA7K,EAAA,IAAAlC,EAAAkC,EAAA,IAAAwN,GAAAA,EAAAxN,EAAA,IAAAA,EAAA,MAAAsN,GAAAtN,EAAA,MAAAuN,GAAAvN,EAAA,MAAAwN,GAnEiCM,EAAA,CAAAsH,WACtB9H,EAyDXjK,UACUkK,EAKVhK,QACQiK,GAGVxN,EAAA,IAAAsN,EAAAtN,EAAA,IAAAuN,EAAAvN,EAAA,IAAAwN,EAAAxN,EAAA,IAAA8N,GAAAA,EAAA9N,EAAA,IApED,MAAA2b,GAAqBxG,EAAAA,GAAAA,IAAerH,GAoEjC,IAAAC,EAAA/N,EAAA,MAAA1H,EAAAsjB,0BAAA5b,EAAA,MAAA1H,EAAAujB,wBAGD9N,GAAA7R,EAAAA,EAAAA,KAACoX,GAAAA,EAAQ,CACPE,QAAA,EACOnX,MAAA,CAAAyf,UACM,QAAOC,cACHzjB,EAAKsjB,yBAAyBI,aAC/B1jB,EAAKujB,0BAErB7b,EAAA,IAAA1H,EAAAsjB,yBAAA5b,EAAA,IAAA1H,EAAAujB,uBAAA7b,EAAA,IAAA+N,GAAAA,EAAA/N,EAAA,IARJ,MAAAic,EACElO,EAQA,IAAAC,EAK0BC,EACMe,EAIEC,EAAA,IAAA6F,GAVlC9U,EAAA,MAAA5H,GAKU4V,EAAA5V,EAAE,eAAc4H,EAAA,IAAA5H,EAAA4H,EAAA,IAAAgO,GAAAA,EAAAhO,EAAA,IAAAA,EAAA,MAAA5H,GACZ6V,EAAA7V,EAAE,iBAAgB4H,EAAA,IAAA5H,EAAA4H,EAAA,IAAAiO,GAAAA,EAAAjO,EAAA,IAAAA,EAAA,MAAA5H,GAIzB4W,EAAA5W,EAAE,0BAAyB4H,EAAA,IAAA5H,EAAA4H,EAAA,IAAAgP,GAAAA,EAAAhP,EAAA,IAAAA,EAAA,MAAAsZ,IAC3BrK,EAAAqK,IAAA3d,EAAAA,EAAAA,MACE+Y,EAAAA,IAAO,CAAMtY,KAAA,YAAmBC,MAAA,CAAA2B,WAAc,UAAUjC,SAAA,CAAE,KACtDud,EAAQ/a,KACV+a,EAAQnc,KAAQ,GACkD,KAAAgB,OAAH,QAAG2W,GAA5DsC,EAAAA,EAAAA,KAAqBkC,EAAQnc,KAAO,eAAqB,IAAA2X,OAAA,EAAzDA,EAAAuC,aAAyD,QAEnErX,EAAA,IAAAsZ,EAAAtZ,EAAA,IAAAiP,GAAAA,EAAAjP,EAAA,QAAAkP,EACAC,EAE2BC,GAH3BpP,EAAA,MAAAgP,GAAAhP,EAAA,MAAAiP,GARHC,GAAAvT,EAAAA,EAAAA,MAAAugB,EAAAA,SAAA,CAAAngB,SAAA,CACGiT,EACAC,KAOAjP,EAAA,IAAAgP,EAAAhP,EAAA,IAAAiP,EAAAjP,EAAA,IAAAkP,GAAAA,EAAAlP,EAAA,IAAAA,EAAA,MAAAwZ,GAEKrK,EAAAA,IAAMqK,IAAgBxZ,EAAA,IAAAwZ,EAAAxZ,EAAA,IAAAmP,GAAAA,EAAAnP,EAAA,IAAAA,EAAA,MAAA2b,GAC1BvM,GAAAA,IAAMuM,EAAYnF,SAASxW,EAAA,IAAA2b,EAAA3b,EAAA,IAAAoP,IAAAA,GAAApP,EAAA,IAEN,MAAAqP,KAAEwL,EAAS,IAAAvL,GAAEC,GAMvCC,GAKyC2M,GA6CrCC,GAEKC,GACD,OA3D6Brc,EAAA,MAAAqP,IAAvBC,GAAA,CAAAR,SAAYO,IAAarP,EAAA,IAAAqP,GAAArP,EAAA,IAAAsP,IAAAA,GAAAtP,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAChCqD,GAAA,CAAAkM,KACA,CAAAO,aACU,EAACD,cACA,IAElB/b,EAAA,IAAAuP,IAAAA,GAAAvP,EAAA,IAAAA,EAAA,MAAAiM,OAAAC,IAAA,8BAKQsD,GAAA,CAAA8C,OAAU,uBAAuBtS,EAAA,IAAAwP,IAAAA,GAAAxP,EAAA,IAAAA,EAAA,MAAA4a,GAAA5a,EAAA,MAAAsZ,GAAAtZ,EAAA,MAAA0Z,GAAA1Z,EAAA,MAAA8a,GAAA9a,EAAA,MAAA6a,GAAA7a,EAAA,MAAAic,GAAAjc,EAAA,MAAA5H,GAGrC+jB,GAAAtB,GAAA3e,EAAAA,EAAAA,KACEogB,EAAAA,IAAQ,CACFlgB,KAAA,QACLmgB,UAAA,EACO9N,MAAArW,EAAE,kCACIsD,YAAAtD,EAAE,+CAEf0iB,EAAAmB,GAAA/f,EAAAA,EAAAA,KAGD8b,GAAY,CACG1B,aAAiB,OAAjBsE,QAAiB,IAAjBA,EAAAA,EAAA,GACD4B,YAAAlE,IAAA,IAAAmE,EACX,GAAY,QAAZA,EAAInD,SAAQ,IAAAmD,GAARA,EAAAle,KAAe,CACjB,MAAK,iBAAL6a,GAA6Bf,GAC3BC,EACAgB,EAAQ/a,MAEVwb,EAAmB/f,QAAWof,CAAH,GAGtBsD,QAAAA,CAAAC,EAAAC,KAAA,IAAAC,EAEP,GADA/C,EAAS9f,QAAW2iB,EACR,QAAZE,EAAIvD,SAAQ,IAAAuD,GAARA,EAAAte,KAAe,CACjB,MAAK,iBAAL4a,GAA6Bd,GAC3BC,EACAgB,EAAQ/a,MAEVue,EAAcH,EAAMI,WAChBD,GACFxE,EAAMqE,OAAOK,iBAAkBF,EAAO3D,EACvC,GAGE5gB,MAAAmhB,EAAA,kBACEuC,QAAAA,EACFvO,MAAA,OACC4E,OAAA,OACCiE,QAAA,CAAA0G,sBACe,KAG3Bjd,EAAA,IAAA4a,EAAA5a,EAAA,IAAAsZ,EAAAtZ,EAAA,IAAA0Z,EAAA1Z,EAAA,IAAA8a,EAAA9a,EAAA,IAAA6a,EAAA7a,EAAA,IAAAic,EAAAjc,EAAA,IAAA5H,EAAA4H,EAAA,IAAAmc,IAAAA,GAAAnc,EAAA,IAAAA,EAAA,MAAAic,GAAAjc,EAAA,MAAAmc,IAhDLC,IAAAlgB,EAAAA,EAAAA,KAACN,EAAAA,IAAO,CACIC,UAAA,SACNqX,IAAA,KACG7W,MAAAmT,GAAiCzT,UAExCG,EAAAA,EAAAA,KAACkX,EAAAA,SAAQ,CAAW6I,SAAAA,EAAmBlgB,SACpCogB,OA4CKnc,EAAA,IAAAic,EAAAjc,EAAA,IAAAmc,GAAAnc,EAAA,IAAAoc,IAAAA,GAAApc,EAAA,IAAAA,EAAA,MAAAuZ,GAAAvZ,EAAA,MAAA2b,EAAAuB,WAAAld,EAAA,MAAAgO,GAAAhO,EAAA,MAAAiO,GAAAjO,EAAA,MAAAkP,GAAAlP,EAAA,MAAAmP,GAAAnP,EAAA,MAAAoP,IAAApP,EAAA,MAAAsP,IAAAtP,EAAA,MAAAoc,IA/EZC,IAAAngB,EAAAA,EAAAA,KAACihB,EAAAA,KAAQjlB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACAwV,MAAA,OACP0P,iBAAA,EACQC,OAAArP,EACIsP,WAAArP,GACRsL,GAAU,IAEZ9K,MAAAS,EAWQqO,SAAApO,EACJqO,KAAApO,GACUqO,eAAA9B,EAAYuB,UACbQ,cAAApO,GACPuI,OAAAtI,GAKPxT,SAEDqgB,MAmDSpc,EAAA,IAAAuZ,EAAAvZ,EAAA,IAAA2b,EAAAuB,UAAAld,EAAA,IAAAgO,EAAAhO,EAAA,IAAAiO,EAAAjO,EAAA,IAAAkP,EAAAlP,EAAA,IAAAmP,EAAAnP,EAAA,IAAAoP,GAAApP,EAAA,IAAAsP,GAAAtP,EAAA,IAAAoc,GAAApc,EAAA,IAAAqc,IAAAA,GAAArc,EAAA,IAhFXqc,EAgFW,E,mGChPf,MAAMsB,IAAYC,EAAAA,GAAAA,KAAapf,IAAA,IAAC,IAAEqf,GAAKrf,EAAA,MAAM,CAC3Csf,eAAgBD,EAAGE,KAAAA,IAAAC,EAAAA,EAAAA,GAAA,+DAKpB,IA+SD,GAxR2Dve,IAK9C,IAAA4F,EAAA4Y,EAAA,IAL+C,UAC1DC,EAAS,eACT1E,GAED/Z,EADI8Z,GAAUxP,EAAAA,EAAAA,GAAAtK,EAAAuK,IAIb,MAAM,EAAE5R,IAAMC,EAAAA,EAAAA,OACR,MAAEC,GAAUC,GAAAA,EAAMC,YAClB,GAAE2lB,GAAO1M,GAAAA,GAAKC,iBACd,OAAEmG,GAAW8F,MAEZS,EAAUC,IAAkBC,EAAAA,EAAAA,OAC7B7lB,GAAYC,EAAAA,EAAAA,MACZ8R,GAAgBC,EAAAA,EAAAA,MAChBC,GAAiBC,EAAAA,EAAAA,MACjBC,EAAgC,OAATnS,QAAS,IAATA,GAAkB,QAAT4M,EAAT5M,EAAWkI,eAAO,IAAA0E,OAAT,EAATA,EAAoBuC,UAC3C2W,GAAkB5kB,EAAAA,EAAAA,QAA2B,OAC7C,gCAAEuP,GACNjC,EACEuD,EACAE,EAAe3K,GACf6K,GAEE4T,GAAU7kB,EAAAA,EAAAA,QAA8B,MAExC8kB,GAAeC,EAAAA,EAAAA,kBAAiBnF,EAAW1b,OAC3C,aAAE8gB,IAAiBlX,EAAAA,EAAAA,kBAAgBmX,EAiBvC,CAAEC,iBAAiBC,EAAAA,EAAAA,KAAW,oBAAqBZ,IACnD,CAEErW,YACE4W,GAAgBlF,EAAW1b,KAAO,oBAAsB,gBAKxD,mBAAElF,EAAkB,kBAAEC,IAAsBC,EAAAA,GAAAA,OAC5C,mBAAEC,IAAuBC,EAAAA,GAAAA,4BACxBgmB,EAAmBC,IAAwBC,EAAAA,EAAAA,UAAwB,KACnEC,EAAaC,IAAkBF,EAAAA,EAAAA,UAG5B,OACJ,aAAE9lB,EAAY,YAAE4K,IAAgBjE,EAAAA,EAAAA,sBACxB,OAAZ6e,QAAY,IAAZA,OAAY,EAAZA,EAAc5e,IACF,OAAZ4e,QAAY,IAAZA,OAAY,EAAZA,EAAcpgB,YAAQkH,IAGxB2Z,EAAAA,EAAAA,MACE,KAAO,IAADC,EACmB,QAAvBA,EAAAd,EAAgBvkB,eAAO,IAAAqlB,GAAvBA,EAAyBC,SAAS,GAEpCnmB,IAAiBU,IAAAA,QAAsB,OAAZV,QAAY,IAAZA,OAAY,EAAZA,EAAc6B,cAAgB,IAAO,OAGlE2B,EAAAA,EAAAA,YAAU,KACJxD,GAAgBU,IAAAA,QAAsB,OAAZV,QAAY,IAAZA,OAAY,EAAZA,EAAc6B,eAC1CqjB,GACF,GACC,CAACllB,EAAcklB,IAElB,MAAMkB,EAA+B1lB,IAAAA,SACnCqP,EAAkD,QAAnB+U,EAAa,OAAZU,QAAY,IAAZA,OAAY,EAAZA,EAAcrS,YAAI,IAAA2R,EAAAA,EAAI,IACtD,iBAEIuB,EAA6B3lB,IAAAA,SACrB,OAAZ8kB,QAAY,IAAZA,OAAY,EAAZA,EAAcc,YACd,kBAEIC,EAA4B7lB,IAAAA,SACpB,OAAZ8kB,QAAY,IAAZA,OAAY,EAAZA,EAAcc,YACd,iBAKIE,EAAkC,OAAZhB,QAAY,IAAZA,GAAAA,EAAcxL,gBACxCjX,EAAAA,EAAAA,KAAC0jB,GAAAA,EAAK,CAACnR,MAAOrW,EAAE,gDAAiDmkB,UAAQ,IAClDoC,GACvBziB,EAAAA,EAAAA,KAAC2jB,EAAAA,IAAe,CACdC,IAAKvB,EACL9E,gBAAiByE,EACjBa,kBAAmBA,EACnBX,SAAUA,EACV2B,SAAUA,CAACve,EAAiBE,KAC1BqC,EAAYvC,EAAO0c,EAAWxc,EAAY,EAE5Cse,0BAA2BA,CACzBC,EACAxG,EACAsF,KAEAC,EAAqBD,GACrBpmB,EAAmB,CACjByC,IAAI,UAAD+C,OAAY8hB,GACfpiB,MAAM,EACNC,SACEnC,EAAAA,EAAAA,MAAA,QAAAI,SAAA,CACG3D,EAAE,oBAAoB,SACvB8D,EAAAA,EAAAA,KAAC6B,EAAAA,IAAO,CACN1B,MAAO,CACL2B,WAAY,UAEdC,GAAInF,EAAmB2gB,GACvBvb,QAASA,KACPtF,EAAkB,UAADuF,OAAW8hB,GAAW,EACvClkB,SAAA,GAAAoC,OACCwgB,EAAapgB,WAGtBlD,eAAgB,CACdC,OAAQ,UACR4kB,OAAQD,EACRE,QAAS,KACT5kB,QAAS,EACTC,SAAU,CACRC,QAASrD,EAAE,kCACXsH,SAAUA,KACRsf,EAAqB,IACd5mB,EAAE,8CAEXwH,SAAUA,KACRof,EAAqB,IACd5mB,EAAE,4CAIf,EAEJgoB,eAAgBb,EAChBc,aAAcb,EACdc,YAAaZ,EACba,WAAYb,EACZc,WAAY,CACVC,OAAQtC,EACJ,CAAEuC,EAAG,eACL,CAAEA,EAAG,cAAeC,EAAG,wBAE7BtkB,MAAO,CACLukB,cAAezC,EAAK7lB,EAAMuoB,UAAY,GAExCC,qBAAsBtC,EACtBuC,gBAAiBA,CAAC7jB,EAAMwE,KACtByd,EAAe,CAAEjiB,OAAMwE,YAAAA,GAAc,IAGvC,KAEEsf,EAA4BrC,GAChCziB,EAAAA,EAAAA,KAAC+kB,GAAsB,CAAC3P,iBAAkBqN,IACxC,KAEJ,OACEhjB,EAAAA,EAAAA,MAACwhB,EAAAA,KAAQjlB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACPgpB,UAAWrJ,EAAOiG,eAClBpQ,MAAO,MACPyT,UAAQ,EACR/D,iBAAe,EACfgE,OAAQ,KACR/kB,MAAO,CAAEG,SAAU,UACnBqb,OAAQ,CACN4D,KAAM,CACJnJ,OAAQ,UAGZ7D,MACEkQ,GACEziB,EAAAA,EAAAA,KAACmlB,GAAoB,CACnB9P,WAAY,CACV+P,OAAQhpB,EAAMipB,gBAAkB,GAElCjQ,iBAAkBqN,IAElB,KAEN6C,UAAW,CACT1B,IAAKtB,GAEPjB,SAAUA,KACR/D,GAAgB,GAEdD,GAAU,IAAAxd,SAAA,EAEdG,EAAAA,EAAAA,KAACkX,EAAAA,SAAQ,CAACC,UAAUnX,EAAAA,EAAAA,KAACoX,GAAAA,EAAQ,CAACE,QAAM,IAAIzX,SAErC0iB,IAAiBlF,EAAW1b,WAAyB4H,IAAjBkZ,GACnCziB,EAAAA,EAAAA,KAACoX,GAAAA,EAAQ,CAACE,QAAM,KAEhB7X,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,SAASqX,IAAK,KAAMpX,MAAM,UAASC,SAAA,CAClC,OAAjB4iB,GACCziB,EAAAA,EAAAA,KAAC0jB,GAAAA,EAAK,CACJnR,MAAOrW,EAAE,qCACTgE,KAAK,QACLmgB,UAAQ,KAQM,OAAd7R,QAAc,IAAdA,OAAc,EAAdA,EAAgB3K,OAAmB,OAAZ4e,QAAY,IAAZA,OAAY,EAAZA,EAAcpW,QACzB,OAAZoW,QAAY,IAAZA,GAAAA,EAAcpW,OAChBrM,EAAAA,EAAAA,KAAC0jB,GAAAA,EAAK,CACJnR,MACEkQ,EAAa1H,WACT7e,EAAE,oBAAqB,CACrBqpB,YAAa9C,EAAa1H,aAE5B7e,EAAE,kCAERgE,KAAK,OACLmgB,UAAQ,IAER,KAEH4B,GACCxiB,EAAAA,EAAAA,MAAC+lB,GAAAA,EAAQ,CACPrlB,MAAO,CACL6W,IAAK5a,EAAM6E,MAEbwkB,YAAa,aAAa5lB,SAAA,EAE1BG,EAAAA,EAAAA,KAACwlB,GAAAA,EAASE,MAAK,CAACC,WAAW,EAAM9lB,SAC9B4jB,KAEHzjB,EAAAA,EAAAA,KAACwlB,GAAAA,EAASE,MAAK,CAACE,YAAa,IAAI/lB,SAC9BilB,QAILrlB,EAAAA,EAAAA,MAACC,EAAAA,IAAO,CAACC,UAAU,SAASC,MAAM,UAASC,SAAA,CACxC4jB,GACDzjB,EAAAA,EAAAA,KAAC6lB,GAAAA,EAAO,CACN1lB,MAAO,CACL8V,YAAa7Z,EAAMyZ,wBAGtBiP,WAMX9kB,EAAAA,EAAAA,KAAC8lB,EAAAA,IAAoB,CAAAjmB,UACnBG,EAAAA,EAAAA,KAAC+lB,GAA0B,CACzBpkB,OAAQqhB,EACRzF,gBAAiByE,EACjBxc,aAAwB,OAAXwd,QAAW,IAAXA,OAAW,EAAXA,EAAaxd,cAAe,IACzC4X,UAAqB,OAAX4F,QAAW,IAAXA,OAAW,EAAXA,EAAahiB,OAAQ,KAC/B6G,YAAaA,EACbyV,eAAiB/C,IACD,IAADyL,EAATzL,IACqB,QAAvByL,EAAA3D,EAAgBvkB,eAAO,IAAAkoB,GAAvBA,EAAyB5C,WAE3BH,EAAe,KAAK,SAIjB,C","sources":["components/FileUploadManager.tsx","__generated__/FolderExplorerModalQuery.graphql.ts","__generated__/FolderExplorerHeaderFragment.graphql.ts","__generated__/FileBrowserButtonFragment.graphql.ts","__generated__/useDefaultImagesWithFallbackQuery.graphql.ts","hooks/useDefaultImagesWithFallback.ts","__generated__/useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery.graphql.ts","__generated__/useMergedAllowedStorageHostPermission_KeypairQuery.graphql.ts","hooks/useMergedAllowedStorageHostPermission.ts","components/FileBrowserButton.tsx","__generated__/SFTPServerButtonFragment.graphql.ts","components/SFTPServerButton.tsx","components/FolderExplorerHeader.tsx","__generated__/VFolderNodeDescriptionPermissionRefreshQuery.graphql.ts","__generated__/VFolderNodeDescriptionFragment.graphql.ts","__generated__/useVirtualFolderNodePathFragment.graphql.ts","hooks/useVirtualFolderNodePath.ts","components/VirtualFolderNodeItems/VirtualFolderPath.tsx","components/VFolderNodeDescription.tsx","components/VFolderTextFileEditorModal.tsx","components/FolderExplorerModal.tsx"],"sourcesContent":["import { useSetBAINotification } from '../hooks/useBAINotification';\nimport { useFolderExplorerOpener } from './FolderExplorerOpener';\nimport { theme, Typography } from 'antd';\nimport { RcFile } from 'antd/es/upload';\nimport {\n  BAIFlex,\n  BAILink,\n  toLocalId,\n  useConnectedBAIClient,\n} from 'backend.ai-ui';\nimport { atom, useAtom, useSetAtom } from 'jotai';\nimport { atomFamily } from 'jotai-family';\nimport _ from 'lodash';\nimport PQueue from 'p-queue';\nimport { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSuspendedBackendaiClient } from 'src/hooks';\nimport { useBAISettingUserState } from 'src/hooks/useBAISetting';\nimport * as tus from 'tus-js-client';\n\ntype uploadStartFunction = (callbacks?: {\n  onProgress?: (\n    bytesUploaded: number,\n    bytesTotal: number,\n    fileName: string,\n  ) => void;\n}) => Promise<{ name: string; bytes: number }>;\n\ntype UploadRequest = {\n  vFolderId: string;\n  vFolderName: string;\n  uploadFileInfo: Array<{ file: RcFile; startFunction: uploadStartFunction }>;\n};\n\ntype UploadStatusInfo = {\n  vFolderName: string;\n  pendingFiles: Array<string>;\n  completedFiles: Array<string>;\n  failedFiles: Array<string>;\n  completedBytes: number;\n  totalExpectedSize: number;\n};\ntype UploadStatusMap = {\n  [vFolderId: string]: UploadStatusInfo;\n};\n\nconst uploadRequestAtom = atom<Array<UploadRequest>>([]);\nconst uploadStatusAtom = atom<UploadStatusMap>({});\nconst uploadStatusAtomFamily = atomFamily((vFolderId: string) => {\n  return atom(\n    (get) => get(uploadStatusAtom)[vFolderId],\n    (get, set, newStatus: UploadStatusInfo) => {\n      const prev = get(uploadStatusAtom);\n      set(uploadStatusAtom, {\n        ...prev,\n        [vFolderId]: newStatus,\n      });\n    },\n  );\n});\n\nconst useUploadStatusAtomStatus = (\n  vFolderId: string,\n): [UploadStatusInfo, (newStatus: UploadStatusInfo) => void] => {\n  return useAtom(uploadStatusAtomFamily(vFolderId));\n};\n\nconst FileUploadManager: React.FC = () => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const baiClient = useSuspendedBackendaiClient();\n  const { upsertNotification, closeNotification } = useSetBAINotification();\n  const { generateFolderPath } = useFolderExplorerOpener();\n  const [uploadRequests, setUploadRequests] = useAtom(uploadRequestAtom);\n  const [uploadStatus, setUploadStatus] = useAtom(uploadStatusAtom);\n  const [maxConcurrentUploads] = useBAISettingUserState(\n    'max_concurrent_uploads',\n  );\n  const queue = new PQueue({ concurrency: maxConcurrentUploads || 2 });\n\n  const pendingDeltaBytesRef = useRef<Record<string, number>>({});\n  const throttledUploadRequests = _.throttle(\n    (vFolderId: string, fileName: string) => {\n      const accumulatedDelta = pendingDeltaBytesRef.current[vFolderId] || 0;\n      pendingDeltaBytesRef.current[vFolderId] = 0;\n\n      setUploadStatus((prev) => {\n        const uploadedFilesCount = prev[vFolderId]?.completedFiles?.length || 0;\n        const totalUploadedFilesCount =\n          (prev[vFolderId]?.completedFiles?.length || 0) +\n          (prev[vFolderId]?.failedFiles?.length || 0) +\n          (prev[vFolderId]?.pendingFiles?.length || 0);\n\n        const totalExpectedSize = prev[vFolderId]?.totalExpectedSize || 0;\n        const currentCompletedBytes =\n          (prev[vFolderId]?.completedBytes || 0) + accumulatedDelta;\n\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          backgroundTask: {\n            status: 'pending',\n            percent:\n              totalExpectedSize > 0\n                ? (currentCompletedBytes / totalExpectedSize) * 100\n                : 0,\n            onChange: {\n              pending: {\n                description: (\n                  <BAIFlex direction=\"column\" align=\"start\">\n                    <Typography.Text>\n                      {t('explorer.UploadingFiles')} ( {uploadedFilesCount} /{' '}\n                      {totalUploadedFilesCount} )\n                    </Typography.Text>\n                    <Typography.Text\n                      ellipsis\n                      type=\"secondary\"\n                      style={{\n                        fontSize: token.fontSizeSM,\n                        maxWidth: '300px',\n                      }}\n                    >\n                      {fileName}\n                    </Typography.Text>\n                  </BAIFlex>\n                ),\n              },\n            },\n          },\n        });\n\n        return {\n          ...prev,\n          [vFolderId]: {\n            ...prev[vFolderId],\n            completedBytes: currentCompletedBytes,\n          },\n        };\n      });\n    },\n    200,\n    { leading: true, trailing: true },\n  );\n\n  useEffect(() => {\n    if (uploadRequests.length === 0 || !baiClient) return;\n\n    uploadRequests.forEach((uploadRequest) => {\n      const { vFolderId, vFolderName, uploadFileInfo } = uploadRequest;\n      const currUploadTotalSize = _.sumBy(\n        uploadFileInfo,\n        (info) => info.file.size,\n      );\n\n      setUploadStatus((prev) => {\n        const isFirstUpload = !prev[vFolderId];\n        const newTotalExpectedSize =\n          (prev[vFolderId]?.totalExpectedSize || 0) + currUploadTotalSize;\n        const currPct = isFirstUpload\n          ? 0\n          : ((prev[vFolderId]?.completedBytes || 0) / newTotalExpectedSize) *\n            100;\n\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: (\n            <span>\n              {t('explorer.VFolder')}:&nbsp;\n              <BAILink\n                style={{\n                  fontWeight: 'normal',\n                }}\n                to={generateFolderPath(vFolderId)}\n                onClick={() => {\n                  closeNotification('upload:' + vFolderId);\n                }}\n              >{`${vFolderName}`}</BAILink>\n            </span>\n          ),\n          backgroundTask: {\n            status: 'pending',\n            percent: currPct,\n            onChange: {\n              pending: t('explorer.ProcessingUpload'),\n            },\n          },\n          duration: 0,\n        });\n\n        return {\n          ...prev,\n          [vFolderId]: {\n            vFolderName,\n            pendingFiles: [\n              ...(prev[vFolderId]?.pendingFiles || []),\n              ...uploadFileInfo.map(\n                (info) => info.file.webkitRelativePath || info.file.name,\n              ),\n            ],\n            completedFiles: prev[vFolderId]?.completedFiles || [],\n            failedFiles: prev[vFolderId]?.failedFiles || [],\n            completedBytes: prev[vFolderId]?.completedBytes || 0,\n            totalExpectedSize: newTotalExpectedSize,\n          },\n        };\n      });\n\n      uploadFileInfo.forEach(({ file, startFunction }) => {\n        queue.add(async () => {\n          // Capture fileName before any async operations\n          const fileName = file.webkitRelativePath || file.name;\n          let previousBytesUploaded = 0;\n\n          try {\n            await startFunction({\n              onProgress: (bytesUploaded, _bytesTotal, fileName) => {\n                // Since bytesUploaded is cumulative, calculate delta from previous value\n                const deltaBytes = bytesUploaded - previousBytesUploaded;\n                previousBytesUploaded = bytesUploaded;\n                pendingDeltaBytesRef.current[vFolderId] =\n                  (pendingDeltaBytesRef.current[vFolderId] || 0) + deltaBytes;\n\n                throttledUploadRequests(vFolderId, fileName);\n              },\n            });\n\n            // Success case\n            throttledUploadRequests.flush();\n            delete pendingDeltaBytesRef.current[vFolderId];\n\n            setUploadStatus((prev) => ({\n              ...prev,\n              [vFolderId]: {\n                ...prev[vFolderId],\n                pendingFiles: prev[vFolderId].pendingFiles.filter(\n                  (f: string) => f !== fileName,\n                ),\n                completedFiles: [\n                  ...(prev[vFolderId]?.completedFiles || []),\n                  fileName,\n                ],\n              },\n            }));\n          } catch {\n            // Error case - use the captured fileName regardless of error structure\n            throttledUploadRequests.flush();\n            delete pendingDeltaBytesRef.current[vFolderId];\n\n            setUploadStatus((prev) => ({\n              ...prev,\n              [vFolderId]: {\n                ...prev[vFolderId],\n                pendingFiles: prev[vFolderId].pendingFiles.filter(\n                  (f: string) => f !== fileName,\n                ),\n                failedFiles: [\n                  ...(prev[vFolderId]?.failedFiles || []),\n                  fileName,\n                ],\n              },\n            }));\n          }\n        });\n      });\n    });\n    setUploadRequests([]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uploadRequests]);\n\n  useEffect(() => {\n    Object.entries(uploadStatus).forEach(([vFolderId, status]) => {\n      if (!_.isEmpty(status?.pendingFiles)) return;\n\n      if (!_.isEmpty(status?.failedFiles)) {\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: t('explorer.UploadFailed', {\n            folderName: status?.vFolderName,\n          }),\n          backgroundTask: {\n            status: 'rejected',\n            percent: 0,\n            onChange: {\n              rejected: t('explorer.FileUploadFailed', {\n                folderName: status?.vFolderName,\n              }),\n            },\n          },\n          extraDescription: _.join(status?.failedFiles, ', '),\n        });\n      } else if (!_.isEmpty(status?.completedFiles)) {\n        upsertNotification({\n          key: 'upload:' + vFolderId,\n          open: true,\n          message: (\n            <span>\n              {t('explorer.VFolder')}:&nbsp;\n              <BAILink\n                style={{\n                  fontWeight: 'normal',\n                }}\n                to={generateFolderPath(vFolderId)}\n                onClick={() => {\n                  closeNotification('upload:' + vFolderId);\n                }}\n              >{`${status?.vFolderName}`}</BAILink>\n            </span>\n          ),\n          backgroundTask: {\n            status: 'resolved',\n            percent: 100,\n            onChange: {\n              resolved: t('explorer.SuccessfullyUploadedToFolder'),\n            },\n          },\n          duration: 3,\n        });\n        setUploadStatus((prev) => ({\n          ...prev,\n          [vFolderId]: {\n            ...prev[vFolderId],\n            completedFiles: [],\n            completedBytes: 0,\n            totalExpectedSize: 0,\n          },\n        }));\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uploadStatus]);\n\n  return null;\n};\n\nexport default FileUploadManager;\n\nexport const useFileUploadManager = (id?: string, folderName?: string) => {\n  'use memo';\n\n  const baiClient = useConnectedBAIClient();\n  const { t } = useTranslation();\n  const { upsertNotification } = useSetBAINotification();\n\n  const setUploadRequests = useSetAtom(uploadRequestAtom);\n\n  const [uploadStatus, setUploadStatus] = useUploadStatusAtomStatus(\n    id ? toLocalId(id).replace(/-/g, '') : '', // since jotai atom doesn't use '-' in key, we need to replace it\n  );\n\n  const validateUploadRequest = (\n    requestedFiles: Array<RcFile>,\n    vfolderId: string,\n  ) => {\n    const maxPossibleFileSize = baiClient._config.maxFileUploadSize;\n    const maxRequestFileSize = _.map(\n      requestedFiles,\n      (file) => file.size,\n    ).reduce((max, size) => Math.max(max, size), 0);\n\n    if (maxPossibleFileSize > 0 && maxRequestFileSize > maxPossibleFileSize) {\n      upsertNotification({\n        open: true,\n        key: 'upload:' + vfolderId,\n        message: t('explorer.UploadFailed', {\n          folderName: folderName ?? '',\n        }),\n        description: t('data.explorer.FileUploadSizeLimit'),\n        duration: 3,\n        toText: t('data.folders.OpenAFolder'),\n        to: {\n          search: new URLSearchParams({\n            folder: vfolderId,\n          }).toString(),\n        },\n      });\n      return false;\n    }\n    return true;\n  };\n\n  const uploadFiles = async (\n    files: RcFile[],\n    vfolderId: string,\n    currentPath: string,\n  ) => {\n    if (!validateUploadRequest(files, vfolderId)) return;\n\n    const fileToUpload: Array<RcFile> = [];\n    const startUploadFunctionMap = _.map(files, (file) => {\n      fileToUpload.push(file);\n      return async (callbacks?: {\n        onProgress?: (\n          bytesUploaded: number,\n          bytesTotal: number,\n          fileName: string,\n        ) => void;\n      }) => {\n        const fileName = file.webkitRelativePath || file.name;\n\n        try {\n          const uploadPath = [currentPath, fileName].filter(Boolean).join('/');\n\n          const uploadUrl: string =\n            await baiClient.vfolder.create_upload_session(\n              uploadPath,\n              file,\n              vfolderId,\n            );\n\n          return await new Promise<{ name: string; bytes: number }>(\n            (resolve, reject) => {\n              try {\n                const upload = new tus.Upload(file, {\n                  endpoint: uploadUrl,\n                  uploadUrl: uploadUrl,\n                  retryDelays: [0, 3000, 5000, 10000, 20000],\n                  chunkSize: getOptimalChunkSize(file.size),\n                  storeFingerprintForResuming: false, // Disable localStorage storage\n                  metadata: {\n                    filename: file.name,\n                    filetype: file.type,\n                  },\n                  onProgress: (bytesUploaded, bytesTotal) => {\n                    callbacks?.onProgress?.(\n                      bytesUploaded,\n                      bytesTotal,\n                      fileName,\n                    );\n                  },\n                  onSuccess: () => {\n                    resolve({\n                      name: fileName,\n                      bytes: file.size,\n                    });\n                  },\n                  onError: (_error) => {\n                    // Always reject with consistent structure\n                    reject(new Error(`Upload failed for ${fileName}`));\n                  },\n                });\n                upload.start();\n              } catch {\n                // Handle synchronous errors from tus.Upload constructor or start()\n                reject(\n                  new Error(`Failed to initialize upload for ${fileName}`),\n                );\n              }\n            },\n          );\n        } catch {\n          // Handle API errors or any other errors\n          // Always throw with a consistent error message\n          throw new Error(`Failed to prepare upload for ${fileName}`);\n        }\n      };\n    });\n\n    const uploadRequestInfo: UploadRequest = {\n      vFolderId: vfolderId,\n      vFolderName: folderName ?? '',\n      uploadFileInfo: _.zipWith(\n        fileToUpload,\n        startUploadFunctionMap,\n        (file, startFunction) => ({\n          file,\n          startFunction,\n        }),\n      ),\n    };\n    setUploadRequests((prev) => [...prev, uploadRequestInfo]);\n  };\n\n  return {\n    uploadStatus,\n    setUploadStatus,\n    uploadFiles,\n  };\n};\n\nconst getOptimalChunkSize = (fileSize: number): number => {\n  const MB = 1024 * 1024;\n\n  if (fileSize >= 5 * 1024 * MB) {\n    return 200 * MB;\n  } else if (fileSize >= 1 * 1024 * MB) {\n    return 100 * MB;\n  } else if (fileSize >= 100 * MB) {\n    return 50 * MB;\n  } else {\n    return 15 * MB;\n  }\n};\n","/**\n * @generated SignedSource<<dd3b5cd9904b19cc7c7d8a030ae160c5>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FolderExplorerModalQuery$variables = {\n  vfolderGlobalId: string;\n};\nexport type FolderExplorerModalQuery$data = {\n  readonly vfolder_node: {\n    readonly group: string | null | undefined;\n    readonly group_name: string | null | undefined;\n    readonly host: string | null | undefined;\n    readonly id: string;\n    readonly name: string | null | undefined;\n    readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n    readonly unmanaged_path: string | null | undefined;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"FolderExplorerHeaderFragment\" | \"VFolderNameTitleNodeFragment\" | \"VFolderNodeDescriptionFragment\">;\n  } | null | undefined;\n};\nexport type FolderExplorerModalQuery = {\n  response: FolderExplorerModalQuery$data;\n  variables: FolderExplorerModalQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"vfolderGlobalId\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"vfolderGlobalId\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"group\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"group_name\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"unmanaged_path\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permissions\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"host\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv8 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"FolderExplorerModalQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          (v8/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"FolderExplorerHeaderFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"VFolderNodeDescriptionFragment\"\n          },\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"VFolderNameTitleNodeFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"FolderExplorerModalQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          (v4/*: any*/),\n          (v5/*: any*/),\n          (v6/*: any*/),\n          (v7/*: any*/),\n          (v8/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"user\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"permission\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"row_id\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"status\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"quota_scope_id\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"user_email\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"creator\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"usage_mode\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"ownership_type\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max_files\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max_size\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"created_at\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"last_used\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"num_files\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"cur_size\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"cloneable\",\n            \"storageKey\": null\n          },\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"37f1c759f1e7dddf7b1c090eca2e8860\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"FolderExplorerModalQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query FolderExplorerModalQuery(\\n  $vfolderGlobalId: String!\\n) {\\n  vfolder_node(id: $vfolderGlobalId) {\\n    group\\n    group_name\\n    unmanaged_path @since(version: \\\"25.04.0\\\")\\n    permissions\\n    host\\n    id\\n    name\\n    ...FolderExplorerHeaderFragment\\n    ...VFolderNodeDescriptionFragment\\n    ...VFolderNameTitleNodeFragment\\n  }\\n}\\n\\nfragment EditableVFolderNameFragment on VirtualFolderNode {\\n  id\\n  name\\n  user\\n  group\\n  status\\n}\\n\\nfragment FileBrowserButtonFragment on VirtualFolderNode {\\n  id\\n  host\\n}\\n\\nfragment FolderExplorerHeaderFragment on VirtualFolderNode {\\n  id\\n  user\\n  permission\\n  row_id\\n  unmanaged_path @since(version: \\\"25.04.0\\\")\\n  ...VFolderNameTitleNodeFragment\\n  ...VFolderNodeIdenticonFragment\\n  ...EditableVFolderNameFragment\\n  ...FileBrowserButtonFragment\\n  ...SFTPServerButtonFragment\\n}\\n\\nfragment SFTPServerButtonFragment on VirtualFolderNode {\\n  id\\n  row_id\\n  host\\n}\\n\\nfragment VFolderNameTitleNodeFragment on VirtualFolderNode {\\n  name\\n}\\n\\nfragment VFolderNodeDescriptionFragment on VirtualFolderNode {\\n  id\\n  host\\n  quota_scope_id\\n  user\\n  user_email\\n  group\\n  group_name\\n  creator\\n  usage_mode\\n  permission\\n  ownership_type\\n  max_files\\n  max_size\\n  created_at\\n  last_used\\n  num_files\\n  cur_size\\n  cloneable\\n  status\\n  permissions @since(version: \\\"24.09.0\\\")\\n  unmanaged_path @since(version: \\\"25.04.0\\\")\\n  ...VFolderPermissionCellFragment\\n  ...useVirtualFolderNodePathFragment\\n}\\n\\nfragment VFolderNodeIdenticonFragment on VirtualFolderNode {\\n  id\\n}\\n\\nfragment VFolderPermissionCellFragment on VirtualFolderNode {\\n  permissions\\n}\\n\\nfragment useVirtualFolderNodePathFragment on VirtualFolderNode {\\n  id\\n  host\\n  quota_scope_id\\n  user\\n  user_email\\n  group\\n  group_name\\n  creator\\n  usage_mode\\n  permission\\n  ownership_type\\n  max_files\\n  max_size\\n  created_at\\n  last_used\\n  num_files\\n  cur_size\\n  cloneable\\n  status\\n  permissions @since(version: \\\"24.09.0\\\")\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"bc8ed85ec64ce6416231f71a40388f03\";\n\nexport default node;\n","/**\n * @generated SignedSource<<085d6287bf8917ac31e4b66fe0aafa94>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FolderExplorerHeaderFragment$data = {\n  readonly id: string;\n  readonly permission: string | null | undefined;\n  readonly row_id: string;\n  readonly unmanaged_path: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"EditableVFolderNameFragment\" | \"FileBrowserButtonFragment\" | \"SFTPServerButtonFragment\" | \"VFolderNameTitleNodeFragment\" | \"VFolderNodeIdenticonFragment\">;\n  readonly \" $fragmentType\": \"FolderExplorerHeaderFragment\";\n};\nexport type FolderExplorerHeaderFragment$key = {\n  readonly \" $data\"?: FolderExplorerHeaderFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FolderExplorerHeaderFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FolderExplorerHeaderFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"kind\": \"RequiredField\",\n      \"field\": {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"row_id\",\n        \"storageKey\": null\n      },\n      \"action\": \"THROW\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"unmanaged_path\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderNameTitleNodeFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderNodeIdenticonFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"EditableVFolderNameFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"FileBrowserButtonFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"SFTPServerButtonFragment\"\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"8c6e3cf5a92c8f51f54f315622c8bb75\";\n\nexport default node;\n","/**\n * @generated SignedSource<<3db6e9e415b4afc749f7aa3634f6cd29>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FileBrowserButtonFragment$data = {\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly \" $fragmentType\": \"FileBrowserButtonFragment\";\n};\nexport type FileBrowserButtonFragment$key = {\n  readonly \" $data\"?: FileBrowserButtonFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FileBrowserButtonFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FileBrowserButtonFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"b96df1a5289fd1330848207e43880ddd\";\n\nexport default node;\n","/**\n * @generated SignedSource<<15af007cd87fbd4d0b901ba12c0e395e>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useDefaultImagesWithFallbackQuery$variables = {\n  installed?: boolean | null | undefined;\n};\nexport type useDefaultImagesWithFallbackQuery$data = {\n  readonly images: ReadonlyArray<{\n    readonly architecture: string | null | undefined;\n    readonly id: string | null | undefined;\n    readonly labels: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly value: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly name: string | null | undefined;\n    readonly namespace: string | null | undefined;\n    readonly registry: string | null | undefined;\n    readonly resource_limits: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly max: string | null | undefined;\n      readonly min: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly tag: string | null | undefined;\n    readonly tags: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly value: string | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined> | null | undefined;\n};\nexport type useDefaultImagesWithFallbackQuery = {\n  response: useDefaultImagesWithFallbackQuery$data;\n  variables: useDefaultImagesWithFallbackQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"installed\"\n  }\n],\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"key\",\n  \"storageKey\": null\n},\nv2 = [\n  (v1/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"value\",\n    \"storageKey\": null\n  }\n],\nv3 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"is_installed\",\n        \"variableName\": \"installed\"\n      }\n    ],\n    \"concreteType\": \"Image\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"images\",\n    \"plural\": true,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"id\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"tag\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"registry\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"architecture\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"name\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"namespace\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KVPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"labels\",\n        \"plural\": true,\n        \"selections\": (v2/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KVPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"tags\",\n        \"plural\": true,\n        \"selections\": (v2/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ResourceLimit\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resource_limits\",\n        \"plural\": true,\n        \"selections\": [\n          (v1/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"min\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"selections\": (v3/*: any*/),\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"selections\": (v3/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"50986f0b2ceaf84de4cd397a2d793329\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useDefaultImagesWithFallbackQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useDefaultImagesWithFallbackQuery(\\n  $installed: Boolean\\n) {\\n  images(is_installed: $installed) {\\n    id\\n    tag\\n    registry\\n    architecture\\n    name @deprecatedSince(version: \\\"24.12.0\\\")\\n    namespace @since(version: \\\"24.12.0\\\")\\n    labels {\\n      key\\n      value\\n    }\\n    tags @since(version: \\\"24.12.0\\\") {\\n      key\\n      value\\n    }\\n    resource_limits {\\n      key\\n      min\\n      max\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"10405daea8947c9eb138ed58ff364fe0\";\n\nexport default node;\n","import { backendaiClientPromise } from '.';\nimport { atom, useAtom } from 'jotai';\nimport { atomWithDefault } from 'jotai/utils';\nimport _ from 'lodash';\nimport { useEffect, useEffectEvent } from 'react';\nimport { fetchQuery, graphql, useRelayEnvironment } from 'react-relay';\nimport {\n  useDefaultImagesWithFallbackQuery,\n  useDefaultImagesWithFallbackQuery$data,\n} from 'src/__generated__/useDefaultImagesWithFallbackQuery.graphql';\nimport { getImageFullName } from 'src/helper';\n\nconst IMAGES_QUERY = graphql`\n  query useDefaultImagesWithFallbackQuery($installed: Boolean) {\n    images(is_installed: $installed) {\n      id\n      tag\n      registry\n      architecture\n      name @deprecatedSince(version: \"24.12.0\")\n      namespace @since(version: \"24.12.0\")\n      labels {\n        key\n        value\n      }\n      tags @since(version: \"24.12.0\") {\n        key\n        value\n      }\n      resource_limits {\n        key\n        min\n        max\n      }\n    }\n  }\n`;\n\nconst defaultFileBrowserImageAtom = atomWithDefault<\n  string | null | undefined | Promise<string | null | undefined>\n>(async () => {\n  const baiClient = await backendaiClientPromise;\n  return _.isEmpty(baiClient._config?.defaultFileBrowserImage)\n    ? undefined\n    : baiClient._config?.defaultFileBrowserImage;\n});\n\nconst systemSSHImageAtom = atomWithDefault<\n  string | null | undefined | Promise<string | null | undefined>\n>(async () => {\n  const baiClient = await backendaiClientPromise;\n  return _.isEmpty(baiClient._config?.systemSSHImage)\n    ? undefined\n    : baiClient._config?.systemSSHImage;\n});\nconst systemSSHImageInfoAtom =\n  atom<NonNullable<useDefaultImagesWithFallbackQuery$data['images']>[number]>();\n\nexport const useDefaultFileBrowserImageWithFallback = () => {\n  'use memo';\n  const [defaultFileBrowserImage, setDefaultFileBrowserImage] = useAtom(\n    defaultFileBrowserImageAtom,\n  );\n  const relayEnv = useRelayEnvironment();\n\n  const getImage = useEffectEvent(() => {\n    if (defaultFileBrowserImage === undefined) {\n      // TODO: Currently, file browser filtering by server-side is not supported.\n      // Once supported, modify the query to fetch only relevant images.\n      fetchQuery<useDefaultImagesWithFallbackQuery>(\n        relayEnv,\n        IMAGES_QUERY,\n        {\n          installed: true,\n        },\n        {\n          fetchPolicy: 'store-or-network',\n        },\n      )\n        .toPromise()\n        .then((response) =>\n          response?.images?.filter((image) =>\n            image?.labels?.find(\n              (label) =>\n                label?.key === 'ai.backend.service-ports' &&\n                label?.value?.toLowerCase().includes('filebrowser'),\n            ),\n          ),\n        )\n        .then(async (filebrowserImages) => {\n          const firstImage = _.first(filebrowserImages);\n          setDefaultFileBrowserImage(\n            firstImage ? getImageFullName(firstImage) : null,\n          );\n        })\n        .catch(() => {\n          // in case of error, set null to disable file browser button\n          setDefaultFileBrowserImage(null);\n        });\n    }\n  });\n\n  useEffect(() => {\n    getImage();\n  }, []);\n\n  return defaultFileBrowserImage;\n};\n\nexport const useDefaultSystemSSHImageWithFallback = () => {\n  'use memo';\n  const [systemSSHImage, setSystemSSHImage] = useAtom(systemSSHImageAtom);\n  const [systemSSHImageInfo, setSystemSSHImageInfo] = useAtom(\n    systemSSHImageInfoAtom,\n  );\n  const relayEnv = useRelayEnvironment();\n\n  const getImage = useEffectEvent(() => {\n    if (systemSSHImage === undefined) {\n      // TODO: Currently, SSH/SFTP filtering by server-side is not supported.\n      // Once supported, modify the query to fetch only relevant images.\n      fetchQuery<useDefaultImagesWithFallbackQuery>(\n        relayEnv,\n        IMAGES_QUERY,\n        {\n          installed: true,\n        },\n        {\n          fetchPolicy: 'store-or-network',\n        },\n      )\n        .toPromise()\n        .then((response) =>\n          response?.images?.filter((image) =>\n            image?.labels?.find(\n              (label) =>\n                label?.key === 'ai.backend.role' &&\n                label?.value?.toLowerCase().includes('system'),\n            ),\n          ),\n        )\n        .then(async (sshImages) => {\n          const firstImage = _.first(sshImages);\n          setSystemSSHImage(firstImage ? getImageFullName(firstImage) : null);\n          setSystemSSHImageInfo(firstImage || undefined);\n        })\n        .catch(() => {\n          // in case of error, set null to disable SFTP button\n          setSystemSSHImage(null);\n        });\n    }\n  });\n\n  useEffect(() => {\n    getImage();\n  }, []);\n\n  return { systemSSHImage, systemSSHImageInfo };\n};\n","/**\n * @generated SignedSource<<01f84eec24a9462f4d8a239a0f8488c5>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$variables = {\n  domainName?: string | null | undefined;\n  projectId: string;\n  resourcePolicyName?: string | null | undefined;\n};\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$data = {\n  readonly domain: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n  readonly group: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n  readonly keypair_resource_policy: {\n    readonly allowed_vfolder_hosts: string | null | undefined;\n  } | null | undefined;\n};\nexport type useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery = {\n  response: useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$data;\n  variables: useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"domainName\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"projectId\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"resourcePolicyName\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"allowed_vfolder_hosts\",\n    \"storageKey\": null\n  }\n],\nv2 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"domainName\"\n      }\n    ],\n    \"concreteType\": \"Domain\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"domain\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"domain_name\",\n        \"variableName\": \"domainName\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"id\",\n        \"variableName\": \"projectId\"\n      }\n    ],\n    \"concreteType\": \"Group\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"group\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"resourcePolicyName\"\n      }\n    ],\n    \"concreteType\": \"KeyPairResourcePolicy\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"keypair_resource_policy\",\n    \"plural\": false,\n    \"selections\": (v1/*: any*/),\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"selections\": (v2/*: any*/),\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"selections\": (v2/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"f7d16150a7d77cb465733a2933a08261\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery(\\n  $domainName: String\\n  $projectId: UUID!\\n  $resourcePolicyName: String\\n) {\\n  domain(name: $domainName) {\\n    allowed_vfolder_hosts\\n  }\\n  group(id: $projectId, domain_name: $domainName) {\\n    allowed_vfolder_hosts\\n  }\\n  keypair_resource_policy(name: $resourcePolicyName) {\\n    allowed_vfolder_hosts\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"616594ca9d6c787458c32688c1a25b1f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<2262b0f6dd81bd5b84853167145245ab>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type useMergedAllowedStorageHostPermission_KeypairQuery$variables = {\n  accessKey?: string | null | undefined;\n  domainName?: string | null | undefined;\n};\nexport type useMergedAllowedStorageHostPermission_KeypairQuery$data = {\n  readonly keypair: {\n    readonly resource_policy: string;\n  };\n};\nexport type useMergedAllowedStorageHostPermission_KeypairQuery = {\n  response: useMergedAllowedStorageHostPermission_KeypairQuery$data;\n  variables: useMergedAllowedStorageHostPermission_KeypairQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"accessKey\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"domainName\"\n},\nv2 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"access_key\",\n    \"variableName\": \"accessKey\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"domain_name\",\n    \"variableName\": \"domainName\"\n  }\n],\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"resource_policy\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"selections\": [\n      {\n        \"kind\": \"RequiredField\",\n        \"field\": {\n          \"alias\": null,\n          \"args\": (v2/*: any*/),\n          \"concreteType\": \"KeyPair\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"keypair\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"kind\": \"RequiredField\",\n              \"field\": (v3/*: any*/),\n              \"action\": \"THROW\"\n            }\n          ],\n          \"storageKey\": null\n        },\n        \"action\": \"THROW\"\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"KeyPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"keypair\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"id\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"05bd7db7ab185940108fba3f2cadc989\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"useMergedAllowedStorageHostPermission_KeypairQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query useMergedAllowedStorageHostPermission_KeypairQuery(\\n  $domainName: String\\n  $accessKey: String\\n) {\\n  keypair(domain_name: $domainName, access_key: $accessKey) {\\n    resource_policy\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"bca5af88ccf1508389ec648bf31c4965\";\n\nexport default node;\n","import { useSuspendedBackendaiClient } from '.';\nimport { useSuspenseQuery } from '@tanstack/react-query';\nimport { graphql, useLazyLoadQuery } from 'react-relay';\nimport { useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery } from 'src/__generated__/useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery.graphql';\nimport { useMergedAllowedStorageHostPermission_KeypairQuery } from 'src/__generated__/useMergedAllowedStorageHostPermission_KeypairQuery.graphql';\n\nexport const useMergedAllowedStorageHostPermission = (\n  domain: string,\n  projectId: string,\n  userAccessKey: string,\n) => {\n  const baiClient = useSuspendedBackendaiClient();\n  const { keypair } =\n    useLazyLoadQuery<useMergedAllowedStorageHostPermission_KeypairQuery>(\n      graphql`\n        query useMergedAllowedStorageHostPermission_KeypairQuery(\n          $domainName: String\n          $accessKey: String\n        ) {\n          keypair(domain_name: $domainName, access_key: $accessKey)\n            @required(action: THROW) {\n            resource_policy @required(action: THROW)\n          }\n        }\n      `,\n      {\n        domainName: domain,\n        accessKey: userAccessKey,\n      },\n      {\n        fetchPolicy: 'store-or-network',\n      },\n    );\n  const mergedAllowedVFolderHosts =\n    useLazyLoadQuery<useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery>(\n      graphql`\n        query useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery(\n          $domainName: String\n          $projectId: UUID!\n          $resourcePolicyName: String\n        ) {\n          domain(name: $domainName) {\n            allowed_vfolder_hosts\n          }\n          group(id: $projectId, domain_name: $domainName) {\n            allowed_vfolder_hosts\n          }\n          keypair_resource_policy(name: $resourcePolicyName) {\n            allowed_vfolder_hosts\n          }\n        }\n      `,\n      {\n        domainName: domain,\n        projectId,\n        resourcePolicyName: keypair?.resource_policy,\n      },\n      {\n        fetchPolicy: 'store-or-network',\n      },\n    );\n\n  const allowedPermissionForDomainsByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.domain?.allowed_vfolder_hosts || '{}',\n  );\n  const allowedPermissionForGroupsByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.group?.allowed_vfolder_hosts || '{}',\n  );\n  const allowedPermissionForResourcePolicyByVolume = JSON.parse(\n    mergedAllowedVFolderHosts?.keypair_resource_policy?.allowed_vfolder_hosts ||\n      '{}',\n  );\n\n  const _mergeDedupe = (arr: any[]) => [\n    ...new Set([].concat(...arr.filter(Boolean))),\n  ];\n\n  const { data: vhostInfo } = useSuspenseQuery({\n    queryKey: ['vhostInfo'],\n    queryFn: async () => {\n      return await baiClient.vfolder.list_hosts();\n    },\n    staleTime: 1000 * 60 * 5,\n    gcTime: 0,\n  });\n  const unitedAllowedPermissionByVolume = Object.assign(\n    {},\n    ...vhostInfo.allowed.map((volume: string) => {\n      return {\n        [volume]: _mergeDedupe([\n          allowedPermissionForDomainsByVolume[volume],\n          allowedPermissionForGroupsByVolume[volume],\n          allowedPermissionForResourcePolicyByVolume[volume],\n        ]),\n      };\n    }),\n  );\n\n  return {\n    StorageHostPermissionByDomain: allowedPermissionForDomainsByVolume,\n    StorageHostPermissionByGroup: allowedPermissionForGroupsByVolume,\n    StorageHostPermissionByResourcePolicy:\n      allowedPermissionForResourcePolicyByVolume,\n    unitedAllowedPermissionByVolume,\n  };\n};\n","import { useWebUINavigate } from '../hooks';\nimport { PrimaryAppOption } from './ComputeSessionNodeItems/SessionActionButtons';\nimport { EllipsisOutlined } from '@ant-design/icons';\nimport { App, Dropdown, Image, Space, Tooltip } from 'antd';\nimport {\n  BAIButton,\n  BAIButtonProps,\n  toLocalId,\n  useBAILogger,\n  useErrorMessageResolver,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment } from 'react-relay';\nimport { FileBrowserButtonFragment$key } from 'src/__generated__/FileBrowserButtonFragment.graphql';\nimport { useCurrentDomainValue, useSuspendedBackendaiClient } from 'src/hooks';\nimport { useCurrentProjectValue } from 'src/hooks/useCurrentProject';\nimport { useDefaultFileBrowserImageWithFallback } from 'src/hooks/useDefaultImagesWithFallback';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\nimport {\n  StartSessionWithDefaultValue,\n  useStartSession,\n} from 'src/hooks/useStartSession';\n\ninterface FileBrowserButtonProps extends BAIButtonProps {\n  showTitle?: boolean;\n  vfolderFrgmt: FileBrowserButtonFragment$key;\n}\nconst FileBrowserButton: React.FC<FileBrowserButtonProps> = ({\n  showTitle = true,\n  vfolderFrgmt,\n  ...buttonProps\n}) => {\n  'use memo';\n  const { t } = useTranslation();\n  const { message, modal } = App.useApp();\n  const { logger } = useBAILogger();\n\n  const webuiNavigate = useWebUINavigate();\n\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n\n  const { getErrorMessage } = useErrorMessageResolver();\n  const { startSessionWithDefault, upsertSessionNotification } =\n    useStartSession();\n\n  const filebrowserImage = useDefaultFileBrowserImageWithFallback();\n\n  const vfolder = useFragment(\n    graphql`\n      fragment FileBrowserButtonFragment on VirtualFolderNode {\n        id\n        host\n      }\n    `,\n    vfolderFrgmt,\n  );\n\n  const hasAccessPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder?.host ?? ''],\n    'mount-in-session',\n  );\n\n  const getTooltipTitle = () => {\n    if (!hasAccessPermission) {\n      return t('data.explorer.NoPermissionToMountFolder');\n    } else if (filebrowserImage === null) {\n      return t('data.explorer.NoImagesSupportingFileBrowser');\n    } else if (!showTitle && filebrowserImage) {\n      return t('data.explorer.ExecuteFileBrowser');\n    } else return '';\n  };\n\n  // Helper to create launcher value for filebrowser\n  const createFilebrowserLauncherValue = (): StartSessionWithDefaultValue => ({\n    sessionName: `filebrowser-${toLocalId(vfolder.id || '')}`,\n    sessionType: 'interactive',\n    environments: {\n      version: filebrowserImage || '',\n    },\n    allocationPreset: 'minimum-required',\n    cluster_mode: 'single-node',\n    cluster_size: 1,\n    mount_ids: [toLocalId(vfolder.id || '').replaceAll('-', '')],\n    reuseIfExists: true,\n  });\n\n  return (\n    <Tooltip title={getTooltipTitle()}>\n      <Space.Compact>\n        <BAIButton\n          icon={\n            <Image\n              width=\"18px\"\n              src=\"/resources/icons/filebrowser.svg\"\n              alt=\"File Browser\"\n              preview={false}\n              style={\n                filebrowserImage\n                  ? undefined\n                  : {\n                      filter: 'grayscale(100%)',\n                    }\n              }\n            />\n          }\n          disabled={!filebrowserImage || !hasAccessPermission}\n          action={async () => {\n            if (!filebrowserImage) {\n              return;\n            }\n            const fileBrowserFormValue = createFilebrowserLauncherValue();\n            await startSessionWithDefault(fileBrowserFormValue)\n              .then((results) => {\n                if (results?.fulfilled && results.fulfilled.length > 0) {\n                  upsertSessionNotification(results.fulfilled, [\n                    {\n                      key: `filebrowser-${toLocalId(vfolder.id || '')}`,\n                      extraData: {\n                        appName: 'filebrowser',\n                      } as PrimaryAppOption,\n                    },\n                  ]);\n                }\n                if (results?.rejected && results.rejected.length > 0) {\n                  const error = results.rejected[0].reason;\n                  modal.error({\n                    title: error?.title,\n                    content: getErrorMessage(error),\n                  });\n                }\n              })\n              .catch((error) => {\n                logger.error(\n                  'Unexpected error during session creation:',\n                  error,\n                );\n                message.error(t('error.UnexpectedError'));\n              });\n          }}\n          {...buttonProps}\n        >\n          {showTitle && t('data.explorer.ExecuteFileBrowser')}\n        </BAIButton>\n        <Dropdown\n          disabled={!filebrowserImage || !hasAccessPermission}\n          trigger={['click']}\n          menu={{\n            items: [\n              {\n                key: 'custom',\n                label: t('import.StartWithOptions'),\n                onClick: () => {\n                  const launcherValue = createFilebrowserLauncherValue();\n                  const params = new URLSearchParams();\n                  params.set('formValues', JSON.stringify(launcherValue));\n                  params.set('step', '4');\n                  webuiNavigate({\n                    pathname: '/session/start',\n                    search: params.toString(),\n                  });\n                },\n              },\n            ],\n          }}\n        >\n          <BAIButton icon={<EllipsisOutlined />} />\n        </Dropdown>\n      </Space.Compact>\n    </Tooltip>\n  );\n};\n\nexport default FileBrowserButton;\n","/**\n * @generated SignedSource<<8f8a686bdd2c54248b3b280fc98e39bb>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type SFTPServerButtonFragment$data = {\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly row_id: string | null | undefined;\n  readonly \" $fragmentType\": \"SFTPServerButtonFragment\";\n};\nexport type SFTPServerButtonFragment$key = {\n  readonly \" $data\"?: SFTPServerButtonFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"SFTPServerButtonFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"SFTPServerButtonFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"row_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"8bf5b2e08fd923cb5fc74aaa801b7e1f\";\n\nexport default node;\n","import { useWebUINavigate } from '../hooks';\nimport { EllipsisOutlined } from '@ant-design/icons';\nimport { App, Dropdown, Image, Space, Tooltip } from 'antd';\nimport {\n  BAIButton,\n  BAIButtonProps,\n  toLocalId,\n  useBAILogger,\n  useErrorMessageResolver,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useFragment } from 'react-relay';\nimport { SFTPServerButtonFragment$key } from 'src/__generated__/SFTPServerButtonFragment.graphql';\nimport { useCurrentDomainValue, useSuspendedBackendaiClient } from 'src/hooks';\nimport {\n  useCurrentProjectValue,\n  useResourceGroupsForCurrentProject,\n} from 'src/hooks/useCurrentProject';\nimport { useDefaultSystemSSHImageWithFallback } from 'src/hooks/useDefaultImagesWithFallback';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\nimport {\n  StartSessionWithDefaultValue,\n  useStartSession,\n} from 'src/hooks/useStartSession';\n\ninterface SFTPServerButtonProps extends BAIButtonProps {\n  showTitle?: boolean;\n  vfolderFrgmt: SFTPServerButtonFragment$key;\n}\n\nconst SFTPServerButton: React.FC<SFTPServerButtonProps> = ({\n  showTitle = true,\n  vfolderFrgmt,\n  ...buttonProps\n}) => {\n  'use memo';\n\n  const { logger } = useBAILogger();\n  const { t } = useTranslation();\n  const { message, modal } = App.useApp();\n\n  const webuiNavigate = useWebUINavigate();\n\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n  const { vhostInfo: vhostInfoByCurrentProject } =\n    useResourceGroupsForCurrentProject();\n\n  const { getErrorMessage } = useErrorMessageResolver();\n  const { startSessionWithDefault, upsertSessionNotification } =\n    useStartSession();\n\n  const { systemSSHImage } = useDefaultSystemSSHImageWithFallback();\n\n  const vfolder = useFragment(\n    graphql`\n      fragment SFTPServerButtonFragment on VirtualFolderNode {\n        id\n        row_id\n        host\n      }\n    `,\n    vfolderFrgmt,\n  );\n\n  // Verify that the current user has access to the volume of the vfolder.\n  // Check the project has SFTP scaling groups for the host of the vfolder.\n  const sftpScalingGroupByCurrentProject =\n    vhostInfoByCurrentProject?.volume_info[vfolder?.host || '']\n      ?.sftp_scaling_groups;\n  // Verify that the current project has access to the volumes in the folder.\n  // Check the user has 'mount-in-session' permission united by domain, project, and keypair resource policy.\n  const hasAccessPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder?.host ?? ''],\n    'mount-in-session',\n  );\n\n  const getTooltipTitle = () => {\n    if (!hasAccessPermission) {\n      return t('data.explorer.NoPermissionToMountFolder');\n    } else if (_.isEmpty(sftpScalingGroupByCurrentProject)) {\n      return t('data.explorer.NoSFTPSupportingScalingGroup');\n    } else if (!systemSSHImage) {\n      return t('data.explorer.NoImagesSupportingSystemSession');\n    } else if (!showTitle && systemSSHImage) {\n      return t('data.explorer.RunSSH/SFTPserver');\n    } else return '';\n  };\n\n  // Helper to create launcher value for SFTP session\n  const createSftpLauncherValue = (): StartSessionWithDefaultValue => ({\n    sessionName: `sftp-${toLocalId(vfolder?.id || '')}`,\n    sessionType: 'system',\n    ...(baiClient._config?.systemSSHImage &&\n    baiClient._config?.allow_manual_image_name_for_session\n      ? {\n          environments: {\n            manual: baiClient._config.systemSSHImage,\n          },\n        }\n      : {\n          environments: {\n            version: systemSSHImage || '',\n          },\n        }),\n    cluster_mode: 'single-node',\n    cluster_size: 1,\n    mount_ids: [toLocalId(vfolder?.id || '').replaceAll('-', '')],\n    resourceGroup: sftpScalingGroupByCurrentProject?.[0],\n    reuseIfExists: true,\n  });\n\n  return (\n    <Tooltip title={getTooltipTitle()}>\n      <Space.Compact>\n        <BAIButton\n          disabled={\n            _.isEmpty(sftpScalingGroupByCurrentProject) ||\n            !systemSSHImage ||\n            !hasAccessPermission\n          }\n          icon={\n            <Image\n              width=\"18px\"\n              src=\"/resources/icons/sftp.png\"\n              alt=\"SSH / SFTP\"\n              preview={false}\n            />\n          }\n          action={async () => {\n            const sftpSessionConf = createSftpLauncherValue();\n            await startSessionWithDefault(sftpSessionConf)\n              .then((results) => {\n                if (results?.fulfilled && results.fulfilled.length > 0) {\n                  // set notification key for handling duplicate session creation\n                  upsertSessionNotification(results.fulfilled, [\n                    {\n                      key: `sftp-${toLocalId(vfolder?.id || '')}`,\n                    },\n                  ]);\n                }\n                if (results?.rejected && results.rejected.length > 0) {\n                  const error = results.rejected[0].reason;\n                  modal.error({\n                    title: error?.title,\n                    content: getErrorMessage(error),\n                  });\n                }\n              })\n              .catch((error) => {\n                logger.error(\n                  'Unexpected error during session creation:',\n                  error,\n                );\n                message.error(t('error.UnexpectedError'));\n              });\n          }}\n          {...buttonProps}\n        >\n          {showTitle && t('data.explorer.RunSSH/SFTPserver')}\n        </BAIButton>\n        <Dropdown\n          disabled={\n            _.isEmpty(sftpScalingGroupByCurrentProject) ||\n            !systemSSHImage ||\n            !hasAccessPermission\n          }\n          trigger={['click']}\n          menu={{\n            items: [\n              {\n                key: 'custom',\n                label: t('import.StartWithOptions'),\n                onClick: () => {\n                  const launcherValue = createSftpLauncherValue();\n                  const params = new URLSearchParams();\n                  params.set('formValues', JSON.stringify(launcherValue));\n                  params.set('step', '4');\n                  webuiNavigate({\n                    pathname: '/session/start',\n                    search: params.toString(),\n                  });\n                },\n              },\n            ],\n          }}\n        >\n          <BAIButton icon={<EllipsisOutlined />} />\n        </Dropdown>\n      </Space.Compact>\n    </Tooltip>\n  );\n};\n\nexport default SFTPServerButton;\n","import { FolderExplorerHeaderFragment$key } from '../__generated__/FolderExplorerHeaderFragment.graphql';\nimport EditableVFolderName from './EditableVFolderName';\nimport ErrorBoundaryWithNullFallback from './ErrorBoundaryWithNullFallback';\nimport FileBrowserButton from './FileBrowserButton';\nimport SFTPServerButton from './SFTPServerButton';\nimport VFolderNodeIdenticon from './VFolderNodeIdenticon';\nimport { theme, Typography, Skeleton, Grid } from 'antd';\nimport { BAIFlex } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React, { Suspense } from 'react';\nimport { graphql, useFragment } from 'react-relay';\n\ninterface FolderExplorerHeaderProps {\n  vfolderNodeFrgmt?: FolderExplorerHeaderFragment$key | null;\n  titleStyle?: React.CSSProperties;\n}\n\nconst FolderExplorerHeader: React.FC<FolderExplorerHeaderProps> = ({\n  vfolderNodeFrgmt,\n  titleStyle,\n}) => {\n  'use memo';\n\n  const { token } = theme.useToken();\n  const { lg } = Grid.useBreakpoint();\n\n  const vfolderNode = useFragment(\n    graphql`\n      fragment FolderExplorerHeaderFragment on VirtualFolderNode {\n        id\n        user\n        permission\n        row_id @required(action: THROW)\n        unmanaged_path @since(version: \"25.04.0\")\n        ...VFolderNameTitleNodeFragment\n        ...VFolderNodeIdenticonFragment\n        ...EditableVFolderNameFragment\n        ...FileBrowserButtonFragment\n        ...SFTPServerButtonFragment\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  return (\n    <BAIFlex\n      data-testid=\"folder-explorer-header\"\n      justify=\"between\"\n      gap={token.marginMD}\n      style={{ width: '100%' }}\n    >\n      <BAIFlex\n        data-testid=\"folder-explorer-title\"\n        gap={'xs'}\n        // reset font weight set by BAIModal header\n        style={{ flex: 1, fontWeight: 'normal', ...titleStyle }}\n      >\n        {vfolderNode ? (\n          <VFolderNodeIdenticon\n            vfolderNodeIdenticonFrgmt={vfolderNode}\n            style={{\n              fontSize: token.fontSizeHeading4,\n            }}\n          />\n        ) : (\n          <BAIFlex\n            style={{\n              borderColor: token.colorBorderSecondary,\n              borderWidth: 1,\n              borderStyle: 'solid',\n              width: token.fontSizeHeading3,\n              height: token.fontSizeHeading3,\n              borderRadius: token.borderRadius,\n            }}\n          />\n        )}\n        {vfolderNode && (\n          <EditableVFolderName\n            vfolderFrgmt={vfolderNode}\n            enableLink={false}\n            component={Typography.Title}\n            level={3}\n            style={{\n              margin: 0,\n              width: '100%',\n            }}\n            ellipsis\n            editable={{\n              triggerType: ['icon', 'text'],\n            }}\n            inputProps={{\n              size: 'large',\n              count: {\n                max: 64,\n                show: true,\n              },\n              style: {\n                fontWeight: 'normal',\n              },\n            }}\n          />\n        )}\n      </BAIFlex>\n      <BAIFlex\n        data-testid=\"folder-explorer-actions\"\n        justify=\"end\"\n        gap={token.marginSM}\n      >\n        {vfolderNode && !vfolderNode?.unmanaged_path ? (\n          <Suspense fallback={<Skeleton.Button active />}>\n            <ErrorBoundaryWithNullFallback>\n              <FileBrowserButton vfolderFrgmt={vfolderNode} showTitle={lg} />\n            </ErrorBoundaryWithNullFallback>\n            <ErrorBoundaryWithNullFallback>\n              <SFTPServerButton vfolderFrgmt={vfolderNode} showTitle={lg} />\n            </ErrorBoundaryWithNullFallback>\n          </Suspense>\n        ) : null}\n      </BAIFlex>\n    </BAIFlex>\n  );\n};\n\nexport default FolderExplorerHeader;\n","/**\n * @generated SignedSource<<b08d2a6eb206a397bad8ea27d9db9ef7>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type VFolderNodeDescriptionPermissionRefreshQuery$variables = {\n  id: string;\n};\nexport type VFolderNodeDescriptionPermissionRefreshQuery$data = {\n  readonly vfolder_node: {\n    readonly permission: string | null | undefined;\n    readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  } | null | undefined;\n};\nexport type VFolderNodeDescriptionPermissionRefreshQuery = {\n  response: VFolderNodeDescriptionPermissionRefreshQuery$data;\n  variables: VFolderNodeDescriptionPermissionRefreshQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"id\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"id\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permission\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"permissions\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"VirtualFolderNode\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"vfolder_node\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          (v3/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"id\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"3aee063a4b508648c2365ba6c7f0f44a\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"VFolderNodeDescriptionPermissionRefreshQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query VFolderNodeDescriptionPermissionRefreshQuery(\\n  $id: String!\\n) {\\n  vfolder_node(id: $id) {\\n    permission\\n    permissions\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"36063c8300310d9ef6c369b49127a2a2\";\n\nexport default node;\n","/**\n * @generated SignedSource<<462af5f9df0e58aaa2ad869af29774cb>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type VFolderNodeDescriptionFragment$data = {\n  readonly cloneable: boolean | null | undefined;\n  readonly created_at: string | null | undefined;\n  readonly creator: string | null | undefined;\n  readonly cur_size: any | null | undefined;\n  readonly group: string | null | undefined;\n  readonly group_name: string | null | undefined;\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly last_used: string | null | undefined;\n  readonly max_files: number | null | undefined;\n  readonly max_size: any | null | undefined;\n  readonly num_files: number | null | undefined;\n  readonly ownership_type: string | null | undefined;\n  readonly permission: string | null | undefined;\n  readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  readonly quota_scope_id: string | null | undefined;\n  readonly status: string | null | undefined;\n  readonly unmanaged_path: string | null | undefined;\n  readonly usage_mode: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly user_email: string | null | undefined;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"VFolderPermissionCellFragment\" | \"useVirtualFolderNodePathFragment\">;\n  readonly \" $fragmentType\": \"VFolderNodeDescriptionFragment\";\n};\nexport type VFolderNodeDescriptionFragment$key = {\n  readonly \" $data\"?: VFolderNodeDescriptionFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"VFolderNodeDescriptionFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"VFolderNodeDescriptionFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"quota_scope_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user_email\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group_name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"creator\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"usage_mode\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"ownership_type\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"last_used\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"num_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cur_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cloneable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"status\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permissions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"unmanaged_path\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VFolderPermissionCellFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"useVirtualFolderNodePathFragment\"\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"f4ca4470ea635f85c8c346eed0a5fe8c\";\n\nexport default node;\n","/**\n * @generated SignedSource<<7a027844ee7c6caf9ae1cc064636660b>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type useVirtualFolderNodePathFragment$data = {\n  readonly cloneable: boolean | null | undefined;\n  readonly created_at: string | null | undefined;\n  readonly creator: string | null | undefined;\n  readonly cur_size: any | null | undefined;\n  readonly group: string | null | undefined;\n  readonly group_name: string | null | undefined;\n  readonly host: string | null | undefined;\n  readonly id: string;\n  readonly last_used: string | null | undefined;\n  readonly max_files: number | null | undefined;\n  readonly max_size: any | null | undefined;\n  readonly num_files: number | null | undefined;\n  readonly ownership_type: string | null | undefined;\n  readonly permission: string | null | undefined;\n  readonly permissions: ReadonlyArray<any | null | undefined> | null | undefined;\n  readonly quota_scope_id: string | null | undefined;\n  readonly status: string | null | undefined;\n  readonly usage_mode: string | null | undefined;\n  readonly user: string | null | undefined;\n  readonly user_email: string | null | undefined;\n  readonly \" $fragmentType\": \"useVirtualFolderNodePathFragment\";\n};\nexport type useVirtualFolderNodePathFragment$key = {\n  readonly \" $data\"?: useVirtualFolderNodePathFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"useVirtualFolderNodePathFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"useVirtualFolderNodePathFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"host\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"quota_scope_id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"user_email\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"group_name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"creator\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"usage_mode\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permission\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"ownership_type\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"max_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"created_at\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"last_used\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"num_files\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cur_size\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"cloneable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"status\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"permissions\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"VirtualFolderNode\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"439221036e87c57ca3ec1ce737e0cdf7\";\n\nexport default node;\n","import { useVirtualFolderNodePathFragment$key } from '../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { toLocalId } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { graphql, useFragment } from 'react-relay';\n\nexport const useVirtualFolderPath = (\n  vfolderNodeFrgmt: useVirtualFolderNodePathFragment$key,\n) => {\n  const vfolderNode = useFragment(\n    graphql`\n      fragment useVirtualFolderNodePathFragment on VirtualFolderNode {\n        id\n        host\n        quota_scope_id\n        user\n        user_email\n        group\n        group_name\n        creator\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n        permissions @since(version: \"24.09.0\")\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  const [quotaScopeType, quotaScopeIdWithoutType] = _.split(\n    vfolderNode?.quota_scope_id,\n    ':',\n  );\n  const vfolderId = toLocalId(vfolderNode?.id);\n  const vfolderIdPrefix1 = vfolderId.slice(0, 2);\n  const vfolderIdPrefix2 = vfolderId.slice(2, 4);\n  const vfolderIdRest = vfolderId.slice(4);\n  const vfolderPath = `${quotaScopeIdWithoutType.replaceAll('-', '')}/${vfolderIdPrefix1}/${vfolderIdPrefix2}/${vfolderIdRest.replaceAll('-', '')}`;\n\n  return {\n    quotaScopeType,\n    quotaScopeIdWithoutType,\n    vfolderId,\n    vfolderIdPrefix1,\n    vfolderIdPrefix2,\n    vfolderIdRest,\n    vfolderPath,\n  };\n};\n","import { useVirtualFolderNodePathFragment$key } from '../../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { useVirtualFolderPath } from '../../hooks/useVirtualFolderNodePath';\nimport { theme } from 'antd';\nimport { BAIFlex, BAIText } from 'backend.ai-ui';\nimport _ from 'lodash';\nimport React from 'react';\n\ninterface VirtualFolderPathProps {\n  vfolderNodeFrgmt: useVirtualFolderNodePathFragment$key;\n}\n\nconst VirtualFolderPath: React.FC<VirtualFolderPathProps> = ({\n  vfolderNodeFrgmt,\n}) => {\n  const {\n    quotaScopeType,\n    quotaScopeIdWithoutType,\n    vfolderId,\n    vfolderIdPrefix1,\n    vfolderIdPrefix2,\n    vfolderIdRest,\n  } = useVirtualFolderPath(vfolderNodeFrgmt);\n\n  const { token } = theme.useToken();\n\n  return (\n    <BAIFlex direction=\"row\" align=\"start\" justify=\"start\" wrap=\"wrap\" gap={3}>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        (root)\n      </BAIText>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        /\n      </BAIText>\n      <BAIFlex direction=\"column\" align=\"start\" justify=\"start\">\n        <BAIText\n          monospace\n          copyable={{\n            text: quotaScopeIdWithoutType,\n          }}\n          style={{ fontSize: '0.9em' }}\n        >\n          {_.truncate(quotaScopeIdWithoutType.replaceAll('-', ''), {\n            length: 15,\n          })}\n        </BAIText>\n        <BAIText\n          type=\"secondary\"\n          style={{\n            fontSize: token.fontSizeSM,\n          }}\n        >\n          Quota Scope ID ({_.upperFirst(quotaScopeType)})\n        </BAIText>\n      </BAIFlex>\n      <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n        /\n      </BAIText>\n      <BAIFlex direction=\"column\" align=\"start\" justify=\"start\">\n        <BAIFlex gap={3}>\n          <BAIText monospace style={{ fontSize: '0.9em' }}>\n            {vfolderIdPrefix1}\n          </BAIText>\n          <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n            /\n          </BAIText>\n          <BAIText monospace style={{ fontSize: '0.9em' }}>\n            {vfolderIdPrefix2}\n          </BAIText>\n          <BAIText monospace type=\"secondary\" style={{ fontSize: '0.9em' }}>\n            /\n          </BAIText>\n          <BAIText\n            monospace\n            copyable={{\n              text: vfolderId,\n            }}\n            style={{ fontSize: '0.9em' }}\n          >\n            {_.truncate(vfolderIdRest.replaceAll('-', ''), { length: 7 })}\n          </BAIText>\n        </BAIFlex>\n        <BAIText\n          type=\"secondary\"\n          style={{\n            fontSize: token.fontSizeSM,\n          }}\n        >\n          VFolder ID\n        </BAIText>\n      </BAIFlex>\n    </BAIFlex>\n  );\n};\n\nexport default VirtualFolderPath;\n","import { VFolderNodeDescriptionFragment$key } from '../__generated__/VFolderNodeDescriptionFragment.graphql';\nimport { VFolderNodeDescriptionPermissionRefreshQuery } from '../__generated__/VFolderNodeDescriptionPermissionRefreshQuery.graphql';\nimport { useVirtualFolderNodePathFragment$key } from '../__generated__/useVirtualFolderNodePathFragment.graphql';\nimport { convertToDecimalUnit } from '../helper';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport { useCurrentUserInfo } from '../hooks/backendai';\nimport { useTanMutation } from '../hooks/reactQueryAlias';\nimport { useCurrentProjectValue } from '../hooks/useCurrentProject';\nimport { useVirtualFolderPath } from '../hooks/useVirtualFolderNodePath';\nimport { statusTagColor } from './VFolderNodes';\nimport VirtualFolderPath from './VirtualFolderNodeItems/VirtualFolderPath';\nimport { CheckCircleOutlined, UserOutlined } from '@ant-design/icons';\nimport {\n  App,\n  Descriptions,\n  theme,\n  Typography,\n  type DescriptionsProps,\n} from 'antd';\nimport {\n  filterOutEmpty,\n  BAIUserUnionIcon,\n  toLocalId,\n  BAIFlex,\n  useErrorMessageResolver,\n  BAISelect,\n  BAITag,\n} from 'backend.ai-ui';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport {\n  graphql,\n  fetchQuery,\n  useFragment,\n  useRelayEnvironment,\n} from 'react-relay';\n\ninterface VFolderNodeDescriptionProps extends DescriptionsProps {\n  vfolderNodeFrgmt: VFolderNodeDescriptionFragment$key;\n}\n\nconst VFolderNodeDescription: React.FC<VFolderNodeDescriptionProps> = ({\n  vfolderNodeFrgmt,\n  ...props\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { message } = App.useApp();\n  const { getErrorMessage } = useErrorMessageResolver();\n\n  const relayEnv = useRelayEnvironment();\n  const currentProject = useCurrentProjectValue();\n  const baiClient = useSuspendedBackendaiClient();\n  const [currentUser] = useCurrentUserInfo();\n\n  const updateMutation = useTanMutation({\n    mutationFn: ({ permission, id }: { permission: string; id: string }) => {\n      return baiClient.vfolder.update_folder({ permission }, id);\n    },\n  });\n\n  const vfolderNode = useFragment(\n    graphql`\n      fragment VFolderNodeDescriptionFragment on VirtualFolderNode {\n        id\n        host\n        quota_scope_id\n        user\n        user_email\n        group\n        group_name\n        creator\n        usage_mode\n        permission\n        ownership_type\n        max_files\n        max_size\n        created_at\n        last_used\n        num_files\n        cur_size\n        cloneable\n        status\n        permissions @since(version: \"24.09.0\")\n        unmanaged_path @since(version: \"25.04.0\")\n        ...VFolderPermissionCellFragment\n        ...useVirtualFolderNodePathFragment\n      }\n    `,\n    vfolderNodeFrgmt,\n  );\n\n  const { vfolderPath } = useVirtualFolderPath(\n    // Temporary type assertion to suppress TS error  not actually needed at runtime\n    vfolderNode as useVirtualFolderNodePathFragment$key,\n  );\n\n  const vfolderId = toLocalId(vfolderNode.id);\n\n  const items: DescriptionsProps['items'] = filterOutEmpty([\n    !vfolderNode?.unmanaged_path && {\n      key: 'path',\n      label: (\n        <Typography.Text\n          copyable={{\n            text: vfolderPath,\n          }}\n          style={{\n            color: token.colorTextLabel,\n          }}\n        >\n          {t('data.folders.Path')}\n        </Typography.Text>\n      ),\n      children: <VirtualFolderPath vfolderNodeFrgmt={vfolderNode} />,\n    },\n    {\n      key: 'status',\n      label: t('data.folders.Status'),\n      children: (\n        <BAITag\n          color={\n            vfolderNode.status\n              ? statusTagColor[\n                  vfolderNode.status as keyof typeof statusTagColor\n                ]\n              : undefined\n          }\n        >\n          {_.toUpper(vfolderNode.status || '')}\n        </BAITag>\n      ),\n    },\n    {\n      key: 'host',\n      label: t('data.Host'),\n      children: vfolderNode.host,\n    },\n    {\n      key: 'ownership_type',\n      label: t('data.folders.Ownership'),\n      children:\n        vfolderNode?.ownership_type === 'user' ? (\n          <BAIFlex gap={'xs'}>\n            <Typography.Text>{t('data.User')}</Typography.Text>\n            <UserOutlined style={{ color: token.colorTextTertiary }} />\n          </BAIFlex>\n        ) : (\n          <BAIFlex gap={'xs'}>\n            <Typography.Text>{t('data.Project')}</Typography.Text>\n            <BAIUserUnionIcon style={{ color: token.colorTextTertiary }} />\n          </BAIFlex>\n        ),\n    },\n    (vfolderNode?.user === currentUser.uuid ||\n      (baiClient.is_admin && vfolderNode?.group === currentProject?.id)) && {\n      key: 'permission',\n      label: t('data.folders.MountPermission'),\n      children: (\n        <BAISelect\n          defaultValue={\n            vfolderNode.permission === 'wd' ? 'rw' : vfolderNode.permission\n          }\n          options={[\n            { value: 'ro', label: t('data.ReadOnly') },\n            { value: 'rw', label: t('data.ReadWrite') },\n          ]}\n          onChange={(value) => {\n            updateMutation.mutate(\n              { permission: value, id: vfolderId },\n              {\n                onSuccess: () => {\n                  message.success(t('data.permission.PermissionModified'));\n                  document.dispatchEvent(\n                    new CustomEvent('backend-ai-folder-updated'),\n                  );\n\n                  // To update GraphQL relay node\n                  fetchQuery<VFolderNodeDescriptionPermissionRefreshQuery>(\n                    relayEnv,\n                    graphql`\n                      query VFolderNodeDescriptionPermissionRefreshQuery(\n                        $id: String!\n                      ) {\n                        vfolder_node(id: $id) {\n                          permission\n                          permissions\n                        }\n                      }\n                    `,\n                    {\n                      id: vfolderNode.id,\n                    },\n                  ).toPromise();\n                },\n                onError: (error) => {\n                  message.error(getErrorMessage(error));\n                },\n              },\n            );\n          }}\n          popupMatchSelectWidth={false}\n        />\n      ),\n    },\n    {\n      key: 'owner',\n      label: t('data.folders.Owner'),\n      children:\n        vfolderNode?.user === currentUser?.uuid ||\n        (baiClient.is_admin && vfolderNode?.group === currentProject?.id) ? (\n          <BAIFlex justify=\"start\">\n            <CheckCircleOutlined />\n          </BAIFlex>\n        ) : null,\n    },\n    vfolderNode.user_email !== null && {\n      key: 'user_email',\n      label: t('data.User'),\n      children: (\n        <Typography.Text copyable>{vfolderNode.user_email}</Typography.Text>\n      ),\n    },\n    vfolderNode.group_name !== null && {\n      key: 'group_name',\n      label: t('data.Project'),\n      children: vfolderNode.group_name,\n    },\n    {\n      key: 'cloneable',\n      label: t('data.folders.Cloneable'),\n      children: vfolderNode.cloneable ? (\n        <BAIFlex justify=\"start\">\n          <CheckCircleOutlined />\n        </BAIFlex>\n      ) : null,\n    },\n    {\n      key: 'max_size',\n      label: t('data.folders.MaxSize'),\n      children: vfolderNode.max_size\n        ? convertToDecimalUnit(vfolderNode.max_size, 'g', 2)?.displayValue\n        : '',\n    },\n    {\n      key: 'usage',\n      label: t('data.UsageMode'),\n      children: vfolderNode.usage_mode,\n    },\n    {\n      key: 'created_at',\n      label: t('data.folders.CreatedAt'),\n      children: dayjs(vfolderNode.created_at).format('lll'),\n    },\n  ]);\n\n  return (\n    <Descriptions\n      bordered\n      column={1}\n      size=\"small\"\n      items={items}\n      styles={{\n        content: {\n          wordBreak: 'break-word',\n          overflowWrap: 'break-word',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport default VFolderNodeDescription;\n","import { useTanQuery, useTanMutation } from '../hooks/reactQueryAlias';\nimport { useSetBAINotification } from '../hooks/useBAINotification';\nimport { useThemeMode } from '../hooks/useThemeMode';\nimport type { Monaco, OnMount } from '@monaco-editor/react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { Skeleton, App, theme } from 'antd';\nimport { RcFile } from 'antd/es/upload';\nimport {\n  BAIFlex,\n  BAIModal,\n  BAIModalProps,\n  VFolderFile,\n  convertToDecimalUnit,\n  useConnectedBAIClient,\n  useErrorMessageResolver,\n  BAIText,\n  BAIAlert,\n} from 'backend.ai-ui';\nimport React, { Suspense, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst MonacoEditor = React.lazy(() =>\n  import('@monaco-editor/react').then((module) => ({\n    default: module.Editor,\n  })),\n);\n\ninterface VFolderTextFileEditorModalProps extends Omit<\n  BAIModalProps,\n  'children' | 'title' | 'onCancel' | 'onOk' | 'confirmLoading'\n> {\n  targetVFolderId: string;\n  currentPath: string;\n  fileInfo: VFolderFile | null;\n  onRequestClose: (success?: boolean) => void;\n  uploadFiles: (\n    files: RcFile[],\n    vfolderId: string,\n    currentPath: string,\n  ) => Promise<void>;\n}\n\nconst detectLanguageAndMimeType = (monaco: Monaco, fileName: string) => {\n  const languages = monaco.languages.getLanguages();\n\n  for (const lang of languages) {\n    if (lang.extensions?.some((ext: string) => fileName.endsWith(ext))) {\n      const mimeType = lang.mimetypes?.[0] ?? 'text/plain';\n      return { detectedLanguage: lang.id, detectedMimeType: mimeType };\n    }\n  }\n\n  return { detectedLanguage: 'plaintext', detectedMimeType: 'text/plain' };\n};\n\nconst VFolderTextFileEditorModal: React.FC<VFolderTextFileEditorModalProps> = ({\n  targetVFolderId,\n  currentPath,\n  fileInfo,\n  onRequestClose,\n  uploadFiles,\n  ...modalProps\n}) => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const { isDarkMode } = useThemeMode();\n  const { message } = App.useApp();\n  const baiClient = useConnectedBAIClient();\n  const { getErrorMessage } = useErrorMessageResolver();\n  const { token } = theme.useToken();\n  const { upsertNotification } = useSetBAINotification();\n\n  const queryClient = useQueryClient();\n  const editorRef = useRef<Parameters<OnMount>[0] | null>(null);\n  const detectedMimeTypeRef = useRef<string>('text/plain');\n  const filePath =\n    currentPath === '.'\n      ? fileInfo?.name\n      : `${currentPath}/${fileInfo?.name}`.replace(/^\\.\\//, '');\n\n  // TODO: Restrict browser editing when the file size exceeds the limit.\n  const {\n    data: fileContent,\n    error: loadError,\n    isFetching,\n  } = useTanQuery({\n    queryKey: ['textFileContent', targetVFolderId, filePath],\n    queryFn: async () => {\n      const tokenResponse = await baiClient.vfolder.request_download_token(\n        filePath!,\n        targetVFolderId,\n        false,\n      );\n\n      const downloadUrl = `${tokenResponse.url}?token=${tokenResponse.token}&archive=false`;\n      const response = await fetch(downloadUrl);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const blob = await response.blob();\n      return blob.text();\n    },\n    enabled: !!modalProps.open && !!fileInfo && !!targetVFolderId,\n    staleTime: 0,\n    gcTime: 0,\n  });\n\n  const saveMutation = useTanMutation({\n    mutationFn: async () => {\n      if (!fileInfo) return;\n\n      const contentToSave = editorRef.current?.getValue() ?? fileContent ?? '';\n      const blob = new Blob([contentToSave], {\n        type: detectedMimeTypeRef.current,\n      });\n      const file = new File([blob], fileInfo.name, {\n        type: detectedMimeTypeRef.current,\n      }) as RcFile;\n\n      // Workaround: tus-js-client skips PATCH requests for 0-byte files,\n      // immediately calling onSuccess without uploading any data.\n      // (ref: https://github.com/tus/tus-js-client/blob/v4.3.1/lib/upload.js#L578-L582)\n      // To handle empty content saves, we manually create an upload session\n      // and send the PATCH request directly.\n      if (file.size === 0) {\n        const uploadPath = [currentPath, fileInfo.name]\n          .filter(Boolean)\n          .join('/');\n        const uploadUrl: string = await baiClient.vfolder.create_upload_session(\n          uploadPath,\n          file,\n          targetVFolderId,\n        );\n\n        const response = await fetch(uploadUrl, {\n          method: 'PATCH',\n          headers: {\n            'Upload-Offset': '0',\n            'Content-Type': 'application/offset+octet-stream',\n            'Tus-Resumable': '1.0.0',\n          },\n          body: blob,\n        });\n\n        if (!response.ok) {\n          throw new Error(\n            t('explorer.UploadFailed', { folderName: fileInfo.name }),\n          );\n        }\n\n        upsertNotification({\n          key: 'upload:' + targetVFolderId,\n          open: true,\n          backgroundTask: {\n            status: 'resolved',\n            percent: 100,\n            onChange: {\n              resolved: t('explorer.SuccessfullyUploadedToFolder'),\n            },\n          },\n          duration: 3,\n        });\n      } else {\n        await uploadFiles([file], targetVFolderId, currentPath);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['textFileContent', targetVFolderId, filePath],\n      });\n      onRequestClose(true);\n    },\n    onError: (error) => {\n      message.error(getErrorMessage(error));\n    },\n  });\n\n  const skeletonWithPadding = (\n    <Skeleton\n      active\n      style={{\n        alignSelf: 'start',\n        paddingInline: token.paddingContentHorizontal,\n        paddingBlock: token.paddingContentVertical,\n      }}\n    />\n  );\n  return (\n    <BAIModal\n      width={'100%'}\n      destroyOnHidden\n      okText={t('button.Save')}\n      cancelText={t('button.Cancel')}\n      {...modalProps}\n      title={\n        <>\n          {t('data.explorer.EditFile')}\n          {fileInfo && (\n            <BAIText type=\"secondary\" style={{ fontWeight: 'normal' }}>\n              - {fileInfo.name}\n              {fileInfo.size > 0 &&\n                ` (${convertToDecimalUnit(fileInfo.size, 'auto')?.displayValue})`}\n            </BAIText>\n          )}\n        </>\n      }\n      onCancel={() => onRequestClose()}\n      onOk={() => saveMutation.mutate()}\n      confirmLoading={saveMutation.isPending}\n      okButtonProps={{ disabled: !!loadError }}\n      styles={{\n        body: {\n          paddingBlock: 0,\n          paddingInline: 0,\n        },\n      }}\n    >\n      <BAIFlex\n        direction=\"column\"\n        gap=\"md\"\n        style={{ height: 'calc(100vh - 180px)' }}\n      >\n        <Suspense fallback={skeletonWithPadding}>\n          {loadError ? (\n            <BAIAlert\n              type=\"error\"\n              showIcon\n              title={t('data.explorer.FailedToLoadFile')}\n              description={t('data.explorer.FailedToLoadFileDescription')}\n            />\n          ) : isFetching ? (\n            skeletonWithPadding\n          ) : (\n            <MonacoEditor\n              defaultValue={fileContent ?? ''}\n              beforeMount={(monaco) => {\n                if (fileInfo?.name) {\n                  const { detectedMimeType } = detectLanguageAndMimeType(\n                    monaco,\n                    fileInfo.name,\n                  );\n                  detectedMimeTypeRef.current = detectedMimeType;\n                }\n              }}\n              onMount={(editor, monaco) => {\n                editorRef.current = editor;\n                if (fileInfo?.name) {\n                  const { detectedLanguage } = detectLanguageAndMimeType(\n                    monaco,\n                    fileInfo.name,\n                  );\n                  const model = editor.getModel();\n                  if (model) {\n                    monaco.editor.setModelLanguage(model, detectedLanguage);\n                  }\n                }\n              }}\n              theme={isDarkMode ? 'vs-dark' : 'light'}\n              loading={skeletonWithPadding}\n              width={'100%'}\n              height={'100%'}\n              options={{\n                fixedOverflowWidgets: true,\n              }}\n            />\n          )}\n        </Suspense>\n      </BAIFlex>\n    </BAIModal>\n  );\n};\n\nexport default VFolderTextFileEditorModal;\n","import { useFileUploadManager } from './FileUploadManager';\nimport FolderExplorerHeader from './FolderExplorerHeader';\nimport { useFolderExplorerOpener } from './FolderExplorerOpener';\nimport VFolderNodeDescription from './VFolderNodeDescription';\nimport VFolderTextFileEditorModal from './VFolderTextFileEditorModal';\nimport { Alert, Divider, Grid, Skeleton, Splitter, theme } from 'antd';\nimport { createStyles } from 'antd-style';\nimport { RcFile } from 'antd/es/upload';\nimport {\n  BAIFileExplorer,\n  BAIFileExplorerRef,\n  BAIFlex,\n  BAILink,\n  BAIModal,\n  BAIModalProps,\n  BAIUnmountAfterClose,\n  toGlobalId,\n  useFetchKey,\n  useInterval,\n  VFolderFile,\n} from 'backend.ai-ui';\nimport _ from 'lodash';\nimport { Suspense, useDeferredValue, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { graphql, useLazyLoadQuery } from 'react-relay';\nimport { FolderExplorerModalQuery } from 'src/__generated__/FolderExplorerModalQuery.graphql';\nimport { useCurrentDomainValue, useSuspendedBackendaiClient } from 'src/hooks';\nimport { useSetBAINotification } from 'src/hooks/useBAINotification';\nimport { useCurrentProjectValue } from 'src/hooks/useCurrentProject';\nimport { useMergedAllowedStorageHostPermission } from 'src/hooks/useMergedAllowedStorageHostPermission';\n\nconst useStyles = createStyles(({ css }) => ({\n  baiModalHeader: css`\n    .ant-modal-title {\n      width: 100%;\n    }\n  `,\n}));\n\nexport interface FolderExplorerElement extends HTMLDivElement {\n  _fetchVFolder: () => void;\n  _openDeleteMultipleFileDialog: () => void;\n  openMkdirDialog: () => void;\n  handleUpload: (name: 'file' | 'folder') => void;\n}\n\nexport interface FileItem {\n  name: string;\n  type: string;\n  size: number;\n  mode: string;\n  created: string;\n  modified: string;\n}\n\ninterface FolderExplorerProps extends BAIModalProps {\n  vfolderID: string;\n  onRequestClose: () => void;\n}\n\nconst FolderExplorerModal: React.FC<FolderExplorerProps> = ({\n  vfolderID,\n  onRequestClose,\n  ...modalProps\n}) => {\n  'use memo';\n\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { xl } = Grid.useBreakpoint();\n  const { styles } = useStyles();\n\n  const [fetchKey, updateFetchKey] = useFetchKey();\n  const baiClient = useSuspendedBackendaiClient();\n  const currentDomain = useCurrentDomainValue();\n  const currentProject = useCurrentProjectValue();\n  const currentUserAccessKey = baiClient?._config?.accessKey;\n  const fileExplorerRef = useRef<BAIFileExplorerRef>(null);\n  const { unitedAllowedPermissionByVolume } =\n    useMergedAllowedStorageHostPermission(\n      currentDomain,\n      currentProject.id,\n      currentUserAccessKey,\n    );\n  const bodyRef = useRef<HTMLDivElement | null>(null);\n\n  const deferredOpen = useDeferredValue(modalProps.open);\n  const { vfolder_node } = useLazyLoadQuery<FolderExplorerModalQuery>(\n    graphql`\n      query FolderExplorerModalQuery($vfolderGlobalId: String!) {\n        vfolder_node(id: $vfolderGlobalId) {\n          group\n          group_name\n          unmanaged_path @since(version: \"25.04.0\")\n          permissions\n          host\n          id\n          name\n          ...FolderExplorerHeaderFragment\n          ...VFolderNodeDescriptionFragment\n          ...VFolderNameTitleNodeFragment\n        }\n      }\n    `,\n    { vfolderGlobalId: toGlobalId('VirtualFolderNode', vfolderID) },\n    {\n      // Only fetch when both deferredOpen and modalProps.open are true to prevent unnecessary requests during React transitions\n      fetchPolicy:\n        deferredOpen && modalProps.open ? 'store-and-network' : 'store-only',\n    },\n  );\n\n  // FIXME: This is a temporary workaround to notify file deletion to use WebUI Notification.\n  const { upsertNotification, closeNotification } = useSetBAINotification();\n  const { generateFolderPath } = useFolderExplorerOpener();\n  const [deletingFilePaths, setDeletingFilePaths] = useState<Array<string>>([]);\n  const [editingFile, setEditingFile] = useState<{\n    file: VFolderFile;\n    currentPath: string;\n  } | null>(null);\n  const { uploadStatus, uploadFiles } = useFileUploadManager(\n    vfolder_node?.id,\n    vfolder_node?.name || undefined,\n  );\n  // Polling to update fetchKey when there are pending uploads\n  useInterval(\n    () => {\n      fileExplorerRef.current?.refetch();\n    },\n    uploadStatus && !_.isEmpty(uploadStatus?.pendingFiles) ? 5000 : null,\n  );\n  // Also update fetchKey when uploadStatus changes to completed\n  useEffect(() => {\n    if (uploadStatus && _.isEmpty(uploadStatus?.pendingFiles)) {\n      updateFetchKey();\n    }\n  }, [uploadStatus, updateFetchKey]);\n\n  const hasDownloadContentPermission = _.includes(\n    unitedAllowedPermissionByVolume[vfolder_node?.host ?? ''],\n    'download-file',\n  );\n  const hasDeleteContentPermission = _.includes(\n    vfolder_node?.permissions,\n    'delete_content',\n  );\n  const hasWriteContentPermission = _.includes(\n    vfolder_node?.permissions,\n    'write_content',\n  );\n  // TODO: Skip permission check due to inaccurate API response. Update when API is fixed.\n  const hasNoPermissions = false;\n\n  const fileExplorerElement = vfolder_node?.unmanaged_path ? (\n    <Alert title={t('explorer.NoExplorerSupportForUnmanagedFolder')} showIcon />\n  ) : !hasNoPermissions && vfolder_node ? (\n    <BAIFileExplorer\n      ref={fileExplorerRef}\n      targetVFolderId={vfolderID}\n      deletingFilePaths={deletingFilePaths}\n      fetchKey={fetchKey}\n      onUpload={(files: RcFile[], currentPath: string) => {\n        uploadFiles(files, vfolderID, currentPath);\n      }}\n      onDeleteFilesInBackground={(\n        bgTaskId,\n        targetVFolderId,\n        deletingFilePaths,\n      ) => {\n        setDeletingFilePaths(deletingFilePaths);\n        upsertNotification({\n          key: `delete:${bgTaskId}`,\n          open: true,\n          message: (\n            <span>\n              {t('explorer.VFolder')}:&nbsp;\n              <BAILink\n                style={{\n                  fontWeight: 'normal',\n                }}\n                to={generateFolderPath(targetVFolderId)}\n                onClick={() => {\n                  closeNotification(`delete:${bgTaskId}`);\n                }}\n              >{`${vfolder_node.name}`}</BAILink>\n            </span>\n          ),\n          backgroundTask: {\n            status: 'pending',\n            taskId: bgTaskId,\n            promise: null,\n            percent: 0,\n            onChange: {\n              pending: t('explorer.DeletingSelectedItems'),\n              resolved: () => {\n                setDeletingFilePaths([]);\n                return t('explorer.SelectedItemsDeletedSuccessfully');\n              },\n              rejected: () => {\n                setDeletingFilePaths([]);\n                return t('explorer.SelectedItemsDeletionFailed');\n              },\n            },\n          },\n        });\n      }}\n      enableDownload={hasDownloadContentPermission}\n      enableDelete={hasDeleteContentPermission}\n      enableWrite={hasWriteContentPermission}\n      enableEdit={hasWriteContentPermission}\n      tableProps={{\n        scroll: xl\n          ? { x: 'max-content' }\n          : { x: 'max-content', y: 'calc(100vh - 400px)' },\n      }}\n      style={{\n        paddingBottom: xl ? token.paddingLG : 0,\n      }}\n      fileDropContainerRef={bodyRef}\n      onClickEditFile={(file, currentPath) => {\n        setEditingFile({ file, currentPath });\n      }}\n    />\n  ) : null;\n\n  const vFolderDescriptionElement = vfolder_node ? (\n    <VFolderNodeDescription vfolderNodeFrgmt={vfolder_node} />\n  ) : null;\n\n  return (\n    <BAIModal\n      className={styles.baiModalHeader}\n      width={'90%'}\n      keyboard\n      destroyOnHidden\n      footer={null}\n      style={{ maxWidth: '1600px' }}\n      styles={{\n        body: {\n          height: '100vh',\n        },\n      }}\n      title={\n        vfolder_node ? (\n          <FolderExplorerHeader\n            titleStyle={{\n              zIndex: token.zIndexPopupBase + 2,\n            }}\n            vfolderNodeFrgmt={vfolder_node}\n          />\n        ) : null\n      }\n      bodyProps={{\n        ref: bodyRef,\n      }}\n      onCancel={() => {\n        onRequestClose();\n      }}\n      {...modalProps}\n    >\n      <Suspense fallback={<Skeleton active />}>\n        {/* Use <Skeleton/> instead of using `loading` prop because layout align issue. */}\n        {deferredOpen !== modalProps.open || vfolder_node === undefined ? (\n          <Skeleton active />\n        ) : (\n          <BAIFlex direction=\"column\" gap={'lg'} align=\"stretch\">\n            {vfolder_node === null ? (\n              <Alert\n                title={t('explorer.FolderNotFoundOrNoAccess')}\n                type=\"error\"\n                showIcon\n              />\n            ) : hasNoPermissions ? (\n              <Alert\n                title={t('explorer.NoPermissions')}\n                type=\"error\"\n                showIcon\n              />\n            ) : currentProject?.id !== vfolder_node?.group &&\n              !!vfolder_node?.group ? (\n              <Alert\n                title={\n                  vfolder_node.group_name\n                    ? t('data.NotInProject', {\n                        projectName: vfolder_node.group_name,\n                      })\n                    : t('data.BelongsToDifferentProject')\n                }\n                type=\"info\"\n                showIcon\n              />\n            ) : null}\n\n            {xl ? (\n              <Splitter\n                style={{\n                  gap: token.size,\n                }}\n                orientation={'horizontal'}\n              >\n                <Splitter.Panel resizable={false}>\n                  {fileExplorerElement}\n                </Splitter.Panel>\n                <Splitter.Panel defaultSize={500}>\n                  {vFolderDescriptionElement}\n                </Splitter.Panel>\n              </Splitter>\n            ) : (\n              <BAIFlex direction=\"column\" align=\"stretch\">\n                {fileExplorerElement}\n                <Divider\n                  style={{\n                    borderColor: token.colorBorderSecondary,\n                  }}\n                />\n                {vFolderDescriptionElement}\n              </BAIFlex>\n            )}\n          </BAIFlex>\n        )}\n      </Suspense>\n      <BAIUnmountAfterClose>\n        <VFolderTextFileEditorModal\n          open={!!editingFile}\n          targetVFolderId={vfolderID}\n          currentPath={editingFile?.currentPath || '.'}\n          fileInfo={editingFile?.file || null}\n          uploadFiles={uploadFiles}\n          onRequestClose={(success) => {\n            if (success) {\n              fileExplorerRef.current?.refetch();\n            }\n            setEditingFile(null);\n          }}\n        />\n      </BAIUnmountAfterClose>\n    </BAIModal>\n  );\n};\n\nexport default FolderExplorerModal;\n"],"names":["uploadRequestAtom","atom","uploadStatusAtom","uploadStatusAtomFamily","atomFamily","vFolderId","get","set","newStatus","prev","_objectSpread","FileUploadManager","t","useTranslation","token","theme","useToken","baiClient","useSuspendedBackendaiClient","upsertNotification","closeNotification","useSetBAINotification","generateFolderPath","useFolderExplorerOpener","uploadRequests","setUploadRequests","useAtom","uploadStatus","setUploadStatus","maxConcurrentUploads","useBAISettingUserState","queue","PQueue","concurrency","pendingDeltaBytesRef","useRef","throttledUploadRequests","_","fileName","accumulatedDelta","current","_prev$vFolderId","_prev$vFolderId$compl","_prev$vFolderId2","_prev$vFolderId2$comp","_prev$vFolderId3","_prev$vFolderId3$fail","_prev$vFolderId4","_prev$vFolderId4$pend","_prev$vFolderId5","_prev$vFolderId6","uploadedFilesCount","completedFiles","length","totalUploadedFilesCount","failedFiles","pendingFiles","totalExpectedSize","currentCompletedBytes","completedBytes","key","backgroundTask","status","percent","onChange","pending","description","_jsxs","BAIFlex","direction","align","children","Typography","Text","_jsx","ellipsis","type","style","fontSize","fontSizeSM","maxWidth","leading","trailing","useEffect","forEach","uploadRequest","vFolderName","uploadFileInfo","currUploadTotalSize","info","file","size","_prev$vFolderId7","_prev$vFolderId8","_prev$vFolderId9","_prev$vFolderId0","_prev$vFolderId1","_prev$vFolderId10","isFirstUpload","newTotalExpectedSize","currPct","open","message","BAILink","fontWeight","to","onClick","concat","duration","map","webkitRelativePath","name","_ref","startFunction","add","async","previousBytesUploaded","onProgress","bytesUploaded","_bytesTotal","deltaBytes","flush","_prev$vFolderId11","filter","f","_unused","_prev$vFolderId12","Object","entries","_ref2","resolved","folderName","rejected","extraDescription","useFileUploadManager","id","$","_c","useConnectedBAIClient","useSetAtom","t0","toLocalId","replace","t1","requestedFiles","vfolderId","maxPossibleFileSize","_config","maxFileUploadSize","maxRequestFileSize","_temp","reduce","_temp2","toText","search","URLSearchParams","folder","toString","validateUploadRequest","t2","files","vfolderId_0","currentPath","fileToUpload","startUploadFunctionMap","file_0","push","uploadPath","Boolean","join","uploadUrl","vfolder","create_upload_session","Promise","resolve","reject","tus","endpoint","retryDelays","chunkSize","getOptimalChunkSize","storeFingerprintForResuming","metadata","filename","filetype","bytesTotal","_callbacks$onProgress","callbacks","call","onSuccess","bytes","onError","_error","Error","start","_unused2","_unused3","uploadRequestInfo","_temp3","uploadFiles","t3","fileSize","MB","max","Math","file_1","node","v0","v1","v2","v3","v4","v5","v6","v7","v8","hash","IMAGES_QUERY","_useDefaultImagesWithFallbackQuery","defaultFileBrowserImageAtom","atomWithDefault","_baiClient$_config","_baiClient$_config2","backendaiClientPromise","defaultFileBrowserImage","undefined","systemSSHImageAtom","_baiClient$_config3","_baiClient$_config4","systemSSHImage","systemSSHImageInfoAtom","label","_label$value","value","toLowerCase","includes","image","_image$labels","labels","find","response","_response$images","images","_temp4","_label$value2","_temp5","_image$labels2","_temp6","_response$images2","useMergedAllowedStorageHostPermission","domain","projectId","userAccessKey","_mergedAllowedVFolder","_mergedAllowedVFolder2","_mergedAllowedVFolder3","keypair","useLazyLoadQuery","_useMergedAllowedStorageHostPermission_KeypairQuery","domainName","accessKey","fetchPolicy","mergedAllowedVFolderHosts","_useMergedAllowedStorageHostPermission_AllowedVFolderHostsQuery","resourcePolicyName","resource_policy","allowedPermissionForDomainsByVolume","JSON","parse","allowed_vfolder_hosts","allowedPermissionForGroupsByVolume","group","allowedPermissionForResourcePolicyByVolume","keypair_resource_policy","data","vhostInfo","useSuspenseQuery","queryKey","queryFn","list_hosts","staleTime","gcTime","unitedAllowedPermissionByVolume","assign","allowed","volume","arr","Set","StorageHostPermissionByDomain","StorageHostPermissionByGroup","StorageHostPermissionByResourcePolicy","buttonProps","vfolderFrgmt","_t","showTitle","_objectWithoutProperties","_excluded","modal","App","useApp","logger","useBAILogger","webuiNavigate","useWebUINavigate","currentDomain","useCurrentDomainValue","currentProject","useCurrentProjectValue","currentUserAccessKey","getErrorMessage","useErrorMessageResolver","startSessionWithDefault","upsertSessionNotification","useStartSession","filebrowserImage","useDefaultFileBrowserImageWithFallback","setDefaultFileBrowserImage","relayEnv","useRelayEnvironment","fetchQuery","installed","toPromise","then","firstImage","filebrowserImages","getImageFullName","catch","getImage","useEffectEvent","Symbol","for","_FileBrowserButtonFragment","useFragment","_vfolder$host","host","hasAccessPermission","t4","getTooltipTitle","t5","sessionName","sessionType","environments","version","allocationPreset","cluster_mode","cluster_size","mount_ids","replaceAll","reuseIfExists","createFilebrowserLauncherValue","t6","t7","t8","Image","width","src","alt","preview","t9","t10","t11","t12","fileBrowserFormValue","results","fulfilled","extraData","appName","error","reason","title","content","error_0","BAIButton","icon","disabled","action","t13","t14","t15","t16","t17","t18","t19","t20","t21","launcherValue","params","stringify","pathname","items","EllipsisOutlined","Dropdown","trigger","menu","Space","Compact","Tooltip","_vhostInfoByCurrentPr","vhostInfoByCurrentProject","useResourceGroupsForCurrentProject","useDefaultSystemSSHImageWithFallback","setSystemSSHImage","systemSSHImageInfo","setSystemSSHImageInfo","sshImages","_SFTPServerButtonFragment","sftpScalingGroupByCurrentProject","volume_info","sftp_scaling_groups","allow_manual_image_name_for_session","manual","resourceGroup","createSftpLauncherValue","sftpSessionConf","vfolderNodeFrgmt","titleStyle","lg","Grid","useBreakpoint","_FolderExplorerHeaderFragment","vfolderNode","flex","borderRadius","colorBorderSecondary","fontSizeHeading3","fontSizeHeading4","VFolderNodeIdenticon","borderColor","borderWidth","borderStyle","height","EditableVFolderName","enableLink","component","Title","level","margin","editable","triggerType","inputProps","count","show","gap","unmanaged_path","Suspense","fallback","Skeleton","Button","active","ErrorBoundaryWithNullFallback","FileBrowserButton","SFTPServerButton","marginSM","justify","marginMD","useVirtualFolderPath","_useVirtualFolderNodePathFragment","quotaScopeType","quotaScopeIdWithoutType","quota_scope_id","vfolderIdPrefix1","slice","vfolderIdPrefix2","vfolderIdRest","vfolderPath","wrap","BAIText","monospace","copyable","text","_convertToDecimalUnit","props","currentUser","useCurrentUserInfo","updateMutation","useTanMutation","mutationFn","permission","update_folder","_VFolderNodeDescriptionFragment","filterOutEmpty","color","colorTextLabel","VirtualFolderPath","BAITag","statusTagColor","ownership_type","UserOutlined","colorTextTertiary","BAIUserUnionIcon","user","uuid","is_admin","BAISelect","defaultValue","options","mutate","success","document","dispatchEvent","CustomEvent","_VFolderNodeDescriptionPermissionRefreshQuery","popupMatchSelectWidth","CheckCircleOutlined","user_email","group_name","cloneable","max_size","convertToDecimalUnit","displayValue","usage_mode","dayjs","created_at","format","Descriptions","bordered","column","styles","wordBreak","overflowWrap","MonacoEditor","React","module","default","Editor","detectLanguageAndMimeType","monaco","languages","getLanguages","lang","_lang$extensions","extensions","some","ext","endsWith","_lang$mimetypes$","_lang$mimetypes","mimeType","mimetypes","detectedLanguage","detectedMimeType","_fileInfo","fileInfo","modalProps","onRequestClose","targetVFolderId","isDarkMode","useThemeMode","queryClient","useQueryClient","editorRef","detectedMimeTypeRef","_fileInfo2","_fileInfo3","_fileInfo4","filePath","tokenResponse","request_download_token","downloadUrl","url","fetch","ok","blob","enabled","fileContent","loadError","isFetching","useTanQuery","_editorRef$current$ge","_editorRef$current","contentToSave","getValue","blob_0","Blob","File","method","headers","body","invalidateQueries","saveMutation","paddingContentHorizontal","paddingContentVertical","alignSelf","paddingInline","paddingBlock","skeletonWithPadding","_Fragment","t22","t23","t24","BAIAlert","showIcon","beforeMount","_fileInfo5","onMount","editor","monaco_0","_fileInfo6","model","getModel","setModelLanguage","fixedOverflowWidgets","isPending","BAIModal","destroyOnHidden","okText","cancelText","onCancel","onOk","confirmLoading","okButtonProps","useStyles","createStyles","css","baiModalHeader","_templateObject","_taggedTemplateLiteral","_vfolder_node$host","vfolderID","xl","fetchKey","updateFetchKey","useFetchKey","fileExplorerRef","bodyRef","deferredOpen","useDeferredValue","vfolder_node","_FolderExplorerModalQuery","vfolderGlobalId","toGlobalId","deletingFilePaths","setDeletingFilePaths","useState","editingFile","setEditingFile","useInterval","_fileExplorerRef$curr","refetch","hasDownloadContentPermission","hasDeleteContentPermission","permissions","hasWriteContentPermission","fileExplorerElement","Alert","BAIFileExplorer","ref","onUpload","onDeleteFilesInBackground","bgTaskId","taskId","promise","enableDownload","enableDelete","enableWrite","enableEdit","tableProps","scroll","x","y","paddingBottom","paddingLG","fileDropContainerRef","onClickEditFile","vFolderDescriptionElement","VFolderNodeDescription","className","keyboard","footer","FolderExplorerHeader","zIndex","zIndexPopupBase","bodyProps","projectName","Splitter","orientation","Panel","resizable","defaultSize","Divider","BAIUnmountAfterClose","VFolderTextFileEditorModal","_fileExplorerRef$curr2"],"ignoreList":[],"sourceRoot":""}