/*! For license information please see 6868.970d70f5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6868],{95762:(e,l,n)=>{n.d(l,{A:()=>d});var t=n(72338),i=n(9571),a=n(50128),r=n(46976),o=n.n(r),s=(n(53350),n(60598));const d=e=>{let{title:l,valueLabel:n,percent:r,width:d,strokeColor:u,labelStyle:c,progressStyle:p,size:g="small"}=e;const{token:v}=i.A.useToken(),m="small"===g?v.fontSizeSM:"middle"===g?v.fontSize:v.fontSizeLG;return(0,s.jsxs)(t.A,{style:{padding:1,border:`1px solid ${v.colorBorder}`,borderRadius:3,backgroundColor:v.colorBgContainerDisabled,...o().isNumber(d)||o().isString(d)?{width:d}:{flex:1},...p},direction:"column",align:"stretch",children:[(0,s.jsx)(t.A,{style:{height:"100%",width:`${!r||o().isNaN(r)?0:o().min([r,100])}%`,position:"absolute",left:0,top:0,backgroundColor:null!==u&&void 0!==u?u:v.colorSuccess,opacity:.7,zIndex:0,overflow:"hidden"}}),(0,s.jsxs)(t.A,{direction:"row",justify:"between",children:[(0,s.jsx)(a.A.Text,{style:{fontSize:m,...c},children:l}),(0,s.jsx)(a.A.Text,{style:{fontSize:m,color:o().isNaN(r)||o().isUndefined(r)?v.colorTextDisabled:void 0,...c},children:n})]})]})}},8570:(e,l,n)=>{n.d(l,{Ay:()=>S,r2:()=>k});var t=n(72375),i=n(72338),a=n(71515),r=n(51847),o=n(9571),s=n(65196),d=n(1581),u=n(82919),c=n(78186),p=n(83978),g=n(24798),v=n(52335),m=n(46976),y=n.n(m),h=n(53350),x=n(91788),b=n(60598);const A={string:"ilike",boolean:"=="},f={boolean:[{label:"True",value:"true"},{label:"False",value:"false"}],string:void 0},j={boolean:!0};function k(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&";const n=y().join(y().map((0,t.LY)(e),(e=>`(${e})`)),l);return n||void 0}const S=e=>{var l;let{filterProperties:n,value:t,onChange:m,defaultValue:k,loading:S,..._}=e;const[w,F]=(0,h.useState)(),T=(0,h.useRef)(null),[C,I]=(0,h.useState)(!1),[z,L]=(0,r.A)({value:t,defaultValue:k,onChange:m}),$=(0,h.useMemo)((()=>{if(void 0===z||""===z)return[];return z.split("&").map((e=>e.trim())).map(((e,l)=>{var t,i;const{property:a,operator:r,value:o}=function(e){const[l,...n]=e.split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/),[t,...i]=n.join(" ").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);return{property:l,operator:t,value:i.join(" ").replace(/^"|"$/g,"")}}(e);return{key:l+o,property:a,operator:r,value:o,propertyLabel:(null===(t=y().find(n,(e=>e.key===a)))||void 0===t?void 0:t.propertyLabel)||a,type:(null===(i=y().find(n,(e=>e.key===a)))||void 0===i?void 0:i.type)||"string"}}))}),[z,n]),{t:M}=(0,x.Bd)(),K=y().map(n,(e=>({label:e.propertyLabel,value:e.key,filter:e}))),[N,O]=(0,h.useState)(K[0].filter),{token:D}=o.A.useToken(),[E,P]=(0,h.useState)(!0),[R,V]=(0,h.useState)(!1),B=e=>{if(0===e.length)L(void 0);else{const l=y().map(e,(e=>{const l="string"===e.type?`"${e.value}"`:e.value;return`${e.property} ${e.operator} ${l}`}));L(function(e,l){return e.join(` ${l} `)}(l,"&"))}},U=e=>{var l,n,t;if(y().isEmpty(e))return;if(N.strictSelection||j[N.type]){if(!y().find(N.options||f[N.type],(l=>l.value===e)))return}const i=!(null!==(l=N.rule)&&void 0!==l&&l.validate)||N.rule.validate(e);if(P(i),!i)return;F("");const a=N.defaultOperator||A[N.type],r="ilike"===a||"like"===a?`%${e}%`:`${e}`;var o;o={property:N.key,propertyLabel:N.propertyLabel,operator:a,value:r,label:null===(n=N.options)||void 0===n||null===(t=n.find((l=>l.value===e)))||void 0===t?void 0:t.label,type:N.type},B([...$,o])};return(0,b.jsxs)(i.A,{direction:"column",gap:"xs",align:"start",children:[(0,b.jsxs)(s.A.Compact,{children:[(0,b.jsx)(d.A,{popupMatchSelectWidth:!1,options:K,value:N.key,onChange:(e,l)=>{O(y().castArray(l)[0].filter)},onSelect:()=>{var e;null===(e=T.current)||void 0===e||e.focus(),I(!0),P(!0)},showSearch:!0,optionFilterProp:"label"}),(0,b.jsx)(u.A,{title:E||!R?"":null===(l=N.rule)||void 0===l?void 0:l.message,open:!E&&R,color:D.colorError,children:(0,b.jsx)(c.A,{ref:T,value:w,open:C,onDropdownVisibleChange:I,onSelect:U,onChange:e=>{P(!0),F(e)},style:{minWidth:200},options:y().filter(N.options||f[N.type],(e=>{var l;return!w||(null===(l=e.label)||void 0===l?void 0:l.toString().includes(w))})),placeholder:M("propertyFilter.PlaceHolder"),onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},children:(0,b.jsx)(p.A.Search,{onSearch:U,allowClear:!0,status:!E&&R?"error":void 0})})})]}),$.length>0&&(0,b.jsxs)(i.A,{direction:"row",gap:"xs",wrap:"wrap",style:{alignSelf:"stretch"},children:[y().map($,(e=>{return(0,b.jsxs)(g.A,{closable:!0,onClose:()=>(e=>{const l=$.filter((l=>l.key!==e));B(l)})(e.key),style:{margin:0},children:[e.propertyLabel,": ",(l=e.value,l.replace(/^%|%$/g,""))]},e.key);var l})),$.length>1&&(0,b.jsx)(u.A,{title:M("propertyFilter.ResetFilter"),children:(0,b.jsx)(v.Ay,{size:"small",icon:(0,b.jsx)(a.A,{style:{color:D.colorTextSecondary}}),type:"text",onClick:()=>{B([])}})})]})]})}},89229:(e,l,n)=>{n.d(l,{A:()=>c});var t=n(9571),i=n(18659),a=n(58668),r=n(43403),o=n(62097),s=n.n(o),d=(n(53350),n(60598));const u=(0,r.rU)((e=>{let{css:l,token:n}=e;return{baiRadioGroup:l`
    // border version
    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked)::before,
    .ant-radio-button-wrapper:hover::before {
      background-color: transparent;
    }
    .ant-radio-button-wrapper-checked:hover::before,
    .ant-radio-button-wrapper-checked::before {
      background-color: transparent;
      /* background-color: ${`rgba(${parseInt(n.colorPrimary.slice(1,3),16)}, ${parseInt(n.colorPrimary.slice(3,5),16)}, ${parseInt(n.colorPrimary.slice(5,7),16)}, 0.30)`}; */
    }

    // original design version
    /* .ant-radio-button-wrapper-checked::before,
    .ant-radio-button-wrapper::before {
      background-color: ${n.colorBorder};
    }
    .ant-radio-button-wrapper-checked:hover::before,
    .ant-radio-button-wrapper:hover::before {
      background-color: ${n.colorBorder};
    }

    .ant-radio-button-wrapper-checked {
      border-color: transparent !important;
    } */
  `}})),c=e=>{let{options:l,...n}=e;const{styles:r}=u(),{token:o}=t.A.useToken(),c=`rgba(${parseInt(o.colorPrimary.slice(1,3),16)}, ${parseInt(o.colorPrimary.slice(3,5),16)}, ${parseInt(o.colorPrimary.slice(5,7),16)}, 0.15)`,p=`rgba(${parseInt(o.colorPrimary.slice(1,3),16)}, ${parseInt(o.colorPrimary.slice(3,5),16)}, ${parseInt(o.colorPrimary.slice(5,7),16)}, 0.3)`;return(0,d.jsx)(i.Ay,{theme:{components:{Radio:{buttonSolidCheckedBg:c,buttonSolidCheckedColor:o.colorPrimary,buttonSolidCheckedHoverBg:p}}},children:(0,d.jsx)(a.Ay.Group,{className:s()(r.baiRadioGroup,n.className),options:l,optionType:"button",buttonStyle:"solid",...n})})}},91238:(e,l,n)=>{n.d(l,{A:()=>u});var t=n(72338),i=n(96141),a=n(24798),r=n(46976),o=n.n(r),s=n(53350),d=n(60598);const u=e=>{let l,{values:n=[],highlightKeyword:r}=e;return 0===n.length?null:(l=n[0]&&("string"===typeof n[0]||s.isValidElement(n[0]))?n.map((e=>({label:e,color:"blue"}))):n,(0,d.jsx)(t.A,{direction:"row",children:o().map(l,((e,n)=>o().isEmpty(e.label)?null:(0,d.jsx)(a.A,{style:o().last(l)===e?void 0:{margin:0,marginRight:-1},color:e.color,children:o().isUndefined(r)?e.label:(0,d.jsx)(i.A,{keyword:r,children:e.label})},n)))}))}},42388:(e,l,n)=>{n.d(l,{A:()=>x,s:()=>h});var t=n(72375),i=n(7971),a=n(81530),r=n(72338),o=n(9571),s=n(50128),d=n(82919),u=n(46976),c=n.n(u),p=n(64054),g=n(53350),v=n(60598);const m=e=>{var l,n;let{type:d,value:u,extra:p,opts:g,hideTooltip:m=!1,max:y}=e;const{token:x}=o.A.useToken(),b=(0,a.Nw)(),{mergedResourceSlots:A}=(0,i.Hv)(b||void 0),f=e=>{var l,n,i;return null!==A&&void 0!==A&&null!==(l=A[d])&&void 0!==l&&l.number_format.binary?Number(null===(n=(0,t.Is)(e,"g",3,!0))||void 0===n?void 0:n.numberFixed).toString():((null===A||void 0===A||null===(i=A[d])||void 0===i?void 0:i.number_format.round_length)||0)>0?parseFloat(e).toFixed(2):e};return(0,v.jsxs)(r.A,{direction:"row",gap:"xxs",children:[null!==A&&void 0!==A&&A[d]?(0,v.jsx)(h,{type:d,showTooltip:!m}):d,(0,v.jsxs)(s.A.Text,{children:[f(u),c().isUndefined(y)?null:"Infinity"===y?"~\u221e":`~${f(y)}`]}),(0,v.jsx)(s.A.Text,{type:"secondary",children:(null===A||void 0===A||null===(l=A[d])||void 0===l?void 0:l.display_unit)||""}),"mem"===d&&null!==g&&void 0!==g&&g.shmem&&(null===g||void 0===g?void 0:g.shmem)>0?(0,v.jsxs)(s.A.Text,{type:"secondary",style:{fontSize:x.fontSizeSM},children:["(SHM:"," ",null===(n=(0,t.Is)(g.shmem+"b","g",2,!0))||void 0===n?void 0:n.numberFixed,"GiB)"]}):null,p]})},y=e=>{let{size:l=16,children:n}=e;return(0,v.jsx)("mwc-icon",{style:{"--mdc-icon-size":`${l+2}px`,width:l,height:l},children:n})},h=e=>{var l,n;let{type:t,size:a=16,showIcon:o=!0,showUnit:s=!0,showTooltip:u=!0,...c}=e;const g={cpu:(0,v.jsx)(y,{size:a,children:"developer_board"}),mem:(0,v.jsx)(y,{size:a,children:"memory"}),"cuda.device":"/resources/icons/file_type_cuda.svg","cuda.shares":"/resources/icons/file_type_cuda.svg","rocm.device":"/resources/icons/rocm.svg","tpu.device":(0,v.jsx)(y,{size:a,children:"view_module"}),"ipu.device":(0,v.jsx)(y,{size:a,children:"view_module"}),"atom.device":"/resources/icons/rebel.svg","atom-plus.device":"/resources/icons/rebel.svg","gaudi2.device":"/resources/icons/gaudi.svg","warboy.device":"/resources/icons/furiosa.svg","rngd.device":"/resources/icons/furiosa.svg","hyperaccel-lpu.device":"/resources/icons/npu_generic.svg"},m=null!==(l=g[t])&&void 0!==l?l:(0,v.jsx)(p.A,{}),{mergedResourceSlots:h}=(0,i.Hv)(),x="string"===typeof m?(0,v.jsx)("img",{...c,style:{height:a,alignSelf:"center",...c.style||{}},src:g[t]||"",alt:t}):(0,v.jsx)(r.A,{style:{width:16,height:16},children:m||t});return u?(0,v.jsx)(d.A,{title:(null===(n=h[t])||void 0===n?void 0:n.description)||t,children:x}):(0,v.jsx)(r.A,{style:{pointerEvents:"none"},children:x})},x=g.memo(m)},74325:(e,l,n)=>{n.d(l,{A:()=>v});var t=n(9189),i=n(28567),a=n(9571),r=n(13170),o=n(83978),s=n(92280),d=n(46976),u=n.n(d),c=n(53350),p=n(91788),g=n(60598);const v=e=>{var l;let{open:n,onRequestClose:d,columns:v,hiddenColumnKeys:m,...y}=e;const h=(0,c.useRef)(null),{t:x}=(0,p.Bd)(),{token:b}=a.A.useToken(),A=u().map(v,(e=>{return"string"===typeof e.title?{label:e.title,value:u().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(l=e.title,c.Children.map(l.props.children,(e=>{if("string"===typeof e)return e}))),value:u().toString(e.key)}:{label:void 0,value:u().toString(e.key)};var l}));return(0,g.jsx)(t.A,{title:x("table.SettingTable"),open:n,destroyOnClose:!0,centered:!0,onOk:()=>{var e;null===(e=h.current)||void 0===e||e.validateFields().then((e=>{d(e)})).catch((()=>{}))},onCancel:()=>{d()},...y,children:(0,g.jsxs)(r.A,{ref:h,preserve:!1,initialValues:{selectedColumnKeys:null===(l=u().map(A,"value"))||void 0===l?void 0:l.filter((e=>!u().includes(m,e)))},layout:"vertical",children:[(0,g.jsx)(r.A.Item,{name:"searchInput",label:x("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,g.jsx)(o.A,{prefix:(0,g.jsx)(i.A,{}),style:{marginBottom:b.marginSM},placeholder:x("table.SearchTableColumn")})}),(0,g.jsx)(r.A.Item,{noStyle:!0,shouldUpdate:(e,l)=>e.searchInput!==l.searchInput,children:e=>{let{getFieldValue:l}=e;const n=l("searchInput")?u().toLower(l("searchInput")):void 0,t=u().map(A,(e=>u().toLower(u().toString(e.label)).includes(n||"")?e:{...e,style:{display:"none"}}));return(0,g.jsx)(r.A.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,g.jsx)(s.A.Group,{options:t,style:{flexDirection:"column"}})})}})]})})}},15881:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AgentDetailModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"available_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cpu_cur_pct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mem_cur_bytes",storageKey:null}],type:"Agent",abstractKey:null,hash:"cb343a0290034803cca4c2b82a1c1b68"},i=t},73443:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},l={defaultValue:null,kind:"LocalArgument",name:"limit"},n={defaultValue:null,kind:"LocalArgument",name:"offset"},t={defaultValue:null,kind:"LocalArgument",name:"order"},i={defaultValue:null,kind:"LocalArgument",name:"status"},a=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"},{kind:"Variable",name:"status",variableName:"status"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"addr",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"compute_plugins",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"first_contact",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"lost_at",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"status_changed",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"cpu_cur_pct",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"mem_cur_bytes",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"available_slots",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"schedulable",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null};return{fragment:{argumentDefinitions:[e,l,n,t,i],kind:"Fragment",metadata:null,name:"AgentListQuery",selections:[{alias:null,args:a,concreteType:"AgentList",kind:"LinkedField",name:"agent_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Agent",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,s,d,u,c,p,g,v,m,y,h,x,b,A,f,j,{args:null,kind:"FragmentSpread",name:"AgentDetailModalFragment"},{args:null,kind:"FragmentSpread",name:"AgentSettingModalFragment"}],storageKey:null},k],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n,e,i,t],kind:"Operation",name:"AgentListQuery",selections:[{alias:null,args:a,concreteType:"AgentList",kind:"LinkedField",name:"agent_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Agent",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,s,d,u,c,p,g,v,m,y,h,x,b,A,f,j],storageKey:null},k],storageKey:null}]},params:{cacheID:"e1a551c0261ce59a4b187a3bbb29b86b",id:null,metadata:{},name:"AgentListQuery",operationKind:"query",text:"query AgentListQuery(\n  $limit: Int!\n  $offset: Int!\n  $filter: String\n  $status: String\n  $order: String\n) {\n  agent_list(limit: $limit, offset: $offset, filter: $filter, status: $status, order: $order) {\n    items {\n      id\n      status\n      version\n      addr\n      architecture\n      region\n      compute_plugins\n      first_contact\n      lost_at\n      status_changed\n      live_stat\n      cpu_cur_pct\n      mem_cur_bytes\n      available_slots\n      occupied_slots\n      scaling_group\n      schedulable\n      ...AgentDetailModalFragment\n      ...AgentSettingModalFragment\n    }\n    total_count\n  }\n}\n\nfragment AgentDetailModalFragment on Agent {\n  id\n  live_stat\n  available_slots\n  occupied_slots\n  cpu_cur_pct\n  mem_cur_bytes\n}\n\nfragment AgentSettingModalFragment on Agent {\n  id\n  schedulable\n}\n"}}}();t.hash="1d6c6a390aad71e4b7815a623ca61d86";const i=t},24100:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AgentSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schedulable",storageKey:null}],type:"Agent",abstractKey:null,hash:"303f8ee06508c3b28511ab1a24a305d5"},i=t},85907:(e,l,n)=>{n.r(l),n.d(l,{default:()=>i});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],l=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyAgent",kind:"LinkedField",name:"modify_agent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AgentSettingModalMutation",selections:l,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AgentSettingModalMutation",selections:l},params:{cacheID:"1a9e43d4bc6e78f3949d1a2a397ff00e",id:null,metadata:{},name:"AgentSettingModalMutation",operationKind:"mutation",text:"mutation AgentSettingModalMutation(\n  $id: String!\n  $props: ModifyAgentInput!\n) {\n  modify_agent(id: $id, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();t.hash="13b2a6a91c7f08bbced5fde155ded60e";const i=t},54690:(e,l,n)=>{n.d(l,{w4:()=>r});var t=n(46976),i=n.n(t),a=n(53350);n(22018),n(32043);const r=e=>{const[l,n]=(0,a.useState)(e);return{baiPaginationOption:{limit:l.pageSize,first:l.pageSize,offset:l.current>1?(l.current-1)*l.pageSize:0},tablePaginationOption:{pageSize:l.pageSize,current:l.current},setTablePaginationOption:e=>{i().isEqual(e,l)||n((l=>({...l,...e})))}}}},76148:(e,l,n)=>{n.d(l,{a:()=>i});var t=n(39768);const i=e=>{const[l,n]=(0,t.q)(`hiddenColumnKeys.${e}`);return[l,n]}},66868:(e,l,n)=>{n.r(l),n.d(l,{default:()=>le});var t,i=n(72375),a=n(23441),r=n(7971),o=n(54690),s=n(76148),d=n(23524),u=n(9189),c=n(95762),p=n(72338),g=n(9571),v=n(92351),m=n(56625),y=n(50128),h=n(46976),x=n.n(h),b=n(53350),A=n(91788),f=n(22018),j=n(60598);const k=e=>{var l,a,o,s,d,h,b,k,S,_,w,F,T,C;let{agentDetailModalFrgmt:I=null,onRequestClose:z,...L}=e;const{t:$}=(0,A.Bd)(),{token:M}=g.A.useToken(),{mergedResourceSlots:K}=(0,r.Hv)(),N=(0,f.useFragment)(void 0!==t?t:t=n(15881),I),O=JSON.parse((null===N||void 0===N?void 0:N.live_stat)||"{}"),D=JSON.parse((null===N||void 0===N?void 0:N.available_slots)||"{}");return(0,j.jsx)(u.A,{...L,centered:!0,title:`${$("agent.DetailedInformation")}: ${null===N||void 0===N?void 0:N.id}`,onCancel:z,destroyOnClose:!0,footer:null,children:(0,j.jsxs)(p.A,{direction:"column",align:"stretch",gap:"md",children:[(0,j.jsxs)(v.A,{gutter:[24,24],children:[(0,j.jsx)(m.A,{xs:24,sm:12,children:null!==O&&void 0!==O&&null!==(l=O.devices)&&void 0!==l&&l.cpu_util?(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,j.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:null===K||void 0===K||null===(a=K.cpu)||void 0===a?void 0:a.human_readable_name}),x().map(null===O||void 0===O||null===(o=O.devices)||void 0===o?void 0:o.cpu_util,((e,l)=>{var n;return(0,j.jsxs)(p.A,{justify:"between",children:[(0,j.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===K||void 0===K||null===(n=K.cpu)||void 0===n?void 0:n.human_readable_name,l]},l),(0,j.jsx)(c.A,{percent:null===e||void 0===e?void 0:e.pct,valueLabel:(0,i.Z1)(null===e||void 0===e?void 0:e.pct,1)+"%"})]})}))]}):null}),(0,j.jsxs)(m.A,{xs:24,sm:12,children:[null!==D&&void 0!==D&&D.mem?(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,j.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:null===K||void 0===K||null===(s=K.mem)||void 0===s?void 0:s.human_readable_name}),(0,j.jsx)(c.A,{percent:x().toNumber(null===(d=(0,i.Is)(x().toString(null===N||void 0===N?void 0:N.mem_cur_bytes),"g"))||void 0===d?void 0:d.number)/x().toNumber(null===(h=(0,i.Is)(null===D||void 0===D?void 0:D.mem,"g"))||void 0===h?void 0:h.number)*100||0,valueLabel:`${null===(b=(0,i.Is)(x().toString(null===N||void 0===N?void 0:N.mem_cur_bytes),"g"))||void 0===b?void 0:b.numberUnit}iB / ${null===(k=(0,i.Is)(null===D||void 0===D?void 0:D.mem,"g"))||void 0===k?void 0:k.numberUnit}iB`})]}):null,null!==O&&void 0!==O&&O.node?(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"start",children:[(0,j.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:$("session.launcher.Network")}),(0,j.jsxs)(p.A,{gap:"xl",children:[(0,j.jsx)(y.A.Text,{children:"TX:"}),(0,j.jsxs)(y.A.Text,{children:[null===(S=(0,i.CE)(null===O||void 0===O||null===(_=O.node)||void 0===_||null===(w=_.net_tx)||void 0===w?void 0:w.current,"m",2))||void 0===S?void 0:S.numberUnit,"B"]})]}),(0,j.jsxs)(p.A,{gap:"xl",children:[(0,j.jsx)(y.A.Text,{children:"RX:"}),(0,j.jsxs)(y.A.Text,{children:[null===(F=(0,i.CE)(null===O||void 0===O||null===(T=O.node)||void 0===T||null===(C=T.net_rx)||void 0===C?void 0:C.current,"m",2))||void 0===F?void 0:F.numberUnit,"B"]})]})]}):null]})]}),(0,j.jsx)(v.A,{gutter:[24,24],style:{marginBottom:M.marginSM},children:x().map(x().keys(null===O||void 0===O?void 0:O.devices),(e=>{if(["cpu_util","mem","disk","net_rx","net_tx"].includes(e))return null;if(x().includes(e,"_util")){var l;const n=x().split(e,"_")[0]+".device";return(0,j.jsx)(m.A,{xs:24,sm:12,children:(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,j.jsxs)(y.A.Title,{level:5,style:{marginTop:0},children:[null===K||void 0===K||null===(l=K[n])||void 0===l?void 0:l.human_readable_name," ",$("session.Utilization")]}),x().map(x().toPairs(null===O||void 0===O?void 0:O.devices[e]),((e,l)=>{var t,a,r;return(0,j.jsxs)(p.A,{justify:"between",children:[(0,j.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===K||void 0===K||null===(t=K[n])||void 0===t?void 0:t.human_readable_name,l]},l),(0,j.jsx)(c.A,{percent:x().toFinite(null===e||void 0===e||null===(a=e[1])||void 0===a?void 0:a.pct),valueLabel:(0,i.Z1)(null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.pct,1)+"%"})]})}))]})})}if(x().includes(e,"_mem")){var n;const l=x().split(e,"_")[0]+".device";return(0,j.jsx)(m.A,{xs:24,sm:12,children:(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,j.jsxs)(y.A.Title,{level:5,style:{marginTop:0},children:[null===K||void 0===K||null===(n=K[l])||void 0===n?void 0:n.human_readable_name," ",$("session.launcher.Memory")]}),x().map(x().toPairs(null===O||void 0===O?void 0:O.devices[e]),((e,n)=>{var t,a,r;return(0,j.jsxs)(p.A,{justify:"between",children:[(0,j.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===K||void 0===K||null===(t=K[l])||void 0===t?void 0:t.human_readable_name,n]},n),(0,j.jsx)(c.A,{percent:x().toFinite(null===e||void 0===e||null===(a=e[1])||void 0===a?void 0:a.pct),valueLabel:(0,i.Z1)(null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.pct,1)+"%"})]})}))]})})}}))})]})})};var S,_,w=n(67710),F=n(13170),T=n(77109);const C=e=>{let{agentSettingModalFrgmt:l=null,onRequestClose:t,...i}=e;const{t:a}=(0,A.Bd)(),{message:r}=w.A.useApp(),o=(0,b.useRef)(null),s=(0,f.useFragment)(void 0!==S?S:S=n(24100),l),[d,c]=(0,f.useMutation)(void 0!==_?_:_=n(85907));return(0,j.jsx)(u.A,{...i,title:`${a("agent.AgentSetting")}: ${null===s||void 0===s?void 0:s.id}`,onCancel:()=>t(),destroyOnClose:!0,width:300,confirmLoading:c,onOk:()=>{var e;null===(e=o.current)||void 0===e||e.validateFields().then((e=>{d({variables:{id:(null===s||void 0===s?void 0:s.id)||"",props:{schedulable:e.schedulable}},onCompleted(e,l){var n,i;null===e||void 0===e||null===(n=e.modify_agent)||void 0===n||!n.ok||l?(r.error(null===e||void 0===e||null===(i=e.modify_agent)||void 0===i?void 0:i.msg),t()):(r.success(a("agent.AgentSettingUpdated")),t(!0))},onError(e){r.error(null===e||void 0===e?void 0:e.message)}})})).catch((()=>{}))},children:(0,j.jsx)(F.A,{ref:o,preserve:!1,initialValues:{...s},children:(0,j.jsx)(F.A.Item,{name:"schedulable",label:a("agent.Schedulable"),valuePropName:"checked",children:(0,j.jsx)(T.A,{})})})})};var I,z=n(30331),L=n(8570),$=n(89229),M=n(91238),K=n(42388),N=n(74325),O=n(94495),D=n(67483),E=n(38639),P=n(53651),R=n(43622),V=n(2667),B=n(40915),U=n(24798),G=n(52335),q=n(82919),X=n(37826),Z=n(78502),W=n.n(Z);const J=e=>{let{containerStyle:l,tableProps:t}=e;const{t:u}=(0,A.Bd)(),{token:v}=g.A.useToken(),{isDarkMode:m}=(0,d.e)(),{mergedResourceSlots:h}=(0,r.Hv)(),[S,_]=(0,b.useState)(),[w,F]=(0,b.useState)(),[T,{toggle:Z}]=(0,B.A)(),J=(0,a.CX)(),[H,Q]=(0,b.useTransition)(),[Y,ee]=(0,b.useTransition)(),[le,ne]=(0,b.useTransition)(),[te,ie]=(0,b.useState)("ALIVE"),[ae,re]=(0,b.useState)(te),[oe,se]=(0,b.useTransition)(),[de,ue]=(0,b.useState)(),{baiPaginationOption:ce,tablePaginationOption:pe,setTablePaginationOption:ge}=(0,o.w4)({current:1,pageSize:20}),[ve,me]=(0,b.useState)(),[ye,he]=(0,a.Tw)("first"),[xe]=(0,b.useState)("network-only"),be=()=>ee((()=>{he()})),{agent_list:Ae}=(0,f.useLazyLoadQuery)(void 0!==I?I:I=n(73443),{limit:ce.limit,offset:ce.offset,filter:de,order:ve,status:te},{fetchKey:ye,fetchPolicy:xe}),fe=[{title:"#",fixed:"left",render:(e,l,n)=>n+1+(pe.current-1)*pe.pageSize,showSorterTooltip:!1,rowScope:"row"},{title:(0,j.jsxs)(j.Fragment,{children:["ID / ",u("agent.Endpoint")]}),key:"id",dataIndex:"id",fixed:"left",render:(e,l)=>(0,j.jsxs)(p.A,{direction:"column",align:"start",children:[(0,j.jsx)(y.A.Text,{children:e}),(0,j.jsx)(y.A.Text,{type:"secondary",children:null===l||void 0===l?void 0:l.addr})]}),sorter:!0},{title:u("agent.Region"),key:"region",dataIndex:"region",render:e=>{const l=x().split(e,"/"),n=null===l||void 0===l?void 0:l[0],t=(null===l||void 0===l?void 0:l.length)>1?l[1]:"",{color:i,icon:a}={aws:{color:"orange",icon:"aws"},amazon:{color:"orange",icon:"aws"},azure:{color:"blue",icon:"azure"},gcp:{color:"lightblue",icon:"gcp"},google:{color:"lightblue",icon:"gcp"},nbp:{color:"green",icon:"nbp"},naver:{color:"green",icon:"nbp"},openstack:{color:"red",icon:"openstack"},dgx:{color:"green",icon:"local"},local:{color:"yellow",icon:"local"}}[n]||{color:"yellow",icon:"local"};return(0,j.jsxs)(p.A,{gap:"xxs",children:[(0,j.jsx)("img",{alt:e,src:`/resources/icons/${a}.png`,style:{width:"32px",height:"32px",filter:m&&"local"===a?"invert(1)":""}}),""!==t?(0,j.jsx)(M.A,{values:[{label:t,color:i},{label:n,color:i}]}):(0,j.jsx)(U.A,{color:i,children:n})]})}},{title:u("agent.Architecture"),key:"architecture",dataIndex:"architecture"},{title:u("agent.Starts"),key:"first_contact",dataIndex:"first_contact",render:e=>(0,j.jsxs)(p.A,{direction:"column",children:[(0,j.jsx)(y.A.Text,{children:W()(e).format("ll LTS")}),(0,j.jsx)(z.A,{callback:()=>J.utils.elapsedTime(e,Date.now()),delay:1e3,render:e=>(0,j.jsx)(M.A,{values:[{label:u("agent.Running")},{label:e}]})})]}),sorter:!0},{title:u("agent.Allocation"),key:"allocation",render:(e,l)=>{const n=JSON.parse((null===l||void 0===l?void 0:l.occupied_slots)||"{}"),t=JSON.parse((null===l||void 0===l?void 0:l.available_slots)||"{}");return(0,j.jsx)(p.A,{direction:"column",gap:"xxs",children:x().map(t,((e,l)=>{if("cpu"===l){var a;const e=x().toFinite(x().toNumber(n.cpu)/x().toNumber(t.cpu)*100);return(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:220},children:[(0,j.jsxs)(p.A,{gap:"xxs",children:[(0,j.jsx)(K.s,{type:l},l),(0,j.jsxs)(y.A.Text,{children:[(0,i.Z1)(n.cpu||0,0),"/",(0,i.Z1)(t.cpu||0,0)]}),(0,j.jsx)(y.A.Text,{type:"secondary",style:{fontSize:v.sizeXS},children:null===h||void 0===h||null===(a=h.cpu)||void 0===a?void 0:a.display_unit})]}),(0,j.jsx)(c.A,{percent:e,strokeColor:e>80?v.colorError:v.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},l)}if("mem"===l){var r,o,s,d;const e=x().toFinite(x().toNumber(n.mem)/x().toNumber(t.mem)*100);return(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:220},children:[(0,j.jsxs)(p.A,{gap:"xxs",children:[(0,j.jsx)(K.s,{type:"mem"}),(0,j.jsxs)(y.A.Text,{children:[null!==(r=null===(o=(0,i.Is)(n.mem,"g",0))||void 0===o?void 0:o.numberFixed)&&void 0!==r?r:0,"/",null!==(s=null===(d=(0,i.Is)(t.mem,"g",0))||void 0===d?void 0:d.numberFixed)&&void 0!==s?s:0]}),(0,j.jsx)(y.A.Text,{type:"secondary",style:{fontSize:v.sizeXS},children:"GiB"})]}),(0,j.jsx)(c.A,{percent:e,strokeColor:e>80?v.colorError:v.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},"mem")}if(t[l]){var u;const e=x().toFinite(x().toNumber(n[l])/x().toNumber(t[l])*100);return(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:220},gap:"xxs",children:[(0,j.jsxs)(p.A,{gap:"xxs",children:[(0,j.jsx)(K.s,{type:l},l),(0,j.jsxs)(y.A.Text,{children:[(0,i.Z1)(n[l]||0,2),"/",(0,i.Z1)(t[l],2)]}),(0,j.jsx)(y.A.Text,{type:"secondary",style:{fontSize:v.sizeXS},children:null===h||void 0===h||null===(u=h[l])||void 0===u?void 0:u.display_unit})]}),(0,j.jsx)(c.A,{percent:e,strokeColor:e>80?v.colorError:v.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},l)}}))})}},{title:u("agent.Utilization"),key:"live_stat",dataIndex:"live_stat",render:(e,l)=>{const n=JSON.parse(e||"{}"),t=JSON.parse((null===l||void 0===l?void 0:l.available_slots)||"{}");if("ALIVE"===(null===l||void 0===l?void 0:l.status)){var a,r,o,s;const e={cpu_util:{capacity:0,current:0,ratio:0},mem_util:{capacity:0,current:0,ratio:0}};if(n&&n.node&&n.devices){const l=x().keys(n.devices.cpu_util).length;e.cpu_util.capacity=x().toFinite(n.node.cpu_util.capacity),e.cpu_util.current=x().toFinite(n.node.cpu_util.current),e.cpu_util.ratio=e.cpu_util.current/e.cpu_util.capacity/l||0,e.mem_util.capacity=x().toInteger(t.mem||n.node.mem.capacity),e.mem_util.current=x().toInteger(n.node.mem.current),e.mem_util.ratio=e.mem_util.current/e.mem_util.capacity||0}return x().forEach(x().keys(null===n||void 0===n?void 0:n.node),(l=>{["cpu_util","mem","disk","net_rx","net_tx"].includes(l)||(x().includes(l,"_util")?e[l]={capacity:"cuda_util"===l?x().toFinite(n.node[l]["stats.max"]):x().toFinite(n.node[l].capacity),current:x().toFinite(n.node[l].current),ratio:x().toFinite(n.node[l].current)/100||0}:l.includes("_mem")&&(e[l]={capacity:x().toFinite(n.node[l].capacity),current:x().toFinite(n.node[l].current),ratio:x().toFinite(n.node[l].pct)/100||0}))})),(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",children:[(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:200},children:[(0,j.jsx)(y.A.Text,{children:null===h||void 0===h||null===(a=h.cpu)||void 0===a?void 0:a.human_readable_name}),(0,j.jsx)(c.A,{percent:100*e.cpu_util.ratio,width:120,valueLabel:(0,i.Z1)(x().toFinite(100*e.cpu_util.ratio),1)+" %"})]}),(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:200},children:[(0,j.jsx)(y.A.Text,{children:null===h||void 0===h||null===(r=h.mem)||void 0===r?void 0:r.human_readable_name}),(0,j.jsx)(c.A,{percent:100*e.mem_util.ratio,width:120,valueLabel:(null===(o=(0,i.Is)(x().toString(e.mem_util.current),"g"))||void 0===o?void 0:o.numberFixed)+"/"+(null===(s=(0,i.Is)(x().toString(e.mem_util.capacity),"g"))||void 0===s?void 0:s.numberFixed)+" GiB"})]}),x().map(x().keys(null===n||void 0===n?void 0:n.node),(l=>{if(!["cpu_util","mem"].includes(l)){if(x().includes(l,"_util")){var n;const t=x().split(l,"_")[0]+".device";return(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:200,width:"min-content"},gap:"xxs",children:[(0,j.jsxs)(y.A.Text,{children:[null===h||void 0===h||null===(n=h[t])||void 0===n?void 0:n.human_readable_name,"(util)"]}),(0,j.jsx)(c.A,{width:120,percent:e[l].current/e[l].capacity*100||0,valueLabel:x().toFinite((0,i.Z1)(100*e[l].ratio,1))+" %"})]})}if(x().includes(l,"_mem")){var t,a,r;const n=x().split(l,"_")[0]+".device";return(0,j.jsxs)(p.A,{justify:"between",style:{minWidth:200,width:"min-content"},gap:"xxs",children:[(0,j.jsxs)(y.A.Text,{children:[null===h||void 0===h||null===(t=h[n])||void 0===t?void 0:t.human_readable_name,"(mem)"]}),(0,j.jsx)(c.A,{width:120,percent:e[l].current/e[l].capacity*100||0,valueLabel:(null===(a=(0,i.Is)(x().toString(e[l].current),"g"))||void 0===a?void 0:a.numberFixed)+"/"+(null===(r=(0,i.Is)(x().toString(e[l].capacity),"g"))||void 0===r?void 0:r.numberFixed)+" GiB"})]})}}}))]})}return u("agent.NoAvailableLiveStat")}},{title:u("agent.DiskPerc"),key:"disk_perc",render:(e,l)=>{var n,t,a;const r=null!==(n=null===(t=JSON.parse((null===l||void 0===l?void 0:l.live_stat)||"{}"))||void 0===t||null===(a=t.node)||void 0===a?void 0:a.disk)&&void 0!==n?n:{},o=x().toFinite(r.pct)||0,s=x().toFinite((0,i.Z1)(o,2)),d=s>80?v.colorError:v.colorSuccess;return(0,j.jsxs)(p.A,{direction:"column",children:[(0,j.jsx)(c.A,{valueLabel:(0,i.Z1)(s,1)+" %",percent:s,strokeColor:d,width:120}),(0,j.jsxs)(y.A.Text,{style:{fontSize:v.fontSizeSM},children:[(0,i.wb)(null===r||void 0===r?void 0:r.current),"GB /"," ",(0,i.wb)(null===r||void 0===r?void 0:r.capacity),"GB"]})]})}},{title:u("general.ResourceGroup"),key:"resource_group",dataIndex:"scaling_group",sorter:!0},{title:u("agent.Status"),key:"status",dataIndex:"status",render:(e,l)=>{var n,t,i;const a=JSON.parse((null===l||void 0===l?void 0:l.compute_plugins)||"{}"),r=JSON.parse((null===l||void 0===l?void 0:l.available_slots)||"{}");return(0,j.jsxs)(p.A,{direction:"column",gap:"xxs",align:"start",children:[(0,j.jsx)(M.A,{values:[{label:"Agent"},{label:(null===l||void 0===l?void 0:l.version)||"",color:"ALIVE"===e?"green":"TERMINATED"===e?"red":"blue"}]}),null!==a&&void 0!==a&&a.cuda?(0,j.jsxs)(j.Fragment,{children:[null!==a&&void 0!==a&&null!==(n=a.cuda)&&void 0!==n&&n.cuda_version?(0,j.jsx)(M.A,{values:[{label:"CUDA"},{label:null===a||void 0===a||null===(t=a.cuda)||void 0===t?void 0:t.cuda_version,color:"green"}]}):(0,j.jsx)(U.A,{color:"green",children:"CUDA Disabled"}),(0,j.jsx)(M.A,{values:[{label:"CUDA Plugin"},{label:null===a||void 0===a||null===(i=a.cuda)||void 0===i?void 0:i.version,color:"blue"}]}),x().includes(x().keys(r),"cuda.shares")?(0,j.jsx)(U.A,{color:"blue",children:"Fractional GPU\u2122"}):null]}):null]})}},{title:u("agent.Schedulable"),key:"schedulable",dataIndex:"schedulable",render:e=>(0,j.jsx)(p.A,{justify:"center",children:!0===e?(0,j.jsx)(O.A,{style:{color:v.colorSuccess,fontSize:v.fontSizeXL}}):(0,j.jsx)(D.A,{style:{color:v.colorTextDisabled,fontSize:v.fontSizeXL}})}),sorter:!0},{title:u("general.Control"),key:"control",fixed:"right",render:(e,l)=>(0,j.jsxs)(p.A,{children:[(0,j.jsx)(G.Ay,{size:"large",style:{color:v.colorSuccess},type:"text",icon:(0,j.jsx)(E.A,{}),onClick:()=>_(l)}),(0,j.jsx)(G.Ay,{size:"large",style:{color:v.colorInfo},type:"text",icon:(0,j.jsx)(P.A,{}),onClick:()=>F(l)})]})}],[je,ke]=(0,s.a)("AgentList");return(0,j.jsxs)(p.A,{direction:"column",align:"stretch",style:l,children:[(0,j.jsxs)(p.A,{justify:"between",align:"start",gap:"xs",style:{padding:v.paddingXS},wrap:"wrap",children:[(0,j.jsxs)(p.A,{direction:"row",gap:"sm",align:"start",style:{flex:1},wrap:"wrap",children:[(0,j.jsx)($.A,{options:[{label:u("agent.Connected"),value:"ALIVE"},{label:u("agent.Terminated"),value:"TERMINATED"}],value:H?ae:te,onChange:e=>{const l=e.target.value;re(l),Q((()=>{ie(l)}))}}),(0,j.jsx)(L.Ay,{filterProperties:[{key:"id",propertyLabel:"ID",type:"string"},{key:"addr",propertyLabel:u("agent.Endpoint"),type:"string"},{key:"schedulable",propertyLabel:u("agent.Schedulable"),type:"boolean",options:[{label:u("general.Enabled"),value:"true"},{label:u("general.Disabled"),value:"false"}]}],value:de,onChange:e=>{se((()=>{ue(e)}))}})]}),(0,j.jsx)(p.A,{gap:"xs",children:(0,j.jsx)(q.A,{title:u("button.Refresh"),children:(0,j.jsx)(G.Ay,{loading:Y,onClick:()=>be(),icon:(0,j.jsx)(R.A,{})})})})]}),(0,j.jsx)(X.A,{bordered:!0,scroll:{x:"max-content"},rowKey:"id",dataSource:(0,i.tS)(null===Ae||void 0===Ae?void 0:Ae.items),showSorterTooltip:!1,columns:x().filter(fe,(e=>!x().includes(je,x().toString(null===e||void 0===e?void 0:e.key)))),pagination:{pageSize:pe.pageSize,showSizeChanger:!0,total:null===Ae||void 0===Ae?void 0:Ae.total_count,current:pe.current,showTotal:(e,l)=>`${l[0]}-${l[1]} of ${e} items`,pageSizeOptions:["10","20","50"],style:{marginRight:v.marginXS}},onChange:(e,l,n)=>{let{pageSize:t,current:a}=e;ne((()=>{x().isNumber(a)&&x().isNumber(t)&&ge({current:a,pageSize:t}),me((0,i.Wh)(n))}))},loading:{spinning:le||H||oe,indicator:(0,j.jsx)(V.A,{})},...t}),(0,j.jsx)(p.A,{justify:"end",style:{padding:v.paddingXXS},children:(0,j.jsx)(G.Ay,{type:"text",icon:(0,j.jsx)(P.A,{}),onClick:()=>{Z()}})}),(0,j.jsx)(k,{agentDetailModalFrgmt:S,open:!!S,onRequestClose:()=>_(null)}),(0,j.jsx)(C,{agentSettingModalFrgmt:w,open:!!w,onRequestClose:e=>{e&&be(),F(null)}}),(0,j.jsx)(N.A,{open:T,onRequestClose:e=>{(null===e||void 0===e?void 0:e.selectedColumnKeys)&&ke(x().difference(fe.map((e=>x().toString(e.key))),null===e||void 0===e?void 0:e.selectedColumnKeys)),Z()},columns:fe,hiddenColumnKeys:je})]})};var H=n(20418),Q=n(91867),Y=n(32043);const ee=(0,Y.withDefault)(Y.StringParam,"agents"),le=e=>{const{t:l}=(0,A.Bd)(),[n,t]=(0,Y.useQueryParam)("tab",ee,{updateType:"replace"}),{token:i}=g.A.useToken();return(0,j.jsxs)(H.A,{activeTabKey:n,onTabChange:e=>t(e),tabList:[{key:"agents",tab:l("agent.Agent")},{key:"storages",tab:l("general.StorageProxies")},{key:"resourceGroup",tab:l("general.ResourceGroup")}],styles:{body:{padding:0,paddingTop:1,overflow:"hidden"}},children:["agents"===n?(0,j.jsx)(b.Suspense,{fallback:(0,j.jsx)(Q.A,{active:!0,style:{padding:i.paddingContentVerticalLG}}),children:(0,j.jsx)(J,{containerStyle:{marginLeft:-1,marginRight:-1}})}):null,"storages"===n?(0,j.jsx)("backend-ai-storage-proxy-list",{active:!0}):null,"resourceGroup"===n?(0,j.jsx)("backend-ai-resource-group-list",{active:!0}):null]})}},20940:(e,l,n)=>{n.d(l,{A:()=>t});const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"}},67483:(e,l,n)=>{n.d(l,{A:()=>s});var t=n(40991),i=n(53350),a=n(20940),r=n(90055),o=function(e,l){return i.createElement(r.A,(0,t.A)({},e,{ref:l,icon:a.A}))};const s=i.forwardRef(o)},28567:(e,l,n)=>{n.d(l,{A:()=>s});var t=n(40991),i=n(53350),a=n(14334),r=n(90055),o=function(e,l){return i.createElement(r.A,(0,t.A)({},e,{ref:l,icon:a.A}))};const s=i.forwardRef(o)},51847:(e,l,n)=>{n.d(l,{A:()=>s});var t=n(92509),i=n(53350),a=n(66413),r=n(7447);const o=function(){var e=(0,t.zs)((0,i.useState)({}),2)[1];return(0,i.useCallback)((function(){return e({})}),[])};const s=function(e,l){void 0===e&&(e={}),void 0===l&&(l={});var n=l.defaultValue,s=l.defaultValuePropName,d=void 0===s?"defaultValue":s,u=l.valuePropName,c=void 0===u?"value":u,p=l.trigger,g=void 0===p?"onChange":p,v=e[c],m=Object.prototype.hasOwnProperty.call(e,c),y=(0,i.useMemo)((function(){return m?v:Object.prototype.hasOwnProperty.call(e,d)?e[d]:n}),[]),h=(0,i.useRef)(y);m&&(h.current=v);var x=o();return[h.current,(0,r.A)((function(l){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=(0,a.Tn)(l)?l(h.current):l;m||(h.current=r,x()),e[g]&&e[g].apply(e,(0,t.fX)([r],(0,t.zs)(n),!1))}))]}},78186:(e,l,n)=>{n.d(l,{A:()=>h});var t=n(53350),i=n(62097),a=n.n(i),r=n(83531),o=n(79876),s=n(44432),d=n(91970),u=n(22028),c=n(1581);const{Option:p}=c.A;function g(e){return(null===e||void 0===e?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const v=(e,l)=>{var n;const{prefixCls:i,className:d,popupClassName:v,dropdownClassName:m,children:y,dataSource:h}=e,x=(0,r.A)(y);let b;1===x.length&&t.isValidElement(x[0])&&!g(x[0])&&([b]=x);const A=b?()=>b:void 0;let f;f=x.length&&g(x[0])?y:h?h.map((e=>{if(t.isValidElement(e))return e;switch(typeof e){case"string":return t.createElement(p,{key:e,value:e},e);case"object":{const{value:l}=e;return t.createElement(p,{key:l,value:l},e.text)}default:return}})):[];const{getPrefixCls:j}=t.useContext(u.QO),k=j("select",i),[S]=(0,s.YK)("SelectLike",null===(n=e.dropdownStyle)||void 0===n?void 0:n.zIndex);return t.createElement(c.A,Object.assign({ref:l,suffixIcon:null},(0,o.A)(e,["dataSource","dropdownClassName"]),{prefixCls:k,popupClassName:v||m,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:S}),className:a()(`${k}-auto-complete`,d),mode:c.A.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:A}),f)},m=t.forwardRef(v),y=(0,d.A)(m,"dropdownAlign",(e=>(0,o.A)(e,["visible"])));m.Option=p,m._InternalPanelDoNotUseOrYouWillBeFired=y;const h=m},56625:(e,l,n)=>{n.d(l,{A:()=>t});const t=n(14967).A},92351:(e,l,n)=>{n.d(l,{A:()=>t});const t=n(26297).A},64054:(e,l,n)=>{n.d(l,{A:()=>t});const t=(0,n(60521).A)("Microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]])}}]);
//# sourceMappingURL=6868.970d70f5.chunk.js.map