"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[540,818],{9818:function(n,e,t){t.r(e),t.d(e,{default:function(){return y},useShadowRoot:function(){return w},useWebComponentInfo:function(){return v}});var i,r=t(9439),o=t(4519),a=t(6114),s=t(2754),l=t(7112),u=t(4447),c=t(1748),d=t(3881),f=t(9883),g=t(6670),p=t(382),b=t(2556),h=o.createContext(null),m=o.createContext(null),w=function(){return o.useContext(m)},v=function(){return o.useContext(h)},k=new l.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});u.ZP.use(c.Db).use(d.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(i=globalThis.backendaioptions)||void 0===i?void 0:i.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var y=function(n){var e=n.children,t=n.value,i=n.styles,u=n.shadowRoot,d=n.dispatchEvent,w=(0,o.useMemo)((function(){return(0,a.Df)()}),[]),v=function(){var n=(0,o.useState)(globalThis.backendaioptions.get("current_language")),e=(0,r.Z)(n,2),t=e[0],i=e[1],a=(0,c.$G)().i18n;return(0,o.useEffect)((function(){setTimeout((function(){return a.changeLanguage(t)}),0)}),[]),(0,o.useEffect)((function(){var n=function(n){var e;i(n.detail.lang);var t=(null===(e=n.detail)||void 0===e?void 0:e.lang)||"en";a.changeLanguage(t)};return window.addEventListener("langChanged",n),function(){return window.removeEventListener("langChanged",n)}}),[a]),[t]}(),y=(0,r.Z)(v,1)[0],x=(0,p.x)(),P=(0,o.useMemo)((function(){return{value:t,dispatchEvent:d}}),[t,d]);return(0,b.jsxs)(o.StrictMode,{children:[(0,b.jsxs)("style",{children:[i,"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n"]}),(0,b.jsx)(l.QueryClientProvider,{client:k,children:(0,b.jsx)(m.Provider,{value:u,children:(0,b.jsx)(h.Provider,{value:P,children:(0,b.jsx)(s.ZP,{getPopupContainer:function(n){return null!==n&&void 0!==n&&n.parentNode?n.parentNode:u},locale:"ko"===y?g.Z:f.Z,theme:x,children:(0,b.jsx)(a.V9,{container:u,cache:w,children:e})})})})})]})}},9277:function(n,e,t){var i=t(1413),r=t(4925),o=t(8159),a=(t(4519),t(2556)),s=["direction","wrap","justify","align","gap","style","children"];e.Z=function(n){var e=n.direction,t=void 0===e?"row":e,l=n.wrap,u=void 0===l?"nowrap":l,c=n.justify,d=void 0===c?"flex-start":c,f=n.align,g=void 0===f?"center":f,p=n.gap,b=void 0===p?0:p,h=n.style,m=n.children,w=(0,r.Z)(n,s),v=o.Z.useToken().token,k=[d,g].map((function(n){var e;switch(n){case"start":e="flex-start";break;case"end":e="flex-end";break;case"between":e="space-between";break;case"around":e="space-around";break;default:e=n}return e})),y=(0,i.Z)({display:"flex",flexDirection:t,flexWrap:u,justifyContent:k[0],alignItems:k[1]},h);return(0,a.jsx)("div",(0,i.Z)((0,i.Z)({style:(0,i.Z)({alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",gap:"string"===typeof b?v["padding"+b.toUpperCase()]:b},y)},w),{},{children:m}))}},8540:function(n,e,t){t.r(e),t.d(e,{passwordPattern:function(){return v}});var i=t(9439),r=t(8159),o=t(2350),a=t(7309),s=t(5658),l=t(8442),u=t(2513),c=t(9818),d=t(9277),f=t(1748),g=t(9080),p=t(7112),b=t(7760),h=t(3255),m=t(4519),w=t(2556),v=/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[_\W]).{8,}$/;e.default=function(){var n,e=(0,c.useWebComponentInfo)(),t=e.value,k=e.dispatchEvent;try{n=JSON.parse(t||"")}catch(I){n={open:!1,currentPassword:"",username:"",api_endpoint:""}}var y=n,x=y.open,P=y.currentPassword,C=y.username,Z=y.api_endpoint,j=r.Z.useToken().token,S=o.Z.useForm(),T=(0,i.Z)(S,1)[0],_=(0,f.$G)().t;(0,m.useEffect)((function(){x&&T.resetFields()}),[x,T]);var E=(0,b.M)({api_endpoint:Z}),L=(0,p.useMutation)({mutationFn:function(n){return(0,h.L)({method:"POST",url:"/server/update-password-no-auth",body:n,client:E})}}),M=function(){T.validateFields().then((function(n){L.mutate({username:C,current_password:P,new_password:n.newPassword},{onSuccess:function(n,e,t){k("ok",null)},onError:function(n,e,t){}})}))};return(0,w.jsx)(a.Z,{open:x,centered:!0,mask:!1,onCancel:function(){k("cancel",null)},keyboard:!1,maskClosable:!1,footer:null,width:450,destroyOnClose:!0,forceRender:!0,children:(0,w.jsxs)(d.Z,{direction:"column",justify:"start",align:"stretch",gap:"md",style:{alignSelf:"stretch",paddingTop:j.paddingMD,paddingBottom:j.paddingMD},children:[(0,w.jsxs)(s.Z.Title,{level:3,style:{margin:0},children:[(0,w.jsx)(g.Z,{twoToneColor:j.colorWarning})," ",_("webui.menu.PleaseChangeYourPassword")]}),_("webui.menu.YouMushChangeYourPassword"),(0,w.jsxs)(o.Z,{form:T,layout:"vertical",initialValues:{currentPassword:P},disabled:L.isLoading,children:[(0,w.jsx)(o.Z.Item,{name:"newPassword",label:_("webui.menu.NewPassword"),rules:[{required:!0},{pattern:v,message:_("webui.menu.InvalidPasswordMessage").toString()},function(){return{validator:function(n,e){return P===e?Promise.reject(new Error(_("webui.menu.NewPasswordCannotBeSame").toString())):Promise.resolve()}}}],hasFeedback:!0,children:(0,w.jsx)(l.Z.Password,{})}),(0,w.jsx)(o.Z.Item,{name:"confirm",label:_("webui.menu.NewPasswordAgain"),dependencies:["newPassword"],hasFeedback:!0,rules:[{required:!0},function(n){var e=n.getFieldValue;return{validator:function(n,t){return t&&e("newPassword")!==t?Promise.reject(new Error(_("environment.PasswordsDoNotMatch").toString())):Promise.resolve()}}}],children:(0,w.jsx)(l.Z.Password,{onPressEnter:M})})]}),(0,w.jsx)(u.ZP,{type:"primary",onClick:M,loading:L.isLoading,children:_("webui.menu.Update")})]})})}},3255:function(n,e,t){t.d(e,{L:function(){return o},W:function(){return r}});var i=t(2556),r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/(<br\s*\/?>|\n)/;return n.split(e).map((function(n,t){return n.match(e)?(0,i.jsx)("br",{},t):n}))},o=function(n){var e=n.method,t=n.url,i=n.body,r=void 0===i?null:i,o=n.client,a=o.newSignedRequest(e,t,r,null);return o._wrapWithPromise(a)}},7760:function(n,e,t){t.d(e,{Dj:function(){return a},M:function(){return o}});var i=t(4519),r=t(7112),o=function(n){var e=n.api_endpoint;return(0,i.useMemo)((function(){var n=new globalThis.BackendAIClientConfig("","",e,"SESSION");return new globalThis.BackendAIClient(n,"Backend.AI Console.")}),[e])},a=function(){return(0,r.useQuery)({queryKey:"backendai-client-for-suspense",queryFn:function(){return new Promise((function(n){if("undefined"!==typeof globalThis.backendaiclient&&null!==globalThis.backendaiclient&&!1!==globalThis.backendaiclient.ready)return n(globalThis.backendaiclient);document.addEventListener("backend-ai-connected",(function e(){n(globalThis.backendaiclient),document.removeEventListener("backend-ai-connected",e)}))}))},retry:!1,suspense:!0}).data}}}]);
//# sourceMappingURL=540.c51503fa.chunk.js.map