{"version":3,"file":"static/js/4462.faf59472.chunk.js","mappings":"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","sources":["components/DoubleTag.tsx","components/DynamicUnitInputNumber.tsx","components/ImageTags.tsx","components/ResourceNumber.tsx","components/__generated__/ImageListQuery.graphql.ts","components/__generated__/ManageAppsModalMutation.graphql.ts","components/__generated__/ManageImageResourceLimitModalMutation.graphql.ts","components/__generated__/ResourcePresetListDeleteMutation.graphql.ts","components/__generated__/ResourcePresetListQuery.graphql.ts","components/__generated__/ResourcePresetSettingModalCreateMutation.graphql.ts","components/__generated__/ResourcePresetSettingModalFragment.graphql.ts","components/__generated__/ResourcePresetSettingModalModifyMutation.graphql.ts","components/lablupTalkativotUI/CopyButton.tsx","components/ImageInstallModal.tsx","components/ManageAppsModal.tsx","components/NonLinearSlider.tsx","components/ImageResourceFormItem.tsx","components/ManageImageResourceLimitModal.tsx","../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/AppstoreOutlined.js","../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@ant-design/icons/es/icons/AppstoreOutlined.js","../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/VerticalAlignBottomOutlined.js","../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@ant-design/icons/es/icons/VerticalAlignBottomOutlined.js","components/ImageList.tsx","components/ResourcePresetSettingModal.tsx","components/ResourcePresetList.tsx","pages/EnvironmentPage.tsx","../node_modules/.pnpm/lucide-react@0.438.0_react@18.3.1/node_modules/lucide-react/src/icons/copy.ts"],"sourcesContent":["import Flex from './Flex';\nimport { Tag } from 'antd';\nimport _ from 'lodash';\nimport React from 'react';\n\nexport type DoubleTagObjectValue = {\n  label: ValueType;\n  color?: string;\n};\n\ntype ValueType = string | React.ReactNode;\nconst DoubleTag: React.FC<{\n  values?: ValueType[] | DoubleTagObjectValue[];\n}> = ({ values = [] }) => {\n  if (values.length === 0) return null;\n  let objectValues: DoubleTagObjectValue[];\n  if (\n    values[0] &&\n    (typeof values[0] === 'string' || React.isValidElement(values[0]))\n  ) {\n    objectValues = values.map(\n      (value) =>\n        ({\n          label: value,\n          color: 'blue',\n        }) as DoubleTagObjectValue,\n    );\n  } else {\n    objectValues = values as DoubleTagObjectValue[];\n  }\n\n  return (\n    <Flex direction=\"row\">\n      {_.map(objectValues, (objValue, idx) => {\n        return (\n          <Tag\n            key={idx}\n            style={\n              _.last(objectValues) === objValue\n                ? undefined\n                : { margin: 0, marginRight: -1 }\n            }\n            color={objValue.color}\n          >\n            {objValue.label}\n          </Tag>\n        );\n      })}\n    </Flex>\n  );\n};\n\nexport default DoubleTag;\n","import { iSizeToSize, parseUnit } from '../helper';\nimport useControllableState from '../hooks/useControllableState';\nimport { usePrevious } from 'ahooks';\nimport { InputNumber, InputNumberProps, Select, Typography } from 'antd';\nimport _ from 'lodash';\nimport React, { useEffect, useRef } from 'react';\n\nexport interface DynamicUnitInputNumberProps\n  extends Omit<\n    InputNumberProps,\n    'step' | 'max' | 'min' | 'value' | 'onChange'\n  > {\n  dynamicSteps?: number[];\n  disableAutoUnit?: boolean;\n  max?: string;\n  min?: string;\n  value?: string | null | undefined;\n  units?: string[];\n  roundStep?: number;\n  onChange?: (value: string) => void;\n}\n\nconst DynamicUnitInputNumber: React.FC<DynamicUnitInputNumberProps> = ({\n  dynamicSteps = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512],\n  units = ['m', 'g', 't', 'p'],\n  disableAutoUnit = false,\n  min = '0m',\n  max = '300p',\n  roundStep,\n  ...inputNumberProps\n}) => {\n  const [value, setValue] = useControllableState<string | null | undefined>(\n    inputNumberProps,\n    {\n      defaultValue: '0g',\n    },\n  );\n  const [numValue, _unitFromValue] =\n    value === null || value === undefined ? [null, null] : parseUnit(value);\n  const previousUnit = usePrevious(_unitFromValue);\n  const unit = _unitFromValue || previousUnit || units[0];\n\n  const [minNumValue, minUnit] = parseUnit(min);\n  const [maxNumValue, maxUnit] = parseUnit(max);\n\n  const ref = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    if (ref.current) {\n      const onInput = (e: Event) => {\n        // @ts-ignore\n        const value = e?.target?.value;\n        if (/^\\d+(g|m)$/.test(value)) {\n          // const [newNumber, newUnit] = parseUnit(value);\n          // if (newNumber === numValue && newUnit === unit) {\n          //   e.target.value = numValue;\n          // } else {\n          setValue(value);\n          // }\n        }\n      };\n      const target = ref.current;\n      target?.addEventListener('input', onInput);\n      return () => {\n        target?.removeEventListener('input', onInput);\n      };\n    }\n  }, [ref, numValue, _unitFromValue, setValue]);\n\n  return (\n    <InputNumber\n      ref={ref}\n      {...inputNumberProps}\n      onBlur={() => {\n        if (_.isNumber(roundStep) && roundStep > 0) {\n          const decimalCount = roundStep.toString().split('.')[1]?.length || 0;\n          if (\n            isNaN(\n              Math.round(_.toNumber(ref.current?.value || '0') / roundStep) *\n                roundStep,\n            )\n          ) {\n            return;\n          }\n          setValue(\n            `${(\n              Math.round(_.toNumber(ref.current?.value || '0') / roundStep) *\n              roundStep\n            ).toFixed(decimalCount)}${unit}`,\n          );\n        }\n      }}\n      value={numValue}\n      onChange={(newValue) => {\n        if (newValue === null || newValue === undefined) {\n          setValue(newValue);\n        } else {\n          setValue(`${newValue}${unit}`);\n        }\n      }}\n      //TODO: When min and max have different units, they should be calculated and put in.\n      // 입력의 초소단위 확인 0.4g 가 되는지 확인\n      // @ts-ignore\n      max={maxUnit === unit ? maxNumValue : iSizeToSize(max, unit).number}\n      min={\n        minUnit === unit\n          ? minNumValue\n          : // @ts-ignore\n            iSizeToSize(min, unit).number\n      }\n      addonAfter={\n        <Select\n          tabIndex={-1}\n          value={unit}\n          onChange={(newUnit) => {\n            setValue(`${numValue}${newUnit}`);\n          }}\n          onDropdownVisibleChange={(open) => {\n            // A null or undefined value doesn't have a unit info, so we need to set the value before setting the unit.\n            if ((open && value === null) || value === undefined) {\n              setValue(`0${unit}`);\n            }\n          }}\n          options={_.map(units, (unit) => ({\n            value: unit,\n            label: (\n              <Typography.Text\n                style={{\n                  fontFamily:\n                    \"'SFMono-Regular',Consolas,'Liberation Mono',Menlo,Courier,monospace\",\n                }}\n              >\n                {unit.toUpperCase() + 'iB'}\n              </Typography.Text>\n            ),\n          }))}\n          suffixIcon={units.length > 1 ? undefined : null}\n          open={units.length > 1 ? undefined : false}\n          style={{\n            cursor: units.length > 1 ? undefined : 'default',\n          }}\n        />\n      }\n      step={0} // this step applies when onStep doesn't setValue\n      onStep={(afterStepValue, info) => {\n        const numValueNotNull =\n          _.isNull(numValue) || _.isUndefined(numValue) ? 0 : numValue;\n        const index = _.sortedIndex(_.sortBy(dynamicSteps), numValueNotNull);\n        let nextIndex: number;\n        if (info.type === 'up') {\n          if (numValueNotNull === dynamicSteps[index]) {\n            nextIndex = index + 1;\n          } else {\n            nextIndex = index;\n          }\n        } else {\n          nextIndex = index - 1;\n        }\n\n        const currentUnitIndex = units.indexOf(unit);\n        if (!disableAutoUnit && nextIndex < 0) {\n          // WHEN MOVING TO MORE Smaller Unit: change unit and number\n          if (currentUnitIndex === 0) {\n            // if already at min unit, set to 0\n            setValue(`0${unit}`);\n          } else {\n            const nextValue = dynamicSteps[dynamicSteps.length - 1];\n            const nextUnit = units[currentUnitIndex - 1];\n            setValue(`${nextValue}${nextUnit}`);\n          }\n        } else if (!disableAutoUnit && nextIndex > dynamicSteps.length - 1) {\n          // WHEN MOVING TO MORE Bigger Unit: change unit and number\n          //  if already at max unit, step up/down by 1\n          if (currentUnitIndex === units.length - 1) {\n            setValue(\n              `${numValueNotNull + (info.type === 'up' ? 1 : -1)}${maxUnit}`,\n            );\n          } else {\n            const nextValue = dynamicSteps[0];\n            const nextUnit = units[currentUnitIndex + 1];\n            setValue(`${nextValue}${nextUnit}`);\n          }\n        } else {\n          // WHEN, DON'T NEED TO CHANGE UNIT\n          if (nextIndex >= 0 && nextIndex < dynamicSteps.length) {\n            let nextNumValue = dynamicSteps[nextIndex];\n            if (minUnit === unit && nextNumValue < minNumValue) {\n              nextNumValue = minNumValue;\n            } else if (maxUnit === unit && nextNumValue > maxNumValue) {\n              nextNumValue = maxNumValue;\n            }\n            setValue(`${nextNumValue}${unit}`);\n          }\n        }\n      }}\n    />\n  );\n};\n\nexport default DynamicUnitInputNumber;\n","import { useBackendAIImageMetaData } from '../hooks';\nimport DoubleTag, { DoubleTagObjectValue } from './DoubleTag';\nimport Flex from './Flex';\nimport TextHighlighter from './TextHighlighter';\nimport { Tag, TagProps } from 'antd';\nimport React from 'react';\n\ninterface ImageAliasNameAndBaseVersionTagsProps\n  extends Omit<DoubleTagObjectValue, 'label'> {\n  image: string | null;\n}\nexport const ImageAliasNameAndBaseVersionTags: React.FC<\n  ImageAliasNameAndBaseVersionTagsProps\n> = ({ image, ...props }) => {\n  image = image || '';\n  const [, { getImageAliasName, getBaseVersion, tagAlias }] =\n    useBackendAIImageMetaData();\n  return (\n    <DoubleTag\n      values={[\n        {\n          label: tagAlias(getImageAliasName(image)),\n          color: 'blue',\n        },\n        {\n          label: getBaseVersion(image),\n          color: 'green',\n        },\n      ]}\n      {...props}\n    />\n  );\n};\n\ninterface BaseVersionTagsProps extends TagProps {\n  image: string | null;\n}\nexport const BaseVersionTags: React.FC<BaseVersionTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getBaseVersion, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getBaseVersion(image))}\n    </Tag>\n  );\n};\n\ninterface BaseImageTagsProps extends TagProps {\n  image: string | null;\n}\nexport const BaseImageTags: React.FC<BaseImageTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getBaseImage, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getBaseImage(image))}\n    </Tag>\n  );\n};\n\ninterface ArchitectureTagsProps extends TagProps {\n  image: string | null;\n}\nexport const ArchitectureTags: React.FC<ArchitectureTagsProps> = ({\n  image,\n  ...props\n}) => {\n  image = image || '';\n  const [, { getArchitecture, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getArchitecture(image))}\n    </Tag>\n  );\n};\n\ninterface LangTagsProps extends TagProps {\n  image: string | null;\n}\nexport const LangTags: React.FC<LangTagsProps> = ({ image, ...props }) => {\n  image = image || '';\n  const [, { getImageLang, tagAlias }] = useBackendAIImageMetaData();\n  return (\n    <Tag color=\"green\" {...props}>\n      {tagAlias(getImageLang(image))}\n    </Tag>\n  );\n};\n\ninterface ConstraintTagsProps extends TagProps {\n  tag: string;\n  labels: { key: string; value: string }[];\n  highlightKeyword?: string;\n}\nexport const ConstraintTags: React.FC<ConstraintTagsProps> = ({\n  tag,\n  labels,\n  highlightKeyword,\n  ...props\n}) => {\n  labels = labels || [];\n  const [, { getConstraints }] = useBackendAIImageMetaData();\n  const constraints = getConstraints(tag, labels);\n  return (\n    <Flex direction=\"row\" align=\"start\">\n      {constraints[0] ? (\n        <Tag color=\"blue\" {...props}>\n          <TextHighlighter keyword={highlightKeyword}>\n            {constraints[0]}\n          </TextHighlighter>\n        </Tag>\n      ) : null}\n      {constraints[1] ? (\n        <DoubleTag\n          color=\"cyan\"\n          values={[\n            {\n              label: (\n                <TextHighlighter keyword={highlightKeyword}>\n                  Customized\n                </TextHighlighter>\n              ),\n              color: 'cyan',\n            },\n            {\n              label: (\n                <TextHighlighter keyword={highlightKeyword}>\n                  {constraints[1]}\n                </TextHighlighter>\n              ),\n              color: 'cyan',\n            },\n          ]}\n          {...props}\n        />\n      ) : null}\n    </Flex>\n  );\n};\n\nconst SessionKernelTags: React.FC<{\n  image: string | null;\n  style?: React.CSSProperties;\n  border?: boolean;\n}> = ({ image, style = {} }, bordered) => {\n  image = image || '';\n  return (\n    <>\n      <ImageAliasNameAndBaseVersionTags image={image} />\n      <BaseImageTags image={image} />\n      <ArchitectureTags image={image} />\n    </>\n  );\n};\n\nexport default React.memo(SessionKernelTags);\n","import { iSizeToSize } from '../helper';\nimport {\n  BaseResourceSlotName,\n  KnownAcceleratorResourceSlotName,\n  ResourceSlotName,\n  useResourceSlotsDetails,\n} from '../hooks/backendai';\nimport { useCurrentResourceGroupValue } from '../hooks/useCurrentProject';\nimport Flex from './Flex';\nimport { Tooltip, Typography, theme } from 'antd';\nimport _ from 'lodash';\nimport { MicrochipIcon } from 'lucide-react';\nimport React, { ReactElement } from 'react';\n\nexport type ResourceOpts = {\n  shmem?: number;\n};\ninterface ResourceNumberProps {\n  type: ResourceSlotName | string;\n  extra?: ReactElement;\n  opts?: ResourceOpts;\n  value: string;\n  hideTooltip?: boolean;\n  max?: string;\n}\n\ntype ResourceTypeInfo<V> = {\n  [key in KnownAcceleratorResourceSlotName]: V;\n} & {\n  [key in BaseResourceSlotName]: V;\n};\nconst ResourceNumber: React.FC<ResourceNumberProps> = ({\n  type,\n  value: amount,\n  extra,\n  opts,\n  hideTooltip = false,\n  max,\n}) => {\n  const { token } = theme.useToken();\n  const currentGroup = useCurrentResourceGroupValue();\n  const { mergedResourceSlots } = useResourceSlotsDetails(\n    currentGroup || undefined,\n  );\n\n  const formatAmount = (amount: string) => {\n    return mergedResourceSlots?.[type]?.number_format.binary\n      ? Number(iSizeToSize(amount, 'g', 3, true)?.numberFixed).toString()\n      : (mergedResourceSlots?.[type]?.number_format.round_length || 0) > 0\n        ? parseFloat(amount).toFixed(2)\n        : amount;\n  };\n\n  return (\n    <Flex direction=\"row\" gap=\"xxs\">\n      {mergedResourceSlots?.[type] ? (\n        <ResourceTypeIcon type={type} showTooltip={!hideTooltip} />\n      ) : (\n        type\n      )}\n\n      <Typography.Text>\n        {formatAmount(amount)}\n        {_.isUndefined(max)\n          ? null\n          : max === 'Infinity'\n            ? '~∞'\n            : `~${formatAmount(max)}`}\n      </Typography.Text>\n      <Typography.Text type=\"secondary\">\n        {mergedResourceSlots?.[type]?.display_unit || ''}\n      </Typography.Text>\n      {type === 'mem' && opts?.shmem && opts?.shmem > 0 ? (\n        <Typography.Text\n          type=\"secondary\"\n          style={{ fontSize: token.fontSizeSM }}\n        >\n          (SHM: {iSizeToSize(opts.shmem + 'b', 'g', 2, true)?.numberFixed}\n          GiB)\n        </Typography.Text>\n      ) : null}\n      {extra}\n    </Flex>\n  );\n};\n\nconst MWCIconWrap: React.FC<{ size?: number; children: string }> = ({\n  size = 16,\n  children,\n}) => {\n  return (\n    // @ts-ignore\n    <mwc-icon\n      style={{\n        '--mdc-icon-size': `${size + 2}px`,\n        width: size,\n        height: size,\n      }}\n    >\n      {children}\n      {/* @ts-ignore */}\n    </mwc-icon>\n  );\n};\ninterface AccTypeIconProps\n  extends Omit<React.ImgHTMLAttributes<HTMLImageElement>, 'src'> {\n  type: ResourceSlotName | string;\n  showIcon?: boolean;\n  showUnit?: boolean;\n  showTooltip?: boolean;\n  size?: number;\n}\nexport const ResourceTypeIcon: React.FC<AccTypeIconProps> = ({\n  type,\n  size = 16,\n  showIcon = true,\n  showUnit = true,\n  showTooltip = true,\n  ...props\n}) => {\n  const resourceTypeIconSrcMap: ResourceTypeInfo<ReactElement | string> = {\n    cpu: <MWCIconWrap size={size}>developer_board</MWCIconWrap>,\n    mem: <MWCIconWrap size={size}>memory</MWCIconWrap>,\n    'cuda.device': '/resources/icons/file_type_cuda.svg',\n    'cuda.shares': '/resources/icons/file_type_cuda.svg',\n    'rocm.device': '/resources/icons/rocm.svg',\n    'tpu.device': <MWCIconWrap size={size}>view_module</MWCIconWrap>,\n    'ipu.device': <MWCIconWrap size={size}>view_module</MWCIconWrap>,\n    'atom.device': '/resources/icons/rebel.svg',\n    'atom-plus.device': '/resources/icons/rebel.svg',\n    'gaudi2.device': '/resources/icons/gaudi.svg',\n    'warboy.device': '/resources/icons/furiosa.svg',\n    'hyperaccel-lpu.device': '/resources/icons/npu_generic.svg',\n  };\n\n  const targetIcon = resourceTypeIconSrcMap[\n    type as KnownAcceleratorResourceSlotName\n  ] ?? <MicrochipIcon />;\n\n  const content =\n    typeof targetIcon === 'string' ? (\n      <img\n        {...props}\n        style={{\n          height: size,\n          alignSelf: 'center',\n          ...(props.style || {}),\n        }}\n        // @ts-ignore\n        src={resourceTypeIconSrcMap[type] || ''}\n        alt={type}\n      />\n    ) : (\n      <Flex style={{ width: 16, height: 16 }}>{targetIcon || type}</Flex>\n    );\n\n  return showTooltip ? (\n    <Tooltip title={type}>{content}</Tooltip>\n  ) : (\n    <Flex style={{ pointerEvents: 'none' }}>{content}</Flex>\n  );\n};\n\nexport default React.memo(ResourceNumber);\n","/**\n * @generated SignedSource<<23f006feea823338a5e9b50f6d11d5e8>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nexport type ImageListQuery$variables = Record<PropertyKey, never>;\nexport type ImageListQuery$data = {\n  readonly images: ReadonlyArray<{\n    readonly architecture: string | null | undefined;\n    readonly digest: string | null | undefined;\n    readonly humanized_name: string | null | undefined;\n    readonly id: string | null | undefined;\n    readonly installed: boolean | null | undefined;\n    readonly labels: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly value: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly name: string | null | undefined;\n    readonly registry: string | null | undefined;\n    readonly resource_limits: ReadonlyArray<{\n      readonly key: string | null | undefined;\n      readonly max: string | null | undefined;\n      readonly min: string | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly tag: string | null | undefined;\n  } | null | undefined> | null | undefined;\n};\nexport type ImageListQuery = {\n  response: ImageListQuery$data;\n  variables: ImageListQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"key\",\n  \"storageKey\": null\n},\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"concreteType\": \"Image\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"images\",\n    \"plural\": true,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"id\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"name\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"tag\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"registry\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"architecture\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"digest\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"installed\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"KVPair\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"labels\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"value\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"humanized_name\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ResourceLimit\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resource_limits\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"min\",\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"max\",\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ImageListQuery\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Queries\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Operation\",\n    \"name\": \"ImageListQuery\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"a9b21b0f0f396926cf1af9e794ec4c1d\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ImageListQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query ImageListQuery {\\n  images {\\n    id\\n    name\\n    tag\\n    registry\\n    architecture\\n    digest\\n    installed\\n    labels {\\n      key\\n      value\\n    }\\n    humanized_name\\n    resource_limits {\\n      key\\n      min\\n      max\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"0881e461c1e3dc480359bc4af37042dc\";\n\nexport default node;\n","/**\n * @generated SignedSource<<be344108d2c9db96959e2b5f85bed2b0>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Mutation } from 'relay-runtime';\nexport type ModifyImageInput = {\n  architecture?: string | null | undefined;\n  digest?: string | null | undefined;\n  image?: string | null | undefined;\n  is_local?: boolean | null | undefined;\n  labels?: ReadonlyArray<KVPairInput | null | undefined> | null | undefined;\n  name?: string | null | undefined;\n  registry?: string | null | undefined;\n  resource_limits?: ReadonlyArray<ResourceLimitInput | null | undefined> | null | undefined;\n  size_bytes?: number | null | undefined;\n  supported_accelerators?: ReadonlyArray<string | null | undefined> | null | undefined;\n  tag?: string | null | undefined;\n  type?: string | null | undefined;\n};\nexport type KVPairInput = {\n  key?: string | null | undefined;\n  value?: string | null | undefined;\n};\nexport type ResourceLimitInput = {\n  key?: string | null | undefined;\n  max?: string | null | undefined;\n  min?: string | null | undefined;\n};\nexport type ManageAppsModalMutation$variables = {\n  architecture?: string | null | undefined;\n  props: ModifyImageInput;\n  target: string;\n};\nexport type ManageAppsModalMutation$data = {\n  readonly modify_image: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ManageAppsModalMutation = {\n  response: ManageAppsModalMutation$data;\n  variables: ManageAppsModalMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"architecture\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"props\"\n},\nv2 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"target\"\n},\nv3 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"architecture\",\n        \"variableName\": \"architecture\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"target\",\n        \"variableName\": \"target\"\n      }\n    ],\n    \"concreteType\": \"ModifyImage\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_image\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      (v2/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ManageAppsModalMutation\",\n    \"selections\": (v3/*: any*/),\n    \"type\": \"Mutations\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v2/*: any*/),\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"ManageAppsModalMutation\",\n    \"selections\": (v3/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"b7a57119037085ec9f08346991633e0a\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ManageAppsModalMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ManageAppsModalMutation(\\n  $target: String!\\n  $architecture: String\\n  $props: ModifyImageInput!\\n) {\\n  modify_image(target: $target, architecture: $architecture, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"bb280196745e96f5c488d1d785a5b012\";\n\nexport default node;\n","/**\n * @generated SignedSource<<61692df1bc291fc5ce24e4d7baf5e894>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Mutation } from 'relay-runtime';\nexport type ModifyImageInput = {\n  architecture?: string | null | undefined;\n  digest?: string | null | undefined;\n  image?: string | null | undefined;\n  is_local?: boolean | null | undefined;\n  labels?: ReadonlyArray<KVPairInput | null | undefined> | null | undefined;\n  name?: string | null | undefined;\n  registry?: string | null | undefined;\n  resource_limits?: ReadonlyArray<ResourceLimitInput | null | undefined> | null | undefined;\n  size_bytes?: number | null | undefined;\n  supported_accelerators?: ReadonlyArray<string | null | undefined> | null | undefined;\n  tag?: string | null | undefined;\n  type?: string | null | undefined;\n};\nexport type KVPairInput = {\n  key?: string | null | undefined;\n  value?: string | null | undefined;\n};\nexport type ResourceLimitInput = {\n  key?: string | null | undefined;\n  max?: string | null | undefined;\n  min?: string | null | undefined;\n};\nexport type ManageImageResourceLimitModalMutation$variables = {\n  architecture?: string | null | undefined;\n  props: ModifyImageInput;\n  target: string;\n};\nexport type ManageImageResourceLimitModalMutation$data = {\n  readonly modify_image: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ManageImageResourceLimitModalMutation = {\n  response: ManageImageResourceLimitModalMutation$data;\n  variables: ManageImageResourceLimitModalMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"architecture\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"props\"\n},\nv2 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"target\"\n},\nv3 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"architecture\",\n        \"variableName\": \"architecture\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"target\",\n        \"variableName\": \"target\"\n      }\n    ],\n    \"concreteType\": \"ModifyImage\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_image\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      (v2/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ManageImageResourceLimitModalMutation\",\n    \"selections\": (v3/*: any*/),\n    \"type\": \"Mutations\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v2/*: any*/),\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"ManageImageResourceLimitModalMutation\",\n    \"selections\": (v3/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"b4c4a5b17c6aa265df64e4d2d6338684\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ManageImageResourceLimitModalMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ManageImageResourceLimitModalMutation(\\n  $target: String!\\n  $architecture: String\\n  $props: ModifyImageInput!\\n) {\\n  modify_image(target: $target, architecture: $architecture, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"491b6e500587a3630195d9025ef76f29\";\n\nexport default node;\n","/**\n * @generated SignedSource<<b46a328b27b6cb343d0726ccfa2a8969>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Mutation } from 'relay-runtime';\nexport type ResourcePresetListDeleteMutation$variables = {\n  name: string;\n};\nexport type ResourcePresetListDeleteMutation$data = {\n  readonly delete_resource_preset: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ResourcePresetListDeleteMutation = {\n  response: ResourcePresetListDeleteMutation$data;\n  variables: ResourcePresetListDeleteMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      }\n    ],\n    \"concreteType\": \"DeleteResourcePreset\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"delete_resource_preset\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ResourcePresetListDeleteMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutations\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ResourcePresetListDeleteMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"66d1ae4fe23653f392529fb39e2e61f2\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ResourcePresetListDeleteMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ResourcePresetListDeleteMutation(\\n  $name: String!\\n) {\\n  delete_resource_preset(name: $name) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"99b502a95d31e84e4de261e06fb89915\";\n\nexport default node;\n","/**\n * @generated SignedSource<<26ebe2bcadc0c19dc2fefa1baf95c5c4>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ResourcePresetListQuery$variables = Record<PropertyKey, never>;\nexport type ResourcePresetListQuery$data = {\n  readonly resource_presets: ReadonlyArray<{\n    readonly name: string | null | undefined;\n    readonly resource_slots: any | null | undefined;\n    readonly shared_memory: any | null | undefined;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"ResourcePresetSettingModalFragment\">;\n  } | null | undefined> | null | undefined;\n};\nexport type ResourcePresetListQuery = {\n  response: ResourcePresetListQuery$data;\n  variables: ResourcePresetListQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"resource_slots\",\n  \"storageKey\": null\n},\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"shared_memory\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ResourcePresetListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ResourcePreset\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resource_presets\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/),\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"ResourcePresetSettingModalFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Queries\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [],\n    \"kind\": \"Operation\",\n    \"name\": \"ResourcePresetListQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"ResourcePreset\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resource_presets\",\n        \"plural\": true,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          (v2/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"f8093b3bde88909fa6f5ab7fdf92dcb0\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ResourcePresetListQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query ResourcePresetListQuery {\\n  resource_presets {\\n    name\\n    resource_slots\\n    shared_memory\\n    ...ResourcePresetSettingModalFragment\\n  }\\n}\\n\\nfragment ResourcePresetSettingModalFragment on ResourcePreset {\\n  name\\n  resource_slots\\n  shared_memory\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"d720729122a85e155a7f334eba9156fc\";\n\nexport default node;\n","/**\n * @generated SignedSource<<6ab3fcff2c5e47560a674808fafca320>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Mutation } from 'relay-runtime';\nexport type CreateResourcePresetInput = {\n  resource_slots: any;\n  shared_memory?: string | null | undefined;\n};\nexport type ResourcePresetSettingModalCreateMutation$variables = {\n  name: string;\n  props: CreateResourcePresetInput;\n};\nexport type ResourcePresetSettingModalCreateMutation$data = {\n  readonly create_resource_preset: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ResourcePresetSettingModalCreateMutation = {\n  response: ResourcePresetSettingModalCreateMutation$data;\n  variables: ResourcePresetSettingModalCreateMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"CreateResourcePreset\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"create_resource_preset\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ResourcePresetSettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutations\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ResourcePresetSettingModalCreateMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"4c6d8ef938cb69d5336e86c9d7fca415\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ResourcePresetSettingModalCreateMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ResourcePresetSettingModalCreateMutation(\\n  $name: String!\\n  $props: CreateResourcePresetInput!\\n) {\\n  create_resource_preset(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"6d3e941d6668ba2fda013fa61adb004d\";\n\nexport default node;\n","/**\n * @generated SignedSource<<a6c9e00e0dd355331bae39f4fc902f38>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { Fragment, ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ResourcePresetSettingModalFragment$data = {\n  readonly name: string | null | undefined;\n  readonly resource_slots: any | null | undefined;\n  readonly shared_memory: any | null | undefined;\n  readonly \" $fragmentType\": \"ResourcePresetSettingModalFragment\";\n};\nexport type ResourcePresetSettingModalFragment$key = {\n  readonly \" $data\"?: ResourcePresetSettingModalFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"ResourcePresetSettingModalFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"ResourcePresetSettingModalFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"name\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"resource_slots\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"shared_memory\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"ResourcePreset\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"e0519643146e095e7a6ac81fee9d922a\";\n\nexport default node;\n","/**\n * @generated SignedSource<<005e3457192b22ba48e9ab79b6c24d9a>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest, Mutation } from 'relay-runtime';\nexport type ModifyResourcePresetInput = {\n  resource_slots?: any | null | undefined;\n  shared_memory?: string | null | undefined;\n};\nexport type ResourcePresetSettingModalModifyMutation$variables = {\n  name: string;\n  props: ModifyResourcePresetInput;\n};\nexport type ResourcePresetSettingModalModifyMutation$data = {\n  readonly modify_resource_preset: {\n    readonly msg: string | null | undefined;\n    readonly ok: boolean | null | undefined;\n  } | null | undefined;\n};\nexport type ResourcePresetSettingModalModifyMutation = {\n  response: ResourcePresetSettingModalModifyMutation$data;\n  variables: ResourcePresetSettingModalModifyMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\"\n  },\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"props\"\n  }\n],\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      },\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"props\",\n        \"variableName\": \"props\"\n      }\n    ],\n    \"concreteType\": \"ModifyResourcePreset\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"modify_resource_preset\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"ok\",\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"kind\": \"ScalarField\",\n        \"name\": \"msg\",\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"ResourcePresetSettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/),\n    \"type\": \"Mutations\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"ResourcePresetSettingModalModifyMutation\",\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"cacheID\": \"8096f8cb30e3ac68ed767977d4f44061\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"ResourcePresetSettingModalModifyMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation ResourcePresetSettingModalModifyMutation(\\n  $name: String!\\n  $props: ModifyResourcePresetInput!\\n) {\\n  modify_resource_preset(name: $name, props: $props) {\\n    ok\\n    msg\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"80ba55bd668ca590b31674b9b0c280ed\";\n\nexport default node;\n","import { Button, ButtonProps, Tooltip } from 'antd';\nimport { CopyConfig } from 'antd/es/typography/Base';\nimport { CheckIcon, CopyIcon } from 'lucide-react';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\n\ninterface CopyButtonProps extends ButtonProps {\n  copyable?: Omit<CopyConfig, 'text'> & { text: string };\n  defaultIcon?: React.ReactNode;\n}\nconst CopyButton: React.FC<CopyButtonProps> = ({\n  copyable,\n  defaultIcon,\n  ...props\n}) => {\n  const [isCopied, setIsCopied] = useState(false);\n\n  const handleCopy = async () => {\n    setIsCopied(true);\n  };\n\n  useEffect(() => {\n    if (isCopied) {\n      const timeout = setTimeout(() => {\n        setIsCopied(false);\n      }, 2000);\n      return () => clearTimeout(timeout);\n    }\n  }, [isCopied]);\n\n  return (\n    <Tooltip\n      title={isCopied ? 'Copied!' : 'Copy'}\n      open={isCopied ? true : undefined}\n    >\n      <CopyToClipboard text={copyable?.text || ''} onCopy={handleCopy}>\n        <Button\n          icon={\n            isCopied ? <CheckIcon /> : defaultIcon ? defaultIcon : <CopyIcon />\n          }\n          {...props}\n        />\n      </CopyToClipboard>\n    </Tooltip>\n  );\n};\n\nexport default CopyButton;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport { useSetBAINotification } from '../hooks/useBAINotification';\nimport { usePainKiller } from '../hooks/usePainKiller';\nimport BAIModal, { BAIModalProps } from './BAIModal';\nimport Flex from './Flex';\nimport { EnvironmentImage } from './ImageList';\nimport { List } from 'antd';\nimport { Dispatch, SetStateAction } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface ImageInstallModalInterface extends BAIModalProps {\n  onRequestClose: () => void;\n  selectedRows: EnvironmentImage[];\n  setInstallingImages: Dispatch<SetStateAction<string[]>>;\n}\nconst ImageInstallModal: React.FC<ImageInstallModalInterface> = ({\n  onRequestClose,\n  selectedRows,\n  setInstallingImages,\n  ...modalProps\n}) => {\n  const { t } = useTranslation();\n  const baiClient = useSuspendedBackendaiClient();\n  const { upsertNotification } = useSetBAINotification();\n  const painKiller = usePainKiller();\n  if (!modalProps.open) return null;\n\n  const mapImages = () => {\n    let hasInstalledImage = false;\n    const imagesToInstall = selectedRows.filter((image) => {\n      if (image.installed) hasInstalledImage = true;\n      return !image.installed;\n    });\n    return { imagesToInstall, hasInstalledImage };\n  };\n\n  const { imagesToInstall, hasInstalledImage } = mapImages();\n\n  const handleClick = () => {\n    onRequestClose();\n    const installPromises = imagesToInstall.map(async (image) => {\n      const imageName = image?.registry + '/' + image?.name + ':' + image?.tag;\n      let isGPURequired = false;\n      const imageResource = {} as { [key: string]: any };\n      image?.resource_limits?.forEach((resourceLimit) => {\n        const key = resourceLimit?.key as string;\n        imageResource[key] = resourceLimit?.min;\n      });\n      if ('cuda.device' in imageResource && ' cuda.shares' in imageResource) {\n        isGPURequired = true;\n        imageResource.gpu = 0;\n        imageResource.fgpu = imageResource['cuda.shares'];\n      } else if ('cuda.device' in imageResource) {\n        imageResource.gpu = imageResource['cuda.device'];\n        isGPURequired = true;\n      } else {\n        isGPURequired = false;\n      }\n\n      // Add 256m to run the image.\n      if (imageResource.mem.endsWith('g')) {\n        imageResource.mem = imageResource.mem.replace('g', '.5g');\n      } else if (imageResource.mem.endsWith('m')) {\n        imageResource.mem = Number(imageResource.mem.slice(0, -1)) + 256 + 'm';\n      }\n\n      imageResource.domain = baiClient._config.domainName;\n      imageResource['group_name'] = baiClient.current_group;\n\n      const resourceSlots = await baiClient.get_resource_slots();\n\n      if (isGPURequired) {\n        if (\n          !('cuda.device' in resourceSlots) &&\n          !('cuda.shares' in resourceSlots)\n        ) {\n          delete imageResource['gpu'];\n          delete imageResource['fgpu'];\n          delete imageResource['cuda.shares'];\n          delete imageResource['cuda.device'];\n        }\n      }\n\n      if ('cuda.device' in resourceSlots && 'cuda.shares' in resourceSlots) {\n        // Can be possible after 20.03\n        if ('fgpu' in imageResource && 'gpu' in imageResource) {\n          delete imageResource['gpu'];\n          delete imageResource['cuda.device'];\n        }\n      } else if ('cuda.device' in resourceSlots) {\n        delete imageResource['fgpu'];\n        delete imageResource['cuda.shares'];\n      } else if ('cuda.shares' in resourceSlots) {\n        delete imageResource['gpu'];\n        delete imageResource['cuda.device'];\n      }\n\n      imageResource.enqueueOnly = true;\n      imageResource.type = 'batch';\n      imageResource.startupCommand = 'echo \"Image is installed\"';\n\n      upsertNotification({\n        message: `${t('environment.InstallingImage')}${imageName}${t('environment.TakesTime')}`,\n        open: true,\n        duration: 2,\n      });\n\n      //@ts-ignore\n      const indicator = await globalThis.lablupIndicator.start('indeterminate');\n      indicator.set(10, t('import.Downloading'));\n      try {\n        await baiClient.image.install(\n          imageName,\n          image?.architecture,\n          imageResource,\n        );\n        indicator.end(1000);\n        return image?.id;\n      } catch (error) {\n        // @ts-ignore\n        globalThis.lablupNotification.text = painKiller.relieve(error.title);\n        // @ts-ignore\n        globalThis.lablupNotification.detail = error.message;\n        // @ts-ignore\n        globalThis.lablupNotification.show(true, error);\n        indicator.set(100, t('environment.DescProblemOccurred'));\n        indicator.end(1000);\n        return null;\n      }\n    });\n\n    Promise.allSettled(installPromises).then((results) => {\n      const installedImages = results\n        .filter(\n          (result): result is PromiseFulfilledResult<string> =>\n            result.status === 'fulfilled' && result.value !== null,\n        )\n        .map((result) => result.value);\n\n      setInstallingImages(installedImages);\n    });\n  };\n\n  return (\n    <BAIModal\n      {...modalProps}\n      destroyOnClose\n      maskClosable={false}\n      onCancel={() => onRequestClose()}\n      title={t('environment.CheckImageInstallation')}\n      okText={t('environment.Install')}\n      onOk={handleClick}\n    >\n      <Flex direction=\"column\" gap=\"md\" align=\"start\">\n        {hasInstalledImage ? t('environment.InstalledImagesAreExcluded') : null}\n        <Flex direction=\"column\" align=\"start\">\n          <List\n            size=\"small\"\n            bordered\n            dataSource={imagesToInstall.map(\n              (image) => `${image?.registry}/${image?.name}/${image?.tag}`,\n            )}\n            renderItem={(item) => <List.Item>{item}</List.Item>}\n          />\n        </Flex>\n        {t('environment.DescSignificantInstallTime')}\n        {t('dialog.ask.DoYouWantToProceed')}\n      </Flex>\n    </BAIModal>\n  );\n};\nexport default ImageInstallModal;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport BAIModal, { BAIModalProps } from './BAIModal';\nimport Flex from './Flex';\nimport { EnvironmentImage } from './ImageList';\nimport { ManageAppsModalMutation } from './__generated__/ManageAppsModalMutation.graphql';\nimport { DeleteOutlined, PlusOutlined } from '@ant-design/icons';\nimport {\n  Input,\n  Button,\n  Form,\n  message,\n  Typography,\n  App,\n  FormInstance,\n  theme,\n} from 'antd';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useMutation } from 'react-relay';\n\ninterface ManageAppsModalProps extends BAIModalProps {\n  open: boolean;\n  image: EnvironmentImage | null;\n  onRequestClose: (success: boolean) => void;\n}\n\ntype ServicePort = { app: string; protocol: string; port: number };\n\nconst ManageAppsModal: React.FC<ManageAppsModalProps> = ({\n  open,\n  image,\n  onRequestClose,\n  ...baiModalProps\n}) => {\n  const { t } = useTranslation();\n  const baiClient = useSuspendedBackendaiClient();\n  const formRef = React.useRef<FormInstance>(null);\n  const app = App.useApp();\n\n  const { token } = theme.useToken();\n\n  const [commitModifyImageInput, isInFlightModifyImageInput] =\n    useMutation<ManageAppsModalMutation>(graphql`\n      mutation ManageAppsModalMutation(\n        $target: String!\n        $architecture: String\n        $props: ModifyImageInput!\n      ) {\n        modify_image(\n          target: $target\n          architecture: $architecture\n          props: $props\n        ) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  if (!image) return null;\n\n  const getServicePorts = () => {\n    let servicePorts: ServicePort[] = [];\n    if (image.labels) {\n      const servicePortsIdx = _.findIndex(\n        image.labels as { key: string; value: string }[],\n        (item: { [key: string]: string }) =>\n          item !== null && item?.key === 'ai.backend.service-ports',\n      );\n      if (servicePortsIdx !== -1) {\n        servicePorts = image?.labels[servicePortsIdx]\n          ?.value!?.split(',')\n          .map((e: string): ServicePort => {\n            const sp = e.split(':');\n            return {\n              app: sp[0],\n              protocol: sp[1],\n              port: Number(sp[2]),\n            };\n          });\n      }\n    }\n    return servicePorts;\n  };\n  const servicePorts = getServicePorts();\n\n  const handleOnClick = () => {\n    formRef.current\n      ?.validateFields()\n      .then(() => {\n        const values = formRef.current\n          ?.getFieldValue('apps')\n          .map((item: { app: string; protocol: string; port: number }) => {\n            return `${item.app}:${item.protocol}:${item.port}`;\n          })\n          .join(',');\n        const labels = _.map(\n          image.labels as { key: string; value: string }[],\n          (label) => {\n            if (label.key.includes('service-ports')) {\n              return { key: label.key, value: values };\n            } else {\n              return { key: label.key, value: label.value?.toString() || '' };\n            }\n          },\n        );\n        const commitRequest = () =>\n          commitModifyImageInput({\n            variables: {\n              target: `${image?.registry}/${image?.name}:${image?.tag}`,\n              architecture: image?.architecture,\n              props: {\n                labels: labels,\n                resource_limits: baiClient.isManagerVersionCompatibleWith(\n                  '24.03.4.*',\n                )\n                  ? undefined\n                  : null,\n              },\n            },\n            onCompleted: (res, errors) => {\n              if (!res?.modify_image?.ok) {\n                message.error(res?.modify_image?.msg);\n                return;\n              }\n              if (errors && errors?.length > 0) {\n                const errorMsgList = _.map(errors, (error) => error.message);\n                for (const error of errorMsgList) {\n                  message.error(error, 2.5);\n                }\n              } else {\n                message.success(t('environment.DescImagePortsModified'));\n                onRequestClose(true);\n              }\n              return;\n            },\n            onError: (err) => {\n              message.error(t('dialog.ErrorOccurred'));\n            },\n          });\n\n        if (image?.installed) {\n          app.modal.confirm({\n            title: 'Image reinstallation required',\n            content: (\n              <>\n                <Trans\n                  i18nKey={\n                    'environment.ModifyImageResourceLimitReinstallRequired'\n                  }\n                />\n              </>\n            ),\n            onOk: commitRequest,\n            getContainer: () => document.body,\n            closable: true,\n          });\n        } else {\n          commitRequest();\n        }\n      })\n      .catch((e) => {});\n  };\n\n  return (\n    <BAIModal\n      destroyOnClose\n      open={open}\n      onOk={handleOnClick}\n      onCancel={() => onRequestClose(false)}\n      confirmLoading={isInFlightModifyImageInput}\n      title={t('environment.ManageApps')}\n      {...baiModalProps}\n    >\n      <Flex\n        direction=\"row\"\n        style={{ width: '100%', marginBottom: token.marginXS }}\n      >\n        <Typography.Text strong style={{ width: '32%' }}>\n          {t('environment.AppName')}\n        </Typography.Text>\n        <Typography.Text strong style={{ width: '32%' }}>\n          {t('environment.Protocol')}\n        </Typography.Text>\n        <Typography.Text strong style={{ width: '32%' }}>\n          {t('environment.Port')}\n        </Typography.Text>\n        <Flex></Flex>\n      </Flex>\n      <Form\n        ref={formRef}\n        layout=\"vertical\"\n        autoComplete=\"off\"\n        initialValues={{ apps: servicePorts }}\n        requiredMark={false}\n      >\n        <Flex direction=\"column\">\n          <Form.List name=\"apps\">\n            {(fields, { add, remove }) => (\n              <Flex direction=\"column\" style={{ width: '100%' }}>\n                {_.map(fields, (field, index) => (\n                  <Form.Item>\n                    <Flex direction=\"row\" key={field.key} gap={'xs'}>\n                      <Form.Item\n                        {...field}\n                        name={[field.name, 'app']}\n                        noStyle\n                        rules={[\n                          {\n                            required: true,\n                            message: t('environment.AppNameMustNotBeEmpty'),\n                          },\n                        ]}\n                      >\n                        <Input placeholder={t('environment.AppName')} />\n                      </Form.Item>\n                      <Form.Item\n                        {...field}\n                        name={[field.name, 'protocol']}\n                        noStyle\n                        rules={[\n                          {\n                            pattern: /^(http|tcp|pty|preopen)$/,\n                            required: true,\n                            message: t(\n                              'environment.ProtocolMustBeOneOfSupported',\n                            ),\n                          },\n                        ]}\n                      >\n                        <Input placeholder={t('environment.Protocol')} />\n                      </Form.Item>\n                      <Form.Item\n                        {...field}\n                        name={[field.name, 'port']}\n                        noStyle\n                        rules={[\n                          {\n                            validator: (rules, rawValue) => {\n                              const value =\n                                _.isUndefined(rawValue) || rawValue === ''\n                                  ? NaN\n                                  : _.toNumber(rawValue);\n                              if (\n                                _.isNaN(value) ||\n                                value < 0 ||\n                                value >= 65535\n                              ) {\n                                return Promise.reject(\n                                  t('environment.PortMustBeInRange'),\n                                );\n                              } else if (\n                                [2000, 2001, 2002, 2003, 2200, 7681].includes(\n                                  Number(value),\n                                )\n                              ) {\n                                return Promise.reject(\n                                  t('environment.PortReservedForInternalUse'),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                          {\n                            validator: (rule, value) => {\n                              const apps =\n                                formRef.current?.getFieldValue('apps');\n                              if (\n                                _.isString(value) &&\n                                value.length > 0 &&\n                                apps.some(\n                                  (item: any, itemIndex: number) =>\n                                    itemIndex !== index && item?.port === value,\n                                )\n                              ) {\n                                return Promise.reject(\n                                  t('environment.PortMustBeUnique'),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                        ]}\n                      >\n                        <Input placeholder={t('environment.Port')} />\n                      </Form.Item>\n                      <Button\n                        type=\"text\"\n                        danger\n                        onClick={() => remove(field.name)}\n                        style={\n                          index === 0\n                            ? { width: '10%', marginTop: 8 }\n                            : { width: '10%' }\n                        }\n                        icon={<DeleteOutlined />}\n                      />\n                    </Flex>\n                  </Form.Item>\n                ))}\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  block\n                  icon={<PlusOutlined />}\n                  disabled={!image}\n                >\n                  {t('button.Add')}\n                </Button>\n              </Flex>\n            )}\n          </Form.List>\n        </Flex>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default ManageAppsModal;\n","import useControllableState from '../hooks/useControllableState';\nimport { Slider, SliderSingleProps } from 'antd';\nimport _, { isNumber } from 'lodash';\nimport React from 'react';\n\nexport type StepType =\n  | {\n      value: number | string;\n      label: string;\n    }\n  | number\n  | string;\ninterface NonLinearSliderProps\n  extends Omit<SliderSingleProps, 'value' | 'defaultValue' | 'onChange'> {\n  steps: StepType[];\n  value?: number | string;\n  defaultValue?: number | string;\n  showAllMarkLabels?: boolean;\n  onChange?: (value: number | string, label: string) => void;\n}\nconst NonLinearSlider: React.FC<NonLinearSliderProps> = ({\n  value,\n  defaultValue,\n  onChange,\n  steps,\n  showAllMarkLabels,\n  ...sliderProps\n}) => {\n  const normalizedSteps = steps.map((step) => {\n    if (_.isNumber(step) || _.isString(step)) {\n      return {\n        value: step,\n        label: step.toString(),\n      };\n    }\n    return step;\n  });\n\n  const [controlledValue, setControlledValue] = useControllableState({\n    value,\n    defaultValue: defaultValue ?? normalizedSteps[0]?.value,\n    onChange,\n  });\n\n  const isFirstAndLast = (index: number) =>\n    index === 0 || index === normalizedSteps.length - 1;\n\n  const allMarks = _.fromPairs(\n    normalizedSteps.map((step, index) => [\n      index,\n      isFirstAndLast(index) ? step.label : ' ',\n    ]),\n  );\n  return (\n    <Slider\n      {...sliderProps}\n      marks={allMarks}\n      value={_.findIndex(normalizedSteps, { value: controlledValue })}\n      min={0}\n      tooltip={{\n        formatter(value) {\n          if (isNumber(value)) {\n            return normalizedSteps[value]?.label;\n          }\n        },\n        ...sliderProps.tooltip,\n      }}\n      max={normalizedSteps.length - 1}\n      onChange={(rawValue) => {\n        setControlledValue(\n          normalizedSteps[rawValue]?.value,\n          normalizedSteps[rawValue]?.label,\n        );\n      }}\n    />\n  );\n};\n\nexport default NonLinearSlider;\n","import { useResourceSlotsDetails } from '../hooks/backendai';\nimport Flex from './Flex';\nimport NonLinearSlider from './NonLinearSlider';\nimport { Divider, Form, Input, theme } from 'antd';\nimport _ from 'lodash';\nimport React from 'react';\n\nexport interface imageResourceProps {\n  key: string;\n  min: string | null;\n  max: string | null;\n}\ninterface ImageResourceFormItemProps extends Omit<imageResourceProps, 'key'> {\n  name: string;\n}\n\nconst ImageResourceFormItem: React.FC<ImageResourceFormItemProps> = ({\n  name,\n  min,\n  max,\n}) => {\n  const { token } = theme.useToken();\n\n  const { mergedResourceSlots } = useResourceSlotsDetails();\n\n  const getResourceInfo = (type: string) => {\n    return (\n      {\n        cpu: {\n          label: mergedResourceSlots?.cpu?.description,\n          steps: _.map(\n            ['0', '1', '2', '3', '4', '5', '6', '7', '8'],\n            (value) => ({\n              value,\n              label: `${value} ${mergedResourceSlots?.cpu?.display_unit}`,\n            }),\n          ),\n        },\n        mem: {\n          label: mergedResourceSlots?.mem?.description,\n          steps: _.map(\n            [\n              '64m',\n              '128m',\n              '256m',\n              '512m',\n              '1g',\n              '2g',\n              '4g',\n              '8g',\n              '16g',\n              '32g',\n              '64g',\n              '128g',\n              '256g',\n              '512g',\n            ],\n            (v) => ({\n              value: v,\n              label: `${v.slice(0, -1)} ${_.toUpper(_.last(v))}iB`,\n            }),\n          ),\n        },\n        'cuda.device': {\n          label: mergedResourceSlots?.['cuda.device']?.description,\n          steps: _.map(['0', '1', '2', '3', '4', '5', '6', '7', '8'], (v) => ({\n            value: v,\n            label: `${v} ${mergedResourceSlots?.['cuda.device']?.display_unit}`,\n          })),\n        },\n        'cuda.shares': {\n          label: mergedResourceSlots?.['cuda.shares']?.description,\n          steps: _.map(\n            ['0', '0.1', '0.2', '0.5', '1.0', '2.0', '4.0', '8.0'],\n            (v) => ({\n              value: v,\n              label: `${v} ${mergedResourceSlots?.['cuda.shares']?.display_unit}`,\n            }),\n          ),\n        },\n        'rocm.device': {\n          label: mergedResourceSlots?.['rocm.device']?.description,\n          steps: ['0', '1', '2', '3', '4', '5', '6', '7', '8'],\n        },\n      }[type] || {\n        label: mergedResourceSlots?.[type]?.description,\n        steps: _.map(['0', '1', '2', '3', '4'], (v) => ({\n          value: v,\n          label: `${v} ${mergedResourceSlots?.[type]?.display_unit || ''}`,\n        })),\n      }\n    );\n  };\n\n  const formInstance = Form.useFormInstance();\n  const value = Form.useWatch(name, formInstance);\n\n  const stepForValue = _.find(getResourceInfo(name).steps, (step) => {\n    // @ts-ignore\n    return step.value === value || step === value;\n  });\n\n  return (\n    <Form.Item\n      label={getResourceInfo(name)?.label ?? name.toUpperCase()}\n      style={{ flex: 1 }}\n    >\n      <Flex direction=\"row\" gap={'lg'}>\n        <Input\n          size=\"large\"\n          variant=\"borderless\"\n          readOnly\n          // @ts-ignore\n          value={stepForValue?.label ?? stepForValue}\n          style={{ flex: 1, fontSize: token.fontSizeLG }}\n          tabIndex={-1}\n        />\n        <Divider type=\"vertical\" style={{ height: 40 }} />\n        <Form.Item name={name} noStyle initialValue={min}>\n          <NonLinearSlider\n            style={{ flex: 5 }}\n            steps={getResourceInfo(name)?.steps}\n            // onChange={(value) => {}}\n          />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n\nexport default ImageResourceFormItem;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport BAIModal, { BAIModalProps } from './BAIModal';\nimport { EnvironmentImage } from './ImageList';\nimport ImageResourceFormItem from './ImageResourceFormItem';\nimport {\n  ManageImageResourceLimitModalMutation,\n  ResourceLimitInput,\n} from './__generated__/ManageImageResourceLimitModalMutation.graphql';\nimport { App, Form, FormInstance, message } from 'antd';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport React, { useRef } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useMutation } from 'react-relay';\n\ninterface ManageImageResourceLimitModalProps extends BAIModalProps {\n  image: EnvironmentImage | null;\n  open: boolean;\n  onRequestClose: (success: boolean) => void;\n}\nconst ManageImageResourceLimitModal: React.FC<\n  ManageImageResourceLimitModalProps\n> = ({ image, open, onRequestClose, ...BAIModalProps }) => {\n  const baiClient = useSuspendedBackendaiClient();\n  // Differentiate default max value based on manager version.\n  // The difference between validating a variable type as undefined or none for an unsupplied field value.\n  // [Associated PR links] : https://github.com/lablup/backend.ai/pull/1941\n\n  const { t } = useTranslation();\n  const formRef = useRef<FormInstance>(null);\n  const app = App.useApp();\n\n  const [commitModifyImageInput, isInFlightModifyImageInput] =\n    useMutation<ManageImageResourceLimitModalMutation>(graphql`\n      mutation ManageImageResourceLimitModalMutation(\n        $target: String!\n        $architecture: String\n        $props: ModifyImageInput!\n      ) {\n        modify_image(\n          target: $target\n          architecture: $architecture\n          props: $props\n        ) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const handleOnclick = async () => {\n    const fieldsValue = await formRef.current?.getFieldsValue();\n    const resource_limits: ResourceLimitInput[] = Object.entries(\n      fieldsValue,\n    ).map(([key, value]: [string, any]) => ({\n      key,\n      min: value.toString() ?? '0',\n      max:\n        (image?.resource_limits?.find((item) => item?.key === key)?.max ??\n        baiClient.isManagerVersionCompatibleWith('24.03.4.*'))\n          ? undefined\n          : null,\n    }));\n\n    const commitRequest = () =>\n      commitModifyImageInput({\n        variables: {\n          target: `${image?.registry}/${image?.name}:${image?.tag}`,\n          architecture: image?.architecture,\n          props: {\n            resource_limits,\n          },\n        },\n        onCompleted: (res, errors) => {\n          if (!res?.modify_image?.ok) {\n            message.error(res?.modify_image?.msg);\n            return;\n          }\n          if (errors && errors?.length > 0) {\n            const errorMsgList = _.map(errors, (error) => error.message);\n            for (const error of errorMsgList) {\n              message.error(error, 2.5);\n            }\n          } else {\n            message.success(t('environment.DescImageResourceModified'));\n            onRequestClose(true);\n          }\n        },\n        onError: (err) => {\n          message.error(t('dialog.ErrorOccurred'));\n        },\n      });\n\n    if (image?.installed) {\n      app.modal.confirm({\n        title: 'Image reinstallation required',\n        content: (\n          <>\n            <Trans\n              i18nKey={'environment.ModifyImageResourceLimitReinstallRequired'}\n            />\n          </>\n        ),\n        onOk: commitRequest,\n        getContainer: () => document.body,\n        closable: true,\n      });\n    } else {\n      commitRequest();\n    }\n  };\n\n  return (\n    <BAIModal\n      destroyOnClose\n      open={open}\n      maskClosable={false}\n      onOk={handleOnclick}\n      onCancel={() => onRequestClose(false)}\n      confirmLoading={isInFlightModifyImageInput}\n      centered\n      title={t('environment.ModifyImageResourceLimit')}\n      {...BAIModalProps}\n    >\n      <Form ref={formRef} layout=\"vertical\">\n        {image?.resource_limits?.map((resource_limit) => {\n          // TODO: After implementing the image list with a relay query, the key transformation should not be needed.\n          // @ts-ignore\n          const { key, min, max } = resource_limit;\n          const keyUsingDot = key.replace(/_/g, '.');\n          return (\n            <ImageResourceFormItem\n              key={keyUsingDot}\n              name={keyUsingDot ?? ''}\n              min={min ?? ''}\n              max={max ?? ''}\n            />\n          );\n        })}\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default ManageImageResourceLimitModal;\n","// This icon file is generated automatically.\nvar AppstoreOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z\" } }] }, \"name\": \"appstore\", \"theme\": \"outlined\" };\nexport default AppstoreOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport AppstoreOutlinedSvg from \"@ant-design/icons-svg/es/asn/AppstoreOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar AppstoreOutlined = function AppstoreOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: AppstoreOutlinedSvg\n  }));\n};\n\n/**![appstore](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ2NCAxNDRIMTYwYy04LjggMC0xNiA3LjItMTYgMTZ2MzA0YzAgOC44IDcuMiAxNiAxNiAxNmgzMDRjOC44IDAgMTYtNy4yIDE2LTE2VjE2MGMwLTguOC03LjItMTYtMTYtMTZ6bS01MiAyNjhIMjEyVjIxMmgyMDB2MjAwem00NTItMjY4SDU2MGMtOC44IDAtMTYgNy4yLTE2IDE2djMwNGMwIDguOCA3LjIgMTYgMTYgMTZoMzA0YzguOCAwIDE2LTcuMiAxNi0xNlYxNjBjMC04LjgtNy4yLTE2LTE2LTE2em0tNTIgMjY4SDYxMlYyMTJoMjAwdjIwMHpNNDY0IDU0NEgxNjBjLTguOCAwLTE2IDcuMi0xNiAxNnYzMDRjMCA4LjggNy4yIDE2IDE2IDE2aDMwNGM4LjggMCAxNi03LjIgMTYtMTZWNTYwYzAtOC44LTcuMi0xNi0xNi0xNnptLTUyIDI2OEgyMTJWNjEyaDIwMHYyMDB6bTQ1Mi0yNjhINTYwYy04LjggMC0xNiA3LjItMTYgMTZ2MzA0YzAgOC44IDcuMiAxNiAxNiAxNmgzMDRjOC44IDAgMTYtNy4yIDE2LTE2VjU2MGMwLTguOC03LjItMTYtMTYtMTZ6bS01MiAyNjhINjEyVjYxMmgyMDB2MjAweiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(AppstoreOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'AppstoreOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar VerticalAlignBottomOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z\" } }] }, \"name\": \"vertical-align-bottom\", \"theme\": \"outlined\" };\nexport default VerticalAlignBottomOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport VerticalAlignBottomOutlinedSvg from \"@ant-design/icons-svg/es/asn/VerticalAlignBottomOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar VerticalAlignBottomOutlined = function VerticalAlignBottomOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: VerticalAlignBottomOutlinedSvg\n  }));\n};\n\n/**![vertical-align-bottom](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg1OS45IDc4MEgxNjQuMWMtNC41IDAtOC4xIDMuNi04LjEgOHY2MGMwIDQuNCAzLjYgOCA4LjEgOGg2OTUuOGM0LjUgMCA4LjEtMy42IDguMS04di02MGMwLTQuNC0zLjYtOC04LjEtOHpNNTA1LjcgNjY5YTggOCAwIDAwMTIuNiAwbDExMi0xNDEuN2M0LjEtNS4yLjQtMTIuOS02LjMtMTIuOWgtNzQuMVYxNzZjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djMzOC4zSDQwMGMtNi43IDAtMTAuNCA3LjctNi4zIDEyLjlsMTEyIDE0MS44eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(VerticalAlignBottomOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'VerticalAlignBottomOutlined';\n}\nexport default RefIcon;","import Flex from '../components/Flex';\nimport { filterNonNullItems, getImageFullName } from '../helper';\nimport { useBackendAIImageMetaData, useUpdatableState } from '../hooks';\nimport ImageInstallModal from './ImageInstallModal';\nimport { ConstraintTags } from './ImageTags';\nimport ManageAppsModal from './ManageAppsModal';\nimport ManageImageResourceLimitModal from './ManageImageResourceLimitModal';\nimport ResourceNumber from './ResourceNumber';\nimport TextHighlighter from './TextHighlighter';\nimport {\n  ImageListQuery,\n  ImageListQuery$data,\n} from './__generated__/ImageListQuery.graphql';\nimport CopyButton from './lablupTalkativotUI/CopyButton';\nimport {\n  AppstoreOutlined,\n  CopyOutlined,\n  ReloadOutlined,\n  SearchOutlined,\n  SettingOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons';\nimport { App, Button, Input, Table, Tag, theme, Typography } from 'antd';\nimport { ColumnsType } from 'antd/es/table';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport { Key, useMemo, useState, useTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLazyLoadQuery } from 'react-relay';\n\nexport type EnvironmentImage = NonNullable<\n  NonNullable<ImageListQuery$data['images']>[number]\n>;\n\nconst ImageList: React.FC<{ style?: React.CSSProperties }> = ({ style }) => {\n  const { t } = useTranslation();\n  const [selectedRows, setSelectedRows] = useState<EnvironmentImage[]>([]);\n  const [\n    ,\n    { getNamespace, getBaseVersion, getLang, getBaseImages, getConstraints },\n  ] = useBackendAIImageMetaData();\n  const { token } = theme.useToken();\n  const [managingApp, setManagingApp] = useState<EnvironmentImage | null>(null);\n  const [managingResourceLimit, setManagingResourceLimit] =\n    useState<EnvironmentImage | null>(null);\n  const [isOpenInstallModal, setIsOpenInstallModal] = useState<boolean>(false);\n  const [environmentFetchKey, updateEnvironmentFetchKey] =\n    useUpdatableState('initial-fetch');\n  const [, startTransition] = useTransition();\n  const [installingImages, setInstallingImages] = useState<string[]>([]);\n  const { message } = App.useApp();\n  const [imageSearch, setImageSearch] = useState('');\n  const [isPendingRefreshTransition, startRefreshTransition] = useTransition();\n  const [isPendingSearchTransition, startSearchTransition] = useTransition();\n\n  const { images } = useLazyLoadQuery<ImageListQuery>(\n    graphql`\n      query ImageListQuery {\n        images {\n          id\n          name\n          tag\n          registry\n          architecture\n          digest\n          installed\n          labels {\n            key\n            value\n          }\n          humanized_name\n          resource_limits {\n            key\n            min\n            max\n          }\n        }\n      }\n    `,\n    {},\n    {\n      fetchPolicy:\n        environmentFetchKey === 'initial-fetch'\n          ? 'store-and-network'\n          : 'network-only',\n      fetchKey: environmentFetchKey,\n    },\n  );\n\n  // Sort images by humanized_name to prevent the image list from jumping around when the images are updated\n  // TODO: after `images` query  supports sort order, we should remove this line\n  const defaultSortedImages = useMemo(\n    () => _.sortBy(images, (image) => image?.humanized_name),\n    [images],\n  );\n\n  const columns: ColumnsType<EnvironmentImage> = [\n    {\n      title: t('environment.Status'),\n      dataIndex: 'installed',\n      key: 'installed',\n      defaultSortOrder: 'descend',\n      sorter: (a: EnvironmentImage, b: EnvironmentImage) => {\n        return _.toNumber(a?.installed || 0) - _.toNumber(b?.installed || 0);\n      },\n      render: (text, row) =>\n        row?.id && installingImages.includes(row.id) ? (\n          <Tag color=\"gold\">\n            <TextHighlighter keyword={imageSearch}>\n              {t('environment.Installing')}\n            </TextHighlighter>\n          </Tag>\n        ) : row?.installed ? (\n          <Tag color=\"gold\">\n            <TextHighlighter keyword={imageSearch}>\n              {t('environment.Installed')}\n            </TextHighlighter>\n          </Tag>\n        ) : null,\n    },\n    {\n      title: t('environment.Registry'),\n      dataIndex: 'registry',\n      key: 'registry',\n      sorter: (a, b) =>\n        a?.registry && b?.registry ? a.registry.localeCompare(b.registry) : 0,\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>{row.registry}</TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.Architecture'),\n      dataIndex: 'architecture',\n      key: 'architecture',\n      sorter: (a, b) =>\n        a?.architecture && b?.architecture\n          ? a.architecture.localeCompare(b.architecture)\n          : 0,\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>\n          {row.architecture}\n        </TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.Namespace'),\n      key: 'namespace',\n      dataIndex: 'namespace',\n      sorter: (a, b) => {\n        const namespaceA = getNamespace(getImageFullName(a) || '');\n        const namespaceB = getNamespace(getImageFullName(b) || '');\n        return namespaceA && namespaceB\n          ? namespaceA.localeCompare(namespaceB)\n          : 0;\n      },\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>\n          {getNamespace(getImageFullName(row) || '')}\n        </TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.Language'),\n      key: 'lang',\n      dataIndex: 'lang',\n      sorter: (a, b) => {\n        const langA = a?.name ? getLang(a?.name) : '';\n        const langB = b?.name ? getLang(b?.name) : '';\n        return langA && langB ? langA.localeCompare(langB) : 0;\n      },\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>\n          {row.name ? getLang(row.name) : null}\n        </TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.Version'),\n      key: 'baseversion',\n      dataIndex: 'baseversion',\n      sorter: (a, b) => {\n        const baseversionA = getBaseVersion(getImageFullName(a) || '');\n        const baseversionB = getBaseVersion(getImageFullName(b) || '');\n        return baseversionA && baseversionB\n          ? baseversionA.localeCompare(baseversionB)\n          : 0;\n      },\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>\n          {getBaseVersion(getImageFullName(row) || '')}\n        </TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.Base'),\n      key: 'baseimage',\n      dataIndex: 'baseimage',\n      sorter: (a, b) => {\n        const baseimageA =\n          !a?.tag || !a?.name ? '' : getBaseImages(a?.tag, a?.name)[0] || '';\n        const baseimageB =\n          !b?.tag || !b?.name ? '' : getBaseImages(b?.tag, b?.name)[0] || '';\n        if (baseimageA === '' && baseimageB === '') return 0;\n        if (baseimageA === '') return -1;\n        if (baseimageB === '') return 1;\n        return baseimageA.localeCompare(baseimageB);\n      },\n      render: (text, row) => (\n        <Flex direction=\"row\" align=\"start\">\n          {row?.tag && row?.name\n            ? getBaseImages(row.tag, row.name).map((baseImage) => (\n                <Tag color=\"green\">\n                  <TextHighlighter keyword={imageSearch}>\n                    {baseImage}\n                  </TextHighlighter>\n                </Tag>\n              ))\n            : null}\n        </Flex>\n      ),\n    },\n    {\n      title: t('environment.Constraint'),\n      key: 'constraint',\n      dataIndex: 'constraint',\n      sorter: (a, b) => {\n        const requirementA =\n          a?.tag && b?.labels\n            ? getConstraints(\n                a?.tag,\n                a?.labels as { key: string; value: string }[],\n              )[0] || ''\n            : '';\n        const requirementB =\n          b?.tag && b?.labels\n            ? getConstraints(\n                b?.tag,\n                b?.labels as { key: string; value: string }[],\n              )[0] || ''\n            : '';\n        if (requirementA === '' && requirementB === '') return 0;\n        if (requirementA === '') return -1;\n        if (requirementB === '') return 1;\n        return requirementA.localeCompare(requirementB);\n      },\n      render: (text, row) =>\n        row?.tag ? (\n          <ConstraintTags\n            tag={row?.tag}\n            labels={row?.labels as { key: string; value: string }[]}\n            highlightKeyword={imageSearch}\n          />\n        ) : null,\n    },\n    {\n      title: t('environment.Digest'),\n      dataIndex: 'digest',\n      key: 'digest',\n      sorter: (a, b) =>\n        a?.digest && b?.digest ? a.digest.localeCompare(b.digest) : 0,\n      render: (text, row) => (\n        <TextHighlighter keyword={imageSearch}>{row.digest}</TextHighlighter>\n      ),\n    },\n    {\n      title: t('environment.ResourceLimit'),\n      dataIndex: 'resource_limits',\n      key: 'resource_limits',\n      render: (text, row) => (\n        <Flex direction=\"row\" gap=\"xxs\">\n          {row?.resource_limits?.map((resource_limit) => (\n            <ResourceNumber\n              type={resource_limit?.key || ''}\n              value={resource_limit?.min || '0'}\n              max={resource_limit?.max || 'Infinity'}\n            />\n          ))}\n        </Flex>\n      ),\n    },\n    {\n      title: t('general.Control'),\n      key: 'control',\n      dataIndex: 'control',\n      fixed: 'right',\n      render: (text, row) => (\n        <Flex\n          direction=\"row\"\n          align=\"stretch\"\n          justify=\"center\"\n          gap=\"xxs\"\n          onClick={(e) => {\n            // To prevent the click event from selecting the row\n            e.stopPropagation();\n          }}\n        >\n          <CopyButton\n            type=\"text\"\n            defaultIcon={<CopyOutlined />}\n            style={{ color: token.colorPrimary }}\n            copyable={{\n              text: getImageFullName(row) || '',\n            }}\n          ></CopyButton>\n          <Button\n            type=\"text\"\n            icon={\n              <SettingOutlined\n                style={{\n                  color: token.colorInfo,\n                }}\n              />\n            }\n            onClick={() => setManagingResourceLimit(row)}\n          />\n          <Button\n            type=\"text\"\n            icon={\n              <AppstoreOutlined\n                style={{\n                  color: token.colorInfo,\n                }}\n              />\n            }\n            onClick={() => {\n              setManagingApp(row);\n            }}\n          />\n        </Flex>\n      ),\n    },\n  ];\n\n  const imageFilterValues = useMemo(() => {\n    return defaultSortedImages?.map((image) => {\n      return {\n        installed: image?.installed ? t('environment.Installed') : '',\n        namespace: getNamespace(getImageFullName(image) || ''),\n        lang: image?.name ? getLang(image.name) : '',\n        baseversion: getBaseVersion(getImageFullName(image) || ''),\n        baseimage:\n          image?.tag && image?.name ? getBaseImages(image.tag, image.name) : [],\n        constraints:\n          image?.tag && image?.labels\n            ? getConstraints(\n                image.tag,\n                image.labels as { key: string; value: string }[],\n              )\n            : [],\n        isCustomized: image?.tag\n          ? image.tag.indexOf('customized') !== -1\n          : false,\n      };\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultSortedImages]);\n\n  const filteredImageData = useMemo(() => {\n    if (_.isEmpty(imageSearch)) return defaultSortedImages;\n    const regExp = new RegExp(`${_.escapeRegExp(imageSearch)}`, 'i');\n    return _.filter(defaultSortedImages, (image, idx) => {\n      return _.some(image, (value, key) => {\n        if (key === 'id') return false;\n        if (['digest', 'architecture', 'registry'].includes(key))\n          return regExp.test(_.toString(value));\n        const curFilterValues = imageFilterValues[idx] || {};\n        if (key === 'installed') return regExp.test(curFilterValues.installed);\n        const baseVersionMatch = regExp.test(curFilterValues.baseversion);\n        const baseImagesMatch = _.some(curFilterValues.baseimage, (value) =>\n          regExp.test(value),\n        );\n        const constraintsMatch = _.some(\n          curFilterValues.constraints,\n          (constraint) => regExp.test(constraint),\n        );\n        const customizedMatch = curFilterValues.isCustomized\n          ? regExp.test('customized')\n          : false;\n        const langMatch = regExp.test(curFilterValues.lang);\n        const namespaceMatch = regExp.test(curFilterValues.namespace);\n        return (\n          baseVersionMatch ||\n          baseImagesMatch ||\n          constraintsMatch ||\n          langMatch ||\n          namespaceMatch ||\n          customizedMatch\n        );\n      });\n    });\n  }, [imageSearch, imageFilterValues, defaultSortedImages]);\n\n  return (\n    <>\n      <Flex\n        direction=\"column\"\n        align=\"stretch\"\n        style={{\n          flex: 1,\n          ...style,\n        }}\n      >\n        <Flex justify=\"end\" style={{ padding: token.paddingSM }} gap={'xs'}>\n          {selectedRows.length > 0 ? (\n            <Typography.Text>\n              {t('general.NSelected', {\n                count: selectedRows.length,\n              })}\n            </Typography.Text>\n          ) : null}\n          <Input\n            allowClear\n            prefix={<SearchOutlined />}\n            placeholder={t('environment.SearchImages')}\n            onChange={(e) => {\n              startSearchTransition(() => setImageSearch(e.target.value));\n            }}\n            style={{\n              width: 200,\n            }}\n          />\n          <Button\n            icon={<ReloadOutlined />}\n            loading={isPendingRefreshTransition}\n            onClick={() => {\n              setSelectedRows([]);\n              startRefreshTransition(() => updateEnvironmentFetchKey());\n            }}\n          >\n            {t('button.Refresh')}\n          </Button>\n\n          <Button\n            icon={<VerticalAlignBottomOutlined />}\n            style={{ backgroundColor: token.colorPrimary, color: 'white' }}\n            onClick={() => {\n              if (selectedRows.length === 0) {\n                message.error(t('environment.NoImagesAreSelected'));\n                return;\n              }\n              if (selectedRows.some((image) => !image.installed)) {\n                setIsOpenInstallModal(true);\n                return;\n              }\n              message.error(t('environment.AlreadyInstalledImage'));\n            }}\n          >\n            {t('environment.Install')}\n          </Button>\n        </Flex>\n        <Table<EnvironmentImage>\n          rowKey=\"id\"\n          scroll={{ x: 'max-content' }}\n          pagination={{\n            showTotal(total, range) {\n              return `${range[0]}-${range[1]} of ${total} items`;\n            },\n            pageSizeOptions: ['10', '20', '50'],\n            style: { marginRight: token.marginXS },\n          }}\n          dataSource={filterNonNullItems(filteredImageData)}\n          columns={columns}\n          loading={isPendingSearchTransition}\n          rowSelection={{\n            type: 'checkbox',\n            // hideSelectAll: true,\n            // columnWidth: 48,\n            onChange: (_, selectedRows: EnvironmentImage[]) => {\n              setSelectedRows(selectedRows);\n            },\n            selectedRowKeys: selectedRows.map((row) => row.id) as Key[],\n          }}\n          onRow={(record) => ({\n            onClick: (e) => {\n              // selected or deselect row\n              if (selectedRows.find((row) => row.id === record.id)) {\n                setSelectedRows((rows) =>\n                  rows.filter((row) => row.id !== record.id),\n                );\n              } else {\n                setSelectedRows((rows) => [...rows, record]);\n              }\n            },\n          })}\n          showSorterTooltip={false}\n          sortDirections={['descend', 'ascend', 'descend']}\n        />\n      </Flex>\n      <ManageImageResourceLimitModal\n        open={!!managingResourceLimit}\n        onRequestClose={(success) => {\n          setManagingResourceLimit(null);\n          if (success)\n            startTransition(() => {\n              updateEnvironmentFetchKey();\n            });\n        }}\n        image={managingResourceLimit}\n      />\n      <ManageAppsModal\n        open={!!managingApp}\n        onRequestClose={(success) => {\n          setManagingApp(null);\n          if (success)\n            startTransition(() => {\n              updateEnvironmentFetchKey();\n            });\n        }}\n        image={managingApp}\n      />\n      <ImageInstallModal\n        open={isOpenInstallModal}\n        onRequestClose={() => {\n          setIsOpenInstallModal(false);\n        }}\n        setInstallingImages={setInstallingImages}\n        selectedRows={selectedRows}\n      />\n    </>\n  );\n};\n\nexport default ImageList;\n","import { iSizeToSize } from '../helper';\nimport { useResourceSlots, useResourceSlotsDetails } from '../hooks/backendai';\nimport BAIModal, { BAIModalProps } from './BAIModal';\nimport DynamicUnitInputNumber from './DynamicUnitInputNumber';\nimport {\n  CreateResourcePresetInput,\n  ResourcePresetSettingModalCreateMutation,\n} from './__generated__/ResourcePresetSettingModalCreateMutation.graphql';\nimport { ResourcePresetSettingModalFragment$key } from './__generated__/ResourcePresetSettingModalFragment.graphql';\nimport {\n  ModifyResourcePresetInput,\n  ResourcePresetSettingModalModifyMutation,\n} from './__generated__/ResourcePresetSettingModalModifyMutation.graphql';\nimport { App, Col, Form, FormInstance, Input, InputNumber, Row } from 'antd';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport React, { Fragment, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useFragment, useMutation } from 'react-relay';\n\ninterface ResourcePresetSettingModalProps extends BAIModalProps {\n  resourcePresetFrgmt?: ResourcePresetSettingModalFragment$key | null;\n  existingResourcePresetNames?: Array<string>;\n  onRequestClose: (success: boolean) => void;\n}\n\nconst ResourcePresetSettingModal: React.FC<ResourcePresetSettingModalProps> = ({\n  resourcePresetFrgmt,\n  existingResourcePresetNames,\n  onRequestClose,\n  ...baiModalProps\n}) => {\n  const { t } = useTranslation();\n  const { message } = App.useApp();\n  const formRef = useRef<FormInstance>(null);\n\n  const [resourceSlots] = useResourceSlots();\n  const { mergedResourceSlots } = useResourceSlotsDetails();\n\n  const resourcePreset = useFragment(\n    graphql`\n      fragment ResourcePresetSettingModalFragment on ResourcePreset {\n        name\n        resource_slots\n        shared_memory\n      }\n    `,\n    resourcePresetFrgmt,\n  );\n\n  const [commitCreateResourcePreset, isInFlightCommitCreateResourcePreset] =\n    useMutation<ResourcePresetSettingModalCreateMutation>(graphql`\n      mutation ResourcePresetSettingModalCreateMutation(\n        $name: String!\n        $props: CreateResourcePresetInput!\n      ) {\n        create_resource_preset(name: $name, props: $props) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const [commitModifyResourcePreset, isInFlightCommitModifyResourcePreset] =\n    useMutation<ResourcePresetSettingModalModifyMutation>(graphql`\n      mutation ResourcePresetSettingModalModifyMutation(\n        $name: String!\n        $props: ModifyResourcePresetInput!\n      ) {\n        modify_resource_preset(name: $name, props: $props) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  const handleOk = () => {\n    return formRef.current\n      ?.validateFields()\n      .then((values) => {\n        let resourceSlots = _.mapValues(\n          values?.resource_slots,\n          (value, key) => {\n            if (_.includes(key, 'mem')) {\n              return iSizeToSize(value, 'b', 0)?.numberFixed;\n            }\n            return value;\n          },\n        );\n        resourceSlots = _.pickBy(resourceSlots, _.negate(_.isUndefined));\n\n        const props: CreateResourcePresetInput | ModifyResourcePresetInput = {\n          resource_slots: JSON.stringify(resourceSlots || {}),\n          shared_memory: values?.shared_memory\n            ? iSizeToSize(values?.shared_memory, 'b', 0)?.numberFixed\n            : null,\n        };\n        if (_.isEmpty(resourcePreset)) {\n          commitCreateResourcePreset({\n            variables: {\n              name: values?.name,\n              props: props as CreateResourcePresetInput,\n            },\n            onCompleted: (res, errors) => {\n              if (!res?.create_resource_preset?.ok) {\n                message.error(res?.create_resource_preset?.msg);\n                onRequestClose(false);\n              } else if (errors && errors?.length > 0) {\n                const errorMsgList = _.map(errors, (err) => err.message);\n                _.forEach(errorMsgList, (err) => {\n                  message.error(err, 2.5);\n                });\n                onRequestClose(false);\n              } else {\n                message.success(t('resourcePreset.Created'));\n                onRequestClose(true);\n              }\n            },\n            onError(err) {\n              message.error(err?.message);\n            },\n          });\n        } else {\n          commitModifyResourcePreset({\n            variables: {\n              name: values?.name,\n              props: props as ModifyResourcePresetInput,\n            },\n            onCompleted: (res, errors) => {\n              if (!res?.modify_resource_preset?.ok) {\n                message.error(res?.modify_resource_preset?.msg);\n                onRequestClose(false);\n              } else if (errors && errors?.length > 0) {\n                const errorMsgList = _.map(errors, (err) => err?.message);\n                _.forEach(errorMsgList, (err) => {\n                  message.error(err, 2.5);\n                });\n                onRequestClose(false);\n              } else {\n                message.success(t('resourcePreset.Updated'));\n                onRequestClose(true);\n              }\n            },\n            onError(err) {\n              message.error(err?.message);\n            },\n          });\n        }\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <BAIModal\n      {...baiModalProps}\n      title={\n        resourcePreset\n          ? t('resourcePreset.ModifyResourcePreset')\n          : t('resourcePreset.CreateResourcePreset')\n      }\n      onOk={handleOk}\n      onCancel={() => onRequestClose(false)}\n      destroyOnClose\n      confirmLoading={\n        isInFlightCommitCreateResourcePreset ||\n        isInFlightCommitModifyResourcePreset\n      }\n    >\n      <Form\n        ref={formRef}\n        layout=\"vertical\"\n        // requiredMark=\"optional\"\n        preserve={false}\n        initialValues={\n          resourcePreset\n            ? {\n                name: resourcePreset.name,\n                resource_slots:\n                  _.mapValues(\n                    JSON.parse(resourcePreset?.resource_slots || '{}'),\n                    (value, key) =>\n                      _.includes(key, 'mem')\n                        ? iSizeToSize(value + 'b', 'g')?.numberUnit\n                        : value,\n                  ) || {},\n                shared_memory: resourcePreset?.shared_memory\n                  ? iSizeToSize(resourcePreset?.shared_memory + 'b', 'g')\n                      ?.numberUnit\n                  : null,\n              }\n            : {}\n        }\n      >\n        <Form.Item\n          label={t('resourcePreset.PresetName')}\n          name=\"name\"\n          rules={[\n            { required: true, message: t('resourcePreset.NoPresetName') },\n            {\n              pattern: /^[a-zA-Z0-9._-]*$/,\n              message: t('data.Allowslettersnumbersand-_dot'),\n            },\n            {\n              validator(_, value) {\n                if (\n                  !resourcePreset &&\n                  existingResourcePresetNames?.includes(value)\n                ) {\n                  return Promise.reject(\n                    new Error(t('resourcePreset.PresetNameAlreadyExists')),\n                  );\n                }\n                return Promise.resolve();\n              },\n            },\n          ]}\n        >\n          <Input disabled={!!resourcePreset} />\n        </Form.Item>\n        <Form.Item label={t('resourcePreset.ResourcePreset')}>\n          <Row gutter={16}>\n            {_.map(\n              _.chunk(_.keys(resourceSlots), 2),\n              (resourceSlotKeys, index) => (\n                <Fragment key={index}>\n                  {_.map(resourceSlotKeys, (resourceSlotKey) => (\n                    <Col\n                      span={12}\n                      key={resourceSlotKey}\n                      style={{ alignSelf: 'end' }}\n                    >\n                      <Form.Item\n                        label={\n                          _.get(mergedResourceSlots, resourceSlotKey)\n                            ?.description || resourceSlotKey\n                        }\n                        name={['resource_slots', resourceSlotKey]}\n                        rules={[\n                          {\n                            validator(__, value) {\n                              if (\n                                value &&\n                                _.includes(resourceSlotKey, 'mem') &&\n                                // @ts-ignore\n                                iSizeToSize(value, 'p').number >\n                                  // @ts-ignore\n                                  iSizeToSize('300p', 'p').number\n                              ) {\n                                return Promise.reject(\n                                  new Error(\n                                    'Memory size should be less than 300 PiB',\n                                  ),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                        ]}\n                      >\n                        {_.includes(resourceSlotKey, 'mem') ? (\n                          <DynamicUnitInputNumber />\n                        ) : (\n                          <InputNumber\n                            min={resourceSlotKey === 'cpu' ? 1 : 0}\n                            step={\n                              _.includes(resourceSlotKey, '.shares') ? 0.1 : 1\n                            }\n                            addonAfter={\n                              _.get(mergedResourceSlots, resourceSlotKey)\n                                ?.display_unit\n                            }\n                          />\n                        )}\n                      </Form.Item>\n                    </Col>\n                  ))}\n                </Fragment>\n              ),\n            )}\n            <Col span={12} style={{ alignSelf: 'end' }}>\n              <Form.Item\n                label={t('resourcePreset.SharedMemory')}\n                name=\"shared_memory\"\n                dependencies={['resource_slots', 'mem']}\n                rules={[\n                  ({ getFieldValue }) => ({\n                    validator(__, value) {\n                      if (\n                        value &&\n                        getFieldValue('resource_slots')?.mem &&\n                        (iSizeToSize(getFieldValue('resource_slots')?.mem, 'b')\n                          ?.number ?? 0) <\n                          (iSizeToSize(value, 'b')?.number ?? 0)\n                      ) {\n                        return Promise.reject(\n                          t('resourcePreset.MemoryShouldBeLargerThanSHMEM'),\n                        );\n                      }\n                      return Promise.resolve();\n                    },\n                  }),\n                ]}\n              >\n                <DynamicUnitInputNumber />\n              </Form.Item>\n            </Col>\n          </Row>\n        </Form.Item>\n      </Form>\n    </BAIModal>\n  );\n};\n\nexport default ResourcePresetSettingModal;\n","import { filterNonNullItems, iSizeToSize, localeCompare } from '../helper';\nimport { useUpdatableState } from '../hooks';\nimport Flex from './Flex';\nimport ResourceNumber from './ResourceNumber';\nimport ResourcePresetSettingModal from './ResourcePresetSettingModal';\nimport { ResourcePresetListDeleteMutation } from './__generated__/ResourcePresetListDeleteMutation.graphql';\nimport { ResourcePresetListQuery } from './__generated__/ResourcePresetListQuery.graphql';\nimport { ResourcePresetSettingModalFragment$key } from './__generated__/ResourcePresetSettingModalFragment.graphql';\nimport {\n  ReloadOutlined,\n  PlusOutlined,\n  SettingOutlined,\n  DeleteOutlined,\n} from '@ant-design/icons';\nimport { Tooltip, Button, theme, Table, App, Typography } from 'antd';\nimport graphql from 'babel-plugin-relay/macro';\nimport _ from 'lodash';\nimport React, { Suspense, useState, useTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLazyLoadQuery, useMutation } from 'react-relay';\n\ninterface ResourcePresetListProps {}\n\nconst ResourcePresetList: React.FC<ResourcePresetListProps> = () => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { modal } = App.useApp();\n  const [isRefetchPending, startRefetchTransition] = useTransition();\n  const [resourcePresetsFetchKey, updateResourcePresetsFetchKey] =\n    useUpdatableState('initial-fetch');\n  const [inFlightResourcePresetName, setInFlightResourcePresetName] =\n    useState<string>();\n  const [editingResourcePreset, setEditingResourcePreset] =\n    useState<ResourcePresetSettingModalFragment$key | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const { resource_presets } = useLazyLoadQuery<ResourcePresetListQuery>(\n    graphql`\n      query ResourcePresetListQuery {\n        resource_presets {\n          name\n          resource_slots\n          shared_memory\n          ...ResourcePresetSettingModalFragment\n        }\n      }\n    `,\n    {},\n    {\n      fetchPolicy:\n        resourcePresetsFetchKey === 'initial-fetch'\n          ? 'store-and-network'\n          : 'network-only',\n      fetchKey: resourcePresetsFetchKey,\n    },\n  );\n\n  const [commitDelete, isInflightDelete] =\n    useMutation<ResourcePresetListDeleteMutation>(graphql`\n      mutation ResourcePresetListDeleteMutation($name: String!) {\n        delete_resource_preset(name: $name) {\n          ok\n          msg\n        }\n      }\n    `);\n\n  return (\n    <Flex direction=\"column\" align=\"stretch\">\n      <Flex\n        direction=\"row\"\n        gap={'xs'}\n        justify=\"end\"\n        wrap=\"wrap\"\n        style={{\n          padding: token.paddingContentVertical,\n          paddingLeft: token.paddingContentHorizontalSM,\n          paddingRight: token.paddingContentHorizontalSM,\n        }}\n      >\n        <Flex direction=\"row\" gap={'xs'} wrap=\"wrap\" style={{ flexShrink: 1 }}>\n          <Tooltip title={t('button.Refresh')}>\n            <Button\n              icon={<ReloadOutlined />}\n              loading={isRefetchPending}\n              onClick={() => {\n                startRefetchTransition(() => {\n                  updateResourcePresetsFetchKey();\n                });\n              }}\n            />\n          </Tooltip>\n          <Button\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={() => {\n              setIsCreating(true);\n            }}\n          >\n            {t('resourcePreset.CreatePreset')}\n          </Button>\n        </Flex>\n      </Flex>\n      <Table\n        rowKey={'name'}\n        dataSource={filterNonNullItems(resource_presets)}\n        scroll={{ x: 'max-content' }}\n        pagination={false}\n        sortDirections={['descend', 'ascend', 'descend']}\n        showSorterTooltip={false}\n        columns={[\n          {\n            title: t('resourcePreset.Name'),\n            dataIndex: 'name',\n            sorter: (a, b) => localeCompare(a.name, b.name),\n          },\n          {\n            title: t('resourcePreset.Resources'),\n            dataIndex: 'resource_slots',\n            render: (text) => (\n              <Flex gap=\"xxs\">\n                {!_.isEmpty(text)\n                  ? _.map(JSON.parse(text), (value, key) => (\n                      <ResourceNumber key={key} type={key} value={value} />\n                    ))\n                  : '-'}\n              </Flex>\n            ),\n          },\n          {\n            title: t('resourcePreset.SharedMemory'),\n            dataIndex: 'shared_memory',\n            render: (text) =>\n              text ? iSizeToSize(text + '', 'g')?.number : '-',\n            sorter: (a, b) => a.shared_memory - b.shared_memory,\n          },\n          {\n            title: t('general.Control'),\n            key: 'control',\n            fixed: 'right',\n            render: (text, record) => (\n              <Flex align=\"stretch\">\n                <Tooltip title={t('button.Edit')}>\n                  <Button\n                    type=\"text\"\n                    size=\"large\"\n                    icon={<SettingOutlined />}\n                    style={{\n                      color: token.colorInfo,\n                    }}\n                    onClick={() => {\n                      setEditingResourcePreset(record);\n                    }}\n                  />\n                </Tooltip>\n                <Tooltip title={t('button.Delete')}>\n                  <Button\n                    type=\"text\"\n                    size=\"large\"\n                    icon={\n                      <DeleteOutlined\n                        style={{\n                          color: token.colorError,\n                        }}\n                      />\n                    }\n                    loading={\n                      isInflightDelete &&\n                      inFlightResourcePresetName ===\n                        record?.name + resourcePresetsFetchKey\n                    }\n                    disabled={\n                      isInflightDelete &&\n                      inFlightResourcePresetName !==\n                        record?.name + resourcePresetsFetchKey\n                    }\n                    onClick={() => {\n                      modal.confirm({\n                        title: t('resourcePreset.DeleteResourcePreset'),\n                        content: (\n                          <>\n                            {t('resourcePreset.AboutToDeletePreset')}{' '}\n                            <Typography.Text strong>\n                              {record?.name}\n                            </Typography.Text>\n                          </>\n                        ),\n                        onOk: () => {\n                          setInFlightResourcePresetName(\n                            record?.name + resourcePresetsFetchKey,\n                          );\n                          commitDelete({\n                            variables: {\n                              name: record?.name ?? '',\n                            },\n                            onCompleted: () => {\n                              startRefetchTransition(() => {\n                                updateResourcePresetsFetchKey();\n                              });\n                            },\n                          });\n                        },\n                        okText: t('button.Delete'),\n                        okType: 'primary',\n                        okButtonProps: {\n                          danger: true,\n                        },\n                      });\n                    }}\n                  />\n                </Tooltip>\n              </Flex>\n            ),\n          },\n        ]}\n      />\n      <Suspense fallback={null}>\n        <ResourcePresetSettingModal\n          resourcePresetFrgmt={editingResourcePreset}\n          open={!!editingResourcePreset || isCreating}\n          onRequestClose={(success) => {\n            setEditingResourcePreset(null);\n            setIsCreating(false);\n            if (success) {\n              startRefetchTransition(() => {\n                updateResourcePresetsFetchKey();\n              });\n            }\n          }}\n          existingResourcePresetNames={\n            _.map(resource_presets, (preset) => preset?.name) as Array<string>\n          }\n        />\n      </Suspense>\n    </Flex>\n  );\n};\n\nexport default ResourcePresetList;\n","import ContainerRegistryList from '../components/ContainerRegistryList';\nimport FlexActivityIndicator from '../components/FlexActivityIndicator';\nimport ImageList from '../components/ImageList';\nimport ResourcePresetList from '../components/ResourcePresetList';\nimport { useSuspendedBackendaiClient } from '../hooks';\nimport Card from 'antd/es/card/Card';\nimport { Suspense } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { StringParam, useQueryParam, withDefault } from 'use-query-params';\n\nconst tabParam = withDefault(StringParam, 'image');\n\nconst EnvironmentPage = () => {\n  const { t } = useTranslation();\n  const [curTabKey, setCurTabKey] = useQueryParam('tab', tabParam);\n  const baiClient = useSuspendedBackendaiClient();\n  const isSupportContainerRegistryGraphQL = baiClient.supports(\n    'container-registry-gql',\n  );\n\n  return (\n    <Card\n      activeTabKey={curTabKey}\n      onTabChange={setCurTabKey}\n      tabList={[\n        {\n          key: 'image',\n          label: t('environment.Images'),\n        },\n        {\n          key: 'preset',\n          label: t('environment.ResourcePresets'),\n        },\n        ...(baiClient.is_superadmin\n          ? [\n              {\n                key: 'registry',\n                label: t('environment.Registries'),\n              },\n            ]\n          : []),\n      ]}\n      styles={{\n        body: {\n          padding: 0,\n          paddingTop: 1,\n          overflow: 'hidden',\n        },\n      }}\n    >\n      <Suspense\n        fallback={\n          <FlexActivityIndicator\n            style={{ height: 'calc(100vh - 145px)' }}\n            spinSize=\"large\"\n          />\n        }\n      >\n        {curTabKey === 'image' && <ImageList />}\n        {curTabKey === 'preset' && <ResourcePresetList />}\n        {curTabKey === 'registry' ? (\n          isSupportContainerRegistryGraphQL ? (\n            <ContainerRegistryList />\n          ) : (\n            // @ts-ignore\n            <backend-ai-registry-list active />\n          )\n        ) : null}\n      </Suspense>\n    </Card>\n  );\n};\n\nexport default EnvironmentPage;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n]);\n\nexport default Copy;\n"],"names":["_ref","objectValues","values","length","React","map","value","label","color","_jsx","Flex","direction","children","_","objValue","idx","Tag","style","undefined","margin","marginRight","dynamicSteps","units","disableAutoUnit","min","max","roundStep","inputNumberProps","setValue","useControllableState","defaultValue","numValue","_unitFromValue","parseUnit","previousUnit","usePrevious","unit","minNumValue","minUnit","maxNumValue","maxUnit","ref","useRef","useEffect","current","onInput","e","_e$target","target","test","addEventListener","removeEventListener","InputNumber","onBlur","_roundStep$toString$s","_ref$current","_ref$current2","decimalCount","toString","split","isNaN","Math","round","toFixed","onChange","newValue","iSizeToSize","number","addonAfter","Select","tabIndex","newUnit","onDropdownVisibleChange","open","options","Typography","Text","fontFamily","toUpperCase","suffixIcon","cursor","step","onStep","afterStepValue","info","numValueNotNull","index","nextIndex","type","currentUnitIndex","indexOf","nextValue","nextUnit","nextNumValue","ImageAliasNameAndBaseVersionTags","image","props","getImageAliasName","getBaseVersion","tagAlias","useBackendAIImageMetaData","DoubleTag","BaseVersionTags","_ref2","BaseImageTags","_ref3","getBaseImage","ArchitectureTags","_ref4","getArchitecture","LangTags","_ref5","getImageLang","ConstraintTags","_ref6","tag","labels","highlightKeyword","getConstraints","constraints","_jsxs","align","TextHighlighter","keyword","SessionKernelTags","_ref7","bordered","_Fragment","ResourceNumber","_mergedResourceSlots$3","_iSizeToSize2","amount","extra","opts","hideTooltip","token","theme","useToken","currentGroup","useCurrentResourceGroupValue","mergedResourceSlots","useResourceSlotsDetails","formatAmount","_mergedResourceSlots$","_iSizeToSize","_mergedResourceSlots$2","number_format","binary","Number","numberFixed","round_length","parseFloat","gap","ResourceTypeIcon","showTooltip","display_unit","shmem","fontSize","fontSizeSM","MWCIconWrap","size","width","height","_resourceTypeIconSrcM","showIcon","showUnit","resourceTypeIconSrcMap","cpu","mem","targetIcon","MicrochipIcon","content","alignSelf","src","alt","Tooltip","title","pointerEvents","node","v0","v1","hash","v2","v3","copyable","defaultIcon","isCopied","setIsCopied","useState","timeout","setTimeout","clearTimeout","CopyToClipboard","text","onCopy","async","Button","icon","CheckIcon","CopyIcon","onRequestClose","selectedRows","setInstallingImages","modalProps","t","useTranslation","baiClient","useSuspendedBackendaiClient","upsertNotification","useSetBAINotification","painKiller","usePainKiller","imagesToInstall","hasInstalledImage","mapImages","filter","installed","BAIModal","destroyOnClose","maskClosable","onCancel","okText","onOk","handleClick","installPromises","_image$resource_limit","imageName","registry","name","isGPURequired","imageResource","resource_limits","forEach","resourceLimit","key","gpu","fgpu","endsWith","replace","slice","domain","_config","domainName","current_group","resourceSlots","get_resource_slots","enqueueOnly","startupCommand","message","duration","indicator","globalThis","lablupIndicator","start","set","install","architecture","end","id","error","lablupNotification","relieve","detail","show","Promise","allSettled","then","results","installedImages","result","status","List","dataSource","renderItem","item","Item","baiModalProps","formRef","app","App","useApp","commitModifyImageInput","isInFlightModifyImageInput","useMutation","_ManageAppsModalMutation","require","servicePorts","getServicePorts","servicePortsIdx","_image$labels$service","_image$labels$service2","sp","protocol","port","handleOnClick","_formRef$current","validateFields","_formRef$current2","getFieldValue","join","includes","_label$value","commitRequest","variables","isManagerVersionCompatibleWith","onCompleted","res","errors","_res$modify_image","_res$modify_image2","modify_image","ok","errorMsgList","success","msg","onError","err","modal","confirm","Trans","i18nKey","getContainer","document","body","closable","catch","confirmLoading","marginBottom","marginXS","strong","Form","layout","autoComplete","initialValues","apps","requiredMark","fields","add","remove","field","noStyle","rules","required","Input","placeholder","pattern","validator","rawValue","NaN","reject","resolve","rule","_formRef$current3","some","itemIndex","danger","onClick","marginTop","DeleteOutlined","block","PlusOutlined","disabled","_normalizedSteps$","steps","showAllMarkLabels","sliderProps","normalizedSteps","controlledValue","setControlledValue","isFirstAndLast","allMarks","Slider","marks","tooltip","formatter","_normalizedSteps$valu","isNumber","_normalizedSteps$rawV","_normalizedSteps$rawV2","_getResourceInfo$labe","_getResourceInfo","_stepForValue$label","_getResourceInfo2","getResourceInfo","_mergedResourceSlots$4","_mergedResourceSlots$6","_mergedResourceSlots$8","_mergedResourceSlots$9","description","v","_mergedResourceSlots$5","_mergedResourceSlots$7","_mergedResourceSlots$10","formInstance","useFormInstance","useWatch","stepForValue","flex","variant","readOnly","fontSizeLG","Divider","initialValue","NonLinearSlider","_image$resource_limit4","BAIModalProps","_ManageImageResourceLimitModalMutation","fieldsValue","getFieldsValue","Object","entries","_value$toString","_image$resource_limit2","_image$resource_limit3","find","centered","resource_limit","keyUsingDot","ImageResourceFormItem","AppstoreOutlined","AntdIcon","_extends","AppstoreOutlinedSvg","VerticalAlignBottomOutlined","VerticalAlignBottomOutlinedSvg","setSelectedRows","getNamespace","getLang","getBaseImages","managingApp","setManagingApp","managingResourceLimit","setManagingResourceLimit","isOpenInstallModal","setIsOpenInstallModal","environmentFetchKey","updateEnvironmentFetchKey","useUpdatableState","startTransition","useTransition","installingImages","imageSearch","setImageSearch","isPendingRefreshTransition","startRefreshTransition","isPendingSearchTransition","startSearchTransition","images","useLazyLoadQuery","_ImageListQuery","fetchPolicy","fetchKey","defaultSortedImages","useMemo","humanized_name","columns","dataIndex","defaultSortOrder","sorter","a","b","render","row","localeCompare","namespaceA","getImageFullName","namespaceB","langA","langB","baseversionA","baseversionB","baseimageA","baseimageB","baseImage","requirementA","requirementB","digest","_row$resource_limits","fixed","justify","stopPropagation","CopyButton","CopyOutlined","colorPrimary","SettingOutlined","colorInfo","imageFilterValues","namespace","lang","baseversion","baseimage","isCustomized","filteredImageData","regExp","RegExp","curFilterValues","baseVersionMatch","baseImagesMatch","constraintsMatch","constraint","customizedMatch","langMatch","namespaceMatch","padding","paddingSM","count","allowClear","prefix","SearchOutlined","ReloadOutlined","loading","backgroundColor","Table","rowKey","scroll","x","pagination","showTotal","total","range","pageSizeOptions","filterNonNullItems","rowSelection","selectedRowKeys","onRow","record","rows","showSorterTooltip","sortDirections","ManageImageResourceLimitModal","ManageAppsModal","ImageInstallModal","_iSizeToSize4","resourcePresetFrgmt","existingResourcePresetNames","useResourceSlots","resourcePreset","useFragment","_ResourcePresetSettingModalFragment","commitCreateResourcePreset","isInFlightCommitCreateResourcePreset","_ResourcePresetSettingModalCreateMutation","commitModifyResourcePreset","isInFlightCommitModifyResourcePreset","_ResourcePresetSettingModalModifyMutation","handleOk","resource_slots","JSON","stringify","shared_memory","_res$create_resource_","_res$create_resource_2","create_resource_preset","_res$modify_resource_","_res$modify_resource_2","modify_resource_preset","preserve","parse","_iSizeToSize3","numberUnit","Error","Row","gutter","resourceSlotKeys","Fragment","resourceSlotKey","_$get","_$get2","Col","span","__","DynamicUnitInputNumber","dependencies","_getFieldValue","_iSizeToSize$number","_iSizeToSize5","_getFieldValue2","_iSizeToSize$number2","_iSizeToSize6","ResourcePresetList","isRefetchPending","startRefetchTransition","resourcePresetsFetchKey","updateResourcePresetsFetchKey","inFlightResourcePresetName","setInFlightResourcePresetName","editingResourcePreset","setEditingResourcePreset","isCreating","setIsCreating","resource_presets","_ResourcePresetListQuery","commitDelete","isInflightDelete","_ResourcePresetListDeleteMutation","wrap","paddingContentVertical","paddingLeft","paddingContentHorizontalSM","paddingRight","flexShrink","colorError","_record$name","okType","okButtonProps","Suspense","fallback","ResourcePresetSettingModal","preset","tabParam","withDefault","StringParam","EnvironmentPage","curTabKey","setCurTabKey","useQueryParam","isSupportContainerRegistryGraphQL","supports","Card","activeTabKey","onTabChange","tabList","is_superadmin","styles","paddingTop","overflow","FlexActivityIndicator","spinSize","ImageList","ContainerRegistryList","active","Copy","createLucideIcon","y","rx","ry","d"],"sourceRoot":""}