"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[138],{61502:function(n,e,t){t.r(e),t.d(e,{default:function(){return z},useShadowRoot:function(){return W},useWebComponentInfo:function(){return D}});var r=t(29439),i=t(74165),o=t(15861),a=t(1413);function u(n,e){var t=(0,a.Z)({},e);return function(n){for(var e,t=/(\w+)\s@\s*(\w+)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/g,i=[];null!==(e=t.exec(n));){var o=e,a=(0,r.Z)(o,5),u=a[0],l=a[1],c=a[2],s=a[3],d=a[4];i.push({fieldName:l,directive:c,argumentName:s,argumentValue:d,originFieldStr:u})}return i}(n).forEach((function(r){if("skipOnClient"===r.directive&&"if"===r.argumentName&&(n=!r.argumentValue||!0!==e[r.argumentValue.substring(1)]&&"true"!==r.argumentValue?n.replace(r.originFieldStr,r.originFieldStr.replace(/@\s*(skipOnClient)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/,"")):n.replace(r.originFieldStr,""),r.argumentValue.startsWith("$")&&2===n.split(r.argumentValue).length)){var i=r.argumentValue.substring(1),o=new RegExp(".*".concat(i,".*\n"),"g");n=n.replace(o,""),delete t[r.argumentValue.substring(1)]}})),{query:n,variables:t}}var l=t(41011);l.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var c=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e,t){var r,o,a,l,c,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=u(e.text||"",t),l={query:a.query,variables:a.variables},c=null===(r=globalThis.backendaiclient)||void 0===r?void 0:r.newSignedRequest("POST","/admin/gql",l),n.next=5,null===(o=globalThis.backendaiclient)||void 0===o?void 0:o._wrapWithPromise(c,!1,null,1e4,0);case 5:return s=n.sent,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();var s,d=new l.Environment({network:l.Network.create(c,void 0),store:new l.Store(new l.RecordSource)}),f=t(80382),g=t(27340),v=t(41239),h=t(49883),p=t(66670),m=t(99517),b=t.n(m),w=(t(24989),t(79354)),k=t.n(w),x=t(79748),y=t.n(x),E=t(51714),C=t.n(E),S=t(63540),T=t.n(S),I=t(18272),M=t.n(I),j=t(9666),F=t.n(j),L=t(64447),_=t(13881),Z=t(4519),P=t(81748),B=t(87112),V=t(16980),q=t(51843),N=t(12674),O=t(2556);b().extend(F()),b().extend(k()),b().extend(y()),b().extend(C()),b().extend(M()),b().extend(T());var R=Z.createContext(null),A=Z.createContext(null),W=function(){return Z.useContext(A)},D=function(){return Z.useContext(R)},K=new B.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});L.ZP.use(P.Db).use(_.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(s=globalThis.backendaioptions)||void 0===s?void 0:s.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var Q=function(){var n=(0,N.s0)();return(0,Z.useLayoutEffect)((function(){var e=function(e){var t=e.detail;n(t,{replace:!0})};return document.addEventListener("react-navigate",e),function(){document.removeEventListener("react-navigate",e)}}),[n]),null},z=function(n){var e=n.children,t=n.value,i=n.styles,o=n.shadowRoot,a=n.dispatchEvent,u=(0,Z.useMemo)((function(){return(0,g.Df)()}),[]),l=function(){var n,e=(0,Z.useState)(null===globalThis||void 0===globalThis||null===(n=globalThis.backendaioptions)||void 0===n?void 0:n.get("current_language")),t=(0,r.Z)(e,2),i=t[0],o=t[1],a=(0,P.$G)().i18n;return(0,Z.useEffect)((function(){setTimeout((function(){return null===a||void 0===a?void 0:a.changeLanguage(i)}),0),b().locale(i)}),[]),(0,Z.useEffect)((function(){var n=function(n){var e,t;o(null===n||void 0===n||null===(e=n.detail)||void 0===e?void 0:e.lang);var r=(null===n||void 0===n||null===(t=n.detail)||void 0===t?void 0:t.lang)||"en";null===a||void 0===a||a.changeLanguage(r),b().locale(r)};return window.addEventListener("langChanged",n),function(){return window.removeEventListener("langChanged",n)}}),[a]),[i]}(),c=(0,r.Z)(l,1)[0],s=(0,f.x)(),m=(0,Z.useMemo)((function(){return{value:t,dispatchEvent:a,moveTo:function(n,e){a("moveTo",{path:n,params:e})}}}),[t,a]);return(0,O.jsx)(O.Fragment,{children:d&&(0,O.jsx)(V.RelayEnvironmentProvider,{environment:d,children:(0,O.jsxs)(Z.StrictMode,{children:[(0,O.jsxs)("style",{children:[i,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,O.jsx)(B.QueryClientProvider,{client:K,children:(0,O.jsx)(A.Provider,{value:o,children:(0,O.jsx)(R.Provider,{value:m,children:(0,O.jsx)(v.ZP,{getPopupContainer:function(n){return(null===n||void 0===n?void 0:n.parentNode)||o},locale:"ko"===c?p.Z:h.Z,theme:s,children:(0,O.jsx)(g.V9,{container:o,cache:u,children:(0,O.jsx)(Z.Suspense,{fallback:"",children:(0,O.jsxs)(q.VK,{children:[(0,O.jsx)(Q,{}),e]})})})})})})})]})})})}},43255:function(n,e,t){t.d(e,{Cd:function(){return v},Hz:function(){return c},Lc:function(){return a},PZ:function(){return d},Uz:function(){return s},VQ:function(){return f},We:function(){return o},XG:function(){return l},lA:function(){return g},uU:function(){return h},y3:function(){return u}});var r=t(87760),i=t(2556),o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/(<br\s*\/?>|\n)/;return n.split(e).map((function(n,t){return n.match(e)?(0,i.jsx)("br",{},t):n}))},a=function(n){var e=n.method,t=n.url,r=n.body,i=void 0===r?null:r,o=n.client,a=null===o||void 0===o?void 0:o.newSignedRequest(e,t,i,null);return null===o||void 0===o?void 0:o._wrapWithPromise(a)},u=function(){var n=(0,r.Dj)();return function(e){var t=e.method,r=e.url,i=e.body;return a({method:t,url:r,body:void 0===i?null:i,client:n})}},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===n)return"0 Bytes";var t=Math.pow(10,3);e=e<0?0:e;var r=Math.floor(Math.log(Math.round(n))/Math.log(t));return r=r<0?0:r,parseFloat((n/Math.pow(t,r)).toFixed(e))+" "+["Bytes","KB","MB","GB","TB","PB"][r]};var c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.pow(10,9);return Math.round(e*n)},s=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null===n||void 0===n?arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-":n?(n/Math.pow(10,9)).toFixed(e):n};function d(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=["B","K","M","G","T","P","E"],i=n.slice(-1).toUpperCase(),o=parseFloat(n.slice(0,-1)),a=r.indexOf(i);if(-1===a||isNaN(o))throw new Error("Invalid size format");var u=o*Math.pow(1024,a),l=e?r.indexOf(e.toUpperCase()):a,c=u/Math.pow(1024,l),s=c.toFixed(t);return{number:c,numberFixed:s,unit:r[l],numberUnit:"".concat(s).concat(r[l])}}var f=function(n,e){return""===e||void 0===e?"":e.startsWith("".concat(n,":"))?e:"".concat(n,":").concat(e)},g=function(n){return n<70?"rgba(58, 178, 97, 1)":n<90?"rgb(223, 179, 23)":"#ef5350"},v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r=t+r>n.length?n.length:r,n.substring(0,t)+e.repeat(r)+n.substring(t+r,n.length)};function h(n){return null===n||void 0===n?[]:n.filter((function(n){return null!==n}))}},87760:function(n,e,t){t.d(e,{Dj:function(){return s},Kr:function(){return a},M:function(){return c},dS:function(){return d},qh:function(){return l},tQ:function(){return u}});var r=t(29439),i=t(4519),o=t(87112),a=function(n){return function(n){var e=(0,i.useState)(n||(new Date).toISOString()),t=(0,r.Z)(e,2),o=t[0],a=t[1];return[o,function(n){a(n||(new Date).toISOString())}]}(n)},u=function(){return s()._config.domainName},l=function(){var n=s(),e=(0,i.useState)({name:n.current_group,id:n.groupIds[n.current_group]}),t=(0,r.Z)(e,2),o=t[0],a=t[1];return(0,i.useEffect)((function(){var e=function(e){var t=e.detail;a({name:t,id:n.groupIds[t]})};return document.addEventListener("backend-ai-group-changed",e),function(){document.removeEventListener("backend-ai-group-changed",e)}})),o},c=function(n){var e=n.api_endpoint;return(0,i.useMemo)((function(){var n=new globalThis.BackendAIClientConfig("","",e,"SESSION");return new globalThis.BackendAIClient(n,"Backend.AI Console.")}),[e])},s=function(){return(0,o.useQuery)({queryKey:"backendai-client-for-suspense",queryFn:function(){return new Promise((function(n){if("undefined"!==typeof globalThis.backendaiclient&&null!==globalThis.backendaiclient&&!1!==globalThis.backendaiclient.ready)return n(globalThis.backendaiclient);document.addEventListener("backend-ai-connected",(function e(){n(globalThis.backendaiclient),document.removeEventListener("backend-ai-connected",e)}))}))},retry:!1,suspense:!0}).data},d=function(){var n=(0,o.useQuery)({queryKey:"backendai-metadata-for-suspense",queryFn:function(){return fetch("resources/image_metadata.json").then((function(n){return n.json()})).then((function(n){return n}))},suspense:!0,retry:!1}).data,e=function(n){if(!n)return{key:"",tags:[]};var e=n.split("/"),t=(e[2]||e[1]).split(":"),i=(0,r.Z)(t,2);return{key:i[0],tags:i[1].split("-")}};return[n,{getImageAliasName:function(t){var r=e(t).key;return(null===n||void 0===n?void 0:n.imageInfo[r].name)||r},getImageIcon:function(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"resources/icons/";if(!t)return"default.png";var a=e(t).key;return o+(void 0!==(null===n||void 0===n||null===(r=n.imageInfo[a])||void 0===r?void 0:r.icon)?null===n||void 0===n||null===(i=n.imageInfo[a])||void 0===i?void 0:i.icon:"default.png")},getImageTags:function(n){},getBaseVersion:function(n){return e(n).tags[0]},getBaseImage:function(n){return e(n).tags[1]},getImageMeta:e}]}}}]);
//# sourceMappingURL=138.c507137d.chunk.js.map