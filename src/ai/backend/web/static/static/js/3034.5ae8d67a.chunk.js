"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[3034],{13034(e,t,i){i.r(t),i.d(t,{default:()=>h});var a=i(56276),n=i(34917),s=i(5519),o=i(4308),c=i(43453),r=i(80471),d=i(15336),l=i(96165),v=i(87131),u=i(49749),p=i(85212),m=i(83765),f=i(90953),A=i(48130),x=i(99634),y=i(83037);const h=e=>{const t=(0,n.c)(28),{token:i}=u.A.useToken(),{message:h}=d.A.useApp(),{t:g}=(0,A.Bd)(),[I,_]=(0,o.A)(),{acceptInvitation:j,rejectInvitation:k,updateInvitations:b}=_,S=(0,s.CX)();let F;t[0]!==S?(F=S.supports("invitation-inviter-email"),t[0]=S,t[1]=F):F=t[1];const w=F,{getErrorMessage:M}=(0,m.B78)(),{upsertNotification:T}=(0,x.js)();let C,E,D;t[2]!==b?(C=()=>{b()},E=[b],t[2]=b,t[3]=C,t[4]=E):(C=t[3],E=t[4]),(0,f.useEffect)(C,E),t[5]!==j||t[6]!==M||t[7]!==w||t[8]!==h||t[9]!==k||t[10]!==g||t[11]!==i.paddingSM||t[12]!==T?(D=e=>(0,y.jsx)(v.A.Item,{actions:[(0,y.jsx)(m.Fvl,{type:"primary",action:async()=>{try{await j(e.id),h.success(g("data.invitation.SuccessfullyAcceptedInvitation")),T({key:"folder-invitation-success-".concat(e.id),icon:"folder",message:"".concat(e.vfolder_name,": ").concat(g("data.invitation.SuccessfullyAcceptedInvitation")),toText:g("data.folders.OpenAFolder"),to:{search:new URLSearchParams({folder:e.vfolder_id}).toString()},open:!0})}catch(B){const t=B;if(409===(null===t||void 0===t?void 0:t.statusCode)||"vfolder_create_already-exists"===(null===t||void 0===t?void 0:t.error_code))return void h.error(g("data.FolderAlreadyExists"));h.error(M(t.message||g("data.invitation.FailedToAcceptInvitation")))}},children:g("summary.Accept")},"accept"),(0,y.jsx)(m.Fvl,{danger:!0,action:async()=>{try{await k(e.id),h.success(g("data.invitation.SuccessfullyDeclinedInvitation"))}catch(N){const t=N;h.error(M((null===t||void 0===t?void 0:t.message)||g("data.invitation.FailedToDeclineInvitation")))}},children:g("summary.Decline")},"decline")],style:{padding:i.paddingSM},children:(0,y.jsx)(v.A.Item.Meta,{title:(0,y.jsxs)(m.OOm,{gap:"xxs",children:[(0,y.jsx)(r.A,{}),(0,y.jsx)(p.A.Text,{strong:!0,children:e.vfolder_name})]}),description:(0,y.jsx)(l.A,{size:"small",column:1,items:[{key:"from",label:g("data.From"),children:w?e.inviter_user_email:e.inviter},{key:"permission",label:g("data.Permission"),children:(0,y.jsx)(c.A,{permission:e.perm})}]})})},e.id),t[5]=j,t[6]=M,t[7]=w,t[8]=h,t[9]=k,t[10]=g,t[11]=i.paddingSM,t[12]=T,t[13]=D):D=t[13];const O=D;let B,N,P,z,L;return t[14]!==g?(B=g("data.InvitedFolders"),t[14]=g,t[15]=B):B=t[15],t[16]!==g?(N=g("data.invitation.NoMoreInvitation"),t[16]=g,t[17]=N):N=t[17],t[18]!==N?(P={emptyText:N},t[18]=N,t[19]=P):P=t[19],t[20]!==I||t[21]!==O||t[22]!==P?(z=(0,y.jsx)(v.A,{dataSource:I,renderItem:O,locale:P}),t[20]=I,t[21]=O,t[22]=P,t[23]=z):z=t[23],t[24]!==e||t[25]!==B||t[26]!==z?(L=(0,y.jsx)(m.IbE,(0,a.A)((0,a.A)({title:B,footer:null},e),{},{children:z})),t[24]=e,t[25]=B,t[26]=z,t[27]=L):L=t[27],L}}}]);
//# sourceMappingURL=3034.5ae8d67a.chunk.js.map