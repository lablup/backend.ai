"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[103,502],{61502:function(e,n,t){t.r(n),t.d(n,{default:function(){return X},useShadowRoot:function(){return D},useWebComponentInfo:function(){return G}});var r=t(29439),o=t(74165),a=t(15861),i=t(1413);function c(e,n){var t=(0,i.Z)({},n);return function(e){for(var n,t=/(\w+)\s@\s*(\w+)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/g,o=[];null!==(n=t.exec(e));){var a=n,i=(0,r.Z)(a,5),c=i[0],l=i[1],s=i[2],u=i[3],d=i[4];o.push({fieldName:l,directive:s,argumentName:u,argumentValue:d,originFieldStr:c})}return o}(e).forEach((function(r){if("skipOnClient"===r.directive&&"if"===r.argumentName&&(e=!r.argumentValue||!0!==n[r.argumentValue.substring(1)]&&"true"!==r.argumentValue?e.replace(r.originFieldStr,r.originFieldStr.replace(/@\s*(skipOnClient)\s*\(\s*(\w+)\s*:\s*(\$?\w+)\s*\)/,"")):e.replace(r.originFieldStr,""),r.argumentValue.startsWith("$")&&2===e.split(r.argumentValue).length)){var o=r.argumentValue.substring(1),a=new RegExp(".*".concat(o,".*\n"),"g");e=e.replace(a,""),delete t[r.argumentValue.substring(1)]}})),{query:e,variables:t}}var l=t(41011);l.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var s=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,t){var r,a,i,l,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c(n.text||"",t),l={query:i.query,variables:i.variables},s=null===(r=globalThis.backendaiclient)||void 0===r?void 0:r.newSignedRequest("POST","/admin/gql",l),e.next=5,null===(a=globalThis.backendaiclient)||void 0===a?void 0:a._wrapWithPromise(s,!1,null,1e4,0).catch((function(e){}));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return u=e.t0,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var u,d=new l.Environment({network:l.Network.create(s,void 0),store:new l.Store(new l.RecordSource)}),f=t(80382),p=t(27340),v=t(41239),g=t(49883),m=t(66670),h=t(99517),b=t.n(h),x=(t(24989),t(79354)),y=t.n(x),Z=t(79748),w=t.n(Z),S=t(51714),E=t.n(S),C=t(63540),k=t.n(C),j=t(18272),z=t.n(j),O=t(9666),P=t.n(O),_=t(64447),L=t(13881),N=t(4519),R=t(81748),M=t(87112),T=t(16980),B=t(51843),F=t(12674),V=t(55144),H=t(73181),W=t(2556);b().extend(P()),b().extend(y()),b().extend(w()),b().extend(E()),b().extend(z()),b().extend(k());var I=N.createContext(null),A=N.createContext(null),D=function(){return N.useContext(A)},G=function(){return N.useContext(I)},q=new M.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});_.ZP.use(R.Db).use(L.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(u=globalThis.backendaioptions)||void 0===u?void 0:u.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var $=function(){var e=(0,F.s0)();return(0,N.useLayoutEffect)((function(){var n=function(n){var t=n.detail;e(t,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},X=function(e){var n=e.children,t=e.value,o=e.styles,a=e.shadowRoot,i=e.dispatchEvent,c=(0,N.useMemo)((function(){return(0,p.Df)()}),[]),l=function(){var e,n=(0,N.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),t=(0,r.Z)(n,2),o=t[0],a=t[1],i=(0,R.$G)().i18n;return(0,N.useEffect)((function(){setTimeout((function(){return null===i||void 0===i?void 0:i.changeLanguage(o)}),0),b().locale(o)}),[]),(0,N.useEffect)((function(){var e=function(e){var n,t;a(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var r=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.lang)||"en";null===i||void 0===i||i.changeLanguage(r),b().locale(r)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[i]),[o]}(),s=(0,r.Z)(l,1)[0],u=(0,f.x)(),h=(0,N.useMemo)((function(){return{value:t,dispatchEvent:i,moveTo:function(e,n){i("moveTo",{path:e,params:n})}}}),[t,i]);return(0,W.jsx)(W.Fragment,{children:d&&(0,W.jsx)(T.RelayEnvironmentProvider,{environment:d,children:(0,W.jsxs)(N.StrictMode,{children:[(0,W.jsxs)("style",{children:[o,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,W.jsx)(M.QueryClientProvider,{client:q,children:(0,W.jsx)(A.Provider,{value:a,children:(0,W.jsx)(I.Provider,{value:h,children:(0,W.jsx)(v.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||a},locale:"ko"===s?m.Z:g.Z,theme:u,children:(0,W.jsx)(p.V9,{container:a,cache:c,children:(0,W.jsx)(N.Suspense,{fallback:"",children:(0,W.jsx)(B.VK,{children:(0,W.jsxs)(V.QueryParamProvider,{adapter:H.Q,options:{},children:[(0,W.jsx)($,{}),n]})})})})})})})})]})})})}},40254:function(e,n,t){t.r(n),t.d(n,{default:function(){return fe}});var r=t(29439),o=t(87760),a=t(1839),i=t(50164),c=t(61502),l=t(99277),s=t(50708),u=t(87462),d=t(4519),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},p=t(9491),v=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:f}))};var g=d.forwardRef(v),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zM402.9 528.8l-77.5 77.5a8.03 8.03 0 000 11.3l34 34c3.1 3.1 8.2 3.1 11.3 0l77.5-77.5c55.7 35.1 130.1 28.4 178.6-20.1 56.3-56.3 56.3-147.5 0-203.8-56.3-56.3-147.5-56.3-203.8 0-48.5 48.5-55.2 123-20.1 178.6zm65.4-133.3c31.3-31.3 82-31.3 113.2 0 31.3 31.3 31.3 82 0 113.2-31.3 31.3-82 31.3-113.2 0s-31.3-81.9 0-113.2z"}}]},name:"security-scan",theme:"outlined"},h=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:m}))};var b=d.forwardRef(h),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},y=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:x}))};var Z=d.forwardRef(y),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},S=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:w}))};var E=d.forwardRef(S),C=t(89786),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},j=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:k}))};var z=d.forwardRef(j),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},P=function(e,n){return d.createElement(p.Z,(0,u.Z)({},e,{ref:n,icon:O}))};var _=d.forwardRef(P),L=t(53316),N=t(90632);var R=function(e,n){var t=(0,L.CR)((0,d.useState)(e),2),r=t[0],o=t[1],a=(0,N.Z)((function(){o(e)}),n).run;return(0,d.useEffect)((function(){a()}),[e]),r},M=t(46734),T=t(3501),B=t(28499),F=t(4942),V=t(43270),H=t.n(V),W=t(91928),I=t(20742),A=t(21971),D=t(48698),G=t(76569),q=t(66592),$=d.createContext({}),X=t(21480),Q=t(70111),K=t(41157),Y=function(e){var n,t,r=e.antCls,o=e.componentCls,a=e.iconCls,i=e.avatarBg,c=e.avatarColor,l=e.containerSize,s=e.containerSizeLG,u=e.containerSizeSM,d=e.textFontSize,f=e.textFontSizeLG,p=e.textFontSizeSM,v=e.borderRadius,g=e.borderRadiusLG,m=e.borderRadiusSM,h=e.lineWidth,b=e.lineType,x=function(e,n,t){var r;return r={width:e,height:e,lineHeight:"".concat(e-2*h,"px"),borderRadius:"50%"},(0,F.Z)(r,"&".concat(o,"-square"),{borderRadius:t}),(0,F.Z)(r,"".concat(o,"-string"),{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"}),(0,F.Z)(r,"&".concat(o,"-icon"),(0,F.Z)({fontSize:n},"> ".concat(a),{margin:0})),r};return(0,F.Z)({},o,Object.assign(Object.assign(Object.assign(Object.assign({},(0,X.Wf)(e)),(n={position:"relative",display:"inline-block",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:"".concat(h,"px ").concat(b," transparent")},(0,F.Z)(n,"&-image",{background:"transparent"}),(0,F.Z)(n,"".concat(r,"-image-img"),{display:"block"}),n)),x(l,d,v)),(t={},(0,F.Z)(t,"&-lg",Object.assign({},x(s,f,g))),(0,F.Z)(t,"&-sm",Object.assign({},x(u,p,m))),(0,F.Z)(t,"> img",{display:"block",width:"100%",height:"100%",objectFit:"cover"}),t)))},U=function(e){var n,t,r=e.componentCls,o=e.groupBorderColor,a=e.groupOverlapping,i=e.groupSpace;return t={},(0,F.Z)(t,"".concat(r,"-group"),(n={display:"inline-flex"},(0,F.Z)(n,"".concat(r),{borderColor:o}),(0,F.Z)(n,"> *:not(:first-child)",{marginInlineStart:a}),n)),(0,F.Z)(t,"".concat(r,"-group-popover"),(0,F.Z)({},"".concat(r," + ").concat(r),{marginInlineStart:i})),t},J=(0,Q.Z)("Avatar",(function(e){var n=e.colorTextLightSolid,t=e.colorTextPlaceholder,r=(0,K.TS)(e,{avatarBg:t,avatarColor:n});return[Y(r),U(r)]}),(function(e){var n=e.controlHeight,t=e.controlHeightLG,r=e.controlHeightSM,o=e.fontSize,a=e.fontSizeLG,i=e.fontSizeXL,c=e.fontSizeHeading3,l=e.marginXS,s=e.marginXXS,u=e.colorBorderBg;return{containerSize:n,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((a+i)/2),textFontSizeLG:c,textFontSizeSM:o,groupSpace:s,groupOverlapping:-l,groupBorderColor:u}})),ee=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},ne=function(e,n){var t,o,a=d.useState(1),i=(0,r.Z)(a,2),c=i[0],l=i[1],s=d.useState(!1),u=(0,r.Z)(s,2),f=u[0],p=u[1],v=d.useState(!0),g=(0,r.Z)(v,2),m=g[0],h=g[1],b=d.useRef(null),x=d.useRef(null),y=(0,I.sQ)(n,b),Z=d.useContext(D.E_),w=Z.getPrefixCls,S=Z.avatar,E=d.useContext($),C=function(){if(x.current&&b.current){var n=x.current.offsetWidth,t=b.current.offsetWidth;if(0!==n&&0!==t){var r=e.gap,o=void 0===r?4:r;2*o<t&&l(t-2*o<n?(t-2*o)/n:1)}}};d.useEffect((function(){p(!0)}),[]),d.useEffect((function(){h(!0),l(1)}),[e.src]),d.useEffect(C,[e.gap]);var k,j=e.prefixCls,z=e.shape,O=e.size,P=e.src,_=e.srcSet,L=e.icon,N=e.className,R=e.rootClassName,M=e.alt,T=e.draggable,B=e.children,V=e.crossOrigin,X=ee(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),Q=(0,G.Z)((function(e){var n,t;return null!==(t=null!==(n=null!==O&&void 0!==O?O:null===E||void 0===E?void 0:E.size)&&void 0!==n?n:e)&&void 0!==t?t:"default"})),K=Object.keys("object"===typeof Q&&Q||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),Y=(0,q.Z)(K),U=d.useMemo((function(){if("object"!==typeof Q)return{};var e=A.c4.find((function(e){return Y[e]})),n=Q[e];return n?{width:n,height:n,lineHeight:"".concat(n,"px"),fontSize:L?n/2:18}:{}}),[Y,Q]),ne=w("avatar",j),te=J(ne),re=(0,r.Z)(te,2),oe=re[0],ae=re[1],ie=H()((t={},(0,F.Z)(t,"".concat(ne,"-lg"),"large"===Q),(0,F.Z)(t,"".concat(ne,"-sm"),"small"===Q),t)),ce=d.isValidElement(P),le=z||(null===E||void 0===E?void 0:E.shape)||"circle",se=H()(ne,ie,null===S||void 0===S?void 0:S.className,"".concat(ne,"-").concat(le),(o={},(0,F.Z)(o,"".concat(ne,"-image"),ce||P&&m),(0,F.Z)(o,"".concat(ne,"-icon"),!!L),o),N,R,ae),ue="number"===typeof Q?{width:Q,height:Q,lineHeight:"".concat(Q,"px"),fontSize:L?Q/2:18}:{};if("string"===typeof P&&m)k=d.createElement("img",{src:P,draggable:T,srcSet:_,onError:function(){var n=e.onError;!1!==(null===n||void 0===n?void 0:n())&&h(!1)},alt:M,crossOrigin:V});else if(ce)k=P;else if(L)k=L;else if(f||1!==c){var de="scale(".concat(c,") translateX(-50%)"),fe={msTransform:de,WebkitTransform:de,transform:de},pe="number"===typeof Q?{lineHeight:"".concat(Q,"px")}:{};k=d.createElement(W.Z,{onResize:C},d.createElement("span",{className:"".concat(ne,"-string"),ref:x,style:Object.assign(Object.assign({},pe),fe)},B))}else k=d.createElement("span",{className:"".concat(ne,"-string"),style:{opacity:0},ref:x},B);return delete X.onError,delete X.gap,oe(d.createElement("span",Object.assign({},X,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ue),U),null===S||void 0===S?void 0:S.style),X.style),className:se,ref:y}),k))};var te=d.forwardRef(ne),re=t(95882),oe=t(26524),ae=t(90690),ie=function(e){var n=d.useContext($),t=n.size,r=n.shape,o=d.useMemo((function(){return{size:e.size||t,shape:e.shape||r}}),[e.size,e.shape,t,r]);return d.createElement($.Provider,{value:o},e.children)},ce=function(e){var n=d.useContext(D.E_),t=n.getPrefixCls,o=n.direction,a=e.prefixCls,i=e.className,c=e.rootClassName,l=e.style,s=e.maxCount,u=e.maxStyle,f=e.size,p=e.shape,v=e.maxPopoverPlacement,g=void 0===v?"top":v,m=e.maxPopoverTrigger,h=void 0===m?"hover":m,b=e.children,x=t("avatar",a),y="".concat(x,"-group"),Z=J(x),w=(0,r.Z)(Z,2),S=w[0],E=w[1],C=H()(y,(0,F.Z)({},"".concat(y,"-rtl"),"rtl"===o),i,c,E),k=(0,re.Z)(b).map((function(e,n){return(0,ae.Tm)(e,{key:"avatar-key-".concat(n)})})),j=k.length;if(s&&s<j){var z=k.slice(0,s),O=k.slice(s,j);return z.push(d.createElement(oe.Z,{key:"avatar-popover-key",content:O,trigger:h,placement:g,overlayClassName:"".concat(y,"-popover")},d.createElement(te,{style:u},"+".concat(j-s)))),S(d.createElement(ie,{shape:p,size:f},d.createElement("div",{className:C,style:l},z)))}return S(d.createElement(ie,{shape:p,size:f},d.createElement("div",{className:C,style:l},k)))},le=te;le.Group=ce;var se=le,ue=t(81748),de=t(2556),fe=function(){var e=(0,ue.$G)().t,n=(0,c.useWebComponentInfo)().dispatchEvent,t=(0,o.Dj)(),u=(0,a.j)(),f=(0,r.Z)(u,1)[0],p=(0,d.useState)(!1),v=(0,r.Z)(p,2),m=v[0],h=v[1],x=M.ZP.useBreakpoint(),y=R(m,{wait:100,leading:!0,trailing:!1}),w=(0,i.h)("getUserRole",(function(){return t.user.get(f.email,["role"])}),{suspense:!1}).data,S=null===w||void 0===w?void 0:w.user.role,k=[{label:f.username,key:"userFullName",icon:(0,de.jsx)(s.Z,{}),disabled:!0,style:{color:"#1f1f1f",cursor:"default"}},{label:f.email,key:"userEmail",icon:(0,de.jsx)(g,{}),disabled:!0,style:{cursor:"default"}},{type:"divider"},{label:S,key:"userRole",icon:(0,de.jsx)(b,{}),disabled:!0,style:{cursor:"default"}},{type:"divider"},{label:e("webui.menu.AboutBackendAI"),key:"description",icon:(0,de.jsx)(Z,{}),onClick:function(){var e=new CustomEvent("backend-ai-show-splash");document.dispatchEvent(e)}},{label:e("webui.menu.MyAccount"),key:"userProfileSetting",icon:(0,de.jsx)(E,{}),onClick:function(){n("moveTo",{path:"#userprofile"})}},{label:e("webui.menu.Preferences"),key:"preferences",icon:(0,de.jsx)(C.Z,{}),onClick:function(){n("moveTo",{path:"/usersettings",params:{tab:"general"}})}},{label:e("webui.menu.LogsErrors"),key:"logs",icon:(0,de.jsx)(z,{}),onClick:function(){n("moveTo",{path:"/usersettings",params:{tab:"logs"}})}},{label:e("webui.menu.LogOut"),key:"logout",icon:(0,de.jsx)(_,{}),onClick:function(){var e=new CustomEvent("backend-ai-logout");document.dispatchEvent(e)}}];return(0,de.jsx)(de.Fragment,{children:(0,de.jsx)(T.Z,{menu:{items:k},trigger:["click"],open:y,onOpenChange:function(e){return h(e)},children:(0,de.jsxs)(l.Z,{direction:"row",gap:"sm",style:{cursor:"pointer"},children:[x.md&&(0,de.jsx)(B.Z.Text,{strong:!0,children:f.username}),(0,de.jsx)(se,{icon:(0,de.jsx)(s.Z,{})})]})})})}},1839:function(e,n,t){t.d(n,{T:function(){return d},j:function(){return f}});var r=t(1413),o=t(29439),a=t(87760),i=t(43255),c=t(50164),l=t(32048),s=t.n(l),u=t(4519),d=function(){var e=(0,a.Kr)("first"),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=(0,a.Dj)();return[(0,c.h)({queryKey:["useResourceSlots",t],queryFn:function(){return i.get_resource_slots()},staleTime:0}).data,{refresh:function(){return r()}}]},f=function(){var e=(0,a.Dj)(),n=(0,u.useState)({full_name:e.full_name,email:e.email}),t=(0,o.Z)(n,2),l=t[0],d=t[1];(0,u.useEffect)((function(){var n=function(n){if(e.supports("change-user-name")){var t=n.detail;d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{full_name:t})}))}};return document.addEventListener("current-user-info-changed",n),function(){document.removeEventListener("current-user-info-changed",n)}}),[e]);var f=(0,c.Y)({mutationFn:function(n){return e.update_full_name(n.email,n.full_name)}}),p=(0,c.Y)({mutationFn:function(n){return e.update_password(n.old_password,n.new_password,n.new_password2)}});return[(0,r.Z)((0,r.Z)({},l),{},{username:function(){var n=s().trim(l.full_name).length>0?l.full_name:l.email;if(e._config.maskUserInfo){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(n)?n.split("@")[0].length-2:n.length-2;n=(0,i.Cd)(n,"*",2,t)}return n}(),isPendingMutation:f.isLoading||p.isLoading}),{updateFullName:function(n,t){f.mutate({full_name:n,email:e.email},{onSuccess:function(){(null===t||void 0===t?void 0:t.onSuccess)&&t.onSuccess(n),document.dispatchEvent(new CustomEvent("current-user-info-changed",{detail:n})),d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{full_name:n})}))},onError:function(e){(null===t||void 0===t?void 0:t.onError)&&t.onError(e)}})},updatePassword:function(e,n){p.mutate(e,{onSuccess:function(){(null===n||void 0===n?void 0:n.onSuccess)&&n.onSuccess(void 0)},onError:function(e){(null===n||void 0===n?void 0:n.onError)&&n.onError(e)}})}}]}},46951:function(e,n,t){var r=t(4519);n.Z=function(e){var n=(0,r.useRef)(e);return n.current=e,n}},69537:function(e,n,t){t.d(n,{hj:function(){return o},mf:function(){return r}});var r=function(e){return"function"===typeof e},o=function(e){return"number"===typeof e}},37127:function(e,n,t){t.d(n,{Z:function(){return r}});var r=function(e){return e?"function"===typeof e?e():e:null}},1289:function(e,n,t){var r=t(29439),o=t(43270),a=t.n(o),i=t(42230),c=t(4519),l=t(48698),s=t(37127),u=t(32738),d=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},f=function(e){var n=e.hashId,t=e.prefixCls,r=e.className,o=e.style,l=e.placement,u=void 0===l?"top":l,d=e.title,f=e.content,p=e.children;return c.createElement("div",{className:a()(n,t,"".concat(t,"-pure"),"".concat(t,"-placement-").concat(u),r),style:o},c.createElement("div",{className:"".concat(t,"-arrow")}),c.createElement(i.G,Object.assign({},e,{className:n,prefixCls:t}),p||function(e,n,t){if(n||t)return c.createElement(c.Fragment,null,n&&c.createElement("div",{className:"".concat(e,"-title")},(0,s.Z)(n)),c.createElement("div",{className:"".concat(e,"-inner-content")},(0,s.Z)(t)))}(t,d,f)))};n.ZP=function(e){var n=e.prefixCls,t=d(e,["prefixCls"]),o=(0,c.useContext(l.E_).getPrefixCls)("popover",n),a=(0,u.Z)(o),i=(0,r.Z)(a,2),s=i[0],p=i[1];return s(c.createElement(f,Object.assign({},t,{prefixCls:o,hashId:p})))}},26524:function(e,n,t){var r=t(29439),o=t(43270),a=t.n(o),i=t(4519),c=t(37127),l=t(7189),s=t(48698),u=t(227),d=t(1289),f=t(32738),p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},v=function(e){var n=e.title,t=e.content,r=e.prefixCls;return i.createElement(i.Fragment,null,n&&i.createElement("div",{className:"".concat(r,"-title")},(0,c.Z)(n)),i.createElement("div",{className:"".concat(r,"-inner-content")},(0,c.Z)(t)))},g=i.forwardRef((function(e,n){var t=e.prefixCls,o=e.title,c=e.content,d=e.overlayClassName,g=e.placement,m=void 0===g?"top":g,h=e.trigger,b=void 0===h?"hover":h,x=e.mouseEnterDelay,y=void 0===x?.1:x,Z=e.mouseLeaveDelay,w=void 0===Z?.1:Z,S=e.overlayStyle,E=void 0===S?{}:S,C=p(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),k=i.useContext(s.E_).getPrefixCls,j=k("popover",t),z=(0,f.Z)(j),O=(0,r.Z)(z,2),P=O[0],_=O[1],L=k(),N=a()(d,_);return P(i.createElement(u.Z,Object.assign({placement:m,trigger:b,mouseEnterDelay:y,mouseLeaveDelay:w,overlayStyle:E},C,{prefixCls:j,overlayClassName:N,ref:n,overlay:o||c?i.createElement(v,{prefixCls:j,title:o,content:c}):null,transitionName:(0,l.m)(L,"zoom-big",C.transitionName),"data-popover-inject":!0})))}));g._InternalPanelDoNotUseOrYouWillBeFired=d.ZP,n.Z=g},32738:function(e,n,t){var r=t(4942),o=t(21480),a=t(39287),i=t(50540),c=t(94359),l=t(70111),s=t(41157),u=function(e){var n,t=e.componentCls,a=e.popoverColor,c=e.minWidth,l=e.fontWeightStrong,s=e.popoverPadding,u=e.boxShadowSecondary,d=e.colorTextHeading,f=e.borderRadiusLG,p=e.zIndexPopup,v=e.marginXS,g=e.colorBgElevated,m=e.popoverBg;return[(0,r.Z)({},t,Object.assign(Object.assign({},(0,o.Wf)(e)),(n={position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":g,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"}},(0,r.Z)(n,"".concat(t,"-content"),{position:"relative"}),(0,r.Z)(n,"".concat(t,"-inner"),{backgroundColor:m,backgroundClip:"padding-box",borderRadius:f,boxShadow:u,padding:s}),(0,r.Z)(n,"".concat(t,"-title"),{minWidth:c,marginBottom:v,color:d,fontWeight:l}),(0,r.Z)(n,"".concat(t,"-inner-content"),{color:a}),n))),(0,i.ZP)(e,{colorBg:"var(--antd-arrow-background-color)"}),(0,r.Z)({},"".concat(t,"-pure"),(0,r.Z)({position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block"},"".concat(t,"-content"),{display:"inline-block"}))]},d=function(e){var n=e.componentCls;return(0,r.Z)({},n,c.i.map((function(t){var o,a=e["".concat(t,"6")];return(0,r.Z)({},"&".concat(n,"-").concat(t),(o={"--antd-arrow-background-color":a},(0,r.Z)(o,"".concat(n,"-inner"),{backgroundColor:a}),(0,r.Z)(o,"".concat(n,"-arrow"),{background:"transparent"}),o))})))},f=function(e){var n,t=e.componentCls,o=e.lineWidth,a=e.lineType,i=e.colorSplit,c=e.paddingSM,l=e.controlHeight,s=e.fontSize,u=e.lineHeight,d=e.padding,f=l-Math.round(s*u),p=f/2,v=f/2-o,g=d;return(0,r.Z)({},t,(n={},(0,r.Z)(n,"".concat(t,"-inner"),{padding:0}),(0,r.Z)(n,"".concat(t,"-title"),{margin:0,padding:"".concat(p,"px ").concat(g,"px ").concat(v,"px"),borderBottom:"".concat(o,"px ").concat(a," ").concat(i)}),(0,r.Z)(n,"".concat(t,"-inner-content"),{padding:"".concat(c,"px ").concat(g,"px")}),n))};n.Z=(0,l.Z)("Popover",(function(e){var n=e.colorBgElevated,t=e.colorText,r=e.wireframe,o=(0,s.TS)(e,{popoverPadding:12,popoverBg:n,popoverColor:t});return[u(o),d(o),r&&f(o),(0,a._y)(o,"zoom-big")]}),(function(e){return{width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]})}}]);
//# sourceMappingURL=103.e3c4cc70.chunk.js.map