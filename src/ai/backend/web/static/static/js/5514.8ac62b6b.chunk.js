/*! For license information please see 5514.8ac62b6b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[5514],{42388:(e,l,a)=>{a.d(l,{A:()=>k,s:()=>y});var n=a(72375),r=a(7971),i=a(81530),o=a(72338),d=a(9571),s=a(50128),t=a(82919),u=a(46976),c=a.n(u),m=a(64054),g=a(53350),v=a(60598);const h=e=>{var l,a;let{type:t,value:u,extra:m,opts:g,hideTooltip:h=!1,max:p}=e;const{token:k}=d.A.useToken(),f=(0,i.Nw)(),{mergedResourceSlots:x}=(0,r.Hv)(f||void 0),A=e=>{var l,a,r;return null!==x&&void 0!==x&&null!==(l=x[t])&&void 0!==l&&l.number_format.binary?Number(null===(a=(0,n.Is)(e,"g",3,!0))||void 0===a?void 0:a.numberFixed).toString():((null===x||void 0===x||null===(r=x[t])||void 0===r?void 0:r.number_format.round_length)||0)>0?parseFloat(e).toFixed(2):e};return(0,v.jsxs)(o.A,{direction:"row",gap:"xxs",children:[null!==x&&void 0!==x&&x[t]?(0,v.jsx)(y,{type:t,showTooltip:!h}):t,(0,v.jsxs)(s.A.Text,{children:[A(u),c().isUndefined(p)?null:"Infinity"===p?"~\u221e":`~${A(p)}`]}),(0,v.jsx)(s.A.Text,{type:"secondary",children:(null===x||void 0===x||null===(l=x[t])||void 0===l?void 0:l.display_unit)||""}),"mem"===t&&null!==g&&void 0!==g&&g.shmem&&(null===g||void 0===g?void 0:g.shmem)>0?(0,v.jsxs)(s.A.Text,{type:"secondary",style:{fontSize:k.fontSizeSM},children:["(SHM:"," ",null===(a=(0,n.Is)(g.shmem+"b","g",2,!0))||void 0===a?void 0:a.numberFixed,"GiB)"]}):null,m]})},p=e=>{let{size:l=16,children:a}=e;return(0,v.jsx)("mwc-icon",{style:{"--mdc-icon-size":`${l+2}px`,width:l,height:l},children:a})},y=e=>{var l,a;let{type:n,size:i=16,showIcon:d=!0,showUnit:s=!0,showTooltip:u=!0,...c}=e;const g={cpu:(0,v.jsx)(p,{size:i,children:"developer_board"}),mem:(0,v.jsx)(p,{size:i,children:"memory"}),"cuda.device":"/resources/icons/file_type_cuda.svg","cuda.shares":"/resources/icons/file_type_cuda.svg","rocm.device":"/resources/icons/rocm.svg","tpu.device":(0,v.jsx)(p,{size:i,children:"view_module"}),"ipu.device":(0,v.jsx)(p,{size:i,children:"view_module"}),"atom.device":"/resources/icons/rebel.svg","atom-plus.device":"/resources/icons/rebel.svg","gaudi2.device":"/resources/icons/gaudi.svg","warboy.device":"/resources/icons/furiosa.svg","rngd.device":"/resources/icons/furiosa.svg","hyperaccel-lpu.device":"/resources/icons/npu_generic.svg"},h=null!==(l=g[n])&&void 0!==l?l:(0,v.jsx)(m.A,{}),{mergedResourceSlots:y}=(0,r.Hv)(),k="string"===typeof h?(0,v.jsx)("img",{...c,style:{height:i,alignSelf:"center",...c.style||{}},src:g[n]||"",alt:n}):(0,v.jsx)(o.A,{style:{width:16,height:16},children:h||n});return u?(0,v.jsx)(t.A,{title:(null===(a=y[n])||void 0===a?void 0:a.description)||n,children:k}):(0,v.jsx)(o.A,{style:{pointerEvents:"none"},children:k})},k=g.memo(h)},29328:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ModelCardModalFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"task",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"framework",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"license",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"readme",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_resource",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolder",kind:"LinkedField",name:"vfolder",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},e,l,{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ModelCloneModalVFolderFragment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error_msg",storageKey:null}],type:"ModelCard",abstractKey:null}}();n.hash="2a7ce0a135e9f76b9639c02f17809626";const r=n},43127:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ModelCloneModalVFolderFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null}],type:"VirtualFolderNode",abstractKey:null,hash:"9e8196f7a6fe11fb62c373124ffc450a"},r=n},57613:(e,l,a)=>{a.d(l,{b:()=>o});var n=a(91788);const r={"Cannot read property 'map' of null":"error.APINotSupported","TypeError: NetworkError when attempting to fetch resource.":"error.NetworkConnectionFailed","Login failed. Check login information.":"error.LoginFailed","User credential mismatch.":"error.LoginFailed","Authentication failed. Check information and manager status.":"error.AuthenticationFailed","Too many failed login attempts":"error.TooManyLoginFailures","server responded failure: 400 Bad Request - The virtual folder already exists with the same name.":"error.VirtualFolderAlreadyExist","400 Bad Request - The virtual folder already exists with the same name.":"error.VirtualFolderAlreadyExist","server responded failure: 400 Bad Request - One of your accessible vfolders already has the name you requested.":"error.VirtualFolderAlreadyExist","server responded failure: 400 Bad Request - You cannot create more vfolders.":"error.MaximumVfolderCreation","server responded failure: 400 Bad Request - Missing or invalid API parameters. (You cannot create more vfolders.)":"error.MaximumVfolderCreation","server responded failure: 400 Bad Request - Cannot change the options of a vfolder that is not owned by myself.":"error.CannotChangeVirtualFolderOption","server responded failure: 403 Forbidden - Cannot share private dot-prefixed vfolders.":"error.CannotSharePrivateAutomountFolder","server responded failure: 404 Not Found - No such vfolder invitation.":"error.FolderSharingNotAvailableToUser","server responded failure: 404 Not Found - No such user.":"error.FolderSharingNotAvailableToUser","server responded failure: 412 Precondition Failed - You have reached your resource limit.":"error.ReachedResourceLimit","Cannot read property 'split' of undefined":"error.UserHasNoGroup"},i={"\\w*not found matched token with email\\w*":"error.InvalidSignupToken","\\w*Access key not found\\w*":"error.LoginInformationMismatch","\\w*401 Unauthorized - Credential/signature mismatch\\w*":"error.LoginInformationMismatch",'integrity error: duplicate key value violates unique constraint "pk_resource_presets"[\\n]DETAIL:  Key \\(name\\)=\\([\\w]+\\) already exists.[\\n]':"error.ResourcePolicyAlreadyExist",'integrity error: duplicate key value violates unique constraint "pk_scaling_groups"[\\n]DETAIL:  Key \\(name\\)=\\([\\w]+\\) already exists.[\\n]':"error.ScalingGroupAlreadyExist",'integrity error: duplicate key value violates unique constraint "uq_users_username"[\\n]DETAIL:  Key \\(username\\)=\\([\\w]+\\) already exists.[\\n]':"error.UserNameAlreadyExist","server responded failure: 400 Bad Request - Missing or invalid API parameters. (Your resource quota is exceeded. (cpu=24 mem=512g cuda.shares=80))":"error.ResourceLimitExceed",'\\w*Key \\(name\\)=\\(.+\\) is still referenced from table "keypairs"\\.\\w*':"error.ResourcePolicyStillReferenced","Your resource request is smaller than the minimum required by the image. (\\w*)":"error.SmallerResourceThenImageRequires"},o=()=>{const{t:e}=(0,n.Bd)();return{relieve:l=>{if("undefined"===typeof l)return void 0===globalThis.backendaiclient||null===globalThis.backendaiclient?"_DISCONNECTED":"Problem occurred.";if(!0===globalThis.backendaiwebui.debug)return l;if({}.hasOwnProperty.call(r,l))return e(r[l]);for(const a of Object.keys(i))if(RegExp(a).test(l))return e(i[a]);return l}}}},15514:(e,l,a)=>{a.r(l),a.d(l,{default:()=>re});var n,r=a(72338),i=a(23441),o=a(9189),d=a(73e3),s=a(25905),t=a(57613),u=a(93488),c=a(66972),m=a(58325),g=a(13170),v=a(83978),h=a(1581),p=a(77109),y=a(53350),k=a(91788),f=a(22018),x=a(60598);const A=e=>{let{vfolderNode:l,deprecatedVFolderInfo:A,...F}=e;const{t:b}=(0,k.Bd)(),S=(0,i.CX)(),j=(0,f.useFragment)(void 0!==n?n:n=a(43127),l)||A,w=(0,y.useRef)(null),C=(0,t.b)(),{upsertNotification:M}=(0,s.js)(),[_,K]=(0,y.useState)({}),T=(0,d.ET)({mutationFn:e=>{let{input:l,name:a}=e;return S.vfolder.clone(l,a)}});return(0,x.jsx)(o.A,{destroyOnClose:!0,...F,okText:b("button.Clone"),confirmLoading:T.isPending,onOk:e=>{var l;null===(l=w.current)||void 0===l||l.validateFields().then((l=>{null!==j&&void 0!==j&&j.id&&j.host&&T.mutate({input:l,name:j.id},{onSuccess(a){var n;M({key:"modelStore.clone."+j.id,open:!0,backgroundTask:{status:"pending",percent:0,taskId:a.bgtask_id,onChange:{pending:b("data.folders.FolderClonePending"),resolved:b("data.folders.FolderCloned"),rejected:b("data.folders.FolderCloneFailed")}},message:l.target_name,toText:b("data.folders.OpenAFolder"),to:`/data?tab=model&folder=${a.id}`}),null===(n=F.onOk)||void 0===n||n.call(F,e)},onError(e){var l;if(null!==(l=e.message)&&void 0!==l&&l.includes("The virtual folder already exists with the same name"))K({validateStatus:"error",help:b("modelStore.FolderAlreadyExists")});else{const l=C.relieve((null===e||void 0===e?void 0:e.message)||"");c.Ay.error({content:l})}}})})).catch((()=>{}))},children:(0,x.jsxs)(r.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,x.jsx)(m.A,{showIcon:!0,type:"info",message:b("modelStore.CloneInfo")}),(0,x.jsxs)(g.A,{ref:w,layout:"vertical",requiredMark:"optional",initialValues:{permission:"rw",usage_mode:"model",target_name:(null===j||void 0===j?void 0:j.name)+"_1",target_host:null===j||void 0===j?void 0:j.host},scrollToFirstError:!0,children:[(0,x.jsx)(g.A.Item,{label:b("data.ExistingFolderName"),required:!0,children:(0,x.jsx)(v.A,{value:(null===j||void 0===j?void 0:j.name)||"",disabled:!0})}),(0,x.jsx)(g.A.Item,{name:"target_name",label:b("data.NewFolderName"),rules:[{required:!0},{pattern:/^[a-zA-Z0-9._-]*$/,message:b("data.AllowsLettersNumbersAnd-_Dot")}],..._,children:(0,x.jsx)(v.A,{autoComplete:"off",onChange:()=>{K({})}})}),(0,x.jsx)(g.A.Item,{name:"target_host",label:b("data.Host"),tooltip:b("data.CloningIsOnlyPossibleSameHost"),rules:[{required:!0}],children:(0,x.jsx)(u.A,{disabled:!0})}),S.isAPIVersionCompatibleWith("v4.20191215")&&(0,x.jsx)(g.A.Item,{name:"usage_mode",hidden:!0,children:(0,x.jsx)(v.A,{})}),(0,x.jsx)(g.A.Item,{label:b("data.Permission"),name:"permission",rules:[{required:!0}],children:(0,x.jsx)(h.A,{options:[{label:"Read-Write",value:"rw"},{label:"Read-Only",value:"ro"},{label:"Delete",value:"wd"}]})}),(0,x.jsx)(g.A.Item,{hidden:!0,name:"cloneable",valuePropName:"checked",children:(0,x.jsx)(p.A,{checked:!1})})]})]})})};var F=a(42388),b=a(40991),S=a(152),j=a(90055),w=function(e,l){return y.createElement(j.A,(0,b.A)({},e,{ref:l,icon:S.A}))};const C=y.forwardRef(w);var M=a(86790),_=a(60220),K=function(e,l){return y.createElement(j.A,(0,b.A)({},e,{ref:l,icon:_.A}))};const T=y.forwardRef(K);var L=a(9571),E=a(9769),I=a(52335),R=a(4833),N=a(24798),q=a(92351),z=a(56625),P=a(50128),V=a(20418),D=a(8227),B=a(78502),H=a.n(B),O=a(46976),$=a.n(O),G=a(60521);const U=(0,G.A)("FolderX",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]]),W=(0,G.A)("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var X,Q=a(20301);const Y=e=>{var l,n,d,s;let{modelCardModalFrgmt:t=null,onRequestClose:u,...c}=e;const{t:g}=(0,k.Bd)(),{token:v}=L.A.useToken(),[h,p]=(0,y.useState)(!1),[b]=(0,i.Gj)(),S=E.Ay.useBreakpoint(),j=(0,f.useFragment)(void 0!==X?X:X=a(29328),t),w={xs:{span:24},lg:{span:2===$().compact([null===j||void 0===j?void 0:j.description,null===j||void 0===j?void 0:j.readme]).length?12:24}};return(0,x.jsxs)(o.A,{...c,title:null!==j&&void 0!==j&&j.title?null===j||void 0===j?void 0:j.title:(0,x.jsxs)("div",{style:{color:v.colorTextSecondary},children:[(0,x.jsx)(U,{style:{marginRight:v.marginXXS}}),null===j||void 0===j?void 0:j.name]}),centered:!0,onCancel:u,destroyOnClose:!0,width:$().isEmpty(null===j||void 0===j?void 0:j.readme)||$().isEmpty(null===j||void 0===j?void 0:j.description)?800:S.xxl?"75%":"90%",footer:[(0,x.jsx)(I.Ay,{onClick:()=>{u()},children:g("button.Close")},"close")],children:[null!==j&&void 0!==j&&j.error_msg?(0,x.jsxs)(r.A,{direction:"column",wrap:"wrap",align:"stretch",gap:"sm",children:[(0,x.jsx)(m.A,{message:null===j||void 0===j?void 0:j.error_msg,type:"error",showIcon:!0,style:{width:"100%"}}),(0,x.jsx)(R.A,{style:{width:"100%"},image:R.A.PRESENTED_IMAGE_SIMPLE})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(r.A,{direction:"row",align:"start",style:{marginBottom:v.marginSM},gap:"xs",wrap:"wrap",children:[(0,x.jsxs)(r.A,{justify:"start",align:"start",gap:"xs",style:{flex:1},wrap:"wrap",children:[(null===j||void 0===j?void 0:j.category)&&(0,x.jsx)(N.A,{bordered:!1,style:{marginRight:0},children:null===j||void 0===j?void 0:j.category}),(null===j||void 0===j?void 0:j.task)&&(0,x.jsx)(N.A,{bordered:!1,color:"success",style:{marginRight:0},children:null===j||void 0===j?void 0:j.task}),(null===j||void 0===j?void 0:j.label)&&$().map(null===j||void 0===j?void 0:j.label,(e=>(0,x.jsx)(N.A,{bordered:!1,color:"blue",style:{marginRight:0},children:e},e))),(null===j||void 0===j?void 0:j.license)&&(0,x.jsx)(N.A,{icon:(0,x.jsx)(C,{}),bordered:!1,color:"geekblue",style:{marginRight:0},children:null===j||void 0===j?void 0:j.license})]}),(0,x.jsxs)(r.A,{direction:"row",justify:"end",gap:"sm",children:[(0,x.jsx)(I.Ay,{disabled:!0,ghost:!0,size:"small",icon:(0,x.jsx)(W,{}),children:g("modelStore.FinetuneModel")}),(0,x.jsx)(I.Ay,{type:"primary",ghost:!0,icon:(0,x.jsx)(M.A,{}),size:"small",disabled:!(null!==j&&void 0!==j&&null!==(l=j.vfolder)&&void 0!==l&&l.cloneable),onClick:()=>{p(!0)},children:g("modelStore.CloneToFolder")})]})]}),(0,x.jsxs)(q.A,{gutter:[v.marginLG,v.marginLG],children:[(0,x.jsx)(z.A,{...w,children:(0,x.jsxs)(r.A,{direction:"column",align:"stretch",gap:"xs",children:[null!==j&&void 0!==j&&j.description?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(P.A.Title,{level:5,style:{marginTop:0},children:g("modelStore.Description")}),(0,x.jsx)(V.A,{size:"small",style:{whiteSpace:"pre-wrap",minHeight:S.lg?100:void 0,height:S.lg?"calc(100vh - 590px)":void 0,maxHeight:"calc(100vh - 590px)",overflow:"auto"},children:(0,x.jsx)(P.A.Paragraph,{ellipsis:{rows:S.lg?11:3,expandable:"collapsible",symbol:e=>(0,x.jsx)(I.Ay,{size:"small",type:"link",children:g(e?"button.Collapse":"button.Expand")})},children:null===j||void 0===j?void 0:j.description})})]}):null,(0,x.jsx)(D.A,{style:{marginTop:v.marginMD},column:1,size:"small",bordered:!0,items:[{key:"author",label:g("modelStore.Author"),children:null===j||void 0===j?void 0:j.author},{key:"version",label:g("modelStore.Version"),children:null===j||void 0===j?void 0:j.version},{key:"architecture",label:g("environment.Architecture"),children:null===j||void 0===j?void 0:j.architecture},{key:"frameworks",label:g("modelStore.Framework"),children:(0,x.jsx)(r.A,{direction:"row",gap:"xs",children:$().map($().filter($().castArray(null===j||void 0===j?void 0:j.framework),(e=>!$().isEmpty(e))),((e,l)=>{const a=null===e||void 0===e?void 0:e.replace(/\s*\d+\s*$/,""),n=$().find(null===b||void 0===b?void 0:b.imageInfo,(e=>(null===e||void 0===e?void 0:e.name)===a)),i=`${e}-${l}`;return null!==n&&void 0!==n&&n.icon?(0,x.jsxs)(r.A,{gap:"xxs",children:[(0,x.jsx)("img",{style:{width:"1em",height:"1em"},src:"resources/icons/"+(null===n||void 0===n?void 0:n.icon),alt:e||""}),e]},i):(0,x.jsx)(P.A.Text,{children:e},i)}))})},{key:"created",label:g("modelStore.Created"),children:H()(null===j||void 0===j?void 0:j.created_at).format("lll")},{key:"last_modified",label:g("modelStore.LastModified"),children:H()(null===j||void 0===j?void 0:j.modified_at).format("lll")},{key:"min_resource",label:g("modelStore.MinResource"),children:(0,x.jsx)(r.A,{gap:"xs",children:(null===j||void 0===j?void 0:j.min_resource)&&$().map(JSON.parse(null===j||void 0===j?void 0:j.min_resource),((e,l)=>(0,x.jsx)(F.A,{type:l,value:$().toString(e)},l)))})}]})]})}),null!==j&&void 0!==j&&j.readme?(0,x.jsx)(z.A,{...w,children:(0,x.jsx)(V.A,{size:"small",title:(0,x.jsxs)(r.A,{direction:"row",gap:"xs",children:[(0,x.jsx)(T,{}),"README.md"]}),styles:{body:{padding:v.paddingLG,overflow:"auto",height:S.lg?"calc(100vh - 287px)":void 0,minHeight:200}},children:(0,x.jsx)(Q.Ay,{children:(null===j||void 0===j?void 0:j.readme)||""})})}):null]})]}),(0,x.jsx)(y.Suspense,{children:(0,x.jsx)(A,{vfolderNode:(null===j||void 0===j?void 0:j.vfolder_node)||null,deprecatedVFolderInfo:{id:(null===j||void 0===j||null===(n=j.vfolder)||void 0===n?void 0:n.id)||"",host:(null===j||void 0===j||null===(d=j.vfolder)||void 0===d?void 0:d.host)||"",name:(null===j||void 0===j||null===(s=j.vfolder)||void 0===s?void 0:s.name)||""},title:g("modelStore.CloneAsFolder"),open:h,onOk:()=>{p(!1)},onCancel:()=>{p(!1)}})})]})};var Z,J=a(96141),ee=a(28567),le=a(43622),ae=a(56459);const ne=(0,a(43403).rU)((e=>{let{css:l,token:a}=e;return{cardList:l`
      .ant-col {
        height: calc(100% - ${a.marginMD}px);
      }
    `}})),re=()=>{var e;const[l,n]=(0,i.Tw)("first"),{t:o}=(0,k.Bd)(),{token:d}=L.A.useToken(),[s,t]=(0,y.useState)(),[u,c]=(0,y.useState)([]),[g,p]=(0,y.useState)([]),[A,F]=(0,y.useState)([]),{styles:b}=ne(),[S,j]=(0,y.useState)(),[w,C]=(0,y.useTransition)(),{model_cards:M}=(0,f.useLazyLoadQuery)(void 0!==Z?Z:Z=a(94037),{filter:void 0},{fetchPolicy:"network-only",fetchKey:l}),_=(0,y.useMemo)((()=>{const e={task:[],category:[],label:[]},l=["task","category","label"];return l.forEach((l=>e[l]=[])),null===M||void 0===M||M.edges.forEach((a=>{l.forEach((l=>{var n;null!==a&&void 0!==a&&null!==(n=a.node)&&void 0!==n&&n[l]&&$().map($().castArray(a.node[l]),(a=>{$().isString(a)&&!e[l].includes(a)&&e[l].push(a)}))}))})),e}),[null===M||void 0===M?void 0:M.edges]);return(0,x.jsxs)(r.A,{direction:"column",align:"stretch",justify:"center",gap:"lg",style:{padding:d.paddingLG},children:[(0,x.jsxs)(r.A,{direction:"column",align:"stretch",className:"filterWrap",gap:"xs",children:[(0,x.jsxs)(r.A,{direction:"row",gap:"md",children:[(0,x.jsx)(v.A,{prefix:(0,x.jsx)(ee.A,{}),placeholder:o("modelStore.SearchModels"),allowClear:!0,onChange:e=>{t(e.target.value)},autoComplete:"off"}),(0,x.jsx)(I.Ay,{icon:(0,x.jsx)(le.A,{}),onClick:()=>{C((()=>{n()}))},loading:w})]}),(0,x.jsxs)(r.A,{direction:"row",gap:"md",wrap:"wrap",children:[(0,x.jsx)(h.A,{style:{minWidth:150},placeholder:o("modelStore.Category"),options:$().map(_.category,(e=>({label:e,value:e}))),mode:"multiple",popupMatchSelectWidth:!1,value:u,onChange:e=>{c(e)},allowClear:!0}),(0,x.jsx)(h.A,{style:{minWidth:150},placeholder:o("modelStore.Task"),options:$().map(_.task,(e=>({label:e,value:e}))),mode:"multiple",popupMatchSelectWidth:!1,value:g,onChange:e=>{p(e)},allowClear:!0}),(0,x.jsx)(h.A,{style:{minWidth:150},placeholder:o("modelStore.Label"),options:$().map(_.label,(e=>({label:e,value:e}))),mode:"multiple",popupMatchSelectWidth:!1,value:A,onChange:e=>{F(e)},allowClear:!0})]})]}),(0,x.jsx)(ae.A,{className:b.cardList,grid:{gutter:16,xs:1,sm:2,md:2,lg:3,xl:4,xxl:5},dataSource:null===M||void 0===M||null===(e=M.edges)||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.node)).filter((e=>{let l=!0;if(s){var a,n,r,i,o;const d=s.toLowerCase();l=(null===e||void 0===e||null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(d))||(null===e||void 0===e||null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(d))||(null===e||void 0===e||null===(r=e.task)||void 0===r?void 0:r.toLowerCase().includes(d))||(null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.toLowerCase().includes(d))||(null===e||void 0===e||null===(o=e.label)||void 0===o?void 0:o.some((e=>null===e||void 0===e?void 0:e.toLowerCase().includes(d))))||!1}return($().isEmpty(u)||$().includes(u,null===e||void 0===e?void 0:e.category))&&($().isEmpty(A)||$().intersection(A,null===e||void 0===e?void 0:e.label).length>0)&&($().isEmpty(g)||$().includes(g,null===e||void 0===e?void 0:e.task))&&l})),renderItem:e=>(0,x.jsx)(ae.A.Item,{onClick:()=>{j(e)},style:{height:"100%"},children:(0,x.jsx)(V.A,{hoverable:!0,title:null!==e&&void 0!==e&&e.title?(0,x.jsx)(J.A,{keyword:s,children:null===e||void 0===e?void 0:e.title}):(0,x.jsxs)(P.A.Text,{type:"secondary",children:[(0,x.jsx)(U,{style:{marginLeft:d.marginXXS,marginRight:d.marginXXS,fontSize:d.fontSize}}),null===e||void 0===e?void 0:e.name]}),style:{height:"100%"},size:"small",children:(0,x.jsxs)(r.A,{direction:"row",wrap:"wrap",gap:"xs",children:[(null===e||void 0===e?void 0:e.description)&&(0,x.jsx)(P.A.Paragraph,{ellipsis:{rows:3,expandable:!1},children:(0,x.jsx)(J.A,{keyword:s,children:null===e||void 0===e?void 0:e.description})}),(null===e||void 0===e?void 0:e.category)&&(0,x.jsx)(N.A,{bordered:!1,children:(0,x.jsx)(J.A,{keyword:s,children:null===e||void 0===e?void 0:e.category})}),(null===e||void 0===e?void 0:e.task)&&(0,x.jsx)(N.A,{bordered:!1,color:"success",children:(0,x.jsx)(J.A,{keyword:s,children:null===e||void 0===e?void 0:e.task})}),(null===e||void 0===e?void 0:e.label)&&$().map(null===e||void 0===e?void 0:e.label,(e=>(0,x.jsx)(N.A,{bordered:!1,color:"blue",children:(0,x.jsx)(J.A,{keyword:s,children:e})},e))),(null===e||void 0===e?void 0:e.error_msg)&&(0,x.jsx)(m.A,{style:{width:"100%"},message:(0,x.jsx)(P.A.Paragraph,{ellipsis:{rows:6},style:{marginBottom:0},children:e.error_msg}),type:"error",showIcon:!0})]})})})}),(0,x.jsx)(Y,{modelCardModalFrgmt:S,open:!!S,onRequestClose:()=>{j(null)}})]})}},94037:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"filter"}],l=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Literal",name:"first",value:200}],a={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"task",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"license",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"min_resource",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"error_msg",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},p={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"host",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ModelStoreListPageQuery",selections:[{alias:null,args:l,concreteType:"ModelCardConnection",kind:"LinkedField",name:"model_cards",plural:!1,selections:[{alias:null,args:null,concreteType:"ModelCardEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ModelCard",kind:"LinkedField",name:"node",plural:!1,selections:[n,r,i,o,d,s,t,u,c,m,g,v,{args:null,kind:"FragmentSpread",name:"ModelCardModalFragment"}],storageKey:null}],storageKey:null},h,p],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ModelStoreListPageQuery",selections:[{alias:null,args:l,concreteType:"ModelCardConnection",kind:"LinkedField",name:"model_cards",plural:!1,selections:[{alias:null,args:null,concreteType:"ModelCardEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ModelCard",kind:"LinkedField",name:"node",plural:!1,selections:[n,r,i,o,d,s,t,u,c,m,g,v,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"framework",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"readme",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolder",kind:"LinkedField",name:"vfolder",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cloneable",storageKey:null},n,i,y],storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:[n,i,y],storageKey:null}],storageKey:null}],storageKey:null},h,p],storageKey:null}]},params:{cacheID:"f32e3c3523f7c030fc079da7db1677a9",id:null,metadata:{},name:"ModelStoreListPageQuery",operationKind:"query",text:'query ModelStoreListPageQuery(\n  $filter: String\n) {\n  model_cards(filter: $filter, first: 200) {\n    edges {\n      cursor\n      node {\n        id\n        row_id @since(version: "24.03.7")\n        name\n        author\n        title\n        description\n        task\n        category\n        label\n        license\n        min_resource\n        error_msg @since(version: "24.03.7")\n        ...ModelCardModalFragment\n      }\n    }\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment ModelCardModalFragment on ModelCard {\n  id\n  row_id @since(version: "24.03.7")\n  name\n  author\n  title\n  version\n  created_at\n  modified_at\n  description\n  task\n  category\n  architecture\n  framework\n  label\n  license\n  readme\n  min_resource\n  vfolder {\n    cloneable\n    id\n    name\n    host\n  }\n  vfolder_node @since(version: "24.09.*") {\n    ...ModelCloneModalVFolderFragment\n    id\n  }\n  error_msg @since(version: "24.03.7")\n}\n\nfragment ModelCloneModalVFolderFragment on VirtualFolderNode {\n  id\n  name\n  host\n}\n'}}}();n.hash="fa480b58b4b1de1541e2abf3af73b1ae";const r=n},152:(e,l,a)=>{a.d(l,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M894 462c30.9 0 43.8-39.7 18.7-58L530.8 126.2a31.81 31.81 0 00-37.6 0L111.3 404c-25.1 18.2-12.2 58 18.8 58H192v374h-72c-4.4 0-8 3.6-8 8v52c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-52c0-4.4-3.6-8-8-8h-72V462h62zM512 196.7l271.1 197.2H240.9L512 196.7zM264 462h117v374H264V462zm189 0h117v374H453V462zm307 374H642V462h118v374z"}}]},name:"bank",theme:"outlined"}},28567:(e,l,a)=>{a.d(l,{A:()=>s});var n=a(40991),r=a(53350),i=a(14334),o=a(90055),d=function(e,l){return r.createElement(o.A,(0,n.A)({},e,{ref:l,icon:i.A}))};const s=r.forwardRef(d)},56625:(e,l,a)=>{a.d(l,{A:()=>n});const n=a(14967).A},92351:(e,l,a)=>{a.d(l,{A:()=>n});const n=a(26297).A},64054:(e,l,a)=>{a.d(l,{A:()=>n});const n=(0,a(60521).A)("Microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]])}}]);
//# sourceMappingURL=5514.8ac62b6b.chunk.js.map