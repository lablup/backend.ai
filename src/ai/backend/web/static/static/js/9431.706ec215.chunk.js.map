{"version":3,"file":"static/js/9431.706ec215.chunk.js","mappings":"yNAEA,QAD4B,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,6JAAgK,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gqBAAoqB,KAAQ,iBAAkB,MAAS,Y,eCMviCA,EAAwB,SAA+BC,EAAOC,GAChE,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,GAAS,CAAC,EAAGJ,EAAO,CACpEC,IAAKA,EACLI,KAAMC,IAEV,EAOA,QAJ2BJ,EAAAA,WAAiBH,G,yDCH5C,MA+EA,EA1E6CC,IAC3C,MAAMO,GAAUC,EAAAA,EAAAA,QAEL,OACL,EAAEC,IAAMC,EAAAA,EAAAA,MACRC,GAAgBC,EAAAA,EAAAA,MAEtB,OADAC,EAAAA,EAAAA,OAEEC,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACd,IAAKM,EAASS,OAAO,SAASC,aAAa,cAAejB,EAAKkB,SAAA,EACnEC,EAAAA,EAAAA,KAACJ,EAAAA,EAAKK,KAAI,CACRC,KAAK,MACLC,MAAOb,EAAE,sBACTc,MAAO,CACL,CACEC,UAAU,GAEZ,CACEC,QAAS,IAAIC,OAAO,qCACpBC,QAASlB,EAAE,8BAEb,CACEmB,KAAM,SACNC,IAAK,OAGTC,MAAO,CACLC,KAAM,GACNb,UAEFC,EAAAA,EAAAA,KAACa,EAAAA,EAAK,CAACC,YAAaxB,EAAE,2BAExBU,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACL7B,MAAMc,EAAAA,EAAAA,KAACpB,EAAqB,IAC5B6B,KAAK,UACLO,QAASA,KAAO,IAADC,EACE,QAAfA,EAAA7B,EAAQ8B,eAAO,IAAAD,GAAfA,EACIE,iBACDC,MAAMC,IACL,MAAMC,EAAkCD,EAAOE,IA1CjDC,QAAQ,SAAU,KAClBA,QAAQ,aAAc,6BA0CpB,MAAMC,EAAuD,CAC3DC,YAAa,sBAAuBC,EAAAA,EAAAA,IAAqB,GACzDC,aAAc,CACZC,YAAa,+BAEfC,iBAAkB,sBAAwBR,GAEtCS,EAAS,IAAIC,gBACnBD,EAAOE,IAAI,OAAQ,KACnBF,EAAOE,IAAI,aAAcC,KAAKC,UAAUV,IACxCM,EAAOE,IACL,YACAC,KAAKC,UAAU,CACbC,QAAS,UACTC,SAAUf,EAAYgB,MAAM,KAAKC,SAGrC/C,EAAc,kBAAkBuC,EAAOS,aAAc,CACnDC,MAAO,CACLC,KAAM,CACJC,SAAU,UACVxC,MAAOb,EAAE,4BAGb,IAEHsD,OAAM,QAAS,EAClB7C,SAEDT,EAAE,gCAEA,E,eCjFX,MAiBA,EAjByBuD,KACvB,MAAM,EAAEvD,IAAMC,EAAAA,EAAAA,OACR,MAAEuD,GAAUC,EAAAA,EAAMC,WACxB,OACEhD,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,CACNC,MAAO5D,EAAE,yBACT6D,aAAW,EACXxC,MAAO,CACLyC,SAAU,IACVC,aAAcP,EAAMQ,WACpBvD,UAEFC,EAAAA,EAAAA,KAACuD,EAAc,KACP,C","sources":["../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/CloudDownloadOutlined.js","../../node_modules/.pnpm/@ant-design+icons@5.6.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js","components/ImportNotebook.tsx","pages/ImportAndRunPage.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar CloudDownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z\" } }] }, \"name\": \"cloud-download\", \"theme\": \"outlined\" };\nexport default CloudDownloadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CloudDownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudDownloadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CloudDownloadOutlined = function CloudDownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CloudDownloadOutlinedSvg\n  }));\n};\n\n/**![cloud-download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYyNCA3MDYuM2gtNzQuMVY0NjRjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djI0Mi4zSDQwMGMtNi43IDAtMTAuNCA3LjctNi4zIDEyLjlsMTEyIDE0MS43YTggOCAwIDAwMTIuNiAwbDExMi0xNDEuN2M0LjEtNS4yLjQtMTIuOS02LjMtMTIuOXoiIC8+PHBhdGggZD0iTTgxMS40IDM2Ni43Qzc2NS42IDI0NS45IDY0OC45IDE2MCA1MTIuMiAxNjBTMjU4LjggMjQ1LjggMjEzIDM2Ni42QzEyNy4zIDM4OS4xIDY0IDQ2Ny4yIDY0IDU2MGMwIDExMC41IDg5LjUgMjAwIDE5OS45IDIwMEgzMDRjNC40IDAgOC0zLjYgOC04di02MGMwLTQuNC0zLjYtOC04LThoLTQwLjFjLTMzLjcgMC02NS40LTEzLjQtODktMzcuNy0yMy41LTI0LjItMzYtNTYuOC0zNC45LTkwLjYuOS0yNi40IDkuOS01MS4yIDI2LjItNzIuMSAxNi43LTIxLjMgNDAuMS0zNi44IDY2LjEtNDMuN2wzNy45LTkuOSAxMy45LTM2LjZjOC42LTIyLjggMjAuNi00NC4xIDM1LjctNjMuNGEyNDUuNiAyNDUuNiAwIDAxNTIuNC00OS45YzQxLjEtMjguOSA4OS41LTQ0LjIgMTQwLTQ0LjJzOTguOSAxNS4zIDE0MCA0NC4yYzE5LjkgMTQgMzcuNSAzMC44IDUyLjQgNDkuOSAxNS4xIDE5LjMgMjcuMSA0MC43IDM1LjcgNjMuNGwxMy44IDM2LjUgMzcuOCAxMEM4NDYuMSA0NTQuNSA4ODQgNTAzLjggODg0IDU2MGMwIDMzLjEtMTIuOSA2NC4zLTM2LjMgODcuN2ExMjMuMDcgMTIzLjA3IDAgMDEtODcuNiAzNi4zSDcyMGMtNC40IDAtOCAzLjYtOCA4djYwYzAgNC40IDMuNiA4IDggOGg0MC4xQzg3MC41IDc2MCA5NjAgNjcwLjUgOTYwIDU2MGMwLTkyLjctNjMuMS0xNzAuNy0xNDguNi0xOTMuM3oiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(CloudDownloadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CloudDownloadOutlined';\n}\nexport default RefIcon;","import { generateRandomString } from '../helper';\nimport { useSuspendedBackendaiClient, useWebUINavigate } from '../hooks';\nimport {\n  AppOption,\n  SessionLauncherFormValue,\n} from '../pages/SessionLauncherPage';\nimport { SessionLauncherPageLocationState } from './LocationStateBreadCrumb';\nimport { CloudDownloadOutlined } from '@ant-design/icons';\nimport { Button, Form, FormInstance, FormProps, Input } from 'antd';\nimport { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst regularizeGithubURL = (url: string) => {\n  url = url.replace('/blob/', '/');\n  url = url.replace('github.com', 'raw.githubusercontent.com');\n  return url;\n};\nconst ImportNotebook: React.FC<FormProps> = (props) => {\n  const formRef = useRef<FormInstance<{\n    url: string;\n  }> | null>(null);\n  const { t } = useTranslation();\n  const webuiNavigate = useWebUINavigate();\n  useSuspendedBackendaiClient();\n  return (\n    <Form ref={formRef} layout=\"inline\" requiredMark=\"optional\" {...props}>\n      <Form.Item\n        name=\"url\"\n        label={t('import.NotebookURL')}\n        rules={[\n          {\n            required: true,\n          },\n          {\n            pattern: new RegExp('^(https?)://([\\\\w./-]{1,}).ipynb$'),\n            message: t('import.InvalidNotebookURL'),\n          },\n          {\n            type: 'string',\n            max: 2048,\n          },\n        ]}\n        style={{\n          flex: 1,\n        }}\n      >\n        <Input placeholder={t('import.NotebookURL')} />\n      </Form.Item>\n      <Button\n        icon={<CloudDownloadOutlined />}\n        type=\"primary\"\n        onClick={() => {\n          formRef.current\n            ?.validateFields()\n            .then((values) => {\n              const notebookURL = regularizeGithubURL(values.url);\n              const launcherValue: DeepPartial<SessionLauncherFormValue> = {\n                sessionName: 'imported-notebook-' + generateRandomString(5),\n                environments: {\n                  environment: 'cr.backend.ai/stable/python',\n                },\n                bootstrap_script: '#!/bin/sh\\ncurl -O ' + notebookURL,\n              };\n              const params = new URLSearchParams();\n              params.set('step', '4');\n              params.set('formValues', JSON.stringify(launcherValue));\n              params.set(\n                'appOption',\n                JSON.stringify({\n                  runtime: 'jupyter',\n                  filename: notebookURL.split('/').pop(),\n                } as AppOption),\n              );\n              webuiNavigate(`/session/start?${params.toString()}`, {\n                state: {\n                  from: {\n                    pathname: '/import',\n                    label: t('webui.menu.Import&Run'),\n                  },\n                } as SessionLauncherPageLocationState,\n              });\n            })\n            .catch(() => {});\n        }}\n      >\n        {t('import.GetAndRunNotebook')}\n      </Button>\n    </Form>\n  );\n};\n\nexport default ImportNotebook;\n","import BAICard from '../components/BAICard';\nimport ImportNotebook from '../components/ImportNotebook';\nimport { theme } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst ImportAndRunPage = () => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  return (\n    <BAICard\n      title={t('import.ImportNotebook')}\n      showDivider\n      style={{\n        maxWidth: 728,\n        marginBottom: token.paddingMD,\n      }}\n    >\n      <ImportNotebook />\n    </BAICard>\n  );\n};\n\nexport default ImportAndRunPage;\n"],"names":["CloudDownloadOutlined","props","ref","React","AntdIcon","_extends","icon","CloudDownloadOutlinedSvg","formRef","useRef","t","useTranslation","webuiNavigate","useWebUINavigate","useSuspendedBackendaiClient","_jsxs","Form","layout","requiredMark","children","_jsx","Item","name","label","rules","required","pattern","RegExp","message","type","max","style","flex","Input","placeholder","Button","onClick","_formRef$current","current","validateFields","then","values","notebookURL","url","replace","launcherValue","sessionName","generateRandomString","environments","environment","bootstrap_script","params","URLSearchParams","set","JSON","stringify","runtime","filename","split","pop","toString","state","from","pathname","catch","ImportAndRunPage","token","theme","useToken","BAICard","title","showDivider","maxWidth","marginBottom","paddingMD","ImportNotebook"],"sourceRoot":""}