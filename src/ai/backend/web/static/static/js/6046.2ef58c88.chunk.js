"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[6046],{16046:(e,n,a)=>{a.r(n),a.d(n,{default:()=>p});var l=a(19885);const s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"project_id"},n={defaultValue:null,kind:"LocalArgument",name:"sessionId"},a=[{kind:"Variable",name:"id",variableName:"sessionId"},{kind:"Variable",name:"project_id",variableName:"project_id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null};return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContainerLogModalFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_hostname",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"b1843ec8c1cd80c5fbc8ff362877bf6e",id:null,metadata:{},name:"ContainerLogModalWithLazyQueryLoaderQuery",operationKind:"query",text:"query ContainerLogModalWithLazyQueryLoaderQuery(\n  $sessionId: GlobalIDField!\n  $project_id: UUID!\n) {\n  compute_session_node(id: $sessionId, project_id: $project_id) {\n    ...ContainerLogModalFragment\n    id\n  }\n}\n\nfragment ContainerLogModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        id\n        row_id\n        container_id\n        cluster_idx\n        cluster_role\n        cluster_hostname\n      }\n    }\n  }\n}\n"}}}();s.hash="6c9b5934d5fea075e571c13b1c070bd1";const o=s;var i=a(71526),r=a(33162),t=a(63872),d=a(89737),u=a(66906);const c=e=>{let{sessionId:n,open:a,loading:l,onRequestClose:s}=e;const c=(0,i.hd)(),{compute_session_node:g}=(0,d.useLazyLoadQuery)(o,{sessionId:n,project_id:c.id},{fetchPolicy:n?"network-only":"store-only"});return(0,u.jsx)(t.Xc,{children:(0,u.jsx)(r.A,{sessionFrgmt:g||null,open:a,loading:l,onCancel:()=>{s&&s()}})})};var g=a(2251),m=a(66610),y=a(83203);const p=()=>{const[e,n]=(0,y.useQueryParam)("sessionDetail",y.StringParam),[a,s]=(0,m.useState)(),[o,i]=(0,m.useTransition)(),r=(0,l.CX)();(0,m.useEffect)((()=>{const e=e=>{i((()=>{s(e.detail)}))};return document.addEventListener("bai-open-session-log",e),()=>{document.removeEventListener("bai-open-session-log",e)}}),[i,s]);const d=null===r||void 0===r?void 0:r.supports("session-node");return(0,u.jsxs)(u.Fragment,{children:[d?(0,u.jsx)(t.Xc,{children:(0,u.jsx)(g.A,{open:!!e,sessionId:e||void 0,onClose:()=>{n(null,"replaceIn")}})}):null,(0,u.jsx)(c,{open:!!a||o,loading:o,sessionId:a,onRequestClose:()=>{s(void 0)}})]})}}}]);
//# sourceMappingURL=6046.2ef58c88.chunk.js.map