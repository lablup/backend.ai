"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2021],{83557:(e,t,s)=>{s.d(t,{A:()=>O});var i=s(40005),n=s(234),r=s(8334),l=s(71509),o=s(17707),a=s(89881),c=s(11753),u=s(45045),d=s(43749),g=s.n(d),p=s(21481),h=s(66845);const m=(0,c.rU)((e=>{let{css:t}=e;return{baiSettingItemCheckbox:t`
    .ant-checkbox {
      align-self: flex-start;
      margin-top: 0.2rem;
    }
  `}})),x=e=>{let{"data-testid":t,type:s,title:i,description:c,children:d,defaultValue:p,value:x,selectProps:y,onChange:v,disabled:b}=e;const{token:j}=n.A.useToken(),{styles:S}=m();return(0,h.jsxs)(u.OO,{"data-testid":t,direction:"column",align:"start",gap:"xxs",children:[(0,h.jsxs)(u.OO,{direction:"row",gap:"xxs",children:[(0,h.jsx)(r.A.Text,{strong:!0,style:{fontSize:j.fontSize},children:i}),!b&&void 0!==x&&null!==x&&p!==x&&(0,h.jsx)(l.A,{dot:!0,status:"warning"})]}),"custom"===s&&(0,h.jsxs)(u.OO,{direction:"column",gap:"xs",align:"start",style:{width:"100%"},children:[c,d]}),"checkbox"===s&&(0,h.jsx)(o.A,{checked:x,onChange:v,disabled:b,className:S.baiSettingItemCheckbox,children:(0,h.jsx)(r.A.Text,{type:b?"secondary":void 0,children:c})}),"select"===s&&(0,h.jsxs)(h.Fragment,{children:[c,(0,h.jsx)(a.A,{value:x,popupMatchSelectWidth:!1,onChange:v,disabled:b,style:{marginTop:j.marginXS,...null===y||void 0===y?void 0:y.style},...g().omit(y,["style"])})]})]})};var y=s(83525),v=s(95056),b=s(60854),j=s(60402),S=s(73017),f=s(84910),k=s(14373),_=s(54575),A=s(51569);const T=(0,c.rU)((e=>{let{css:t}=e;return{TabStyles:t`
    .ant-tabs-tab-active {
      font-weight: var(--token-fontWeightSuperStrong, 700);
    }
    .ant-typography-secondary {
      font-weight: normal !important;
    }
  `}})),w=e=>{let{title:t,count:s}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A.Text,{children:t}),(0,h.jsx)(r.A.Text,{type:"secondary",children:` (${s})`})]})},C=e=>{let{group:t,hideEmpty:s=!0,...i}=e;const{token:l}=n.A.useToken();return(!s||0!==t.settingItems.length)&&(0,h.jsxs)(u.OO,{direction:"column",align:"stretch",style:{marginBottom:l.marginMD},...i,children:[(0,h.jsxs)(u.OO,{direction:"column",align:"stretch",style:{zIndex:1,marginBottom:l.marginMD,background:l.colorBgContainer},children:[(0,h.jsx)(u.OO,{align:"start",justify:"between",children:(0,h.jsxs)(u.OO,{gap:"sm",align:"start",children:[(0,h.jsx)(r.A.Title,{level:5,style:{marginTop:0},children:t.title}),t.titleExtra&&(0,h.jsx)("div",{children:t.titleExtra})]})}),(0,h.jsx)(j.A,{style:{marginTop:0,marginBottom:0}}),t.description&&(0,h.jsx)(r.A.Text,{type:"secondary",style:{marginTop:l.marginSM},children:t.description})]}),(0,h.jsxs)(u.OO,{direction:"column",align:"stretch",gap:"lg",children:[t.alert,t.settingItems.map(((e,t)=>(0,h.jsx)(x,{...e},e.title+t)))]})]})},O=e=>{const t=(0,i.c)(96),{settingGroups:s,tabDirection:n,showChangedOptionFilter:r,showResetButton:l,showSearchBar:a,primaryButton:c,extraButton:d}=e,m=void 0===n?"left":n,{t:x}=(0,A.Bd)(),{styles:j}=T(),[O,D]=(0,p.useState)(""),[R,B]=(0,p.useState)(!1),[M,U]=(0,b.A)(!1),{toggle:E}=U,[N,q]=(0,p.useState)("all");let G;t[0]!==O?(G=e=>e.title.toLowerCase().includes(O.toLowerCase())||"string"===typeof e.description&&e.description.toLowerCase().includes(O.toLowerCase()),t[0]=O,t[1]=G):G=t[1];const L=G,$=F;let H,W,z,J,X,K,Y,Q,Z,ee,te,se,ie,ne,re,le,oe,ae,ce,ue,de,ge,pe,he;if(t[2]!==N||t[3]!==R||t[4]!==d||t[5]!==c||t[6]!==O||t[7]!==L||t[8]!==E||t[9]!==s||t[10]!==r||t[11]!==l||t[12]!==a||t[13]!==j.TabStyles||t[14]!==x||t[15]!==m){let e;t[28]!==R||t[29]!==L?(e=e=>({...e,settingItems:g().filter(e.settingItems,(e=>(!R||$(e))&&L(e)))}),t[28]=R,t[29]=L,t[30]=e):e=t[30];const i=g().map(s,e);let n,p,b,_,A;W=u.OO,z="column",J="md",X="stretch",t[31]!==O||t[32]!==a||t[33]!==x?(n=!!a&&(0,h.jsx)(S.A,{prefix:(0,h.jsx)(y.A,{}),placeholder:x("settings.SearchPlaceholder"),onChange:e=>D(e.target.value),value:O}),t[31]=O,t[32]=a,t[33]=x,t[34]=n):n=t[34],t[35]!==r||t[36]!==x?(p=!!r&&(0,h.jsx)(o.A,{onChange:e=>B(e.target.checked),style:{whiteSpace:"nowrap"},children:x("settings.ShowOnlyChanged")}),t[35]=r,t[36]=x,t[37]=p):p=t[37],t[38]!==E||t[39]!==l||t[40]!==x?(b=!!l&&(0,h.jsx)(u.Fv,{icon:(0,h.jsx)(v.A,{}),onClick:()=>E(),children:x("button.Reset")}),t[38]=E,t[39]=l,t[40]=x,t[41]=b):b=t[41],t[42]!==d||t[43]!==c||t[44]!==n||t[45]!==p||t[46]!==b?(K=(0,h.jsxs)(u.OO,{justify:"start",gap:"xs",children:[n,p,d,b,c]}),t[42]=d,t[43]=c,t[44]=n,t[45]=p,t[46]=b,t[47]=K):K=t[47],H=f.A,Y=N,Q=q,Z=j.TabStyles,ee=m?"left":"top",t[48]===Symbol.for("react.memo_cache_sentinel")?(te={minWidth:200},t[48]=te):te=t[48],t[49]!==x?(_=x("general.All"),t[49]=x,t[50]=_):_=t[50],t[51]!==E||t[52]!==x?(A=(e,t)=>({key:`index${t}`,label:(0,h.jsx)(w,{title:e.title,count:e.settingItems.length}),children:(0,h.jsx)(u.OO,{direction:"column",align:"stretch",gap:"xl",children:e.settingItems.length>0?(0,h.jsx)(C,{group:e,hideEmpty:!0,onReset:()=>{E()}}):(0,h.jsx)(k.A,{image:k.A.PRESENTED_IMAGE_SIMPLE,description:x("settings.NoChangesToDisplay")})})}),t[51]=E,t[52]=x,t[53]=A):A=t[53],se=[{key:"all",label:(0,h.jsx)(w,{title:_,count:g().sumBy(i,I)}),children:(0,h.jsx)(u.OO,{direction:"column",align:"stretch",gap:"xl",children:g().sumBy(i,V)>0?g().map(i,(e=>(0,h.jsx)(C,{"data-testid":null===e||void 0===e?void 0:e["data-testid"],group:e,hideEmpty:!0,onReset:()=>{E()}},e.title))):(0,h.jsx)(k.A,{image:k.A.PRESENTED_IMAGE_SIMPLE,description:x("settings.NoChangesToDisplay")})})},...g().map(i,A)],t[2]=N,t[3]=R,t[4]=d,t[5]=c,t[6]=O,t[7]=L,t[8]=E,t[9]=s,t[10]=r,t[11]=l,t[12]=a,t[13]=j.TabStyles,t[14]=x,t[15]=m,t[16]=H,t[17]=W,t[18]=z,t[19]=J,t[20]=X,t[21]=K,t[22]=Y,t[23]=Q,t[24]=Z,t[25]=ee,t[26]=te,t[27]=se}else H=t[16],W=t[17],z=t[18],J=t[19],X=t[20],K=t[21],Y=t[22],Q=t[23],Z=t[24],ee=t[25],te=t[26],se=t[27];return t[54]!==H||t[55]!==Y||t[56]!==Q||t[57]!==Z||t[58]!==ee||t[59]!==te||t[60]!==se?(ie=(0,h.jsx)(H,{activeKey:Y,onChange:Q,className:Z,tabPosition:ee,tabBarStyle:te,items:se}),t[54]=H,t[55]=Y,t[56]=Q,t[57]=Z,t[58]=ee,t[59]=te,t[60]=se,t[61]=ie):ie=t[61],t[62]!==W||t[63]!==z||t[64]!==J||t[65]!==X||t[66]!==K||t[67]!==ie?(ne=(0,h.jsxs)(W,{direction:z,gap:J,align:X,children:[K,ie]}),t[62]=W,t[63]=z,t[64]=J,t[65]=X,t[66]=K,t[67]=ie,t[68]=ne):ne=t[68],t[69]!==x?(re=x("dialog.ask.DoYouWantToResetChanges"),t[69]=x,t[70]=re):re=t[70],t[71]!==x?(le=x("button.Reset"),t[71]=x,t[72]=le):le=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(oe={danger:!0},t[73]=oe):oe=t[73],t[74]!==E||t[75]!==s?(ae=()=>{P(s),E()},t[74]=E,t[75]=s,t[76]=ae):ae=t[76],t[77]!==x?(ce=x("button.Cancel"),t[77]=x,t[78]=ce):ce=t[78],t[79]!==E?(ue=()=>E(),t[79]=E,t[80]=ue):ue=t[80],t[81]!==x?(de=x("dialog.warning.CannotBeUndone"),t[81]=x,t[82]=de):de=t[82],t[83]!==de?(ge=(0,h.jsx)(_.A,{showIcon:!0,message:de,type:"warning"}),t[83]=de,t[84]=ge):ge=t[84],t[85]!==M||t[86]!==re||t[87]!==le||t[88]!==ae||t[89]!==ce||t[90]!==ue||t[91]!==ge?(pe=(0,h.jsx)(u.Ib,{open:M,title:re,okText:le,okButtonProps:oe,onOk:ae,cancelText:ce,onCancel:ue,children:ge}),t[85]=M,t[86]=re,t[87]=le,t[88]=ae,t[89]=ce,t[90]=ue,t[91]=ge,t[92]=pe):pe=t[92],t[93]!==ne||t[94]!==pe?(he=(0,h.jsxs)(h.Fragment,{children:[ne,pe]}),t[93]=ne,t[94]=pe,t[95]=he):he=t[95],he},P=e=>{g().flatMap(e,(e=>e.settingItems)).forEach((e=>{!e.disabled&&(null===e||void 0===e?void 0:e.setValue)&&e.setValue(e.defaultValue)}))};function F(e){return null!==e.value&&void 0!==e.value&&!e.disabled&&e.value!==e.defaultValue}function I(e){return e.settingItems.length}function V(e){return e.settingItems.length}},92021:(e,t,s)=>{s.r(t),s.d(t,{default:()=>z});var i=s(43224),n=s(28380),r=s(76324),l=s(52688),o=s(40370),a=s(26918),c=s(17707),u=s(45045),d=s(21481),g=s(51569),p=s(66845);const h=e=>{let{onRequestClose:t,open:s}=e;const{t:h}=(0,g.Bd)(),{message:m}=l.A.useApp(),x=(0,d.useRef)(null),[y,v]=(0,d.useState)(!1),b=(0,i.CX)(),{isFetching:j}=(0,n.nN)({queryKey:["mtu"],queryFn:async()=>{var e;const{result:t}=await b.setting.get("network/overlay/mtu");return null===(e=x.current)||void 0===e||e.setFieldsValue({mtu:t,mtu_checkbox:null===t||void 0===t||""===t}),t},enabled:s});return(0,p.jsx)(u.Ib,{open:s,title:(0,p.jsxs)(u.OO,{gap:"xxs",children:[h("settings.OverlayNetworkSettings"),(0,p.jsx)(r.A,{title:h("settings.OverlayNetworkSettingsDescription")})]}),onCancel:t,confirmLoading:y,centered:!0,width:"auto",okText:h("button.Save"),onOk:()=>{x.current&&x.current.validateFields().then((async e=>{try{if(e.mtu_checkbox){v(!0);const{result:e}=await b.setting.delete("network/overlay/mtu",!0);if("ok"!==e)throw new Error;m.success(h("notification.SuccessfullyUpdated")),t()}else{v(!0);const{result:s}=await b.setting.set("network/overlay/mtu",e.mtu);if("ok"!==s)throw new Error;m.success(h("notification.SuccessfullyUpdated")),t()}}catch(i){var s;m.error(null!==(s=null===i||void 0===i?void 0:i.message)&&void 0!==s?s:h("settings.FailedToSaveSettings"))}finally{v(!1)}})).catch((()=>{}))},cancelText:h("button.Cancel"),destroyOnHidden:!0,children:(0,p.jsx)(o.A,{ref:x,layout:"vertical",children:(0,p.jsx)(o.A.Item,{label:"MTU",tooltip:h("settings.MTUDescription"),required:!0,children:(0,p.jsxs)(u.OO,{gap:"sm",align:"center",children:[(0,p.jsx)(o.A.Item,{noStyle:!0,dependencies:["mtu_checkbox"],children:()=>{var e;return(0,p.jsx)(o.A.Item,{noStyle:!0,name:"mtu",rules:[{validator:(e,t)=>{var s;return!0===(null===(s=x.current)||void 0===s?void 0:s.getFieldValue("mtu_checkbox"))?Promise.resolve():void 0===t||null===t?Promise.reject(h("data.explorer.ValueRequired")):Promise.resolve()}}],children:(0,p.jsx)(a.A,{style:{flex:1},min:0,max:15e3,disabled:!0===(null===(e=x.current)||void 0===e?void 0:e.getFieldValue("mtu_checkbox"))||j})})}}),(0,p.jsx)(o.A.Item,{noStyle:!0,name:"mtu_checkbox",valuePropName:"checked",children:(0,p.jsx)(c.A,{disabled:j,onChange:e=>{var t;e.target.checked&&(null===(t=x.current)||void 0===t||t.setFieldsValue({mtu:null}))},children:h("settings.Unset")})})]})})})})};var m=s(234),x=s(8334),y=s(89881),v=s(31472);const b=e=>{let{onRequestClose:t,open:s}=e;const{t:n}=(0,g.Bd)(),[c,h]=(0,d.useState)(!1),[b,j]=(0,d.useState)(!1),S=(0,d.useRef)(null),{token:f}=m.A.useToken(),k=(0,i.CX)(),{message:_}=l.A.useApp();return(0,p.jsx)(u.Ib,{title:(0,p.jsxs)(u.OO,{align:"center",gap:"xxs",children:[n("settings.ConfigPerJobSchduler"),(0,p.jsx)(r.A,{title:n("settings.ConfigPerJobSchdulerDescription")})]}),confirmLoading:c,open:s,centered:!0,width:"auto",onCancel:t,onOk:()=>{S.current&&S.current.validateFields().then((async e=>{const s=e.schedulerType,i=e.num_retries_to_skip;try{if(e.num_retries_to_skip_checkbox){h(!0);const{result:e}=await k.setting.delete(`plugins/scheduler/${s}/num_retries_to_skip`,!0);if("ok"!==e)throw new Error;_.success(n("notification.SuccessfullyUpdated")),t()}else{if("fifo"!==s&&"0"!==i)throw new Error(n("settings.FifoOnly"));h(!0);const{result:e}=await k.setting.set(`plugins/scheduler/${s}/num_retries_to_skip`,i);if("ok"!==e)throw new Error;_.success(n("notification.SuccessfullyUpdated")),t()}}catch(l){var r;_.error(null!==(r=null===l||void 0===l?void 0:l.message)&&void 0!==r?r:n("settings.FailedToSaveSettings"))}finally{h(!1)}})).catch((()=>{}))},cancelText:n("button.Cancel"),okText:n("button.Save"),okButtonProps:{type:"primary"},destroyOnHidden:!0,children:(0,p.jsxs)(o.A,{ref:S,layout:"vertical",children:[(0,p.jsx)(o.A.Item,{label:n("settings.Scheduler"),name:"schedulerType",required:!0,rules:[{required:!0,message:n("settings.SchedulerRequired")}],extra:(0,p.jsx)(x.A.Text,{type:"secondary",style:{fontSize:f.fontSizeSM},children:n("settings.SchedulerSelectComment")}),children:(0,p.jsx)(y.A,{loading:b,popupMatchSelectWidth:!1,onChange:e=>{null!==e&&(j(!0),k.setting.get(`plugins/scheduler/${e}/num_retries_to_skip`).then((e=>{var t;null===(t=S.current)||void 0===t||t.setFieldsValue({num_retries_to_skip:e.result,num_retries_to_skip_checkbox:null===e.result})})).finally((()=>{j(!1)})))},options:[{label:"FIFO",value:"fifo"},{label:"LIFO",value:"lifo"},{label:"DRF",value:"drf"}]})}),(0,p.jsxs)(u.OO,{direction:"column",align:"start",style:{width:"100%"},children:[(0,p.jsx)(x.A.Text,{strong:!0,children:n("settings.SchedulerOptions")}),(0,p.jsx)(o.A.Item,{label:n("settings.SessionCreationRetries"),required:!0,style:{width:"100%"},children:(0,p.jsxs)(u.OO,{gap:"sm",align:"center",style:{width:"100%"},children:[(0,p.jsx)(o.A.Item,{noStyle:!0,dependencies:["schedulerType","num_retries_to_skip_checkbox"],style:{width:"100%"},children:()=>{var e,t;return(0,p.jsx)(o.A.Item,{noStyle:!0,name:"num_retries_to_skip",rules:[{validator:(e,t)=>{var s;return!0===(null===(s=S.current)||void 0===s?void 0:s.getFieldValue("num_retries_to_skip_checkbox"))?Promise.resolve():void 0===t||null===t?Promise.reject(n("data.explorer.ValueRequired")):Promise.resolve()}}],children:(0,p.jsx)(a.A,{min:0,max:1e3,disabled:!0===(null===(e=S.current)||void 0===e?void 0:e.getFieldValue("num_retries_to_skip_checkbox"))||void 0===(null===(t=S.current)||void 0===t?void 0:t.getFieldValue("schedulerType"))||b,style:{flex:1}})})}}),(0,p.jsx)(o.A.Item,{noStyle:!0,dependencies:["schedulerType"],children:()=>{var e;return(0,p.jsx)(o.A.Item,{noStyle:!0,name:"num_retries_to_skip_checkbox",valuePropName:"checked",children:(0,p.jsx)(v.A,{disabled:void 0===(null===(e=S.current)||void 0===e?void 0:e.getFieldValue("schedulerType"))||b,onChange:e=>{var t;e.target.checked&&(null===(t=S.current)||void 0===t||t.setFieldsValue({num_retries_to_skip:null}))},children:n("settings.Unset")})})}})]})})]})]})})};var j=s(83557),S=s(78125),f=s(60854),k=s(93685),_=s(54575);const A={image_pulling_behavior:"digest",cuda_gpu:!1,cuda_fgpu:!1,rocm_gpu:!1,tpu:!1,ipu:!1,atom:!1,atom_plus:!1,atom_max:!1,gaudi2:!1,warboy:!1,rngd:!1,hyperaccel_lpu:!1,schedulerType:"fifo",scheduler:{num_retries_to_skip:"0"},network:{mtu:""}},T={"cuda.device":"cuda_gpu","cuda.shares":"cuda_fgpu","rocm.device":"rocm_gpu","tpu.device":"tpu","ipu.device":"ipu","atom.device":"atom","atom-plus.device":"atom_plus","atom-max.device":"atom_max","warboy.device":"warboy","rngd.device":"rngd","hyperaccel-lpu.device":"hyperaccel_lpu"},w=()=>{const{t:e}=(0,g.Bd)(),[t,{toggle:s}]=(0,f.A)(!1),[n,{toggle:r}]=(0,f.A)(!1),[o,a]=(0,d.useState)({...A}),c=(0,i.CX)(),{message:u}=l.A.useApp(),m=async()=>{const{result:e}=await c.setting.get("docker/image/auto_pull");a(null===e||"digest"===e?e=>({...e,image_pulling_behavior:"digest"}):"tag"===e?e=>({...e,image_pulling_behavior:"tag"}):e=>({...e,image_pulling_behavior:"none"}))},x=async t=>{if(t!==o.image_pulling_behavior)try{const{result:s}=await c.setting.set("docker/image/auto_pull",t);"ok"===s?(m(),u.success(e("notification.SuccessfullyUpdated"))):u.error(e("settings.FailedToSaveSettings"))}catch(s){u.error(e("settings.FailedToSaveSettings"))}};(0,d.useEffect)((()=>{Promise.all([m(),c.get_resource_slots().then((e=>{a((t=>({...t,...Object.fromEntries(Object.keys(T).map((t=>[T[t],t in e])))})))}))])}),[]);const y=[{"data-testid":"settings-general",title:e("settings.General"),settingItems:[{type:"select",title:e("settings.ImagePullBehavior"),description:e("settings.DescImagePullBehavior"),selectProps:{options:[{label:e("settings.image.Digest"),value:"digest"},{label:e("settings.image.Tag"),value:"tag"},{label:e("settings.image.None"),value:"none"}]},setValue:e=>x(e),defaultValue:A.image_pulling_behavior,value:o.image_pulling_behavior,onChange:e=>x(e)},{type:"custom",title:e("settings.OverlayNetwork"),description:e("settings.OverlayNetworkConfiguration"),children:(0,p.jsx)(k.Ay,{icon:(0,p.jsx)(S.A,{}),onClick:s,children:e("settings.Config")})},{type:"custom",title:e("settings.Scheduler"),description:e("settings.SchedulerConfiguration"),children:(0,p.jsx)(k.Ay,{icon:(0,p.jsx)(S.A,{}),onClick:r,children:e("settings.Config")})}]},{"data-testid":"settings-plugins",title:e("settings.Plugins"),description:(0,p.jsx)(_.A,{message:e("settings.NoteAboutFixedSetup"),type:"info",showIcon:!0}),settingItems:[{type:"checkbox",title:e("settings.OpenSourceCudaGPUSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescCudaGPUSupport")," ",o.cuda_fgpu&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),e("settings.CUDAGPUdisabledByFGPUsupport")]})]}),value:o.cuda_gpu,defaultValue:A.cuda_gpu,disabled:!0},{type:"checkbox",title:e("settings.ROCMGPUSupport"),description:e("settings.DescRocmGPUSupport"),value:o.rocm_gpu,defaultValue:A.rocm_gpu,disabled:!0}]},{"data-testid":"settings-enterprise",title:e("settings.EnterpriseFeatures"),description:(0,p.jsx)(_.A,{message:e("settings.NoteAboutFixedSetup"),type:"info",showIcon:!0}),settingItems:[{type:"checkbox",title:e("settings.FractionalGPU"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescFractionalGPU"),(0,p.jsx)("br",{}),e("settings.RequireFGPUPlugin")]}),value:o.cuda_fgpu,defaultValue:A.cuda_fgpu,disabled:!0},{type:"checkbox",title:e("settings.TPU"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescTPU"),(0,p.jsx)("br",{}),e("settings.RequireTPUPlugin")]}),value:o.tpu,defaultValue:A.tpu,disabled:!0},{type:"checkbox",title:e("settings.IPUSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescIPUSupport"),(0,p.jsx)("br",{}),e("settings.RequireTPUPlugin")]}),value:o.ipu,defaultValue:A.ipu,disabled:!0},{type:"checkbox",title:e("settings.ATOMSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescATOMSupport"),(0,p.jsx)("br",{}),e("settings.RequireATOMPlugin")]}),value:o.atom,defaultValue:A.atom,disabled:!0},{type:"checkbox",title:e("settings.ATOMPlusSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescATOMPlusSupport"),(0,p.jsx)("br",{}),e("settings.RequireATOMPlusPlugin")]}),value:o.atom_plus,defaultValue:A.atom_plus,disabled:!0},{type:"checkbox",title:e("settings.ATOMMaxSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescATOMMaxSupport"),(0,p.jsx)("br",{}),e("settings.RequireATOMMaxPlugin")]}),value:o.atom_max,defaultValue:A.atom_max,disabled:!0},{type:"checkbox",title:e("settings.Gaudi2Support"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescGaudi2Support"),(0,p.jsx)("br",{}),e("settings.RequireGaudi2Plugin")]}),value:o.gaudi2,defaultValue:A.gaudi2,disabled:!0},{type:"checkbox",title:e("settings.WarboySupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescWarboySupport"),(0,p.jsx)("br",{}),e("settings.RequireWarboyPlugin")]}),value:o.warboy,defaultValue:A.warboy,disabled:!0},{type:"checkbox",title:e("settings.RNGDSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescRNGDSupport"),(0,p.jsx)("br",{}),e("settings.RequireRNGDPlugin")]}),value:o.rngd,defaultValue:A.rngd,disabled:!0},{type:"checkbox",title:e("settings.HyperaccelLPUSupport"),description:(0,p.jsxs)(p.Fragment,{children:[e("settings.DescHyperaccelLPUSupport"),(0,p.jsx)("br",{}),e("settings.RequireHyperaccelLPUPlugin")]}),value:o.hyperaccel_lpu,defaultValue:A.hyperaccel_lpu,disabled:!0}]}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.A,{settingGroups:y,showSearchBar:!0,showChangedOptionFilter:!0,showResetButton:!0}),(0,p.jsx)(h,{onRequestClose:s,open:t}),(0,p.jsx)(b,{onRequestClose:r,open:n})]})};var C=s(41996),O=s(77264),P=s(78890),F=s(75182),I=s(54028),V=s(40005),D=s(62181),R=s(57442),B=s(84928),M=s(43749),U=s.n(M),E=s(60370),N=s(497);const q=e=>{const t=(0,V.c)(44),{tokenName:s}=e,{t:i}=(0,g.Bd)(),{token:n}=m.A.useToken(),[r,l]=(0,N.q)("custom_theme_config"),o=(0,E.M)();let a;var c;t[0]!==o||t[1]!==s||t[2]!==r?(a=null===(c=U().get(r,`light.${s}`)||U().get(o,`light.${s}`))||void 0===c?void 0:c.toString(),t[0]=o,t[1]=s,t[2]=r,t[3]=a):a=t[3];const d=a;let h;var x;t[4]!==o||t[5]!==s||t[6]!==r?(h=null===(x=U().get(r,`dark.${s}`)||U().get(o,`dark.${s}`))||void 0===x?void 0:x.toString(),t[4]=o,t[5]=s,t[6]=r,t[7]=h):h=t[7];const y=h;let v,b,j,S,f,k,_,A,T,w,C,O;return t[8]===Symbol.for("react.memo_cache_sentinel")?(v={alignSelf:"stretch"},t[8]=v):v=t[8],t[9]!==n.colorTextTertiary?(b={color:n.colorTextTertiary},t[9]=n.colorTextTertiary,t[10]=b):b=t[10],t[11]!==i?(j=i("userSettings.LightMode"),t[11]=i,t[12]=j):j=t[12],t[13]!==l||t[14]!==o||t[15]!==s||t[16]!==r?(S=e=>{const t=e.toHexString(),i=U().cloneDeep({...o,...r});U().set(i,`light.${s}`,t),l(i)},t[13]=l,t[14]=o,t[15]=s,t[16]=r,t[17]=S):S=t[17],t[18]!==d||t[19]!==S?(f=(0,p.jsx)(D.A,{format:"hex",showText:!0,value:d,onChangeComplete:S}),t[18]=d,t[19]=S,t[20]=f):f=t[20],t[21]!==b||t[22]!==j||t[23]!==f?(k=(0,p.jsx)(R.A,{span:6,children:(0,p.jsxs)(u.OO,{gap:"sm",style:b,children:[j,":",f]})}),t[21]=b,t[22]=j,t[23]=f,t[24]=k):k=t[24],t[25]!==n.colorTextTertiary?(_={color:n.colorTextTertiary},t[25]=n.colorTextTertiary,t[26]=_):_=t[26],t[27]!==i?(A=i("userSettings.DarkMode"),t[27]=i,t[28]=A):A=t[28],t[29]!==l||t[30]!==o||t[31]!==s||t[32]!==r?(T=e=>{const t=e.toHexString(),i=U().cloneDeep({...o,...r});U().set(i,`dark.${s}`,t),l(i)},t[29]=l,t[30]=o,t[31]=s,t[32]=r,t[33]=T):T=t[33],t[34]!==y||t[35]!==T?(w=(0,p.jsx)(D.A,{format:"hex",showText:!0,value:y,onChangeComplete:T}),t[34]=y,t[35]=T,t[36]=w):w=t[36],t[37]!==A||t[38]!==w||t[39]!==_?(C=(0,p.jsx)(R.A,{span:6,children:(0,p.jsxs)(u.OO,{gap:"sm",style:_,children:[A,":",w]})}),t[37]=A,t[38]=w,t[39]=_,t[40]=C):C=t[40],t[41]!==C||t[42]!==k?(O=(0,p.jsx)(u.OO,{align:"stretch",direction:"column",style:v,children:(0,p.jsxs)(B.A,{gutter:16,children:[k,C]})}),t[41]=C,t[42]=k,t[43]=O):O=t[43],O};var G=s(20410),L=s(20465);const $=()=>{const{t:e}=(0,g.Bd)(),{message:t}=l.A.useApp(),[s,i]=(0,N.q)("custom_theme_config"),n=[{"data-testid":"group-theme-customization",title:e("userSettings.Theme"),titleExtra:(0,p.jsx)(u.Fv,{size:"small",action:async()=>{const e=window.open(window.location.origin,"_blank");null===e||void 0===e||e.sessionStorage.setItem("isThemePreviewMode","true"),null===e||void 0===e||e.location.reload()},children:e("userSettings.theme.Preview")}),settingItems:[{type:"custom",title:e("userSettings.theme.PrimaryColor"),description:e("userSettings.theme.PrimaryColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorPrimary"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.HeaderBg"),description:e("userSettings.theme.HeaderBgDesc"),children:(0,p.jsx)(q,{tokenName:"components.Layout.headerBg"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.LinkColor"),description:e("userSettings.theme.LinkColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorLink"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.InfoColor"),description:e("userSettings.theme.InfoColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorInfo"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.ErrorColor"),description:e("userSettings.theme.ErrorColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorError"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.SuccessColor"),description:e("userSettings.theme.SuccessColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorSuccess"}),defaultValue:{},setValue:i},{type:"custom",title:e("userSettings.theme.TextColor"),description:e("userSettings.theme.TextColorDesc"),children:(0,p.jsx)(q,{tokenName:"token.colorText"}),defaultValue:{},setValue:i}]}];return(0,p.jsxs)(u.OO,{direction:"column",gap:"md",align:"stretch",children:[(0,p.jsx)(I.A,{description:e("userSettings.theme.CustomThemeSettingAlert"),type:"warning",showIcon:!0}),(0,p.jsx)(j.A,{showSearchBar:!0,showResetButton:!0,settingGroups:n,primaryButton:(0,p.jsx)(u.Fv,{type:"primary",icon:(0,p.jsx)(G.A,{}),action:async()=>{if(U().isEmpty(s))return void t.error(e("userSettings.theme.NoChangesMade"));const i=new Blob([JSON.stringify(s,null,2)],{type:"application/json"});(0,L.WN)(i,"theme.json")},children:e("theme.button.ExportToJson")})})]})};var H=s(7927);const W=(0,H.withDefault)(H.StringParam,"configurations"),z=()=>{const{t:e}=(0,g.Bd)(),[t,s]=(0,H.useQueryParam)("tab",W),[i]=(0,C.A)("isThemePreviewMode",{defaultValue:!1});return(0,p.jsx)(O.A,{activeTabKey:t,onTabChange:e=>s(e),tabList:(0,u.YM)([{key:"configurations",tab:e("webui.menu.Configurations")},!i&&{key:"branding",tab:e("webui.menu.Branding")}]),children:(0,p.jsxs)(d.Suspense,{fallback:(0,p.jsx)(P.A,{active:!0}),children:["configurations"===t&&(0,p.jsx)(F.A,{children:(0,p.jsx)(w,{})}),"branding"===t&&(0,p.jsx)(F.A,{children:(0,p.jsx)($,{})})]})})}}}]);
//# sourceMappingURL=2021.92834325.chunk.js.map