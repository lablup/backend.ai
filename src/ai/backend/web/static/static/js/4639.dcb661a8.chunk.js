"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4639],{44639:(e,l,r)=>{r.r(l),r.d(l,{default:()=>w});var n,a=r(58879),d=r(51593),o=r(94126),i=r(89130),t=r(64703),s=r(50817),c=r(41967),u=r(92213),v=r(50868),f=r(42042),p=r(34948),m=r(60822),x=r(32141),g=r(46113),y=r(33789),k=r(85690),b=r(59286),h=r(43373),A=r(56762),j=r(88522),F=r(73689);const D=(0,b.rU)((e=>{let{token:l,css:r}=e;return{baiModalHeader:r`
    .ant-modal-title {
      width: 100%;
      margin-right: ${l.marginXXL}px;
    }
  `}})),S=e=>{let{vfolderID:l}=e;const{token:d}=v.A.useToken(),{vfolder:o,vfolder_node:i}=(0,j.useLazyLoadQuery)(void 0!==n?n:n=r(54843),{vfolderID:l,vfolderUUID:btoa("VirtualFolderNode:"+(0,a._4)(l))},{fetchPolicy:"store-and-network"}),t=(null===o||void 0===o?void 0:o.name)||(null===i||void 0===i?void 0:i.name)||"";return(0,F.jsx)(y.A,{title:t,children:(0,F.jsx)(k.A.Title,{level:3,style:{marginTop:d.marginSM},ellipsis:!0,children:t})})},w=e=>{let{vfolderID:l,onRequestClose:r,...n}=e;const{t:a}=(0,A.Bd)(),{token:y}=v.A.useToken(),{styles:k}=D(),{lg:b}=f.Ay.useBreakpoint(),[j,w]=(0,h.useState)(!1),[I,U]=(0,h.useState)(!1),L=(0,h.useRef)(null);return(0,d.CX)(),(0,h.useEffect)((()=>{const e=e=>{w(e.detail||!1)},l=e=>{U(e.detail||!1)};return document.addEventListener("folderExplorer:connected",e),document.addEventListener("folderExplorer:columnSelected",l),()=>{document.removeEventListener("folderExplorer:connected",e),document.removeEventListener("folderExplorer:columnSelected",l)}}),[]),(0,F.jsx)(o.A,{className:k.baiModalHeader,centered:!0,width:1200,destroyOnClose:!0,footer:null,title:(0,F.jsxs)(i.A,{justify:"between",gap:y.marginMD,style:{width:"100%"},children:[(0,F.jsx)(i.A,{gap:y.marginMD,style:{flex:1},children:(0,F.jsx)(h.Suspense,{fallback:(0,F.jsx)(p.A.Input,{active:!0}),children:(0,F.jsx)(S,{vfolderID:l})})}),(0,F.jsxs)(i.A,{justify:"end",gap:y.marginSM,style:{flex:b?2:1},children:[(0,F.jsx)(m.Ay,{danger:!0,disabled:!I||!j,icon:(0,F.jsx)(t.A,{}),onClick:()=>{var e;null===(e=L.current)||void 0===e||e._openDeleteMultipleFileDialog()},children:b&&a("button.Delete")}),(0,F.jsx)(m.Ay,{disabled:!j,icon:(0,F.jsx)(s.A,{}),onClick:()=>{var e;null===(e=L.current)||void 0===e||e.openMkdirDialog()},children:b&&a("button.Create")}),(0,F.jsx)(x.A,{disabled:!j,menu:{items:[{key:"upload files",label:a("data.explorer.UploadFiles"),icon:(0,F.jsx)(c.A,{}),onClick:()=>{var e;null===(e=L.current)||void 0===e||e.handleUpload("file")}},{key:"upload folder",label:a("data.explorer.UploadFolder"),icon:(0,F.jsx)(s.A,{}),onClick:()=>{var e;null===(e=L.current)||void 0===e||e.handleUpload("folder")}}]},children:(0,F.jsx)(m.Ay,{icon:(0,F.jsx)(u.A,{}),children:b&&"Upload"})}),(0,F.jsx)(m.Ay,{icon:(0,F.jsx)(g.A,{width:"18px",src:"/resources/icons/filebrowser.svg",alt:"File Browser",preview:!1}),onClick:()=>{var e;return null===(e=L.current)||void 0===e?void 0:e._executeFileBrowser()},children:b&&a("data.explorer.ExecuteFileBrowser")}),(0,F.jsx)(m.Ay,{icon:(0,F.jsx)(g.A,{width:"18px",src:"/resources/icons/sftp.png",alt:"SSH / SFTP",preview:!1}),onClick:()=>{var e;null===(e=L.current)||void 0===e||e._executeSSHProxyAgent()},children:b&&a("data.explorer.RunSSH/SFTPserver")})]})]}),onCancel:()=>{r()},...n,children:(0,F.jsx)("backend-ai-folder-explorer",{ref:L,active:!0,vfolderID:l})})}},54843:(e,l,r)=>{r.r(l),r.d(l,{default:()=>a});const n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"vfolderID"},{defaultValue:null,kind:"LocalArgument",name:"vfolderUUID"}],l=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],r=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"vfolderID"}],concreteType:"VirtualFolder",kind:"LinkedField",name:"vfolder",plural:!1,selections:l,storageKey:null},{alias:null,args:[{kind:"Variable",name:"id",variableName:"vfolderUUID"}],concreteType:"VirtualFolderNode",kind:"LinkedField",name:"vfolder_node",plural:!1,selections:l,storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LegacyFolderExplorerVFolderNameTitleQuery",selections:r,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LegacyFolderExplorerVFolderNameTitleQuery",selections:r},params:{cacheID:"d068f3eaad8b8108353e61ba6cdf73e9",id:null,metadata:{},name:"LegacyFolderExplorerVFolderNameTitleQuery",operationKind:"query",text:'query LegacyFolderExplorerVFolderNameTitleQuery(\n  $vfolderID: String!\n  $vfolderUUID: String!\n) {\n  vfolder(id: $vfolderID) @deprecatedSince(version: "24.03.4") {\n    id\n    name\n  }\n  vfolder_node(id: $vfolderUUID) @since(version: "24.03.4") {\n    id\n    name\n  }\n}\n'}}}();n.hash="9c571e622253de1513d54bf011a863ef";const a=n}}]);
//# sourceMappingURL=4639.dcb661a8.chunk.js.map