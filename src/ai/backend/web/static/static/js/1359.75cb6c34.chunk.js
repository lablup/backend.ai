"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[1359],{31359:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var a=i(40005),n=i(43224),s=i(77703),o=i(5366),r=i(49740),c=i(234),d=i(52688),l=i(91738),v=i(8334),u=i(77419),p=i(45045),m=i(21481),f=i(51569),x=i(41633),y=i(66845);const A=e=>{const t=(0,a.c)(28),{token:i}=c.A.useToken(),{message:A}=d.A.useApp(),{t:h}=(0,f.Bd)(),[g,I]=(0,s.A)(),{acceptInvitation:_,rejectInvitation:j,updateInvitations:k}=I,b=(0,n.CX)();let S;t[0]!==b?(S=b.supports("invitation-inviter-email"),t[0]=b,t[1]=S):S=t[1];const F=S,{getErrorMessage:w}=(0,p.B7)(),{upsertNotification:M}=(0,x.js)();let T,C,D;t[2]!==k?(T=()=>{k()},C=[k],t[2]=k,t[3]=T,t[4]=C):(T=t[3],C=t[4]),(0,m.useEffect)(T,C),t[5]!==_||t[6]!==w||t[7]!==F||t[8]!==A||t[9]!==j||t[10]!==h||t[11]!==i.paddingSM||t[12]!==M?(D=e=>(0,y.jsx)(l.A.Item,{actions:[(0,y.jsx)(p.Fv,{type:"primary",action:async()=>{try{await _(e.id),A.success(h("data.invitation.SuccessfullyAcceptedInvitation")),M({key:`folder-invitation-success-${e.id}`,icon:"folder",message:`${e.vfolder_name}: ${h("data.invitation.SuccessfullyAcceptedInvitation")}`,toText:h("data.folders.OpenAFolder"),to:{search:new URLSearchParams({folder:e.vfolder_id}).toString()},open:!0})}catch(O){const t=O;if(409===(null===t||void 0===t?void 0:t.statusCode)||"vfolder_create_already-exists"===(null===t||void 0===t?void 0:t.error_code))return void A.error(h("data.FolderAlreadyExists"));A.error(w(t.message||h("data.invitation.FailedToAcceptInvitation")))}},children:h("summary.Accept")},"accept"),(0,y.jsx)(p.Fv,{danger:!0,action:async()=>{try{await j(e.id),A.success(h("data.invitation.SuccessfullyDeclinedInvitation"))}catch($){const t=$;A.error(w((null===t||void 0===t?void 0:t.message)||h("data.invitation.FailedToDeclineInvitation")))}},children:h("summary.Decline")},"decline")],style:{padding:i.paddingSM},children:(0,y.jsx)(l.A.Item.Meta,{title:(0,y.jsxs)(p.OO,{gap:"xxs",children:[(0,y.jsx)(r.A,{}),(0,y.jsx)(v.A.Text,{strong:!0,children:e.vfolder_name})]}),description:(0,y.jsx)(u.A,{size:"small",column:1,items:[{key:"from",label:h("data.From"),children:F?e.inviter_user_email:e.inviter},{key:"permission",label:h("data.Permission"),children:(0,y.jsx)(o.A,{permission:e.perm})}]})})},e.id),t[5]=_,t[6]=w,t[7]=F,t[8]=A,t[9]=j,t[10]=h,t[11]=i.paddingSM,t[12]=M,t[13]=D):D=t[13];const E=D;let O,$,B,N,P;return t[14]!==h?(O=h("data.InvitedFolders"),t[14]=h,t[15]=O):O=t[15],t[16]!==h?($=h("data.invitation.NoMoreInvitation"),t[16]=h,t[17]=$):$=t[17],t[18]!==$?(B={emptyText:$},t[18]=$,t[19]=B):B=t[19],t[20]!==g||t[21]!==E||t[22]!==B?(N=(0,y.jsx)(l.A,{dataSource:g,renderItem:E,locale:B}),t[20]=g,t[21]=E,t[22]=B,t[23]=N):N=t[23],t[24]!==e||t[25]!==O||t[26]!==N?(P=(0,y.jsx)(p.Ib,{title:O,footer:null,...e,children:N}),t[24]=e,t[25]=O,t[26]=N,t[27]=P):P=t[27],P}}}]);
//# sourceMappingURL=1359.75cb6c34.chunk.js.map