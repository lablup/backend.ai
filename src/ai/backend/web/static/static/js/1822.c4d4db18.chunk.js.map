{"version":3,"file":"static/js/1822.c4d4db18.chunk.js","mappings":"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","sources":["components/SettingItem.tsx","components/SettingList.tsx","components/MaintenanceSettingList.tsx","pages/MaintenancePage.tsx","../../node_modules/.pnpm/@ant-design+icons@5.5.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@ant-design/icons/es/icons/RedoOutlined.js"],"sourcesContent":["import Flex from './Flex';\nimport { Badge, Checkbox, Select, SelectProps, Typography, theme } from 'antd';\nimport { createStyles } from 'antd-style';\nimport React, { ReactElement, ReactNode } from 'react';\n\nexport interface SettingItemProps {\n  type: 'custom' | 'checkbox' | 'select';\n  title: string;\n  description?: string | ReactElement;\n  children?: ReactNode;\n  defaultValue?: any;\n  value?: any;\n  setValue?: (value: any) => void;\n  selectProps?: Omit<SelectProps, 'value' | 'onChange' | 'defaultValue'>;\n  onChange?: (value: any) => void;\n}\n\nconst useStyles = createStyles(({ css }) => ({\n  baiSettingItemCheckbox: css`\n    .ant-checkbox {\n      align-self: flex-start;\n      margin-top: 0.2rem;\n    }\n  `,\n}));\n\nconst SettingItem: React.FC<SettingItemProps> = ({\n  type,\n  title,\n  description,\n  children,\n  defaultValue,\n  value,\n  selectProps,\n  onChange,\n}) => {\n  const { token } = theme.useToken();\n  const { styles } = useStyles();\n\n  return (\n    <Flex direction=\"column\" align=\"start\" gap={'xxs'}>\n      <Flex direction=\"row\" gap={'xxs'}>\n        <Typography.Text\n          strong\n          style={{\n            fontSize: token.fontSize,\n          }}\n        >\n          {title}\n        </Typography.Text>\n        {value !== undefined && value !== null && defaultValue !== value && (\n          <Badge dot status=\"warning\" />\n        )}\n      </Flex>\n      {type === 'custom' && (\n        <>\n          {description}\n          {children}\n        </>\n      )}\n      {type === 'checkbox' && (\n        <Checkbox\n          checked={value}\n          onChange={onChange}\n          className={styles.baiSettingItemCheckbox}\n        >\n          {description}\n        </Checkbox>\n      )}\n      {type === 'select' && (\n        <>\n          {description}\n          <Select\n            value={value}\n            popupMatchSelectWidth={false}\n            onChange={onChange}\n            {...selectProps}\n          ></Select>\n        </>\n      )}\n    </Flex>\n  );\n};\n\nexport default SettingItem;\n","import BAIModal from './BAIModal';\nimport Flex from './Flex';\nimport SettingItem from './SettingItem';\nimport { SettingItemProps } from './SettingItem';\nimport { RedoOutlined, SearchOutlined } from '@ant-design/icons';\nimport { useToggle } from 'ahooks';\nimport {\n  Alert,\n  Button,\n  Checkbox,\n  Divider,\n  Input,\n  Tabs,\n  Typography,\n  theme,\n} from 'antd';\nimport { createStyles } from 'antd-style';\nimport _ from 'lodash';\nimport { useState, ReactNode } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = createStyles(({ css, token }) => ({\n  TabStyles: css`\n    .ant-tabs-tab-active {\n      font-weight: var(--token-fontWeightSuperStrong, 700);\n    }\n    .ant-typography-secondary {\n      font-weight: normal !important;\n    }\n  `,\n}));\n\nexport type SettingGroup = {\n  title: string;\n  description?: ReactNode;\n  settingItems: SettingItemProps[];\n};\n\ninterface SettingPageProps {\n  settingGroups: Array<SettingGroup>;\n  tabDirection?: 'top' | 'left';\n  showChangedOptionFilter?: boolean;\n  showResetButton?: boolean;\n  showSearchBar?: boolean;\n}\n\nconst TabTitle: React.FC<{\n  title: string;\n  count: number;\n}> = ({ title, count }) => {\n  return (\n    <>\n      <Typography.Text>{title}</Typography.Text>\n      <Typography.Text type=\"secondary\">{` (${count})`}</Typography.Text>\n    </>\n  );\n};\n\nconst GroupSettingItems: React.FC<{\n  group: SettingGroup;\n  hideEmpty?: boolean;\n}> = ({ group, hideEmpty }) => {\n  const { token } = theme.useToken();\n  if (hideEmpty && group.settingItems.length === 0) return false;\n  return (\n    <Flex\n      direction=\"column\"\n      align=\"stretch\"\n      style={{\n        marginBottom: token.marginMD,\n      }}\n    >\n      <Flex\n        direction=\"column\"\n        align=\"stretch\"\n        style={{\n          zIndex: 1,\n          marginBottom: token.marginMD,\n          background: token.colorBgContainer,\n        }}\n      >\n        <Typography.Title\n          level={5}\n          style={{\n            marginTop: 0,\n          }}\n        >\n          {group.title}\n        </Typography.Title>\n        <Divider style={{ marginTop: 0, marginBottom: 0 }} />\n        {group.description && (\n          <Typography.Text\n            type=\"secondary\"\n            style={{ marginTop: token.marginSM }}\n          >\n            {group.description}\n          </Typography.Text>\n        )}\n      </Flex>\n      <Flex direction=\"column\" align=\"start\" gap={'lg'}>\n        {group.settingItems.map((item, idx) => (\n          <SettingItem key={item.title + idx} {...item} />\n        ))}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst SettingList: React.FC<SettingPageProps> = ({\n  settingGroups,\n  tabDirection = 'left',\n  showChangedOptionFilter,\n  showResetButton,\n  showSearchBar,\n}) => {\n  const { t } = useTranslation();\n  const { token } = theme.useToken();\n  const { styles } = useStyles();\n  const [searchValue, setSearchValue] = useState('');\n  const [changedOptionFilter, setChangedOptionFilter] = useState(false);\n  const [isOpenResetChangesModal, { toggle: setIsOpenResetChangesModal }] =\n    useToggle(false);\n  const [activeTabKey, setActiveTabKey] = useState('all');\n\n  const searchedItemFilter = (item: SettingItemProps) => {\n    return (\n      item.title.toLowerCase().includes(searchValue.toLowerCase()) ||\n      (typeof item.description === 'string' &&\n        item.description.toLowerCase().includes(searchValue.toLowerCase()))\n    );\n  };\n\n  const changedItemValidator = (item: SettingItemProps) => {\n    if (item.value === null || item.value === undefined) {\n      return false;\n    }\n    return item.value !== item.defaultValue;\n  };\n\n  const filteredSettingGroups = _.map(settingGroups, (group) => {\n    return {\n      ...group,\n      settingItems: _.filter(\n        group.settingItems,\n        (item) =>\n          (!changedOptionFilter || changedItemValidator(item)) &&\n          searchedItemFilter(item),\n      ),\n    };\n  });\n\n  return (\n    <>\n      <Flex\n        direction=\"column\"\n        gap={'md'}\n        align=\"stretch\"\n        style={{\n          padding: token.paddingContentHorizontal,\n          maxWidth: token.screenLG,\n        }}\n      >\n        <Flex justify=\"start\" gap={'xs'}>\n          {!!showSearchBar && (\n            <Input\n              prefix={<SearchOutlined />}\n              placeholder={t('settings.SearchPlaceholder')}\n              onChange={(e) => setSearchValue(e.target.value)}\n              value={searchValue}\n            />\n          )}\n          {!!showChangedOptionFilter && (\n            <Checkbox\n              onChange={(e) => setChangedOptionFilter(e.target.checked)}\n              style={{ whiteSpace: 'nowrap' }}\n            >\n              {t('settings.ShowOnlyChanged')}\n            </Checkbox>\n          )}\n          {!!showResetButton && (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={() => setIsOpenResetChangesModal()}\n            >\n              {t('button.Reset')}\n            </Button>\n          )}\n        </Flex>\n        <Tabs\n          activeKey={activeTabKey}\n          onChange={setActiveTabKey}\n          className={styles.TabStyles}\n          tabPosition={tabDirection ? 'left' : 'top'}\n          tabBarStyle={{ minWidth: 200 }}\n          items={[\n            {\n              key: 'all',\n              label: (\n                <TabTitle\n                  title={t('general.All')}\n                  count={_.sumBy(\n                    filteredSettingGroups,\n                    (group) => group.settingItems.length,\n                  )}\n                />\n              ),\n              children: (\n                <Flex direction=\"column\" align=\"stretch\" gap={'xl'}>\n                  {_.map(filteredSettingGroups, (group) => (\n                    <GroupSettingItems\n                      key={group.title}\n                      group={group}\n                      hideEmpty\n                    />\n                  ))}\n                </Flex>\n              ),\n            },\n            ..._.map(filteredSettingGroups, (group, idx) => ({\n              key: `index${idx}`,\n              label: (\n                <TabTitle\n                  title={group.title}\n                  count={group.settingItems.length}\n                />\n              ),\n              children: (\n                <GroupSettingItems\n                  group={filteredSettingGroups[idx]}\n                  hideEmpty\n                />\n              ),\n            })),\n          ]}\n        />\n      </Flex>\n      <BAIModal\n        open={isOpenResetChangesModal}\n        title={t('dialog.ask.DoYouWantToResetChanges')}\n        okText={t('button.Reset')}\n        okButtonProps={{ danger: true }}\n        onOk={() => {\n          _.flatMap(settingGroups, (item) => item.settingItems).forEach(\n            (option) => {\n              option?.setValue && option.setValue(option.defaultValue);\n            },\n          );\n          setIsOpenResetChangesModal();\n        }}\n        cancelText={t('button.Cancel')}\n        onCancel={() => setIsOpenResetChangesModal()}\n      >\n        <Alert\n          showIcon\n          message={t('dialog.warning.CannotBeUndone')}\n          type=\"warning\"\n        />\n      </BAIModal>\n    </>\n  );\n};\n\nexport default SettingList;\n","import { useSuspendedBackendaiClient } from '../hooks';\nimport { useSetBAINotification } from '../hooks/useBAINotification';\nimport SettingList, { SettingGroup } from './SettingList';\nimport { RedoOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst MaintenanceSettingList = () => {\n  const [isRecalculating, setIsRecalculating] = useState(false);\n  const [isRescanning, setIsRescanning] = useState(false);\n\n  const { t } = useTranslation();\n  const { upsertNotification } = useSetBAINotification();\n  const baiClient = useSuspendedBackendaiClient();\n\n  const recalculateUsage = () => {\n    setIsRecalculating(true);\n\n    upsertNotification({\n      message: t('maintenance.RecalculateUsage'),\n      description: t('maintenance.Recalculating'),\n      open: true,\n      backgroundTask: {\n        status: 'pending',\n        promise: baiClient.maintenance\n          .recalculate_usage()\n          .finally(() => setIsRecalculating(false)),\n        onChange: {\n          pending: t('maintenance.Recalculating'),\n          resolved: t('maintenance.RecalculationFinished'),\n          rejected: t('maintenance.RecalculationFailed'),\n        },\n      },\n    });\n  };\n\n  const rescanImages = () => {\n    setIsRescanning(true);\n    upsertNotification({\n      message: t('maintenance.RescanImages'),\n      open: true,\n      backgroundTask: {\n        status: 'pending',\n        promise: baiClient.maintenance.rescan_images(),\n        onChange: {\n          pending: t('maintenance.RescanImageScanning'),\n          resolved: (data) => {\n            const result = data as Awaited<\n              ReturnType<typeof baiClient.maintenance.rescan_images>\n            >;\n            if (result.rescan_images.ok) {\n              return {\n                backgroundTask: {\n                  status: 'pending',\n                  taskId: result.rescan_images.task_id,\n                  promise: null,\n                  percent: 0,\n                  onChange: {\n                    resolved: (_data, _notification) => {\n                      setIsRescanning(false);\n                      return t('maintenance.RescanImageFinished');\n                    },\n                  },\n                },\n                duration: 0,\n              };\n            } else {\n              throw new Error(t('maintenance.RescanFailed'));\n            }\n          },\n          rejected: (data, _) => {\n            const error = data as Error | undefined;\n            setIsRescanning(false);\n            return error?.message || t('maintenance.RescanFailed');\n          },\n        },\n      },\n    });\n  };\n\n  const settingGroupList: Array<SettingGroup> = [\n    {\n      title: t('maintenance.Fix'),\n      settingItems: [\n        {\n          type: 'custom',\n          title: t('maintenance.MatchDatabase'),\n          description: t('maintenance.DescMatchDatabase'),\n          children: (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={recalculateUsage}\n              loading={isRecalculating}\n            >\n              {isRecalculating\n                ? t('maintenance.Recalculating')\n                : t('maintenance.RecalculateUsage')}\n            </Button>\n          ),\n        },\n      ],\n    },\n    {\n      title: t('maintenance.ImagesEnvironment'),\n      settingItems: [\n        {\n          type: 'custom',\n          title: t('maintenance.RescanImageList'),\n          description: t('maintenance.DescRescanImageList'),\n          children: (\n            <Button\n              icon={<RedoOutlined />}\n              onClick={rescanImages}\n              loading={isRescanning}\n            >\n              {isRescanning\n                ? t('maintenance.RescanImageScanning')\n                : t('maintenance.RescanImages')}\n            </Button>\n          ),\n        },\n      ],\n    },\n  ];\n\n  return <SettingList settingGroups={settingGroupList} showSearchBar />;\n};\n\nexport default MaintenanceSettingList;\n","import MaintenanceSettingList from '../components/MaintenanceSettingList';\nimport { Card } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { StringParam, useQueryParam, withDefault } from 'use-query-params';\n\ntype TabKey = 'maintenance';\n\nconst tabParam = withDefault(StringParam, 'maintenance');\n\nconst MaintenancePage = () => {\n  const { t } = useTranslation();\n  const [curTabKey, setCurTabKey] = useQueryParam('tab', tabParam);\n\n  return (\n    <Card\n      activeTabKey=\"maintenance\"\n      onTabChange={(key) => setCurTabKey(key as TabKey)}\n      tabList={[\n        {\n          key: 'maintenance',\n          tab: t('webui.menu.Maintenance'),\n        },\n      ]}\n      styles={{ body: { padding: 0 } }}\n    >\n      {curTabKey === 'maintenance' && <MaintenanceSettingList />}\n    </Card>\n  );\n};\n\nexport default MaintenancePage;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar RedoOutlined = function RedoOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: RedoOutlinedSvg\n  }));\n};\n\n/**![redo](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc1OC4yIDgzOS4xQzg1MS44IDc2NS45IDkxMiA2NTEuOSA5MTIgNTIzLjkgOTEyIDMwMyA3MzMuNSAxMjQuMyA1MTIuNiAxMjQgMjkxLjQgMTIzLjcgMTEyIDMwMi44IDExMiA1MjMuOWMwIDEyNS4yIDU3LjUgMjM2LjkgMTQ3LjYgMzEwLjIgMy41IDIuOCA4LjYgMi4yIDExLjQtMS4zbDM5LjQtNTAuNWMyLjctMy40IDIuMS04LjMtMS4yLTExLjEtOC4xLTYuNi0xNS45LTEzLjctMjMuNC0yMS4yYTMxOC42NCAzMTguNjQgMCAwMS02OC42LTEwMS43QzIwMC40IDYwOSAxOTIgNTY3LjEgMTkyIDUyMy45czguNC04NS4xIDI1LjEtMTI0LjVjMTYuMS0zOC4xIDM5LjItNzIuMyA2OC42LTEwMS43IDI5LjQtMjkuNCA2My42LTUyLjUgMTAxLjctNjguNkM0MjYuOSAyMTIuNCA0NjguOCAyMDQgNTEyIDIwNHM4NS4xIDguNCAxMjQuNSAyNS4xYzM4LjEgMTYuMSA3Mi4zIDM5LjIgMTAxLjcgNjguNiAyOS40IDI5LjQgNTIuNSA2My42IDY4LjYgMTAxLjcgMTYuNyAzOS40IDI1LjEgODEuMyAyNS4xIDEyNC41cy04LjQgODUuMS0yNS4xIDEyNC41YTMxOC42NCAzMTguNjQgMCAwMS02OC42IDEwMS43Yy05LjMgOS4zLTE5LjEgMTgtMjkuMyAyNkw2NjguMiA3MjRhOCA4IDAgMDAtMTQuMSAzbC0zOS42IDE2Mi4yYy0xLjIgNSAyLjYgOS45IDcuNyA5LjlsMTY3IC44YzYuNyAwIDEwLjUtNy43IDYuMy0xMi45bC0zNy4zLTQ3Ljl6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(RedoOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RedoOutlined';\n}\nexport default RefIcon;"],"names":["useStyles","createStyles","_ref","css","baiSettingItemCheckbox","_ref2","type","title","description","children","defaultValue","value","selectProps","onChange","token","theme","useToken","styles","_jsxs","Flex","direction","align","gap","_jsx","Typography","Text","strong","style","fontSize","undefined","Badge","dot","status","_Fragment","Checkbox","checked","className","Select","popupMatchSelectWidth","TabStyles","TabTitle","count","GroupSettingItems","_ref3","group","hideEmpty","settingItems","length","marginBottom","marginMD","zIndex","background","colorBgContainer","Title","level","marginTop","Divider","marginSM","map","item","idx","SettingItem","_ref4","settingGroups","tabDirection","showChangedOptionFilter","showResetButton","showSearchBar","t","useTranslation","searchValue","setSearchValue","useState","changedOptionFilter","setChangedOptionFilter","isOpenResetChangesModal","toggle","setIsOpenResetChangesModal","useToggle","activeTabKey","setActiveTabKey","filteredSettingGroups","_","changedItemValidator","toLowerCase","includes","searchedItemFilter","padding","paddingContentHorizontal","maxWidth","screenLG","justify","Input","prefix","SearchOutlined","placeholder","e","target","whiteSpace","Button","icon","RedoOutlined","onClick","Tabs","activeKey","tabPosition","tabBarStyle","minWidth","items","key","label","BAIModal","open","okText","okButtonProps","danger","onOk","forEach","option","setValue","cancelText","onCancel","Alert","showIcon","message","MaintenanceSettingList","isRecalculating","setIsRecalculating","isRescanning","setIsRescanning","upsertNotification","useSetBAINotification","baiClient","useSuspendedBackendaiClient","settingGroupList","recalculateUsage","backgroundTask","promise","maintenance","recalculate_usage","finally","pending","resolved","rejected","loading","rescanImages","rescan_images","data","result","ok","taskId","task_id","percent","_data","_notification","duration","Error","error","SettingList","tabParam","withDefault","StringParam","MaintenancePage","curTabKey","setCurTabKey","useQueryParam","Card","onTabChange","tabList","tab","body","props","ref","React","AntdIcon","_extends","RedoOutlinedSvg"],"sourceRoot":""}