{"version":3,"file":"static/js/765.bf2bcb6d.chunk.js","mappings":"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","sources":["../node_modules/antd/es/locale/index.js","../node_modules/antd/es/config-provider/cssVariables.js","../node_modules/antd/es/config-provider/hooks/useConfig.js","../node_modules/antd/es/config-provider/MotionWrapper.js","../node_modules/antd/es/config-provider/index.js","../node_modules/antd/es/config-provider/style/index.js","../node_modules/antd/es/config-provider/hooks/useTheme.js","../node_modules/antd/es/form/validateMessagesContext.js","../node_modules/antd/es/modal/locale.js","../node_modules/antd/lib/calendar/locale/en_US.js","../node_modules/antd/lib/calendar/locale/ko_KR.js","../node_modules/antd/lib/date-picker/locale/en_US.js","../node_modules/antd/lib/date-picker/locale/ko_KR.js","../node_modules/antd/lib/locale/en_US.js","../node_modules/antd/lib/locale/ko_KR.js","../node_modules/antd/lib/time-picker/locale/en_US.js","../node_modules/antd/lib/time-picker/locale/ko_KR.js","../node_modules/fbjs/lib/areEqual.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/warning.js","../node_modules/invariant/browser.js","../node_modules/rc-pagination/lib/locale/en_US.js","../node_modules/rc-pagination/lib/locale/ko_KR.js","../node_modules/rc-picker/lib/locale/en_US.js","../node_modules/rc-picker/lib/locale/ko_KR.js","../node_modules/react-relay/index.js","../node_modules/react-relay/lib/ReactRelayContainerUtils.js","../node_modules/react-relay/lib/ReactRelayContext.js","../node_modules/react-relay/lib/ReactRelayFragmentContainer.js","../node_modules/react-relay/lib/ReactRelayLocalQueryRenderer.js","../node_modules/react-relay/lib/ReactRelayPaginationContainer.js","../node_modules/react-relay/lib/ReactRelayQueryFetcher.js","../node_modules/react-relay/lib/ReactRelayQueryRenderer.js","../node_modules/react-relay/lib/ReactRelayQueryRendererContext.js","../node_modules/react-relay/lib/ReactRelayRefetchContainer.js","../node_modules/react-relay/lib/RelayContext.js","../node_modules/react-relay/lib/assertFragmentMap.js","../node_modules/react-relay/lib/buildReactRelayContainer.js","../node_modules/react-relay/lib/getRootVariablesForFragments.js","../node_modules/react-relay/lib/index.js","../node_modules/react-relay/lib/isRelayEnvironment.js","../node_modules/react-relay/lib/relay-hooks/EntryPointContainer.react.js","../node_modules/react-relay/lib/relay-hooks/FragmentResource.js","../node_modules/react-relay/lib/relay-hooks/HooksImplementation.js","../node_modules/react-relay/lib/relay-hooks/LRUCache.js","../node_modules/react-relay/lib/relay-hooks/ProfilerContext.js","../node_modules/react-relay/lib/relay-hooks/QueryResource.js","../node_modules/react-relay/lib/relay-hooks/RelayEnvironmentProvider.js","../node_modules/react-relay/lib/relay-hooks/SuspenseResource.js","../node_modules/react-relay/lib/relay-hooks/loadEntryPoint.js","../node_modules/react-relay/lib/relay-hooks/loadQuery.js","../node_modules/react-relay/lib/relay-hooks/useClientQuery.js","../node_modules/react-relay/lib/relay-hooks/useEntryPointLoader.js","../node_modules/react-relay/lib/relay-hooks/useFetchTrackingRef.js","../node_modules/react-relay/lib/relay-hooks/useFragment.js","../node_modules/react-relay/lib/relay-hooks/useFragmentNode.js","../node_modules/react-relay/lib/relay-hooks/useIsMountedRef.js","../node_modules/react-relay/lib/relay-hooks/useIsOperationNodeActive.js","../node_modules/react-relay/lib/relay-hooks/useLazyLoadQuery.js","../node_modules/react-relay/lib/relay-hooks/useLazyLoadQueryNode.js","../node_modules/react-relay/lib/relay-hooks/useLoadMoreFunction.js","../node_modules/react-relay/lib/relay-hooks/useMemoOperationDescriptor.js","../node_modules/react-relay/lib/relay-hooks/useMemoVariables.js","../node_modules/react-relay/lib/relay-hooks/useMutation.js","../node_modules/react-relay/lib/relay-hooks/usePaginationFragment.js","../node_modules/react-relay/lib/relay-hooks/usePreloadedQuery.js","../node_modules/react-relay/lib/relay-hooks/useQueryLoader.js","../node_modules/react-relay/lib/relay-hooks/useRefetchableFragment.js","../node_modules/react-relay/lib/relay-hooks/useRefetchableFragmentNode.js","../node_modules/react-relay/lib/relay-hooks/useRelayEnvironment.js","../node_modules/react-relay/lib/relay-hooks/useStaticFragmentNodeWarning.js","../node_modules/react-relay/lib/relay-hooks/useSubscribeToInvalidationState.js","../node_modules/react-relay/lib/relay-hooks/useSubscription.js","../node_modules/react-relay/lib/relay-hooks/useUnsafeRef_DEPRECATED.js","../node_modules/@remix-run/router/history.ts","../node_modules/@remix-run/router/utils.ts","../node_modules/@remix-run/router/router.ts","../node_modules/react-router/lib/polyfills/start-transition.ts","../node_modules/react-router/lib/context.ts","../node_modules/react-router/lib/hooks.tsx","../node_modules/react-router/lib/components.tsx","../node_modules/react-router-dom/index.tsx","../node_modules/relay-runtime/index.js","../node_modules/relay-runtime/lib/handlers/RelayDefaultHandlerProvider.js","../node_modules/relay-runtime/lib/handlers/connection/ConnectionHandler.js","../node_modules/relay-runtime/lib/handlers/connection/ConnectionInterface.js","../node_modules/relay-runtime/lib/handlers/connection/MutationHandlers.js","../node_modules/relay-runtime/lib/index.js","../node_modules/relay-runtime/lib/multi-actor-environment/ActorIdentifier.js","../node_modules/relay-runtime/lib/multi-actor-environment/ActorUtils.js","../node_modules/relay-runtime/lib/mutations/RelayDeclarativeMutationConfig.js","../node_modules/relay-runtime/lib/mutations/RelayRecordProxy.js","../node_modules/relay-runtime/lib/mutations/RelayRecordSourceMutator.js","../node_modules/relay-runtime/lib/mutations/RelayRecordSourceProxy.js","../node_modules/relay-runtime/lib/mutations/RelayRecordSourceSelectorProxy.js","../node_modules/relay-runtime/lib/mutations/applyOptimisticMutation.js","../node_modules/relay-runtime/lib/mutations/commitLocalUpdate.js","../node_modules/relay-runtime/lib/mutations/commitMutation.js","../node_modules/relay-runtime/lib/mutations/createUpdatableProxy.js","../node_modules/relay-runtime/lib/mutations/readUpdatableFragment.js","../node_modules/relay-runtime/lib/mutations/readUpdatableQuery.js","../node_modules/relay-runtime/lib/mutations/validateMutation.js","../node_modules/relay-runtime/lib/network/ConvertToExecuteFunction.js","../node_modules/relay-runtime/lib/network/RelayNetwork.js","../node_modules/relay-runtime/lib/network/RelayObservable.js","../node_modules/relay-runtime/lib/network/RelayQueryResponseCache.js","../node_modules/relay-runtime/lib/network/wrapNetworkWithLogObserver.js","../node_modules/relay-runtime/lib/query/GraphQLTag.js","../node_modules/relay-runtime/lib/query/PreloadableQueryRegistry.js","../node_modules/relay-runtime/lib/query/fetchQuery.js","../node_modules/relay-runtime/lib/query/fetchQueryInternal.js","../node_modules/relay-runtime/lib/query/fetchQuery_DEPRECATED.js","../node_modules/relay-runtime/lib/store/ClientID.js","../node_modules/relay-runtime/lib/store/DataChecker.js","../node_modules/relay-runtime/lib/store/OperationExecutor.js","../node_modules/relay-runtime/lib/store/RelayConcreteVariables.js","../node_modules/relay-runtime/lib/store/RelayModernEnvironment.js","../node_modules/relay-runtime/lib/store/RelayModernFragmentSpecResolver.js","../node_modules/relay-runtime/lib/store/RelayModernOperationDescriptor.js","../node_modules/relay-runtime/lib/store/RelayModernRecord.js","../node_modules/relay-runtime/lib/store/RelayModernSelector.js","../node_modules/relay-runtime/lib/store/RelayModernStore.js","../node_modules/relay-runtime/lib/store/RelayOperationTracker.js","../node_modules/relay-runtime/lib/store/RelayOptimisticRecordSource.js","../node_modules/relay-runtime/lib/store/RelayPublishQueue.js","../node_modules/relay-runtime/lib/store/RelayReader.js","../node_modules/relay-runtime/lib/store/RelayRecordSource.js","../node_modules/relay-runtime/lib/store/RelayRecordState.js","../node_modules/relay-runtime/lib/store/RelayReferenceMarker.js","../node_modules/relay-runtime/lib/store/RelayResponseNormalizer.js","../node_modules/relay-runtime/lib/store/RelayStoreReactFlightUtils.js","../node_modules/relay-runtime/lib/store/RelayStoreSubscriptions.js","../node_modules/relay-runtime/lib/store/RelayStoreUtils.js","../node_modules/relay-runtime/lib/store/ResolverCache.js","../node_modules/relay-runtime/lib/store/ResolverFragments.js","../node_modules/relay-runtime/lib/store/TypeID.js","../node_modules/relay-runtime/lib/store/ViewerPattern.js","../node_modules/relay-runtime/lib/store/cloneRelayHandleSourceField.js","../node_modules/relay-runtime/lib/store/cloneRelayScalarHandleSourceField.js","../node_modules/relay-runtime/lib/store/createFragmentSpecResolver.js","../node_modules/relay-runtime/lib/store/createRelayContext.js","../node_modules/relay-runtime/lib/store/defaultGetDataID.js","../node_modules/relay-runtime/lib/store/defaultRequiredFieldLogger.js","../node_modules/relay-runtime/lib/store/experimental-live-resolvers/LiveResolverSuspenseSentinel.js","../node_modules/relay-runtime/lib/store/experimental-live-resolvers/getOutputTypeRecordIDs.js","../node_modules/relay-runtime/lib/store/hasOverlappingIDs.js","../node_modules/relay-runtime/lib/store/isRelayModernEnvironment.js","../node_modules/relay-runtime/lib/store/readInlineData.js","../node_modules/relay-runtime/lib/subscription/requestSubscription.js","../node_modules/relay-runtime/lib/util/RelayConcreteNode.js","../node_modules/relay-runtime/lib/util/RelayDefaultHandleKey.js","../node_modules/relay-runtime/lib/util/RelayError.js","../node_modules/relay-runtime/lib/util/RelayFeatureFlags.js","../node_modules/relay-runtime/lib/util/RelayProfiler.js","../node_modules/relay-runtime/lib/util/RelayReplaySubject.js","../node_modules/relay-runtime/lib/util/StringInterner.js","../node_modules/relay-runtime/lib/util/createPayloadFor3DField.js","../node_modules/relay-runtime/lib/util/deepFreeze.js","../node_modules/relay-runtime/lib/util/generateID.js","../node_modules/relay-runtime/lib/util/getFragmentIdentifier.js","../node_modules/relay-runtime/lib/util/getOperation.js","../node_modules/relay-runtime/lib/util/getPaginationMetadata.js","../node_modules/relay-runtime/lib/util/getPaginationVariables.js","../node_modules/relay-runtime/lib/util/getPendingOperationsForFragment.js","../node_modules/relay-runtime/lib/util/getRefetchMetadata.js","../node_modules/relay-runtime/lib/util/getRelayHandleKey.js","../node_modules/relay-runtime/lib/util/getRequestIdentifier.js","../node_modules/relay-runtime/lib/util/getValueAtPath.js","../node_modules/relay-runtime/lib/util/handlePotentialSnapshotErrors.js","../node_modules/relay-runtime/lib/util/isEmptyObject.js","../node_modules/relay-runtime/lib/util/isPromise.js","../node_modules/relay-runtime/lib/util/isScalarAndEqual.js","../node_modules/relay-runtime/lib/util/recycleNodesInto.js","../node_modules/relay-runtime/lib/util/registerEnvironmentWithDevTools.js","../node_modules/relay-runtime/lib/util/resolveImmediate.js","../node_modules/relay-runtime/lib/util/stableCopy.js","../node_modules/relay-runtime/lib/util/withDuration.js","../node_modules/relay-runtime/lib/util/withProvidedVariables.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/inheritsLoose.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/i18next-http-backend/esm/utils.js","../node_modules/i18next-http-backend/esm/request.js","../node_modules/i18next-http-backend/esm/index.js","../node_modules/i18next/dist/esm/i18next.js"],"sourcesContent":["import * as React from 'react';\nimport warning from '../_util/warning';\nimport { changeConfirmLocale } from '../modal/locale';\nimport LocaleContext from './context';\nexport { default as useLocale } from './useLocale';\nexport const ANT_MARK = 'internalMark';\nconst LocaleProvider = props => {\n  const {\n    locale = {},\n    children,\n    _ANT_MARK__\n  } = props;\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(_ANT_MARK__ === ANT_MARK, 'LocaleProvider', '`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale') : void 0;\n  }\n  React.useEffect(() => {\n    changeConfirmLocale(locale && locale.Modal);\n    return () => {\n      changeConfirmLocale();\n    };\n  }, [locale]);\n  const getMemoizedContextValue = React.useMemo(() => Object.assign(Object.assign({}, locale), {\n    exist: true\n  }), [locale]);\n  return /*#__PURE__*/React.createElement(LocaleContext.Provider, {\n    value: getMemoizedContextValue\n  }, children);\n};\nif (process.env.NODE_ENV !== 'production') {\n  LocaleProvider.displayName = 'LocaleProvider';\n}\nexport default LocaleProvider;","/* eslint-disable import/prefer-default-export, prefer-destructuring */\nimport { generate } from '@ant-design/colors';\nimport { TinyColor } from '@ctrl/tinycolor';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport warning from '../_util/warning';\nconst dynamicStyleMark = `-ant-${Date.now()}-${Math.random()}`;\nexport function getStyle(globalPrefixCls, theme) {\n  const variables = {};\n  const formatColor = (color, updater) => {\n    let clone = color.clone();\n    clone = (updater === null || updater === void 0 ? void 0 : updater(clone)) || clone;\n    return clone.toRgbString();\n  };\n  const fillColor = (colorVal, type) => {\n    const baseColor = new TinyColor(colorVal);\n    const colorPalettes = generate(baseColor.toRgbString());\n    variables[`${type}-color`] = formatColor(baseColor);\n    variables[`${type}-color-disabled`] = colorPalettes[1];\n    variables[`${type}-color-hover`] = colorPalettes[4];\n    variables[`${type}-color-active`] = colorPalettes[6];\n    variables[`${type}-color-outline`] = baseColor.clone().setAlpha(0.2).toRgbString();\n    variables[`${type}-color-deprecated-bg`] = colorPalettes[0];\n    variables[`${type}-color-deprecated-border`] = colorPalettes[2];\n  };\n  // ================ Primary Color ================\n  if (theme.primaryColor) {\n    fillColor(theme.primaryColor, 'primary');\n    const primaryColor = new TinyColor(theme.primaryColor);\n    const primaryColors = generate(primaryColor.toRgbString());\n    // Legacy - We should use semantic naming standard\n    primaryColors.forEach((color, index) => {\n      variables[`primary-${index + 1}`] = color;\n    });\n    // Deprecated\n    variables['primary-color-deprecated-l-35'] = formatColor(primaryColor, c => c.lighten(35));\n    variables['primary-color-deprecated-l-20'] = formatColor(primaryColor, c => c.lighten(20));\n    variables['primary-color-deprecated-t-20'] = formatColor(primaryColor, c => c.tint(20));\n    variables['primary-color-deprecated-t-50'] = formatColor(primaryColor, c => c.tint(50));\n    variables['primary-color-deprecated-f-12'] = formatColor(primaryColor, c => c.setAlpha(c.getAlpha() * 0.12));\n    const primaryActiveColor = new TinyColor(primaryColors[0]);\n    variables['primary-color-active-deprecated-f-30'] = formatColor(primaryActiveColor, c => c.setAlpha(c.getAlpha() * 0.3));\n    variables['primary-color-active-deprecated-d-02'] = formatColor(primaryActiveColor, c => c.darken(2));\n  }\n  // ================ Success Color ================\n  if (theme.successColor) {\n    fillColor(theme.successColor, 'success');\n  }\n  // ================ Warning Color ================\n  if (theme.warningColor) {\n    fillColor(theme.warningColor, 'warning');\n  }\n  // ================= Error Color =================\n  if (theme.errorColor) {\n    fillColor(theme.errorColor, 'error');\n  }\n  // ================= Info Color ==================\n  if (theme.infoColor) {\n    fillColor(theme.infoColor, 'info');\n  }\n  // Convert to css variables\n  const cssList = Object.keys(variables).map(key => `--${globalPrefixCls}-${key}: ${variables[key]};`);\n  return `\n  :root {\n    ${cssList.join('\\n')}\n  }\n  `.trim();\n}\nexport function registerTheme(globalPrefixCls, theme) {\n  const style = getStyle(globalPrefixCls, theme);\n  if (canUseDom()) {\n    updateCSS(style, `${dynamicStyleMark}-dynamic-theme`);\n  } else {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', 'SSR do not support dynamic theme with css variables.') : void 0;\n  }\n}","import { useContext } from 'react';\nimport DisabledContext from '../DisabledContext';\nimport SizeContext from '../SizeContext';\nfunction useConfig() {\n  const componentDisabled = useContext(DisabledContext);\n  const componentSize = useContext(SizeContext);\n  return {\n    componentDisabled,\n    componentSize\n  };\n}\nexport default useConfig;","import { Provider as MotionProvider } from 'rc-motion';\nimport * as React from 'react';\nimport { useToken } from '../theme/internal';\nexport default function MotionWrapper(props) {\n  const {\n    children\n  } = props;\n  const [, token] = useToken();\n  const {\n    motion\n  } = token;\n  const needWrapMotionProviderRef = React.useRef(false);\n  needWrapMotionProviderRef.current = needWrapMotionProviderRef.current || motion === false;\n  if (needWrapMotionProviderRef.current) {\n    return /*#__PURE__*/React.createElement(MotionProvider, {\n      motion: motion\n    }, children);\n  }\n  return children;\n}","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { createTheme } from '@ant-design/cssinjs';\nimport IconContext from \"@ant-design/icons/es/components/Context\";\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport { merge } from \"rc-util/es/utils/set\";\nimport * as React from 'react';\nimport warning from '../_util/warning';\nimport ValidateMessagesContext from '../form/validateMessagesContext';\nimport LocaleProvider, { ANT_MARK } from '../locale';\nimport LocaleContext from '../locale/context';\nimport defaultLocale from '../locale/en_US';\nimport { DesignTokenContext } from '../theme/internal';\nimport defaultSeedToken from '../theme/themes/seed';\nimport { ConfigConsumer, ConfigContext, defaultIconPrefixCls } from './context';\nimport { registerTheme } from './cssVariables';\nimport { DisabledContextProvider } from './DisabledContext';\nimport useConfig from './hooks/useConfig';\nimport useTheme from './hooks/useTheme';\nimport MotionWrapper from './MotionWrapper';\nimport SizeContext, { SizeContextProvider } from './SizeContext';\nimport useStyle from './style';\n/**\n * Since too many feedback using static method like `Modal.confirm` not getting theme,\n * we record the theme register info here to help developer get warning info.\n */\nlet existThemeConfig = false;\nexport const warnContext = process.env.NODE_ENV !== 'production' ? componentName => {\n  process.env.NODE_ENV !== \"production\" ? warning(!existThemeConfig, componentName, `Static function can not consume context like dynamic theme. Please use 'App' component instead.`) : void 0;\n} : /* istanbul ignore next */\nnull;\nexport { ConfigConsumer, ConfigContext, defaultIconPrefixCls };\nexport const configConsumerProps = ['getTargetContainer', 'getPopupContainer', 'rootPrefixCls', 'getPrefixCls', 'renderEmpty', 'csp', 'autoInsertSpaceInButton', 'locale', 'pageHeader'];\n// These props is used by `useContext` directly in sub component\nconst PASSED_PROPS = ['getTargetContainer', 'getPopupContainer', 'renderEmpty', 'pageHeader', 'input', 'pagination', 'form', 'select', 'button'];\nexport const defaultPrefixCls = 'ant';\nlet globalPrefixCls;\nlet globalIconPrefixCls;\nlet globalTheme;\nfunction getGlobalPrefixCls() {\n  return globalPrefixCls || defaultPrefixCls;\n}\nfunction getGlobalIconPrefixCls() {\n  return globalIconPrefixCls || defaultIconPrefixCls;\n}\nfunction isLegacyTheme(theme) {\n  return Object.keys(theme).some(key => key.endsWith('Color'));\n}\nconst setGlobalConfig = _ref => {\n  let {\n    prefixCls,\n    iconPrefixCls,\n    theme\n  } = _ref;\n  if (prefixCls !== undefined) {\n    globalPrefixCls = prefixCls;\n  }\n  if (iconPrefixCls !== undefined) {\n    globalIconPrefixCls = iconPrefixCls;\n  }\n  if (theme) {\n    if (isLegacyTheme(theme)) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', '`config` of css variable theme is not work in v5. Please use new `theme` config instead.') : void 0;\n      registerTheme(getGlobalPrefixCls(), theme);\n    } else {\n      globalTheme = theme;\n    }\n  }\n};\nexport const globalConfig = () => ({\n  getPrefixCls: (suffixCls, customizePrefixCls) => {\n    if (customizePrefixCls) return customizePrefixCls;\n    return suffixCls ? `${getGlobalPrefixCls()}-${suffixCls}` : getGlobalPrefixCls();\n  },\n  getIconPrefixCls: getGlobalIconPrefixCls,\n  getRootPrefixCls: () => {\n    // If Global prefixCls provided, use this\n    if (globalPrefixCls) {\n      return globalPrefixCls;\n    }\n    // Fallback to default prefixCls\n    return getGlobalPrefixCls();\n  },\n  getTheme: () => globalTheme\n});\nconst ProviderChildren = props => {\n  const {\n    children,\n    csp: customCsp,\n    autoInsertSpaceInButton,\n    form,\n    locale,\n    componentSize,\n    direction,\n    space,\n    virtual,\n    dropdownMatchSelectWidth,\n    popupMatchSelectWidth,\n    popupOverflow,\n    legacyLocale,\n    parentContext,\n    iconPrefixCls: customIconPrefixCls,\n    theme,\n    componentDisabled\n  } = props;\n  // =================================== Warning ===================================\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(dropdownMatchSelectWidth === undefined, 'ConfigProvider', '`dropdownMatchSelectWidth` is deprecated. Please use `popupMatchSelectWidth` instead.') : void 0;\n  }\n  // =================================== Context ===================================\n  const getPrefixCls = React.useCallback((suffixCls, customizePrefixCls) => {\n    const {\n      prefixCls\n    } = props;\n    if (customizePrefixCls) return customizePrefixCls;\n    const mergedPrefixCls = prefixCls || parentContext.getPrefixCls('');\n    return suffixCls ? `${mergedPrefixCls}-${suffixCls}` : mergedPrefixCls;\n  }, [parentContext.getPrefixCls, props.prefixCls]);\n  const iconPrefixCls = customIconPrefixCls || parentContext.iconPrefixCls || defaultIconPrefixCls;\n  const shouldWrapSSR = iconPrefixCls !== parentContext.iconPrefixCls;\n  const csp = customCsp || parentContext.csp;\n  const wrapSSR = useStyle(iconPrefixCls, csp);\n  const mergedTheme = useTheme(theme, parentContext.theme);\n  if (process.env.NODE_ENV !== 'production') {\n    existThemeConfig = existThemeConfig || !!mergedTheme;\n  }\n  const baseConfig = {\n    csp,\n    autoInsertSpaceInButton,\n    locale: locale || legacyLocale,\n    direction,\n    space,\n    virtual,\n    popupMatchSelectWidth: popupMatchSelectWidth !== null && popupMatchSelectWidth !== void 0 ? popupMatchSelectWidth : dropdownMatchSelectWidth,\n    popupOverflow,\n    getPrefixCls,\n    iconPrefixCls,\n    theme: mergedTheme\n  };\n  const config = Object.assign({}, parentContext);\n  Object.keys(baseConfig).forEach(key => {\n    if (baseConfig[key] !== undefined) {\n      config[key] = baseConfig[key];\n    }\n  });\n  // Pass the props used by `useContext` directly with child component.\n  // These props should merged into `config`.\n  PASSED_PROPS.forEach(propName => {\n    const propValue = props[propName];\n    if (propValue) {\n      config[propName] = propValue;\n    }\n  });\n  // https://github.com/ant-design/ant-design/issues/27617\n  const memoedConfig = useMemo(() => config, config, (prevConfig, currentConfig) => {\n    const prevKeys = Object.keys(prevConfig);\n    const currentKeys = Object.keys(currentConfig);\n    return prevKeys.length !== currentKeys.length || prevKeys.some(key => prevConfig[key] !== currentConfig[key]);\n  });\n  const memoIconContextValue = React.useMemo(() => ({\n    prefixCls: iconPrefixCls,\n    csp\n  }), [iconPrefixCls, csp]);\n  let childNode = shouldWrapSSR ? wrapSSR(children) : children;\n  const validateMessages = React.useMemo(() => {\n    var _a, _b, _c;\n    return merge(((_a = defaultLocale.Form) === null || _a === void 0 ? void 0 : _a.defaultValidateMessages) || {}, ((_c = (_b = memoedConfig.locale) === null || _b === void 0 ? void 0 : _b.Form) === null || _c === void 0 ? void 0 : _c.defaultValidateMessages) || {}, (form === null || form === void 0 ? void 0 : form.validateMessages) || {});\n  }, [memoedConfig, form === null || form === void 0 ? void 0 : form.validateMessages]);\n  if (Object.keys(validateMessages).length > 0) {\n    childNode = /*#__PURE__*/React.createElement(ValidateMessagesContext.Provider, {\n      value: validateMessages\n    }, children);\n  }\n  if (locale) {\n    childNode = /*#__PURE__*/React.createElement(LocaleProvider, {\n      locale: locale,\n      _ANT_MARK__: ANT_MARK\n    }, childNode);\n  }\n  if (iconPrefixCls || csp) {\n    childNode = /*#__PURE__*/React.createElement(IconContext.Provider, {\n      value: memoIconContextValue\n    }, childNode);\n  }\n  if (componentSize) {\n    childNode = /*#__PURE__*/React.createElement(SizeContextProvider, {\n      size: componentSize\n    }, childNode);\n  }\n  // =================================== Motion ===================================\n  childNode = /*#__PURE__*/React.createElement(MotionWrapper, null, childNode);\n  // ================================ Dynamic theme ================================\n  const memoTheme = React.useMemo(() => {\n    const _a = mergedTheme || {},\n      {\n        algorithm,\n        token\n      } = _a,\n      rest = __rest(_a, [\"algorithm\", \"token\"]);\n    const themeObj = algorithm && (!Array.isArray(algorithm) || algorithm.length > 0) ? createTheme(algorithm) : undefined;\n    return Object.assign(Object.assign({}, rest), {\n      theme: themeObj,\n      token: Object.assign(Object.assign({}, defaultSeedToken), token)\n    });\n  }, [mergedTheme]);\n  if (theme) {\n    childNode = /*#__PURE__*/React.createElement(DesignTokenContext.Provider, {\n      value: memoTheme\n    }, childNode);\n  }\n  // =================================== Render ===================================\n  if (componentDisabled !== undefined) {\n    childNode = /*#__PURE__*/React.createElement(DisabledContextProvider, {\n      disabled: componentDisabled\n    }, childNode);\n  }\n  return /*#__PURE__*/React.createElement(ConfigContext.Provider, {\n    value: memoedConfig\n  }, childNode);\n};\nconst ConfigProvider = props => {\n  const context = React.useContext(ConfigContext);\n  const antLocale = React.useContext(LocaleContext);\n  return /*#__PURE__*/React.createElement(ProviderChildren, Object.assign({\n    parentContext: context,\n    legacyLocale: antLocale\n  }, props));\n};\nConfigProvider.ConfigContext = ConfigContext;\nConfigProvider.SizeContext = SizeContext;\nConfigProvider.config = setGlobalConfig;\nConfigProvider.useConfig = useConfig;\nObject.defineProperty(ConfigProvider, 'SizeContext', {\n  get: () => {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', 'ConfigProvider.SizeContext is deprecated. Please use `ConfigProvider.useConfig().componentSize` instead.') : void 0;\n    return SizeContext;\n  }\n});\nif (process.env.NODE_ENV !== 'production') {\n  ConfigProvider.displayName = 'ConfigProvider';\n}\nexport default ConfigProvider;","import { useStyleRegister } from '@ant-design/cssinjs';\nimport { resetIcon } from '../../style';\nimport { useToken } from '../../theme/internal';\nconst useStyle = (iconPrefixCls, csp) => {\n  const [theme, token] = useToken();\n  // Generate style for icons\n  return useStyleRegister({\n    theme,\n    token,\n    hashId: '',\n    path: ['ant-design-icons', iconPrefixCls],\n    nonce: () => csp === null || csp === void 0 ? void 0 : csp.nonce\n  }, () => [{\n    [`.${iconPrefixCls}`]: Object.assign(Object.assign({}, resetIcon()), {\n      [`.${iconPrefixCls} .${iconPrefixCls}-icon`]: {\n        display: 'block'\n      }\n    })\n  }]);\n};\nexport default useStyle;","import useMemo from \"rc-util/es/hooks/useMemo\";\nimport isEqual from \"rc-util/es/isEqual\";\nimport { defaultConfig } from '../../theme/internal';\nexport default function useTheme(theme, parentTheme) {\n  const themeConfig = theme || {};\n  const parentThemeConfig = themeConfig.inherit === false || !parentTheme ? defaultConfig : parentTheme;\n  const mergedTheme = useMemo(() => {\n    if (!theme) {\n      return parentTheme;\n    }\n    // Override\n    const mergedComponents = Object.assign({}, parentThemeConfig.components);\n    Object.keys(theme.components || {}).forEach(componentName => {\n      mergedComponents[componentName] = Object.assign(Object.assign({}, mergedComponents[componentName]), theme.components[componentName]);\n    });\n    // Base token\n    return Object.assign(Object.assign(Object.assign({}, parentThemeConfig), themeConfig), {\n      token: Object.assign(Object.assign({}, parentThemeConfig.token), themeConfig.token),\n      components: mergedComponents\n    });\n  }, [themeConfig, parentThemeConfig], (prev, next) => prev.some((prevTheme, index) => {\n    const nextTheme = next[index];\n    return !isEqual(prevTheme, nextTheme, true);\n  }));\n  return mergedTheme;\n}","import { createContext } from 'react';\n// ZombieJ: We export single file here since\n// ConfigProvider use this which will make loop deps\n// to import whole `rc-field-form`\nexport default /*#__PURE__*/createContext(undefined);","import defaultLocale from '../locale/en_US';\nlet runtimeLocale = Object.assign({}, defaultLocale.Modal);\nexport function changeConfirmLocale(newLocale) {\n  if (newLocale) {\n    runtimeLocale = Object.assign(Object.assign({}, runtimeLocale), newLocale);\n  } else {\n    runtimeLocale = Object.assign({}, defaultLocale.Modal);\n  }\n}\nexport function getConfirmLocale() {\n  return runtimeLocale;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _en_US = _interopRequireDefault(require(\"../../date-picker/locale/en_US\"));\nvar _default = _en_US.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ko_KR = _interopRequireDefault(require(\"../../date-picker/locale/ko_KR\"));\nvar _default = _ko_KR.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _en_US = _interopRequireDefault(require(\"rc-picker/lib/locale/en_US\"));\nvar _en_US2 = _interopRequireDefault(require(\"../../time-picker/locale/en_US\"));\n// Merge into a locale object\nconst locale = {\n  lang: Object.assign({\n    placeholder: 'Select date',\n    yearPlaceholder: 'Select year',\n    quarterPlaceholder: 'Select quarter',\n    monthPlaceholder: 'Select month',\n    weekPlaceholder: 'Select week',\n    rangePlaceholder: ['Start date', 'End date'],\n    rangeYearPlaceholder: ['Start year', 'End year'],\n    rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],\n    rangeMonthPlaceholder: ['Start month', 'End month'],\n    rangeWeekPlaceholder: ['Start week', 'End week']\n  }, _en_US.default),\n  timePickerLocale: Object.assign({}, _en_US2.default)\n};\n// All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\nvar _default = locale;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ko_KR = _interopRequireDefault(require(\"rc-picker/lib/locale/ko_KR\"));\nvar _ko_KR2 = _interopRequireDefault(require(\"../../time-picker/locale/ko_KR\"));\n// Merge into a locale object\nconst locale = {\n  lang: Object.assign({\n    placeholder: ' ',\n    rangePlaceholder: ['', '']\n  }, _ko_KR.default),\n  timePickerLocale: Object.assign({}, _ko_KR2.default)\n};\n// All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\nvar _default = locale;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _en_US = _interopRequireDefault(require(\"rc-pagination/lib/locale/en_US\"));\nvar _en_US2 = _interopRequireDefault(require(\"../calendar/locale/en_US\"));\nvar _en_US3 = _interopRequireDefault(require(\"../date-picker/locale/en_US\"));\nvar _en_US4 = _interopRequireDefault(require(\"../time-picker/locale/en_US\"));\n/* eslint-disable no-template-curly-in-string */\n\nconst typeTemplate = '${label} is not a valid ${type}';\nconst localeValues = {\n  locale: 'en',\n  Pagination: _en_US.default,\n  DatePicker: _en_US3.default,\n  TimePicker: _en_US4.default,\n  Calendar: _en_US2.default,\n  global: {\n    placeholder: 'Please select'\n  },\n  Table: {\n    filterTitle: 'Filter menu',\n    filterConfirm: 'OK',\n    filterReset: 'Reset',\n    filterEmptyText: 'No filters',\n    filterCheckall: 'Select all items',\n    filterSearchPlaceholder: 'Search in filters',\n    emptyText: 'No data',\n    selectAll: 'Select current page',\n    selectInvert: 'Invert current page',\n    selectNone: 'Clear all data',\n    selectionAll: 'Select all data',\n    sortTitle: 'Sort',\n    expand: 'Expand row',\n    collapse: 'Collapse row',\n    triggerDesc: 'Click to sort descending',\n    triggerAsc: 'Click to sort ascending',\n    cancelSort: 'Click to cancel sorting'\n  },\n  Tour: {\n    Next: 'Next',\n    Previous: 'Previous',\n    Finish: 'Finish'\n  },\n  Modal: {\n    okText: 'OK',\n    cancelText: 'Cancel',\n    justOkText: 'OK'\n  },\n  Popconfirm: {\n    okText: 'OK',\n    cancelText: 'Cancel'\n  },\n  Transfer: {\n    titles: ['', ''],\n    searchPlaceholder: 'Search here',\n    itemUnit: 'item',\n    itemsUnit: 'items',\n    remove: 'Remove',\n    selectCurrent: 'Select current page',\n    removeCurrent: 'Remove current page',\n    selectAll: 'Select all data',\n    removeAll: 'Remove all data',\n    selectInvert: 'Invert current page'\n  },\n  Upload: {\n    uploading: 'Uploading...',\n    removeFile: 'Remove file',\n    uploadError: 'Upload error',\n    previewFile: 'Preview file',\n    downloadFile: 'Download file'\n  },\n  Empty: {\n    description: 'No data'\n  },\n  Icon: {\n    icon: 'icon'\n  },\n  Text: {\n    edit: 'Edit',\n    copy: 'Copy',\n    copied: 'Copied',\n    expand: 'Expand'\n  },\n  PageHeader: {\n    back: 'Back'\n  },\n  Form: {\n    optional: '(optional)',\n    defaultValidateMessages: {\n      default: 'Field validation error for ${label}',\n      required: 'Please enter ${label}',\n      enum: '${label} must be one of [${enum}]',\n      whitespace: '${label} cannot be a blank character',\n      date: {\n        format: '${label} date format is invalid',\n        parse: '${label} cannot be converted to a date',\n        invalid: '${label} is an invalid date'\n      },\n      types: {\n        string: typeTemplate,\n        method: typeTemplate,\n        array: typeTemplate,\n        object: typeTemplate,\n        number: typeTemplate,\n        date: typeTemplate,\n        boolean: typeTemplate,\n        integer: typeTemplate,\n        float: typeTemplate,\n        regexp: typeTemplate,\n        email: typeTemplate,\n        url: typeTemplate,\n        hex: typeTemplate\n      },\n      string: {\n        len: '${label} must be ${len} characters',\n        min: '${label} must be at least ${min} characters',\n        max: '${label} must be up to ${max} characters',\n        range: '${label} must be between ${min}-${max} characters'\n      },\n      number: {\n        len: '${label} must be equal to ${len}',\n        min: '${label} must be minimum ${min}',\n        max: '${label} must be maximum ${max}',\n        range: '${label} must be between ${min}-${max}'\n      },\n      array: {\n        len: 'Must be ${len} ${label}',\n        min: 'At least ${min} ${label}',\n        max: 'At most ${max} ${label}',\n        range: 'The amount of ${label} must be between ${min}-${max}'\n      },\n      pattern: {\n        mismatch: '${label} does not match the pattern ${pattern}'\n      }\n    }\n  },\n  Image: {\n    preview: 'Preview'\n  },\n  QRCode: {\n    expired: 'QR code expired',\n    refresh: 'Refresh'\n  },\n  ColorPicker: {\n    presetEmpty: 'Empty'\n  }\n};\nvar _default = localeValues;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ko_KR = _interopRequireDefault(require(\"rc-pagination/lib/locale/ko_KR\"));\nvar _ko_KR2 = _interopRequireDefault(require(\"../calendar/locale/ko_KR\"));\nvar _ko_KR3 = _interopRequireDefault(require(\"../date-picker/locale/ko_KR\"));\nvar _ko_KR4 = _interopRequireDefault(require(\"../time-picker/locale/ko_KR\"));\n/* eslint-disable no-template-curly-in-string */\n\nconst typeTemplate = '${label}   ${type}';\nconst localeValues = {\n  locale: 'ko',\n  Pagination: _ko_KR.default,\n  DatePicker: _ko_KR3.default,\n  TimePicker: _ko_KR4.default,\n  Calendar: _ko_KR2.default,\n  Table: {\n    filterTitle: ' ',\n    filterConfirm: '',\n    filterReset: '',\n    filterEmptyText: ' ',\n    filterCheckall: ' ',\n    filterSearchPlaceholder: ' ',\n    emptyText: ' ',\n    selectAll: ' ',\n    selectInvert: ' ',\n    selectNone: '',\n    selectionAll: ' ',\n    sortTitle: '',\n    expand: '',\n    collapse: '',\n    triggerDesc: ' ',\n    triggerAsc: ' ',\n    cancelSort: ' '\n  },\n  Tour: {\n    Next: '',\n    Previous: '',\n    Finish: ''\n  },\n  Modal: {\n    okText: '',\n    cancelText: '',\n    justOkText: ''\n  },\n  Popconfirm: {\n    okText: '',\n    cancelText: ''\n  },\n  Transfer: {\n    titles: ['', ''],\n    searchPlaceholder: ' ',\n    itemUnit: '',\n    itemsUnit: '',\n    remove: '',\n    selectCurrent: '  ',\n    removeCurrent: '  ',\n    selectAll: ' ',\n    removeAll: ' ',\n    selectInvert: ' '\n  },\n  Upload: {\n    uploading: ' ...',\n    removeFile: ' ',\n    uploadError: ' ',\n    previewFile: ' ',\n    downloadFile: ' '\n  },\n  Empty: {\n    description: ' '\n  },\n  Icon: {\n    icon: ''\n  },\n  Text: {\n    edit: '',\n    copy: '',\n    copied: ' ',\n    expand: ''\n  },\n  PageHeader: {\n    back: ''\n  },\n  Form: {\n    optional: '()',\n    defaultValidateMessages: {\n      default: '    ${label}',\n      required: '${label}  ',\n      enum: '${label} [${enum}]   ',\n      whitespace: '${label}   ',\n      date: {\n        format: '${label}    ',\n        parse: '${label}     ',\n        invalid: '${label}   '\n      },\n      types: {\n        string: typeTemplate,\n        method: typeTemplate,\n        array: typeTemplate,\n        object: typeTemplate,\n        number: typeTemplate,\n        date: typeTemplate,\n        boolean: typeTemplate,\n        integer: typeTemplate,\n        float: typeTemplate,\n        regexp: typeTemplate,\n        email: typeTemplate,\n        url: typeTemplate,\n        hex: typeTemplate\n      },\n      string: {\n        len: '${label} ${len} ',\n        min: '${label}  ${min}  ',\n        max: '${label} ${max}  ',\n        range: '${label} ${min}-${max}  '\n      },\n      number: {\n        len: '${label}  ${len} ',\n        min: '${label}  ${min}',\n        max: '${label}  ${max}',\n        range: '${label}  ${min}-${max}  '\n      },\n      array: {\n        len: '${len}  ${label} ',\n        min: ' ${min}  ${label}',\n        max: ' ${max}  ${label}',\n        range: '${label} ${min}-${max}  '\n      },\n      pattern: {\n        mismatch: '${label} ${pattern}   '\n      }\n    }\n  },\n  Image: {\n    preview: ''\n  },\n  QRCode: {\n    expired: ' QR ',\n    refresh: ''\n  }\n};\nvar _default = localeValues;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst locale = {\n  placeholder: 'Select time',\n  rangePlaceholder: ['Start time', 'End time']\n};\nvar _default = locale;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst locale = {\n  placeholder: ' ',\n  rangePlaceholder: [' ', ' ']\n};\nvar _default = locale;\nexports.default = _default;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar aStackPool = [];\nvar bStackPool = [];\n/**\n * Checks if two values are equal. Values may be primitives, arrays, or objects.\n * Returns true if both arguments have the same keys and values.\n *\n * @see http://underscorejs.org\n * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * @license MIT\n */\n\nfunction areEqual(a, b) {\n  var aStack = aStackPool.length ? aStackPool.pop() : [];\n  var bStack = bStackPool.length ? bStackPool.pop() : [];\n  var result = eq(a, b, aStack, bStack);\n  aStack.length = 0;\n  bStack.length = 0;\n  aStackPool.push(aStack);\n  bStackPool.push(bStack);\n  return result;\n}\n\nfunction eq(a, b, aStack, bStack) {\n  if (a === b) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    return a !== 0 || 1 / a == 1 / b;\n  }\n\n  if (a == null || b == null) {\n    // a or b can be `null` or `undefined`\n    return false;\n  }\n\n  if (typeof a != 'object' || typeof b != 'object') {\n    return false;\n  }\n\n  var objToStr = Object.prototype.toString;\n  var className = objToStr.call(a);\n\n  if (className != objToStr.call(b)) {\n    return false;\n  }\n\n  switch (className) {\n    case '[object String]':\n      return a == String(b);\n\n    case '[object Number]':\n      return isNaN(a) || isNaN(b) ? false : a == Number(b);\n\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a == +b;\n\n    case '[object RegExp]':\n      return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase;\n  } // Assume equality for cyclic structures.\n\n\n  var length = aStack.length;\n\n  while (length--) {\n    if (aStack[length] == a) {\n      return bStack[length] == b;\n    }\n  }\n\n  aStack.push(a);\n  bStack.push(b);\n  var size = 0; // Recursively compare objects and arrays.\n\n  if (className === '[object Array]') {\n    size = a.length;\n\n    if (size !== b.length) {\n      return false;\n    } // Deep compare the contents, ignoring non-numeric properties.\n\n\n    while (size--) {\n      if (!eq(a[size], b[size], aStack, bStack)) {\n        return false;\n      }\n    }\n  } else {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    if (a.hasOwnProperty('valueOf') && b.hasOwnProperty('valueOf')) {\n      return a.valueOf() == b.valueOf();\n    }\n\n    var keys = Object.keys(a);\n\n    if (keys.length != Object.keys(b).length) {\n      return false;\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      if (!eq(a[keys[i]], b[keys[i]], aStack, bStack)) {\n        return false;\n      }\n    }\n  }\n\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\nmodule.exports = areEqual;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\n\n\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\n\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar emptyFunction = require(\"./emptyFunction\");\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    // --- Welcome to debugging React ---\n    // This error was thrown as a convenience so that you can use this stack\n    // to find the callsite that caused this warning to fire.\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar warning = process.env.NODE_ENV !== \"production\" ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : emptyFunction;\nmodule.exports = warning;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  // Options.jsx\n  items_per_page: '/ page',\n  jump_to: 'Go to',\n  jump_to_confirm: 'confirm',\n  page: 'Page',\n  // Pagination.jsx\n  prev_page: 'Previous Page',\n  next_page: 'Next Page',\n  prev_5: 'Previous 5 Pages',\n  next_5: 'Next 5 Pages',\n  prev_3: 'Previous 3 Pages',\n  next_3: 'Next 3 Pages',\n  page_size: 'Page Size'\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  // Options.jsx\n  items_per_page: '/ ',\n  jump_to: '',\n  jump_to_confirm: '',\n  page: '',\n  // Pagination.jsx\n  prev_page: ' ',\n  next_page: ' ',\n  prev_5: ' 5 ',\n  next_5: ' 5 ',\n  prev_3: ' 3 ',\n  next_3: ' 3 ',\n  page_size: ' '\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar locale = {\n  locale: 'en_US',\n  today: 'Today',\n  now: 'Now',\n  backToToday: 'Back to today',\n  ok: 'OK',\n  clear: 'Clear',\n  month: 'Month',\n  year: 'Year',\n  timeSelect: 'select time',\n  dateSelect: 'select date',\n  weekSelect: 'Choose a week',\n  monthSelect: 'Choose a month',\n  yearSelect: 'Choose a year',\n  decadeSelect: 'Choose a decade',\n  yearFormat: 'YYYY',\n  dateFormat: 'M/D/YYYY',\n  dayFormat: 'D',\n  dateTimeFormat: 'M/D/YYYY HH:mm:ss',\n  monthBeforeYear: true,\n  previousMonth: 'Previous month (PageUp)',\n  nextMonth: 'Next month (PageDown)',\n  previousYear: 'Last year (Control + left)',\n  nextYear: 'Next year (Control + right)',\n  previousDecade: 'Last decade',\n  nextDecade: 'Next decade',\n  previousCentury: 'Last century',\n  nextCentury: 'Next century'\n};\nvar _default = locale;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar locale = {\n  locale: 'ko_KR',\n  today: '',\n  now: ' ',\n  backToToday: ' ',\n  ok: '',\n  clear: '',\n  month: '',\n  year: '',\n  timeSelect: ' ',\n  dateSelect: ' ',\n  monthSelect: ' ',\n  yearSelect: ' ',\n  decadeSelect: ' ',\n  yearFormat: 'YYYY',\n  dateFormat: 'YYYY-MM-DD',\n  dayFormat: 'Do',\n  dateTimeFormat: 'YYYY-MM-DD HH:mm:ss',\n  monthBeforeYear: false,\n  previousMonth: '  (PageUp)',\n  nextMonth: '  (PageDown)',\n  previousYear: '  (Control + left)',\n  nextYear: '  (Control + right)',\n  previousDecade: ' ',\n  nextDecade: ' ',\n  previousCentury: ' ',\n  nextCentury: ' '\n};\nvar _default = locale;\nexports.default = _default;","/**\n * Relay v15.0.0\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nmodule.exports = require('./lib/index.js');\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nfunction getComponentName(component) {\n  return component.displayName || component.name || 'Component';\n}\nfunction getContainerName(Component) {\n  return 'Relay(' + getComponentName(Component) + ')';\n}\nmodule.exports = {\n  getComponentName: getComponentName,\n  getContainerName: getContainerName\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  createRelayContext = _require.__internal.createRelayContext;\nmodule.exports = createRelayContext(React);","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _excluded = [\"componentRef\", \"__relayContext\", \"__rootIsQueryRenderer\"];\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\nvar _require = require('./ReactRelayContainerUtils'),\n  getContainerName = _require.getContainerName;\nvar _require2 = require('./RelayContext'),\n  assertRelayContext = _require2.assertRelayContext;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require3 = require('relay-runtime'),\n  createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n  getDataIDsFromObject = _require3.getDataIDsFromObject,\n  isScalarAndEqual = _require3.isScalarAndEqual;\n/**\n * Composes a React component class, returning a new class that intercepts\n * props, resolving them with the provided fragments and subscribing for\n * updates.\n */\nfunction createContainerWithFragments(Component, fragments) {\n  var _class;\n  var containerName = getContainerName(Component);\n  return _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n    // $FlowFixMe[missing-local-annot]\n\n    function _class(props) {\n      var _props$__rootIsQueryR, _this;\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        var resolverFromThisUpdate = _this.state.resolver;\n        _this.setState(function (updatedState) {\n          return (\n            // If this event belongs to the current data source, update.\n            // Otherwise we should ignore it.\n            resolverFromThisUpdate === updatedState.resolver ? {\n              data: updatedState.resolver.resolve(),\n              relayProp: getRelayProp(updatedState.relayProp.environment)\n            } : null\n          );\n        });\n      });\n      var relayContext = assertRelayContext(props.__relayContext);\n      var rootIsQueryRenderer = (_props$__rootIsQueryR = props.__rootIsQueryRenderer) !== null && _props$__rootIsQueryR !== void 0 ? _props$__rootIsQueryR : false;\n      // Do not provide a subscription/callback here.\n      // It is possible for this render to be interrupted or aborted,\n      // In which case the subscription would cause a leak.\n      // We will add the subscription in componentDidMount().\n      var resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props, rootIsQueryRenderer);\n      _this.state = {\n        data: resolver.resolve(),\n        prevProps: props,\n        prevPropsContext: relayContext,\n        relayProp: getRelayProp(relayContext.environment),\n        resolver: resolver\n      };\n      return _this;\n    }\n\n    /**\n     * When new props are received, read data for the new props and subscribe\n     * for updates. Props may be the same in which case previous data and\n     * subscriptions can be reused.\n     */\n    _class.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      var _nextProps$__rootIsQu;\n      // Any props change could impact the query, so we mirror props in state.\n      // This is an unusual pattern, but necessary for this container usecase.\n      var prevProps = prevState.prevProps;\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var rootIsQueryRenderer = (_nextProps$__rootIsQu = nextProps.__rootIsQueryRenderer) !== null && _nextProps$__rootIsQu !== void 0 ? _nextProps$__rootIsQu : false;\n      var prevIDs = getDataIDsFromObject(fragments, prevProps);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var resolver = prevState.resolver;\n\n      // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n      if (prevState.prevPropsContext.environment !== relayContext.environment || !areEqual(prevIDs, nextIDs)) {\n        // Do not provide a subscription/callback here.\n        // It is possible for this render to be interrupted or aborted,\n        // In which case the subscription would cause a leak.\n        // We will add the subscription in componentDidUpdate().\n        resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps, rootIsQueryRenderer);\n        return {\n          data: resolver.resolve(),\n          prevPropsContext: relayContext,\n          prevProps: nextProps,\n          relayProp: getRelayProp(relayContext.environment),\n          resolver: resolver\n        };\n      } else {\n        resolver.setProps(nextProps);\n        var data = resolver.resolve();\n        if (data !== prevState.data) {\n          return {\n            data: data,\n            prevProps: nextProps,\n            prevPropsContext: relayContext,\n            relayProp: getRelayProp(relayContext.environment)\n          };\n        }\n      }\n      return null;\n    };\n    var _proto = _class.prototype;\n    _proto.componentDidMount = function componentDidMount() {\n      this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n    };\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (this.state.resolver !== prevState.resolver) {\n        prevState.resolver.dispose();\n        this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n      } else {\n        this._rerenderIfStoreHasChanged();\n      }\n    };\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.state.resolver.dispose();\n    };\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data) {\n        return true;\n      }\n      // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n      var keys = Object.keys(nextProps);\n      for (var ii = 0; ii < keys.length; ii++) {\n        var key = keys[ii];\n        if (key === '__relayContext') {\n          if (nextState.prevPropsContext.environment !== this.state.prevPropsContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(key) && !isScalarAndEqual(nextProps[key], this.props[key])) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Render new data for the existing props/context.\n     */;\n    _proto._rerenderIfStoreHasChanged = function _rerenderIfStoreHasChanged() {\n      var _this$state = this.state,\n        data = _this$state.data,\n        resolver = _this$state.resolver;\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      var maybeNewData = resolver.resolve();\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    };\n    _proto._subscribeToNewResolverAndRerenderIfStoreHasChanged = function _subscribeToNewResolverAndRerenderIfStoreHasChanged() {\n      var _this$state2 = this.state,\n        data = _this$state2.data,\n        resolver = _this$state2.resolver;\n      var maybeNewData = resolver.resolve();\n\n      // Event listeners are only safe to add during the commit phase,\n      // So they won't leak if render is interrupted or errors.\n      resolver.setCallback(this.props, this._handleFragmentDataUpdate);\n\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    }\n\n    // $FlowFixMe[missing-local-annot]\n    ;\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props,\n        componentRef = _this$props.componentRef,\n        __relayContext = _this$props.__relayContext,\n        __rootIsQueryRenderer = _this$props.__rootIsQueryRenderer,\n        props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, _excluded);\n      return React.createElement(Component, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, props), this.state.data), {}, {\n        ref: componentRef,\n        relay: this.state.relayProp\n      }));\n    };\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _class;\n}\nfunction getRelayProp(environment) {\n  return {\n    environment: environment\n  };\n}\n\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\nfunction createContainer(Component, fragmentSpec) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, createContainerWithFragments);\n}\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryRendererContext = require('./ReactRelayQueryRendererContext');\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  createOperationDescriptor = _require.createOperationDescriptor,\n  deepFreeze = _require.deepFreeze,\n  getRequest = _require.getRequest;\nvar useLayoutEffect = React.useLayoutEffect,\n  useState = React.useState,\n  useRef = React.useRef,\n  useMemo = React.useMemo;\nvar queryRendererContext = {\n  rootIsQueryRenderer: true\n};\nfunction useDeepCompare(value) {\n  var latestValue = React.useRef(value);\n  if (!areEqual(latestValue.current, value)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(value);\n    }\n    latestValue.current = value;\n  }\n  return latestValue.current;\n}\nfunction ReactRelayLocalQueryRenderer(props) {\n  var environment = props.environment,\n    query = props.query,\n    variables = props.variables,\n    render = props.render;\n  var latestVariables = useDeepCompare(variables);\n  var operation = useMemo(function () {\n    var request = getRequest(query);\n    return createOperationDescriptor(request, latestVariables);\n  }, [query, latestVariables]);\n  var relayContext = useMemo(function () {\n    return {\n      environment: environment\n    };\n  }, [environment]);\n\n  // Use a ref to prevent rendering twice when data changes\n  // because of props change\n  var dataRef = useRef(null);\n  var _useState = useState(null),\n    forceUpdate = _useState[1];\n  var cleanupFnRef = useRef(null);\n  var snapshot = useMemo(function () {\n    environment.check(operation);\n    var res = environment.lookup(operation.fragment);\n    dataRef.current = res.data;\n\n    // Run effects here so that the data can be retained\n    // and subscribed before the component commits\n    var retainDisposable = environment.retain(operation);\n    var subscribeDisposable = environment.subscribe(res, function (newSnapshot) {\n      dataRef.current = newSnapshot.data;\n      forceUpdate(dataRef.current);\n    });\n    var disposed = false;\n    function nextCleanupFn() {\n      if (!disposed) {\n        disposed = true;\n        cleanupFnRef.current = null;\n        retainDisposable.dispose();\n        subscribeDisposable.dispose();\n      }\n    }\n    if (cleanupFnRef.current) {\n      cleanupFnRef.current();\n    }\n    cleanupFnRef.current = nextCleanupFn;\n    return res;\n  }, [environment, operation]);\n  useLayoutEffect(function () {\n    var cleanupFn = cleanupFnRef.current;\n    return function () {\n      cleanupFn && cleanupFn();\n    };\n  }, [snapshot]);\n  return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n    value: relayContext\n  }, /*#__PURE__*/React.createElement(ReactRelayQueryRendererContext.Provider, {\n    value: queryRendererContext\n  }, render({\n    props: dataRef.current\n  })));\n}\nmodule.exports = ReactRelayLocalQueryRenderer;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _excluded = [\"componentRef\"],\n  _excluded2 = [\"componentRef\", \"__relayContext\", \"__rootIsQueryRenderer\"],\n  _excluded3 = [\"componentRef\", \"__relayContext\", \"__rootIsQueryRenderer\"];\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\nvar getRootVariablesForFragments = require('./getRootVariablesForFragments');\nvar _require = require('./ReactRelayContainerUtils'),\n  getComponentName = _require.getComponentName,\n  getContainerName = _require.getContainerName;\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\nvar _require2 = require('./RelayContext'),\n  assertRelayContext = _require2.assertRelayContext;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\nvar React = require('react');\nvar _require3 = require('relay-runtime'),\n  ConnectionInterface = _require3.ConnectionInterface,\n  Observable = _require3.Observable,\n  RelayFeatureFlags = _require3.RelayFeatureFlags,\n  createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n  createOperationDescriptor = _require3.createOperationDescriptor,\n  getDataIDsFromObject = _require3.getDataIDsFromObject,\n  getRequest = _require3.getRequest,\n  getVariablesFromObject = _require3.getVariablesFromObject,\n  isScalarAndEqual = _require3.isScalarAndEqual;\nvar warning = require(\"fbjs/lib/warning\");\nvar FORWARD = 'forward';\n/**\n * Extends the functionality of RelayFragmentContainer by providing a mechanism\n * to load more data from a connection.\n *\n * # Configuring a PaginationContainer\n *\n * PaginationContainer accepts the standard FragmentContainer arguments and an\n * additional `connectionConfig` argument:\n *\n * - `Component`: the component to be wrapped/rendered.\n * - `fragments`: an object whose values are `graphql` fragments. The object\n *   keys determine the prop names by which fragment data is available.\n * - `connectionConfig`: an object that determines how to load more connection\n *   data. Details below.\n *\n * # Loading More Data\n *\n * Use `props.relay.hasMore()` to determine if there are more items to load.\n *\n * ```\n * hasMore(): boolean\n * ```\n *\n * Use `props.relay.isLoading()` to determine if a previous call to `loadMore()`\n * is still pending. This is convenient for avoiding duplicate load calls.\n *\n * ```\n * isLoading(): boolean\n * ```\n *\n * Use `props.relay.loadMore()` to load more items. This will return null if\n * there are no more items to fetch, otherwise it will fetch more items and\n * return a Disposable that can be used to cancel the fetch.\n *\n * `pageSize` should be the number of *additional* items to fetch (not the\n * total).\n *\n * ```\n * loadMore(pageSize: number, callback: ?(error: ?Error) => void): ?Disposable\n * ```\n *\n * A complete example:\n *\n * ```\n * class Foo extends React.Component {\n *   ...\n *   _onEndReached() {\n *     if (!this.props.relay.hasMore() || this.props.relay.isLoading()) {\n *       return;\n *     }\n *     this.props.relay.loadMore(10);\n *   }\n *   ...\n * }\n * ```\n *\n * # Connection Config\n *\n * Here's an example, followed by details of each config property:\n *\n * ```\n * ReactRelayPaginationContainer.createContainer(\n *   Component,\n *   {\n *     user: graphql`fragment FriendsFragment on User {\n *       friends(after: $afterCursor first: $count) @connection {\n *         edges { ... }\n *         pageInfo {\n *           startCursor\n *           endCursor\n *           hasNextPage\n *           hasPreviousPage\n *         }\n *       }\n *     }`,\n *   },\n *   {\n *     direction: 'forward',\n *     getConnectionFromProps(props) {\n *       return props.user && props.user.friends;\n *     },\n *     getFragmentVariables(vars, totalCount) {\n *       // The component presumably wants *all* edges, not just those after\n *       // the cursor, so notice that we don't set $afterCursor here.\n *       return {\n *         ...vars,\n *         count: totalCount,\n *       };\n *     },\n *     getVariables(props, {count, cursor}, fragmentVariables) {\n *       return {\n *         id: props.user.id,\n *         afterCursor: cursor,\n *         count,\n *       },\n *     },\n *     query: graphql`\n *       query FriendsQuery($id: ID!, $afterCursor: ID, $count: Int!) {\n *         node(id: $id) {\n *           ...FriendsFragment\n *         }\n *       }\n *     `,\n *   }\n * );\n * ```\n *\n * ## Config Properties\n *\n * - `direction`: Either \"forward\" to indicate forward pagination using\n *   after/first, or \"backward\" to indicate backward pagination using\n *   before/last.\n * - `getConnectionFromProps(props)`: PaginationContainer doesn't magically know\n *   which connection data you mean to fetch more of (a container might fetch\n *   multiple connections, but can only paginate one of them). This function is\n *   given the fragment props only (not full props), and should return the\n *   connection data. See the above example that returns the friends data via\n *   `props.user.friends`.\n * - `getFragmentVariables(previousVars, totalCount)`: Given the previous variables\n *   and the new total number of items, get the variables to use when reading\n *   your fragments. Typically this means setting whatever your local \"count\"\n *   variable is to the value of `totalCount`. See the example.\n * - `getVariables(props, {count, cursor})`: Get the variables to use when\n *   fetching the pagination `query`. You may determine the root object id from\n *   props (see the example that uses `props.user.id`) and may also set whatever\n *   variables you use for the after/first/before/last calls based on the count\n *   and cursor.\n * - `query`: A query to use when fetching more connection data. This should\n *   typically reference one of the container's fragment (as in the example)\n *   to ensure that all the necessary fields for sub-components are fetched.\n */\n\nfunction createGetConnectionFromProps(metadata) {\n  var path = metadata.path;\n  !path ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to synthesize a ' + 'getConnectionFromProps function.') : invariant(false) : void 0;\n  return function (props) {\n    var data = props[metadata.fragmentName];\n    for (var i = 0; i < path.length; i++) {\n      if (!data || typeof data !== 'object') {\n        return null;\n      }\n      data = data[path[i]];\n    }\n    return data;\n  };\n}\nfunction createGetFragmentVariables(metadata) {\n  var countVariable = metadata.count;\n  !countVariable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to synthesize a ' + 'getFragmentVariables function.') : invariant(false) : void 0;\n  return function (prevVars, totalCount) {\n    return (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, prevVars), {}, (0, _defineProperty2[\"default\"])({}, countVariable, totalCount));\n  };\n}\nfunction findConnectionMetadata(fragments) {\n  var foundConnectionMetadata = null;\n  var isRelayModern = false;\n  for (var fragmentName in fragments) {\n    var fragment = fragments[fragmentName];\n    var connectionMetadata = fragment.metadata && fragment.metadata.connection;\n    // HACK: metadata is always set to `undefined` in classic. In modern, even\n    // if empty, it is set to null (never undefined). We use that knowlege to\n    // check if we're dealing with classic or modern\n    if (fragment.metadata !== undefined) {\n      isRelayModern = true;\n    }\n    if (connectionMetadata) {\n      !(connectionMetadata.length === 1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Only a single @connection is ' + 'supported, `%s` has %s.', fragmentName, connectionMetadata.length) : invariant(false) : void 0;\n      !!foundConnectionMetadata ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Only a single fragment with ' + '@connection is supported.') : invariant(false) : void 0;\n      foundConnectionMetadata = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, connectionMetadata[0]), {}, {\n        fragmentName: fragmentName\n      });\n    }\n  }\n  !(!isRelayModern || foundConnectionMetadata !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: A @connection directive must be present.') : invariant(false) : void 0;\n  return foundConnectionMetadata || {};\n}\nfunction toObserver(observerOrCallback) {\n  return typeof observerOrCallback === 'function' ? {\n    error: observerOrCallback,\n    complete: observerOrCallback,\n    unsubscribe: function unsubscribe(subscription) {\n      typeof observerOrCallback === 'function' && observerOrCallback();\n    }\n  } : observerOrCallback || {};\n}\nfunction createContainerWithFragments(Component, fragments, connectionConfig) {\n  var _class;\n  var componentName = getComponentName(Component);\n  var containerName = getContainerName(Component);\n  var metadata = findConnectionMetadata(fragments);\n  var getConnectionFromProps = connectionConfig.getConnectionFromProps || createGetConnectionFromProps(metadata);\n  var direction = connectionConfig.direction || metadata.direction;\n  !direction ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Unable to infer direction of the ' + 'connection, possibly because both first and last are provided.') : invariant(false) : void 0;\n  var getFragmentVariables = connectionConfig.getFragmentVariables || createGetFragmentVariables(metadata);\n  return _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n    // $FlowFixMe[missing-local-annot]\n\n    function _class(props) {\n      var _props$__rootIsQueryR, _this;\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        _this.setState({\n          data: _this._resolver.resolve()\n        });\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_hasMore\", function () {\n        var connectionData = _this._getConnectionData();\n        return !!(connectionData && connectionData.hasMore && connectionData.cursor);\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_isLoading\", function () {\n        return !!_this._refetchSubscription;\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_refetchConnection\", function (totalCount, observerOrCallback, refetchVariables) {\n        if (!_this._canFetchPage('refetchConnection')) {\n          return {\n            dispose: function dispose() {}\n          };\n        }\n        _this._refetchVariables = refetchVariables;\n        var paginatingVariables = {\n          count: totalCount,\n          cursor: null,\n          totalCount: totalCount\n        };\n        var fetch = _this._fetchPage(paginatingVariables, toObserver(observerOrCallback), {\n          force: true\n        });\n        return {\n          dispose: fetch.unsubscribe\n        };\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_loadMore\", function (pageSize, observerOrCallback, options) {\n        if (!_this._canFetchPage('loadMore')) {\n          return {\n            dispose: function dispose() {}\n          };\n        }\n        var observer = toObserver(observerOrCallback);\n        var connectionData = _this._getConnectionData();\n        if (!connectionData) {\n          Observable.create(function (sink) {\n            return sink.complete();\n          }).subscribe(observer);\n          return null;\n        }\n        var totalCount = connectionData.edgeCount + pageSize;\n        if (options && options.force) {\n          return _this._refetchConnection(totalCount, observerOrCallback);\n        }\n        var _ConnectionInterface$ = ConnectionInterface.get(),\n          END_CURSOR = _ConnectionInterface$.END_CURSOR,\n          START_CURSOR = _ConnectionInterface$.START_CURSOR;\n        var cursor = connectionData.cursor;\n        process.env.NODE_ENV !== \"production\" ? warning(cursor != null && cursor !== '', 'ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)', direction === FORWARD ? END_CURSOR : START_CURSOR, cursor) : void 0;\n        var paginatingVariables = {\n          count: pageSize,\n          cursor: cursor,\n          totalCount: totalCount\n        };\n        var fetch = _this._fetchPage(paginatingVariables, observer, options);\n        return {\n          dispose: fetch.unsubscribe\n        };\n      });\n      var relayContext = assertRelayContext(props.__relayContext);\n      var rootIsQueryRenderer = (_props$__rootIsQueryR = props.__rootIsQueryRenderer) !== null && _props$__rootIsQueryR !== void 0 ? _props$__rootIsQueryR : false;\n      _this._isARequestInFlight = false;\n      _this._refetchSubscription = null;\n      _this._refetchVariables = null;\n      if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n        _this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props, rootIsQueryRenderer);\n      } else {\n        _this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props, rootIsQueryRenderer, _this._handleFragmentDataUpdate);\n      }\n      _this.state = {\n        data: _this._resolver.resolve(),\n        prevContext: relayContext,\n        contextForChildren: relayContext,\n        relayProp: _this._buildRelayProp(relayContext),\n        resolverGeneration: 0\n      };\n      _this._isUnmounted = false;\n      _this._hasFetched = false;\n      return _this;\n    }\n    var _proto = _class.prototype;\n    _proto.componentDidMount = function componentDidMount() {\n      this._isUnmounted = false;\n      if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n        this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n      }\n    };\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n        if (prevState.resolverGeneration !== this.state.resolverGeneration) {\n          this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n        } else {\n          this._rerenderIfStoreHasChanged();\n        }\n      }\n    }\n\n    /**\n     * When new props are received, read data for the new props and subscribe\n     * for updates. Props may be the same in which case previous data and\n     * subscriptions can be reused.\n     */;\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n      var _nextProps$__rootIsQu;\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var rootIsQueryRenderer = (_nextProps$__rootIsQu = nextProps.__rootIsQueryRenderer) !== null && _nextProps$__rootIsQu !== void 0 ? _nextProps$__rootIsQu : false;\n      var prevIDs = getDataIDsFromObject(fragments, this.props);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var prevRootVariables = getRootVariablesForFragments(fragments, this.props);\n      var nextRootVariables = getRootVariablesForFragments(fragments, nextProps);\n\n      // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n      if (relayContext.environment !== this.state.prevContext.environment || !areEqual(prevRootVariables, nextRootVariables) || !areEqual(prevIDs, nextIDs)) {\n        this._cleanup();\n        // Child containers rely on context.relay being mutated (for gDSFP).\n        if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n          this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps, rootIsQueryRenderer);\n        } else {\n          this._resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps, rootIsQueryRenderer, this._handleFragmentDataUpdate);\n        }\n        this.setState(function (prevState) {\n          return {\n            prevContext: relayContext,\n            contextForChildren: relayContext,\n            relayProp: _this2._buildRelayProp(relayContext),\n            resolverGeneration: prevState.resolverGeneration + 1\n          };\n        });\n      } else if (!this._hasFetched) {\n        this._resolver.setProps(nextProps);\n      }\n      var data = this._resolver.resolve();\n      if (data !== this.state.data) {\n        this.setState({\n          data: data\n        });\n      }\n    };\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._isUnmounted = true;\n      this._cleanup();\n    };\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data || nextState.relayProp !== this.state.relayProp || nextState.resolverGeneration !== this.state.resolverGeneration) {\n        return true;\n      }\n      // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n      var keys = Object.keys(nextProps);\n      for (var ii = 0; ii < keys.length; ii++) {\n        var key = keys[ii];\n        if (key === '__relayContext') {\n          if (nextState.prevContext.environment !== this.state.prevContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(key) && !isScalarAndEqual(nextProps[key], this.props[key])) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    _proto._buildRelayProp = function _buildRelayProp(relayContext) {\n      return {\n        hasMore: this._hasMore,\n        isLoading: this._isLoading,\n        loadMore: this._loadMore,\n        refetchConnection: this._refetchConnection,\n        environment: relayContext.environment\n      };\n    };\n    _proto._rerenderIfStoreHasChanged = function _rerenderIfStoreHasChanged() {\n      var data = this.state.data;\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      var maybeNewData = this._resolver.resolve();\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    };\n    _proto._subscribeToNewResolverAndRerenderIfStoreHasChanged = function _subscribeToNewResolverAndRerenderIfStoreHasChanged() {\n      var data = this.state.data;\n      var maybeNewData = this._resolver.resolve();\n\n      // Event listeners are only safe to add during the commit phase,\n      // So they won't leak if render is interrupted or errors.\n      this._resolver.setCallback(this.props, this._handleFragmentDataUpdate);\n\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    }\n\n    /**\n     * Render new data for the existing props/context.\n     */;\n    _proto._getConnectionData = function _getConnectionData() {\n      // Extract connection data and verify there are more edges to fetch\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props,\n        _ = _this$props.componentRef,\n        restProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, _excluded);\n      var props = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, restProps), this.state.data);\n      var connectionData = getConnectionFromProps(props);\n      if (connectionData == null) {\n        return null;\n      }\n      var _ConnectionInterface$2 = ConnectionInterface.get(),\n        EDGES = _ConnectionInterface$2.EDGES,\n        PAGE_INFO = _ConnectionInterface$2.PAGE_INFO,\n        HAS_NEXT_PAGE = _ConnectionInterface$2.HAS_NEXT_PAGE,\n        HAS_PREV_PAGE = _ConnectionInterface$2.HAS_PREV_PAGE,\n        END_CURSOR = _ConnectionInterface$2.END_CURSOR,\n        START_CURSOR = _ConnectionInterface$2.START_CURSOR;\n      !(typeof connectionData === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return `null` or a plain object with %s and %s properties, got `%s`.', componentName, EDGES, PAGE_INFO, connectionData) : invariant(false) : void 0;\n      var edges = connectionData[EDGES];\n      var pageInfo = connectionData[PAGE_INFO];\n      if (edges == null || pageInfo == null) {\n        return null;\n      }\n      !Array.isArray(edges) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return an object with %s: Array, got `%s`.', componentName, EDGES, edges) : invariant(false) : void 0;\n      !(typeof pageInfo === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getConnectionFromProps()` in `%s`' + 'to return an object with %s: Object, got `%s`.', componentName, PAGE_INFO, pageInfo) : invariant(false) : void 0;\n      var hasMore = direction === FORWARD ? pageInfo[HAS_NEXT_PAGE] : pageInfo[HAS_PREV_PAGE];\n      var cursor = direction === FORWARD ? pageInfo[END_CURSOR] : pageInfo[START_CURSOR];\n      if (typeof hasMore !== 'boolean' || edges.length !== 0 && typeof cursor === 'undefined') {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. ' + 'Be sure to fetch %s (got `%s`) and %s (got `%s`).', PAGE_INFO, componentName, direction === FORWARD ? HAS_NEXT_PAGE : HAS_PREV_PAGE, hasMore, direction === FORWARD ? END_CURSOR : START_CURSOR, cursor) : void 0;\n        return null;\n      }\n      return {\n        cursor: cursor,\n        edgeCount: edges.length,\n        hasMore: hasMore\n      };\n    };\n    _proto._getQueryFetcher = function _getQueryFetcher() {\n      if (!this._queryFetcher) {\n        this._queryFetcher = new ReactRelayQueryFetcher();\n      }\n      return this._queryFetcher;\n    };\n    _proto._canFetchPage = function _canFetchPage(method) {\n      if (this._isUnmounted) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayPaginationContainer: Unexpected call of `%s` ' + 'on unmounted container `%s`. It looks like some instances ' + 'of your container still trying to fetch data but they already ' + 'unmounted. Please make sure you clear all timers, intervals, async ' + 'calls, etc that may trigger `%s` call.', method, containerName, method) : void 0;\n        return false;\n      }\n      return true;\n    };\n    _proto._fetchPage = function _fetchPage(paginatingVariables, observer, options) {\n      var _this3 = this;\n      var _assertRelayContext = assertRelayContext(this.props.__relayContext),\n        environment = _assertRelayContext.environment;\n      var _this$props2 = this.props,\n        _ = _this$props2.componentRef,\n        __relayContext = _this$props2.__relayContext,\n        __rootIsQueryRenderer = _this$props2.__rootIsQueryRenderer,\n        restProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props2, _excluded2);\n      var props = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, restProps), this.state.data);\n      var fragmentVariables;\n      var rootVariables = getRootVariablesForFragments(fragments, restProps);\n      fragmentVariables = getVariablesFromObject(fragments, restProps);\n      fragmentVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, rootVariables), fragmentVariables), this._refetchVariables);\n      var fetchVariables = connectionConfig.getVariables(props, {\n        count: paginatingVariables.count,\n        cursor: paginatingVariables.cursor\n      }, fragmentVariables);\n      !(typeof fetchVariables === 'object' && fetchVariables !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayPaginationContainer: Expected `getVariables()` to ' + 'return an object, got `%s` in `%s`.', fetchVariables, componentName) : invariant(false) : void 0;\n      fetchVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, fetchVariables), this._refetchVariables);\n      fragmentVariables = (0, _objectSpread3[\"default\"])((0, _objectSpread3[\"default\"])({}, fetchVariables), fragmentVariables);\n      var cacheConfig = options ? {\n        force: !!options.force\n      } : undefined;\n      if (cacheConfig != null && (options === null || options === void 0 ? void 0 : options.metadata) != null) {\n        cacheConfig.metadata = options === null || options === void 0 ? void 0 : options.metadata;\n      }\n      var request = getRequest(connectionConfig.query);\n      var operation = createOperationDescriptor(request, fetchVariables, cacheConfig);\n      var refetchSubscription = null;\n      if (this._refetchSubscription) {\n        this._refetchSubscription.unsubscribe();\n      }\n      this._hasFetched = true;\n      var onNext = function onNext(payload, complete) {\n        var prevData = _this3._resolver.resolve();\n        _this3._resolver.setVariables(getFragmentVariables(fragmentVariables, paginatingVariables.totalCount), operation.request.node);\n        var nextData = _this3._resolver.resolve();\n\n        // Workaround slightly different handling for connection in different\n        // core implementations:\n        // - Classic core requires the count to be explicitly incremented\n        // - Modern core automatically appends new items, updating the count\n        //   isn't required to see new data.\n        //\n        // `setState` is only required if changing the variables would change the\n        // resolved data.\n        // TODO #14894725: remove PaginationContainer equal check\n        if (!areEqual(prevData, nextData)) {\n          _this3.setState({\n            data: nextData,\n            contextForChildren: {\n              environment: _this3.props.__relayContext.environment\n            }\n          }, complete);\n        } else {\n          complete();\n        }\n      };\n      var cleanup = function cleanup() {\n        if (_this3._refetchSubscription === refetchSubscription) {\n          _this3._refetchSubscription = null;\n          _this3._isARequestInFlight = false;\n        }\n      };\n      this._isARequestInFlight = true;\n      refetchSubscription = this._getQueryFetcher().execute({\n        environment: environment,\n        operation: operation,\n        preservePreviousReferences: true\n      }).mergeMap(function (payload) {\n        return Observable.create(function (sink) {\n          onNext(payload, function () {\n            sink.next(); // pass void to public observer's `next`\n            sink.complete();\n          });\n        });\n      })\n      // use do instead of finally so that observer's `complete` fires after cleanup\n      [\"do\"]({\n        error: cleanup,\n        complete: cleanup,\n        unsubscribe: cleanup\n      }).subscribe(observer || {});\n      this._refetchSubscription = this._isARequestInFlight ? refetchSubscription : null;\n      return refetchSubscription;\n    };\n    _proto._cleanup = function _cleanup() {\n      this._resolver.dispose();\n      this._refetchVariables = null;\n      this._hasFetched = false;\n      if (this._refetchSubscription) {\n        this._refetchSubscription.unsubscribe();\n        this._refetchSubscription = null;\n        this._isARequestInFlight = false;\n      }\n      if (this._queryFetcher) {\n        this._queryFetcher.dispose();\n      }\n    }\n\n    // $FlowFixMe[missing-local-annot]\n    ;\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _this$props3 = this.props,\n        componentRef = _this$props3.componentRef,\n        __relayContext = _this$props3.__relayContext,\n        __rootIsQueryRenderer = _this$props3.__rootIsQueryRenderer,\n        props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props3, _excluded3);\n      return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n        value: this.state.contextForChildren\n      }, /*#__PURE__*/React.createElement(Component, (0, _extends2[\"default\"])({}, props, this.state.data, {\n        ref: componentRef,\n        relay: this.state.relayProp\n      })));\n    };\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _class;\n}\n\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\nfunction createContainer(Component, fragmentSpec, connectionConfig) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, function (ComponentClass, fragments) {\n    return createContainerWithFragments(ComponentClass, fragments, connectionConfig);\n  });\n}\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar invariant = require('invariant');\nvar _require = require('relay-runtime'),\n  fetchQuery = _require.__internal.fetchQuery,\n  createOperationDescriptor = _require.createOperationDescriptor,\n  isRelayModernEnvironment = _require.isRelayModernEnvironment;\nvar ReactRelayQueryFetcher = /*#__PURE__*/function () {\n  function ReactRelayQueryFetcher(args) {\n    (0, _defineProperty2[\"default\"])(this, \"_selectionReferences\", []);\n    (0, _defineProperty2[\"default\"])(this, \"_didFetchFinish\", false);\n    if (args != null) {\n      this._cacheSelectionReference = args.cacheSelectionReference;\n      this._selectionReferences = args.selectionReferences;\n    }\n  }\n  var _proto = ReactRelayQueryFetcher.prototype;\n  _proto.getSelectionReferences = function getSelectionReferences() {\n    return {\n      cacheSelectionReference: this._cacheSelectionReference,\n      selectionReferences: this._selectionReferences\n    };\n  };\n  _proto.lookupInStore = function lookupInStore(environment, operation, fetchPolicy) {\n    if (fetchPolicy === 'store-and-network' || fetchPolicy === 'store-or-network') {\n      if (environment.check(operation).status === 'available') {\n        this._retainCachedOperation(environment, operation);\n        return environment.lookup(operation.fragment);\n      }\n    }\n    return null;\n  };\n  _proto.getFetchResult = function getFetchResult() {\n    if (this._didFetchFinish) {\n      // We don't reset '_didFetchFinish' because another callback may be set\n      if (this._error != null) {\n        return {\n          error: this._error\n        };\n      } else if (this._snapshot != null) {\n        return {\n          snapshot: this._snapshot\n        };\n      }\n    } else {\n      return null;\n    }\n  };\n  _proto.execute = function execute(_ref) {\n    var _this = this;\n    var environment = _ref.environment,\n      operation = _ref.operation,\n      _ref$preservePrevious = _ref.preservePreviousReferences,\n      preservePreviousReferences = _ref$preservePrevious === void 0 ? false : _ref$preservePrevious;\n    var reference = environment.retain(operation);\n    var error = function error() {\n      // We may have partially fulfilled the request, so let the next request\n      // or the unmount dispose of the references.\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n    var complete = function complete() {\n      if (!preservePreviousReferences) {\n        _this.disposeSelectionReferences();\n      }\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n    var unsubscribe = function unsubscribe() {\n      // Let the next request or the unmount code dispose of the references.\n      // We may have partially fulfilled the request.\n      _this._selectionReferences = _this._selectionReferences.concat(reference);\n    };\n    if (!isRelayModernEnvironment(environment)) {\n      return environment.execute({\n        operation: operation\n      })[\"do\"]({\n        error: error,\n        complete: complete,\n        unsubscribe: unsubscribe\n      });\n    }\n    return fetchQuery(environment, operation)[\"do\"]({\n      error: error,\n      complete: complete,\n      unsubscribe: unsubscribe\n    });\n  };\n  _proto.setOnDataChange = function setOnDataChange(onDataChange) {\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `setOnDataChange` should have been called after having called `fetch`') : invariant(false) : void 0;\n    if (typeof onDataChange === 'function') {\n      // Mutate the most recent fetchOptions in place,\n      // So that in-progress requests can access the updated callback.\n      this._fetchOptions.onDataChangeCallbacks = this._fetchOptions.onDataChangeCallbacks || [];\n      this._fetchOptions.onDataChangeCallbacks.push(onDataChange);\n      if (this._didFetchFinish) {\n        // We don't reset '_didFetchFinish' because another callback may be set\n        if (this._error != null) {\n          onDataChange({\n            error: this._error\n          });\n        } else if (this._snapshot != null) {\n          onDataChange({\n            snapshot: this._snapshot\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * `fetch` fetches the data for the given operation.\n   * If a result is immediately available synchronously, it will be synchronously\n   * returned by this function.\n   *\n   * Otherwise, the fetched result will be communicated via the `onDataChange` callback.\n   * `onDataChange` will be called with the first result (**if it wasn't returned synchronously**),\n   * and then subsequently whenever the data changes.\n   */;\n  _proto.fetch = function fetch(fetchOptions, cacheConfigOverride) {\n    var _this2 = this;\n    var environment = fetchOptions.environment,\n      operation = fetchOptions.operation,\n      onDataChange = fetchOptions.onDataChange;\n    var fetchHasReturned = false;\n    var _error;\n    this.disposeRequest();\n    var oldOnDataChangeCallbacks = this._fetchOptions && this._fetchOptions.onDataChangeCallbacks;\n    this._fetchOptions = {\n      environment: environment,\n      onDataChangeCallbacks: oldOnDataChangeCallbacks || [],\n      operation: operation\n    };\n    if (onDataChange && this._fetchOptions.onDataChangeCallbacks.indexOf(onDataChange) === -1) {\n      // $FlowFixMe[incompatible-use]\n      this._fetchOptions.onDataChangeCallbacks.push(onDataChange);\n    }\n    var operationOverride = cacheConfigOverride ? createOperationDescriptor(operation.request.node, operation.request.variables, cacheConfigOverride) : operation;\n    var request = this.execute({\n      environment: environment,\n      operation: operationOverride\n    })[\"finally\"](function () {\n      _this2._pendingRequest = null;\n    }).subscribe({\n      next: function next() {\n        // If we received a response,\n        // Make a note that to notify the callback when it's later added.\n        _this2._didFetchFinish = true;\n        _this2._error = null;\n\n        // Only notify of the first result if `next` is being called **asynchronously**\n        // (i.e. after `fetch` has returned).\n        _this2._onQueryDataAvailable({\n          notifyFirstResult: fetchHasReturned\n        });\n      },\n      error: function error(err) {\n        // If we received a response when we didn't have a change callback,\n        // Make a note that to notify the callback when it's later added.\n        _this2._didFetchFinish = true;\n        _this2._error = err;\n        _this2._snapshot = null;\n        var onDataChangeCallbacks = _this2._fetchOptions && _this2._fetchOptions.onDataChangeCallbacks;\n\n        // Only notify of error if `error` is being called **asynchronously**\n        // (i.e. after `fetch` has returned).\n        if (fetchHasReturned) {\n          if (onDataChangeCallbacks) {\n            onDataChangeCallbacks.forEach(function (onDataChange) {\n              onDataChange({\n                error: err\n              });\n            });\n          }\n        } else {\n          _error = err;\n        }\n      }\n    });\n    this._pendingRequest = {\n      dispose: function dispose() {\n        request.unsubscribe();\n      }\n    };\n    fetchHasReturned = true;\n    if (_error) {\n      throw _error;\n    }\n    return this._snapshot;\n  };\n  _proto.retry = function retry(cacheConfigOverride) {\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `retry` should be called after having called `fetch`') : invariant(false) : void 0;\n    return this.fetch({\n      environment: this._fetchOptions.environment,\n      operation: this._fetchOptions.operation,\n      onDataChange: null // If there are onDataChangeCallbacks they will be reused\n    }, cacheConfigOverride);\n  };\n  _proto.dispose = function dispose() {\n    this.disposeRequest();\n    this.disposeSelectionReferences();\n  };\n  _proto.disposeRequest = function disposeRequest() {\n    this._error = null;\n    this._snapshot = null;\n\n    // order is important, dispose of pendingFetch before selectionReferences\n    if (this._pendingRequest) {\n      this._pendingRequest.dispose();\n    }\n    if (this._rootSubscription) {\n      this._rootSubscription.dispose();\n      this._rootSubscription = null;\n    }\n  };\n  _proto._retainCachedOperation = function _retainCachedOperation(environment, operation) {\n    this._disposeCacheSelectionReference();\n    this._cacheSelectionReference = environment.retain(operation);\n  };\n  _proto._disposeCacheSelectionReference = function _disposeCacheSelectionReference() {\n    this._cacheSelectionReference && this._cacheSelectionReference.dispose();\n    this._cacheSelectionReference = null;\n  };\n  _proto.disposeSelectionReferences = function disposeSelectionReferences() {\n    this._disposeCacheSelectionReference();\n    this._selectionReferences.forEach(function (r) {\n      return r.dispose();\n    });\n    this._selectionReferences = [];\n  };\n  _proto._onQueryDataAvailable = function _onQueryDataAvailable(_ref2) {\n    var _this3 = this;\n    var notifyFirstResult = _ref2.notifyFirstResult;\n    !this._fetchOptions ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ReactRelayQueryFetcher: `_onQueryDataAvailable` should have been called after having called `fetch`') : invariant(false) : void 0;\n    var _this$_fetchOptions = this._fetchOptions,\n      environment = _this$_fetchOptions.environment,\n      onDataChangeCallbacks = _this$_fetchOptions.onDataChangeCallbacks,\n      operation = _this$_fetchOptions.operation;\n\n    // `_onQueryDataAvailable` can be called synchronously the first time and can be called\n    // multiple times by network layers that support data subscriptions.\n    // Wait until the first payload to call `onDataChange` and subscribe for data updates.\n    if (this._snapshot) {\n      return;\n    }\n    this._snapshot = environment.lookup(operation.fragment);\n\n    // Subscribe to changes in the data of the root fragment\n    this._rootSubscription = environment.subscribe(this._snapshot, function (snapshot) {\n      // Read from this._fetchOptions in case onDataChange() was lazily added.\n      if (_this3._fetchOptions != null) {\n        var maybeNewOnDataChangeCallbacks = _this3._fetchOptions.onDataChangeCallbacks;\n        if (Array.isArray(maybeNewOnDataChangeCallbacks)) {\n          maybeNewOnDataChangeCallbacks.forEach(function (onDataChange) {\n            return onDataChange({\n              snapshot: snapshot\n            });\n          });\n        }\n      }\n    });\n    if (this._snapshot && notifyFirstResult && Array.isArray(onDataChangeCallbacks)) {\n      var snapshot = this._snapshot;\n      onDataChangeCallbacks.forEach(function (onDataChange) {\n        return onDataChange({\n          snapshot: snapshot\n        });\n      });\n    }\n  };\n  return ReactRelayQueryFetcher;\n}();\nmodule.exports = ReactRelayQueryFetcher;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\nvar ReactRelayQueryRendererContext = require('./ReactRelayQueryRendererContext');\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  RelayFeatureFlags = _require.RelayFeatureFlags;\nvar _require2 = require('relay-runtime'),\n  createOperationDescriptor = _require2.createOperationDescriptor,\n  deepFreeze = _require2.deepFreeze,\n  getRequest = _require2.getRequest;\n/**\n * React may double-fire the constructor, and we call 'fetch' in the\n * constructor. If a request is already in flight from a previous call to the\n * constructor, just reuse the query fetcher and wait for the response.\n */\nvar requestCache = {};\nvar queryRendererContext = {\n  rootIsQueryRenderer: true\n};\n/**\n * @public\n *\n * Orchestrates fetching and rendering data for a single view or view hierarchy:\n * - Fetches the query/variables using the given network implementation.\n * - Normalizes the response(s) to that query, publishing them to the given\n *   store.\n * - Renders the pending/fail/success states with the provided render function.\n * - Subscribes for updates to the root data and re-renders with any changes.\n */\nvar ReactRelayQueryRenderer = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(ReactRelayQueryRenderer, _React$Component);\n  function ReactRelayQueryRenderer(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n\n    // Callbacks are attached to the current instance and shared with static\n    // lifecyles by bundling with state. This is okay to do because the\n    // callbacks don't change in reaction to props. However we should not\n    // \"leak\" them before mounting (since we would be unable to clean up). For\n    // that reason, we define them as null initially and fill them in after\n    // mounting to avoid leaking memory.\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleDataChange\", function (params) {\n      var error = params.error == null ? null : params.error;\n      var snapshot = params.snapshot == null ? null : params.snapshot;\n      _this.setState(function (prevState) {\n        var prevRequestCacheKey = prevState.requestCacheKey;\n        if (prevRequestCacheKey) {\n          delete requestCache[prevRequestCacheKey];\n        }\n\n        // Don't update state if nothing has changed.\n        if (snapshot === prevState.snapshot && error === prevState.error) {\n          return null;\n        }\n        return {\n          renderProps: getRenderProps(error, snapshot, prevState.queryFetcher, prevState.retryCallbacks),\n          snapshot: snapshot,\n          requestCacheKey: null\n        };\n      });\n    });\n    var retryCallbacks = {\n      handleDataChange: null,\n      handleRetryAfterError: null\n    };\n    var queryFetcher;\n    var requestCacheKey;\n    if (props.query) {\n      var query = props.query;\n      var request = getRequest(query);\n      requestCacheKey = getRequestCacheKey(request.params, props.variables);\n      queryFetcher = requestCache[requestCacheKey] ? requestCache[requestCacheKey].queryFetcher : new ReactRelayQueryFetcher();\n    } else {\n      queryFetcher = new ReactRelayQueryFetcher();\n    }\n    _this._maybeHiddenOrFastRefresh = false;\n    _this.state = (0, _objectSpread2[\"default\"])({\n      prevPropsEnvironment: props.environment,\n      prevPropsVariables: props.variables,\n      prevQuery: props.query,\n      queryFetcher: queryFetcher,\n      retryCallbacks: retryCallbacks\n    }, fetchQueryAndComputeStateFromProps(props, queryFetcher, retryCallbacks, requestCacheKey));\n    return _this;\n  }\n  ReactRelayQueryRenderer.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.prevQuery !== nextProps.query || prevState.prevPropsEnvironment !== nextProps.environment || !areEqual(prevState.prevPropsVariables, nextProps.variables)) {\n      return resetQueryStateForUpdate(nextProps, prevState);\n    }\n    return null;\n  };\n  var _proto = ReactRelayQueryRenderer.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n    if (this._maybeHiddenOrFastRefresh === true) {\n      // This block only runs if the component has previously \"unmounted\"\n      // due to it being hidden by the Offscreen API, or during fast refresh.\n      // At this point, the current cached resource will have been disposed\n      // by the previous cleanup, so instead of attempting to\n      // do our regular commit setup, so that the query is re-evaluated\n      // (and potentially cause a refetch).\n      this._maybeHiddenOrFastRefresh = false;\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState(function (prevState) {\n        var newState = resetQueryStateForUpdate(_this2.props, prevState);\n        var requestCacheKey = newState.requestCacheKey,\n          queryFetcher = newState.queryFetcher;\n        if (requestCacheKey != null && requestCache[requestCacheKey] != null) {\n          if (RelayFeatureFlags.ENABLE_QUERY_RENDERER_SET_STATE_PREVENTION) {\n            var fetchResult = queryFetcher.getFetchResult();\n            if (fetchResult != null) {\n              var _fetchResult$snapshot, _fetchResult$error;\n              var snapshot = (_fetchResult$snapshot = fetchResult.snapshot) !== null && _fetchResult$snapshot !== void 0 ? _fetchResult$snapshot : null;\n              var error = (_fetchResult$error = fetchResult.error) !== null && _fetchResult$error !== void 0 ? _fetchResult$error : null;\n              var prevRequestCacheKey = prevState.requestCacheKey;\n              if (prevRequestCacheKey != null) {\n                delete requestCache[prevRequestCacheKey];\n              }\n              newState.renderProps = getRenderProps(error, snapshot, queryFetcher, prevState.retryCallbacks);\n              newState.snapshot = snapshot;\n              newState.requestCacheKey = null;\n            } else {\n              queryFetcher.setOnDataChange(_this2._handleDataChange);\n            }\n          } else {\n            queryFetcher.setOnDataChange(_this2._handleDataChange);\n          }\n        }\n        return newState;\n      });\n      return;\n    }\n    var _this$state = this.state,\n      retryCallbacks = _this$state.retryCallbacks,\n      queryFetcher = _this$state.queryFetcher,\n      requestCacheKey = _this$state.requestCacheKey;\n    // We don't need to cache the request after the component commits\n    if (requestCacheKey) {\n      delete requestCache[requestCacheKey];\n    }\n    retryCallbacks.handleDataChange = this._handleDataChange;\n    retryCallbacks.handleRetryAfterError = function (error) {\n      return _this2.setState(function (prevState) {\n        var prevRequestCacheKey = prevState.requestCacheKey;\n        if (prevRequestCacheKey) {\n          delete requestCache[prevRequestCacheKey];\n        }\n        return {\n          renderProps: getLoadingRenderProps(),\n          requestCacheKey: null\n        };\n      });\n    };\n\n    // Re-initialize the ReactRelayQueryFetcher with callbacks.\n    // If data has changed since constructions, this will re-render.\n    if (this.props.query) {\n      queryFetcher.setOnDataChange(this._handleDataChange);\n    }\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps, prevState) {\n    // We don't need to cache the request after the component commits\n    var _this$state2 = this.state,\n      queryFetcher = _this$state2.queryFetcher,\n      requestCacheKey = _this$state2.requestCacheKey;\n    if (requestCacheKey) {\n      delete requestCache[requestCacheKey];\n      // HACK\n      delete this.state.requestCacheKey;\n    }\n    if (this.props.query && queryFetcher !== prevState.queryFetcher) {\n      queryFetcher.setOnDataChange(this._handleDataChange);\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.state.queryFetcher.dispose();\n    this._maybeHiddenOrFastRefresh = true;\n  };\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.render !== this.props.render || nextState.renderProps !== this.state.renderProps;\n  };\n  _proto.render = function render() {\n    var _this$state3 = this.state,\n      renderProps = _this$state3.renderProps,\n      relayContext = _this$state3.relayContext;\n    // Note that the root fragment results in `renderProps.props` is already\n    // frozen by the store; this call is to freeze the renderProps object and\n    // error property if set.\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(renderProps);\n    }\n    return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n      value: relayContext\n    }, /*#__PURE__*/React.createElement(ReactRelayQueryRendererContext.Provider, {\n      value: queryRendererContext\n    }, this.props.render(renderProps)));\n  };\n  return ReactRelayQueryRenderer;\n}(React.Component);\nfunction getLoadingRenderProps() {\n  return {\n    error: null,\n    props: null,\n    // `props: null` indicates that the data is being fetched (i.e. loading)\n    retry: null\n  };\n}\nfunction getEmptyRenderProps() {\n  return {\n    error: null,\n    props: {},\n    // `props: {}` indicates no data available\n    retry: null\n  };\n}\nfunction getRenderProps(error, snapshot, queryFetcher, retryCallbacks) {\n  return {\n    error: error ? error : null,\n    props: snapshot ? snapshot.data : null,\n    retry: function retry(cacheConfigOverride) {\n      var syncSnapshot = queryFetcher.retry(cacheConfigOverride);\n      if (syncSnapshot && typeof retryCallbacks.handleDataChange === 'function') {\n        retryCallbacks.handleDataChange({\n          snapshot: syncSnapshot\n        });\n      } else if (error && typeof retryCallbacks.handleRetryAfterError === 'function') {\n        // If retrying after an error and no synchronous result available,\n        // reset the render props\n        retryCallbacks.handleRetryAfterError(error);\n      }\n    }\n  };\n}\nfunction getRequestCacheKey(request, variables) {\n  return JSON.stringify({\n    id: request.cacheID ? request.cacheID : request.id,\n    variables: variables\n  });\n}\nfunction resetQueryStateForUpdate(props, prevState) {\n  var query = props.query;\n  var prevSelectionReferences = prevState.queryFetcher.getSelectionReferences();\n  prevState.queryFetcher.disposeRequest();\n  var queryFetcher;\n  if (query) {\n    var request = getRequest(query);\n    var requestCacheKey = getRequestCacheKey(request.params, props.variables);\n    queryFetcher = requestCache[requestCacheKey] ? requestCache[requestCacheKey].queryFetcher : new ReactRelayQueryFetcher(prevSelectionReferences);\n  } else {\n    queryFetcher = new ReactRelayQueryFetcher(prevSelectionReferences);\n  }\n  return (0, _objectSpread2[\"default\"])({\n    prevQuery: props.query,\n    prevPropsEnvironment: props.environment,\n    prevPropsVariables: props.variables,\n    queryFetcher: queryFetcher\n  }, fetchQueryAndComputeStateFromProps(props, queryFetcher, prevState.retryCallbacks\n  // passing no requestCacheKey will cause it to be recalculated internally\n  // and we want the updated requestCacheKey, since variables may have changed\n  ));\n}\n\nfunction fetchQueryAndComputeStateFromProps(props, queryFetcher, retryCallbacks, requestCacheKey) {\n  var environment = props.environment,\n    query = props.query,\n    variables = props.variables,\n    cacheConfig = props.cacheConfig;\n  var genericEnvironment = environment;\n  if (query) {\n    var request = getRequest(query);\n    var operation = createOperationDescriptor(request, variables, cacheConfig);\n    var relayContext = {\n      environment: genericEnvironment\n    };\n    if (typeof requestCacheKey === 'string' && requestCache[requestCacheKey]) {\n      // This same request is already in flight.\n\n      var snapshot = requestCache[requestCacheKey].snapshot;\n      if (snapshot) {\n        // Use the cached response\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getRenderProps(null, snapshot, queryFetcher, retryCallbacks),\n          snapshot: snapshot,\n          requestCacheKey: requestCacheKey\n        };\n      } else {\n        // Render loading state\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getLoadingRenderProps(),\n          snapshot: null,\n          requestCacheKey: requestCacheKey\n        };\n      }\n    }\n    try {\n      var storeSnapshot = queryFetcher.lookupInStore(genericEnvironment, operation, props.fetchPolicy);\n      var querySnapshot = queryFetcher.fetch({\n        environment: genericEnvironment,\n        onDataChange: null,\n        operation: operation\n      });\n\n      // Use network data first, since it may be fresher\n      var _snapshot = querySnapshot || storeSnapshot;\n\n      // cache the request to avoid duplicate requests\n      requestCacheKey = requestCacheKey || getRequestCacheKey(request.params, props.variables);\n      requestCache[requestCacheKey] = {\n        queryFetcher: queryFetcher,\n        snapshot: _snapshot\n      };\n      if (!_snapshot) {\n        return {\n          error: null,\n          relayContext: relayContext,\n          renderProps: getLoadingRenderProps(),\n          snapshot: null,\n          requestCacheKey: requestCacheKey\n        };\n      }\n      return {\n        error: null,\n        relayContext: relayContext,\n        renderProps: getRenderProps(null, _snapshot, queryFetcher, retryCallbacks),\n        snapshot: _snapshot,\n        requestCacheKey: requestCacheKey\n      };\n    } catch (error) {\n      return {\n        error: error,\n        relayContext: relayContext,\n        renderProps: getRenderProps(error, null, queryFetcher, retryCallbacks),\n        snapshot: null,\n        requestCacheKey: requestCacheKey\n      };\n    }\n  } else {\n    queryFetcher.dispose();\n    var _relayContext = {\n      environment: genericEnvironment\n    };\n    return {\n      error: null,\n      relayContext: _relayContext,\n      renderProps: getEmptyRenderProps(),\n      requestCacheKey: null // if there is an error, don't cache request\n    };\n  }\n}\n\nmodule.exports = ReactRelayQueryRenderer;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar React = require('react');\nmodule.exports = React.createContext({\n  rootIsQueryRenderer: false\n});","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _excluded = [\"componentRef\", \"__relayContext\", \"__rootIsQueryRenderer\"];\nvar buildReactRelayContainer = require('./buildReactRelayContainer');\nvar getRootVariablesForFragments = require('./getRootVariablesForFragments');\nvar _require = require('./ReactRelayContainerUtils'),\n  getContainerName = _require.getContainerName;\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryFetcher = require('./ReactRelayQueryFetcher');\nvar _require2 = require('./RelayContext'),\n  assertRelayContext = _require2.assertRelayContext;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require3 = require('relay-runtime'),\n  Observable = _require3.Observable,\n  createFragmentSpecResolver = _require3.createFragmentSpecResolver,\n  createOperationDescriptor = _require3.createOperationDescriptor,\n  getDataIDsFromObject = _require3.getDataIDsFromObject,\n  getRequest = _require3.getRequest,\n  getVariablesFromObject = _require3.getVariablesFromObject,\n  isScalarAndEqual = _require3.isScalarAndEqual;\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Composes a React component class, returning a new class that intercepts\n * props, resolving them with the provided fragments and subscribing for\n * updates.\n */\nfunction createContainerWithFragments(Component, fragments, taggedNode) {\n  var _class;\n  var containerName = getContainerName(Component);\n  return _class = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(_class, _React$Component);\n    // $FlowFixMe[missing-local-annot]\n\n    function _class(props) {\n      var _props$__rootIsQueryR, _this;\n      _this = _React$Component.call(this, props) || this;\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFragmentDataUpdate\", function () {\n        var resolverFromThisUpdate = _this.state.resolver;\n        _this.setState(function (updatedState) {\n          return (\n            // If this event belongs to the current data source, update.\n            // Otherwise we should ignore it.\n            resolverFromThisUpdate === updatedState.resolver ? {\n              data: updatedState.resolver.resolve()\n            } : null\n          );\n        });\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_refetch\", function (refetchVariables, renderVariables, observerOrCallback, options) {\n        if (_this._isUnmounted) {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'ReactRelayRefetchContainer: Unexpected call of `refetch` ' + 'on unmounted container `%s`. It looks like some instances ' + 'of your container still trying to refetch the data but they already ' + 'unmounted. Please make sure you clear all timers, intervals, async ' + 'calls, etc that may trigger `refetch`.', containerName) : void 0;\n          return {\n            dispose: function dispose() {}\n          };\n        }\n        var _assertRelayContext = assertRelayContext(_this.props.__relayContext),\n          environment = _assertRelayContext.environment;\n        var rootVariables = getRootVariablesForFragments(fragments, _this.props);\n        var fetchVariables = typeof refetchVariables === 'function' ? refetchVariables(_this._getFragmentVariables()) : refetchVariables;\n        fetchVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, rootVariables), fetchVariables);\n        var fragmentVariables = renderVariables ? (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, fetchVariables), renderVariables) : fetchVariables;\n        var cacheConfig = options ? {\n          force: !!options.force\n        } : undefined;\n        if (cacheConfig != null && (options === null || options === void 0 ? void 0 : options.metadata) != null) {\n          cacheConfig.metadata = options === null || options === void 0 ? void 0 : options.metadata;\n        }\n        var observer = typeof observerOrCallback === 'function' ? {\n          // callback is not exectued on complete or unsubscribe\n          // for backward compatibility\n          next: observerOrCallback,\n          error: observerOrCallback\n        } : observerOrCallback || {};\n        var query = getRequest(taggedNode);\n        var operation = createOperationDescriptor(query, fetchVariables, cacheConfig);\n\n        // TODO: T26288752 find a better way\n        _this.state.localVariables = fetchVariables;\n\n        // Cancel any previously running refetch.\n        _this._refetchSubscription && _this._refetchSubscription.unsubscribe();\n\n        // Declare refetchSubscription before assigning it in .start(), since\n        // synchronous completion may call callbacks .subscribe() returns.\n        var refetchSubscription;\n        var storeSnapshot = _this._getQueryFetcher().lookupInStore(environment, operation, options === null || options === void 0 ? void 0 : options.fetchPolicy);\n        if (storeSnapshot != null) {\n          _this.state.resolver.setVariables(fragmentVariables, operation.request.node);\n          _this.setState(function (latestState) {\n            return {\n              data: latestState.resolver.resolve(),\n              contextForChildren: {\n                environment: _this.props.__relayContext.environment\n              }\n            };\n          }, function () {\n            observer.next && observer.next();\n            observer.complete && observer.complete();\n          });\n          return {\n            dispose: function dispose() {}\n          };\n        }\n        _this._getQueryFetcher().execute({\n          environment: environment,\n          operation: operation,\n          // TODO (T26430099): Cleanup old references\n          preservePreviousReferences: true\n        }).mergeMap(function (response) {\n          _this.state.resolver.setVariables(fragmentVariables, operation.request.node);\n          return Observable.create(function (sink) {\n            return _this.setState(function (latestState) {\n              return {\n                data: latestState.resolver.resolve(),\n                contextForChildren: {\n                  environment: _this.props.__relayContext.environment\n                }\n              };\n            }, function () {\n              sink.next();\n              sink.complete();\n            });\n          });\n        })[\"finally\"](function () {\n          // Finalizing a refetch should only clear this._refetchSubscription\n          // if the finizing subscription is the most recent call.\n          if (_this._refetchSubscription === refetchSubscription) {\n            _this._refetchSubscription = null;\n          }\n        }).subscribe((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, observer), {}, {\n          start: function start(subscription) {\n            _this._refetchSubscription = refetchSubscription = subscription;\n            observer.start && observer.start(subscription);\n          }\n        }));\n        return {\n          dispose: function dispose() {\n            refetchSubscription && refetchSubscription.unsubscribe();\n          }\n        };\n      });\n      var relayContext = assertRelayContext(props.__relayContext);\n      var rootIsQueryRenderer = (_props$__rootIsQueryR = props.__rootIsQueryRenderer) !== null && _props$__rootIsQueryR !== void 0 ? _props$__rootIsQueryR : false;\n      _this._refetchSubscription = null;\n      // Do not provide a subscription/callback here.\n      // It is possible for this render to be interrupted or aborted,\n      // In which case the subscription would cause a leak.\n      // We will add the subscription in componentDidMount().\n      var resolver = createFragmentSpecResolver(relayContext, containerName, fragments, props, rootIsQueryRenderer);\n      _this.state = {\n        data: resolver.resolve(),\n        localVariables: null,\n        prevProps: props,\n        prevPropsContext: relayContext,\n        contextForChildren: relayContext,\n        relayProp: getRelayProp(relayContext.environment, _this._refetch),\n        resolver: resolver\n      };\n      _this._isUnmounted = false;\n      return _this;\n    }\n    var _proto = _class.prototype;\n    _proto.componentDidMount = function componentDidMount() {\n      this._isUnmounted = false;\n      this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n    };\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n      if (this.state.resolver !== prevState.resolver) {\n        prevState.resolver.dispose();\n        this._queryFetcher && this._queryFetcher.dispose();\n        this._refetchSubscription && this._refetchSubscription.unsubscribe();\n        this._subscribeToNewResolverAndRerenderIfStoreHasChanged();\n      } else {\n        this._rerenderIfStoreHasChanged();\n      }\n    }\n\n    /**\n     * When new props are received, read data for the new props and add it to\n     * state. Props may be the same in which case previous data can be reused.\n     */;\n    _class.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      var _nextProps$__rootIsQu;\n      // Any props change could impact the query, so we mirror props in state.\n      // This is an unusual pattern, but necessary for this container usecase.\n      var prevProps = prevState.prevProps;\n      var relayContext = assertRelayContext(nextProps.__relayContext);\n      var rootIsQueryRenderer = (_nextProps$__rootIsQu = nextProps.__rootIsQueryRenderer) !== null && _nextProps$__rootIsQu !== void 0 ? _nextProps$__rootIsQu : false;\n      var prevIDs = getDataIDsFromObject(fragments, prevProps);\n      var nextIDs = getDataIDsFromObject(fragments, nextProps);\n      var prevRootVariables = getRootVariablesForFragments(fragments, prevProps);\n      var nextRootVariables = getRootVariablesForFragments(fragments, nextProps);\n      var resolver = prevState.resolver;\n\n      // If the environment has changed or props point to new records then\n      // previously fetched data and any pending fetches no longer apply:\n      // - Existing references are on the old environment.\n      // - Existing references are based on old variables.\n      // - Pending fetches are for the previous records.\n      if (prevState.prevPropsContext.environment !== relayContext.environment || !areEqual(prevRootVariables, nextRootVariables) || !areEqual(prevIDs, nextIDs)) {\n        // Do not provide a subscription/callback here.\n        // It is possible for this render to be interrupted or aborted,\n        // In which case the subscription would cause a leak.\n        // We will add the subscription in componentDidUpdate().\n        resolver = createFragmentSpecResolver(relayContext, containerName, fragments, nextProps, rootIsQueryRenderer);\n        return {\n          data: resolver.resolve(),\n          localVariables: null,\n          prevProps: nextProps,\n          prevPropsContext: relayContext,\n          contextForChildren: relayContext,\n          relayProp: getRelayProp(relayContext.environment, prevState.relayProp.refetch),\n          resolver: resolver\n        };\n      } else if (!prevState.localVariables) {\n        resolver.setProps(nextProps);\n      }\n      var data = resolver.resolve();\n      if (data !== prevState.data) {\n        return {\n          data: data,\n          prevProps: nextProps\n        };\n      }\n      return null;\n    };\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._isUnmounted = true;\n      this.state.resolver.dispose();\n      this._queryFetcher && this._queryFetcher.dispose();\n      this._refetchSubscription && this._refetchSubscription.unsubscribe();\n    };\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n      // Short-circuit if any Relay-related data has changed\n      if (nextState.data !== this.state.data || nextState.relayProp !== this.state.relayProp) {\n        return true;\n      }\n      // Otherwise, for convenience short-circuit if all non-Relay props\n      // are scalar and equal\n      var keys = Object.keys(nextProps);\n      for (var ii = 0; ii < keys.length; ii++) {\n        var key = keys[ii];\n        if (key === '__relayContext') {\n          if (this.state.prevPropsContext.environment !== nextState.prevPropsContext.environment) {\n            return true;\n          }\n        } else {\n          if (!fragments.hasOwnProperty(key) && !isScalarAndEqual(nextProps[key], this.props[key])) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    _proto._rerenderIfStoreHasChanged = function _rerenderIfStoreHasChanged() {\n      var _this$state = this.state,\n        data = _this$state.data,\n        resolver = _this$state.resolver;\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      var maybeNewData = resolver.resolve();\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    };\n    _proto._subscribeToNewResolverAndRerenderIfStoreHasChanged = function _subscribeToNewResolverAndRerenderIfStoreHasChanged() {\n      var _this$state2 = this.state,\n        data = _this$state2.data,\n        resolver = _this$state2.resolver;\n      var maybeNewData = resolver.resolve();\n\n      // Event listeners are only safe to add during the commit phase,\n      // So they won't leak if render is interrupted or errors.\n      resolver.setCallback(this.props, this._handleFragmentDataUpdate);\n\n      // External values could change between render and commit.\n      // Check for this case, even though it requires an extra store read.\n      if (data !== maybeNewData) {\n        this.setState({\n          data: maybeNewData\n        });\n      }\n    }\n\n    /**\n     * Render new data for the existing props/context.\n     */;\n    _proto._getFragmentVariables = function _getFragmentVariables() {\n      return getVariablesFromObject(fragments, this.props);\n    };\n    _proto._getQueryFetcher = function _getQueryFetcher() {\n      if (!this._queryFetcher) {\n        this._queryFetcher = new ReactRelayQueryFetcher();\n      }\n      return this._queryFetcher;\n    };\n    // $FlowFixMe[missing-local-annot]\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props,\n        componentRef = _this$props.componentRef,\n        __relayContext = _this$props.__relayContext,\n        __rootIsQueryRenderer = _this$props.__rootIsQueryRenderer,\n        props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, _excluded);\n      var _this$state3 = this.state,\n        relayProp = _this$state3.relayProp,\n        contextForChildren = _this$state3.contextForChildren;\n      return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n        value: contextForChildren\n      }, /*#__PURE__*/React.createElement(Component, (0, _extends2[\"default\"])({}, props, this.state.data, {\n        ref: componentRef,\n        relay: relayProp\n      })));\n    };\n    return _class;\n  }(React.Component), (0, _defineProperty2[\"default\"])(_class, \"displayName\", containerName), _class;\n}\nfunction getRelayProp(environment, refetch) {\n  return {\n    environment: environment,\n    refetch: refetch\n  };\n}\n\n/**\n * Wrap the basic `createContainer()` function with logic to adapt to the\n * `context.relay.environment` in which it is rendered. Specifically, the\n * extraction of the environment-specific version of fragments in the\n * `fragmentSpec` is memoized once per environment, rather than once per\n * instance of the container constructed/rendered.\n */\nfunction createContainer(Component, fragmentSpec, taggedNode) {\n  // $FlowFixMe[incompatible-return]\n  return buildReactRelayContainer(Component, fragmentSpec, function (ComponentClass, fragments) {\n    return createContainerWithFragments(ComponentClass, fragments, taggedNode);\n  });\n}\nmodule.exports = {\n  createContainer: createContainer\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar isRelayEnvironment = require('./isRelayEnvironment');\nvar invariant = require('invariant');\n\n/**\n * Asserts that the input is a matches the `RelayContext` type defined in\n * `RelayEnvironmentTypes` and returns it as that type.\n */\nfunction assertRelayContext(relay) {\n  !isRelayContext(relay) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayContext: Expected `context.relay` to be an object conforming to ' + 'the `RelayContext` interface, got `%s`.', relay) : invariant(false) : void 0;\n  return relay;\n}\n\n/**\n * Determine if the input is a plain object that matches the `RelayContext`\n * type defined in `RelayEnvironmentTypes`.\n */\nfunction isRelayContext(context) {\n  return typeof context === 'object' && context !== null && !Array.isArray(context) && isRelayEnvironment(context.environment);\n}\nmodule.exports = {\n  assertRelayContext: assertRelayContext,\n  isRelayContext: isRelayContext\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar invariant = require('invariant');\n\n/**\n * Fail fast if the user supplies invalid fragments as input.\n */\nfunction assertFragmentMap(componentName, fragmentSpec) {\n  !(fragmentSpec && typeof fragmentSpec === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not create Relay Container for `%s`. ' + 'Expected a set of GraphQL fragments, got `%s` instead.', componentName, fragmentSpec) : invariant(false) : void 0;\n  for (var key in fragmentSpec) {\n    if (fragmentSpec.hasOwnProperty(key)) {\n      var fragment = fragmentSpec[key];\n      !(fragment && (typeof fragment === 'object' || typeof fragment === 'function')) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not create Relay Container for `%s`. ' + 'The value of fragment `%s` was expected to be a fragment, got `%s` instead.', componentName, key, fragment) : invariant(false) : void 0;\n    }\n  }\n}\nmodule.exports = assertFragmentMap;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar assertFragmentMap = require('./assertFragmentMap');\nvar _require = require('./ReactRelayContainerUtils'),\n  getComponentName = _require.getComponentName,\n  getContainerName = _require.getContainerName;\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryRendererContext = require('./ReactRelayQueryRendererContext');\nvar invariant = require('invariant');\nvar React = require('react');\nvar _require2 = require('relay-runtime'),\n  getFragment = _require2.getFragment;\nvar useContext = React.useContext;\n/**\n * Helper to create the Relay HOCs with ref forwarding, setting the displayName\n * and reading the React context.\n */\nfunction buildReactRelayContainer(ComponentClass, fragmentSpec, createContainerWithFragments) {\n  // Sanity-check user-defined fragment input\n  var containerName = getContainerName(ComponentClass);\n  assertFragmentMap(getComponentName(ComponentClass), fragmentSpec);\n  var fragments = {};\n  for (var key in fragmentSpec) {\n    fragments[key] = getFragment(fragmentSpec[key]);\n  }\n  var Container = createContainerWithFragments(ComponentClass, fragments);\n  Container.displayName = containerName;\n  function forwardRef(props, ref) {\n    var _queryRendererContext;\n    var context = useContext(ReactRelayContext);\n    !(context != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`%s` tried to render a context that was not valid this means that ' + '`%s` was rendered outside of a query renderer.', containerName, containerName) : invariant(false) : void 0;\n    var queryRendererContext = useContext(ReactRelayQueryRendererContext);\n    return /*#__PURE__*/React.createElement(Container, (0, _extends2[\"default\"])({}, props, {\n      __relayContext: context,\n      __rootIsQueryRenderer: (_queryRendererContext = queryRendererContext === null || queryRendererContext === void 0 ? void 0 : queryRendererContext.rootIsQueryRenderer) !== null && _queryRendererContext !== void 0 ? _queryRendererContext : false,\n      componentRef: props.componentRef || ref\n    }));\n  }\n  forwardRef.displayName = containerName;\n  var ForwardContainer = React.forwardRef(forwardRef);\n  if (process.env.NODE_ENV !== \"production\") {\n    // Used by RelayModernTestUtils\n    ForwardContainer.__ComponentClass = ComponentClass;\n    ForwardContainer.displayName = containerName;\n  }\n\n  // $FlowFixMe[incompatible-return]\n  return ForwardContainer;\n}\nmodule.exports = buildReactRelayContainer;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _require = require('relay-runtime'),\n  getSelector = _require.getSelector;\nfunction getRootVariablesForFragments(fragments, props) {\n  var rootVariables = {};\n  // NOTE: For extra safety, we make sure the rootVariables include the\n  // variables from all owners in this fragmentSpec, even though they\n  // should all point to the same owner\n  Object.keys(fragments).forEach(function (key) {\n    var _selector$selectors$, _selector$selectors$2, _selector$owner$varia;\n    var fragmentNode = fragments[key];\n    var fragmentRef = props[key];\n    var selector = getSelector(fragmentNode, fragmentRef);\n    var fragmentOwnerVariables = selector != null && selector.kind === 'PluralReaderSelector' ? (_selector$selectors$ = (_selector$selectors$2 = selector.selectors[0]) === null || _selector$selectors$2 === void 0 ? void 0 : _selector$selectors$2.owner.variables) !== null && _selector$selectors$ !== void 0 ? _selector$selectors$ : {} : (_selector$owner$varia = selector === null || selector === void 0 ? void 0 : selector.owner.variables) !== null && _selector$owner$varia !== void 0 ? _selector$owner$varia : {};\n    rootVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, rootVariables), fragmentOwnerVariables);\n  });\n  return rootVariables;\n}\nmodule.exports = getRootVariablesForFragments;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayFragmentContainer = require('./ReactRelayFragmentContainer');\nvar ReactRelayLocalQueryRenderer = require('./ReactRelayLocalQueryRenderer');\nvar ReactRelayPaginationContainer = require('./ReactRelayPaginationContainer');\nvar ReactRelayQueryRenderer = require('./ReactRelayQueryRenderer');\nvar ReactRelayRefetchContainer = require('./ReactRelayRefetchContainer');\nvar EntryPointContainer = require('./relay-hooks/EntryPointContainer.react');\nvar loadEntryPoint = require('./relay-hooks/loadEntryPoint');\nvar _require = require('./relay-hooks/loadQuery'),\n  loadQuery = _require.loadQuery;\nvar ProfilerContext = require('./relay-hooks/ProfilerContext');\nvar RelayEnvironmentProvider = require('./relay-hooks/RelayEnvironmentProvider');\nvar useClientQuery = require('./relay-hooks/useClientQuery');\nvar useEntryPointLoader = require('./relay-hooks/useEntryPointLoader');\nvar useFragment = require('./relay-hooks/useFragment');\nvar useLazyLoadQuery = require('./relay-hooks/useLazyLoadQuery');\nvar useMutation = require('./relay-hooks/useMutation');\nvar usePaginationFragment = require('./relay-hooks/usePaginationFragment');\nvar usePreloadedQuery = require('./relay-hooks/usePreloadedQuery');\nvar useQueryLoader = require('./relay-hooks/useQueryLoader');\nvar useRefetchableFragment = require('./relay-hooks/useRefetchableFragment');\nvar useRelayEnvironment = require('./relay-hooks/useRelayEnvironment');\nvar useSubscribeToInvalidationState = require('./relay-hooks/useSubscribeToInvalidationState');\nvar useSubscription = require('./relay-hooks/useSubscription');\nvar RelayRuntime = require('relay-runtime');\n/**\n * The public interface to react-relay.\n * Currently contains both Relay Hooks and legacy Container APIs.\n * Will eventually only export the interface from ./hooks.js.\n */\nmodule.exports = {\n  ConnectionHandler: RelayRuntime.ConnectionHandler,\n  QueryRenderer: ReactRelayQueryRenderer,\n  LocalQueryRenderer: ReactRelayLocalQueryRenderer,\n  MutationTypes: RelayRuntime.MutationTypes,\n  RangeOperations: RelayRuntime.RangeOperations,\n  ReactRelayContext: ReactRelayContext,\n  applyOptimisticMutation: RelayRuntime.applyOptimisticMutation,\n  commitLocalUpdate: RelayRuntime.commitLocalUpdate,\n  commitMutation: RelayRuntime.commitMutation,\n  createFragmentContainer: ReactRelayFragmentContainer.createContainer,\n  createPaginationContainer: ReactRelayPaginationContainer.createContainer,\n  createRefetchContainer: ReactRelayRefetchContainer.createContainer,\n  fetchQuery_DEPRECATED: RelayRuntime.fetchQuery_DEPRECATED,\n  graphql: RelayRuntime.graphql,\n  readInlineData: RelayRuntime.readInlineData,\n  requestSubscription: RelayRuntime.requestSubscription,\n  // Relay Hooks\n  EntryPointContainer: EntryPointContainer,\n  RelayEnvironmentProvider: RelayEnvironmentProvider,\n  ProfilerContext: ProfilerContext,\n  fetchQuery: RelayRuntime.fetchQuery,\n  loadQuery: loadQuery,\n  loadEntryPoint: loadEntryPoint,\n  useClientQuery: useClientQuery,\n  useFragment: useFragment,\n  useLazyLoadQuery: useLazyLoadQuery,\n  useEntryPointLoader: useEntryPointLoader,\n  useQueryLoader: useQueryLoader,\n  useMutation: useMutation,\n  usePaginationFragment: usePaginationFragment,\n  usePreloadedQuery: usePreloadedQuery,\n  useRefetchableFragment: useRefetchableFragment,\n  useRelayEnvironment: useRelayEnvironment,\n  useSubscribeToInvalidationState: useSubscribeToInvalidationState,\n  useSubscription: useSubscription\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * Determine if a given value is an object that implements the `Environment`\n * interface defined in `RelayEnvironmentTypes`.\n */\nfunction isRelayEnvironment(environment) {\n  return typeof environment === 'object' && environment !== null &&\n  // TODO: add applyMutation/sendMutation once ready in both cores\n  typeof environment.check === 'function' && typeof environment.lookup === 'function' && typeof environment.retain === 'function' && typeof environment.execute === 'function' && typeof environment.subscribe === 'function';\n}\nmodule.exports = isRelayEnvironment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ProfilerContext = require('./ProfilerContext');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar _require = require('react'),\n  useContext = _require.useContext,\n  useEffect = _require.useEffect;\nvar warning = require(\"fbjs/lib/warning\");\nfunction EntryPointContainer(_ref) {\n  var entryPointReference = _ref.entryPointReference,\n    props = _ref.props;\n  process.env.NODE_ENV !== \"production\" ? warning(entryPointReference.isDisposed === false, '<EntryPointContainer>: Expected entryPointReference to not be disposed ' + 'yet. This is because disposing the entrypoint marks it for future garbage ' + 'collection, and as such may no longer be present in the Relay store. ' + 'In the future, this will become a hard error.') : void 0;\n  var getComponent = entryPointReference.getComponent,\n    queries = entryPointReference.queries,\n    entryPoints = entryPointReference.entryPoints,\n    extraProps = entryPointReference.extraProps,\n    rootModuleID = entryPointReference.rootModuleID;\n  var Component = getComponent();\n  var profilerContext = useContext(ProfilerContext);\n  var environment = useRelayEnvironment();\n  useEffect(function () {\n    environment.__log({\n      name: 'entrypoint.root.consume',\n      profilerContext: profilerContext,\n      rootModuleID: rootModuleID\n    });\n  }, [environment, profilerContext, rootModuleID]);\n  return /*#__PURE__*/React.createElement(Component, {\n    entryPoints: entryPoints,\n    extraProps: extraProps,\n    props: props,\n    queries: queries\n  });\n}\nmodule.exports = EntryPointContainer;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar LRUCache = require('./LRUCache');\nvar _require = require('./QueryResource'),\n  getQueryResourceForEnvironment = _require.getQueryResourceForEnvironment;\nvar SuspenseResource = require('./SuspenseResource');\nvar invariant = require('invariant');\nvar _require2 = require('relay-runtime'),\n  _require2$__internal = _require2.__internal,\n  fetchQuery = _require2$__internal.fetchQuery,\n  getPromiseForActiveRequest = _require2$__internal.getPromiseForActiveRequest,\n  RelayFeatureFlags = _require2.RelayFeatureFlags,\n  createOperationDescriptor = _require2.createOperationDescriptor,\n  getFragmentIdentifier = _require2.getFragmentIdentifier,\n  getPendingOperationsForFragment = _require2.getPendingOperationsForFragment,\n  getSelector = _require2.getSelector,\n  getVariablesFromFragment = _require2.getVariablesFromFragment,\n  handlePotentialSnapshotErrors = _require2.handlePotentialSnapshotErrors,\n  isPromise = _require2.isPromise,\n  recycleNodesInto = _require2.recycleNodesInto;\nvar WEAKMAP_SUPPORTED = typeof WeakMap === 'function';\n// TODO: Fix to not rely on LRU. If the number of active fragments exceeds this\n// capacity, readSpec() will fail to find cached entries and break object\n// identity even if data hasn't changed.\nvar CACHE_CAPACITY = 1000000;\n\n// this is frozen so that users don't accidentally push data into the array\nvar CONSTANT_READONLY_EMPTY_ARRAY = Object.freeze([]);\nfunction isMissingData(snapshot) {\n  if (Array.isArray(snapshot)) {\n    return snapshot.some(function (s) {\n      return s.isMissingData;\n    });\n  }\n  return snapshot.isMissingData;\n}\nfunction hasMissingClientEdges(snapshot) {\n  var _snapshot$missingClie, _snapshot$missingClie2;\n  if (Array.isArray(snapshot)) {\n    return snapshot.some(function (s) {\n      var _s$missingClientEdges, _s$missingClientEdges2;\n      return ((_s$missingClientEdges = (_s$missingClientEdges2 = s.missingClientEdges) === null || _s$missingClientEdges2 === void 0 ? void 0 : _s$missingClientEdges2.length) !== null && _s$missingClientEdges !== void 0 ? _s$missingClientEdges : 0) > 0;\n    });\n  }\n  return ((_snapshot$missingClie = (_snapshot$missingClie2 = snapshot.missingClientEdges) === null || _snapshot$missingClie2 === void 0 ? void 0 : _snapshot$missingClie2.length) !== null && _snapshot$missingClie !== void 0 ? _snapshot$missingClie : 0) > 0;\n}\nfunction missingLiveResolverFields(snapshot) {\n  if (Array.isArray(snapshot)) {\n    return snapshot.map(function (s) {\n      return s.missingLiveResolverFields;\n    }).filter(Boolean).flat();\n  }\n  return snapshot.missingLiveResolverFields;\n}\nfunction singularOrPluralForEach(snapshot, f) {\n  if (Array.isArray(snapshot)) {\n    snapshot.forEach(f);\n  } else {\n    f(snapshot);\n  }\n}\nfunction getFragmentResult(cacheKey, snapshot, storeEpoch) {\n  if (Array.isArray(snapshot)) {\n    return {\n      cacheKey: cacheKey,\n      snapshot: snapshot,\n      data: snapshot.map(function (s) {\n        return s.data;\n      }),\n      isMissingData: isMissingData(snapshot),\n      storeEpoch: storeEpoch\n    };\n  }\n  return {\n    cacheKey: cacheKey,\n    snapshot: snapshot,\n    data: snapshot.data,\n    isMissingData: isMissingData(snapshot),\n    storeEpoch: storeEpoch\n  };\n}\n\n/**\n * The purpose of this cache is to allow information to be passed from an\n * initial read which suspends through to the commit that follows a subsequent\n * successful read. Specifically, the QueryResource result for the data fetch\n * is passed through so that that query can be retained on commit.\n */\nvar ClientEdgeQueryResultsCache = /*#__PURE__*/function () {\n  function ClientEdgeQueryResultsCache(environment) {\n    (0, _defineProperty2[\"default\"])(this, \"_cache\", new Map());\n    (0, _defineProperty2[\"default\"])(this, \"_retainCounts\", new Map());\n    this._environment = environment;\n  }\n  var _proto = ClientEdgeQueryResultsCache.prototype;\n  _proto.get = function get(fragmentIdentifier) {\n    var _this$_cache$get$, _this$_cache$get;\n    return (_this$_cache$get$ = (_this$_cache$get = this._cache.get(fragmentIdentifier)) === null || _this$_cache$get === void 0 ? void 0 : _this$_cache$get[0]) !== null && _this$_cache$get$ !== void 0 ? _this$_cache$get$ : undefined;\n  };\n  _proto.recordQueryResults = function recordQueryResults(fragmentIdentifier, value // may be mutated after being passed here\n  ) {\n    var _this = this;\n    var existing = this._cache.get(fragmentIdentifier);\n    if (!existing) {\n      var suspenseResource = new SuspenseResource(function () {\n        return _this._retain(fragmentIdentifier);\n      });\n      this._cache.set(fragmentIdentifier, [value, suspenseResource]);\n      suspenseResource.temporaryRetain(this._environment);\n    } else {\n      var existingResults = existing[0],\n        _suspenseResource = existing[1];\n      value.forEach(function (queryResult) {\n        existingResults.push(queryResult);\n      });\n      _suspenseResource.temporaryRetain(this._environment);\n    }\n  };\n  _proto._retain = function _retain(id) {\n    var _this2 = this;\n    var _this$_retainCounts$g;\n    var retainCount = ((_this$_retainCounts$g = this._retainCounts.get(id)) !== null && _this$_retainCounts$g !== void 0 ? _this$_retainCounts$g : 0) + 1;\n    this._retainCounts.set(id, retainCount);\n    return {\n      dispose: function dispose() {\n        var _this$_retainCounts$g2;\n        var newRetainCount = ((_this$_retainCounts$g2 = _this2._retainCounts.get(id)) !== null && _this$_retainCounts$g2 !== void 0 ? _this$_retainCounts$g2 : 0) - 1;\n        if (newRetainCount > 0) {\n          _this2._retainCounts.set(id, newRetainCount);\n        } else {\n          _this2._retainCounts[\"delete\"](id);\n          _this2._cache[\"delete\"](id);\n        }\n      }\n    };\n  };\n  return ClientEdgeQueryResultsCache;\n}();\nvar FragmentResourceImpl = /*#__PURE__*/function () {\n  function FragmentResourceImpl(environment) {\n    this._environment = environment;\n    this._cache = LRUCache.create(CACHE_CAPACITY);\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n      this._clientEdgeQueryResultsCache = new ClientEdgeQueryResultsCache(environment);\n    }\n  }\n\n  /**\n   * This function should be called during a Component's render function,\n   * to read the data for a fragment, or suspend if the fragment is being\n   * fetched.\n   */\n  var _proto2 = FragmentResourceImpl.prototype;\n  _proto2.read = function read(fragmentNode, fragmentRef, componentDisplayName, fragmentKey) {\n    return this.readWithIdentifier(fragmentNode, fragmentRef, getFragmentIdentifier(fragmentNode, fragmentRef), componentDisplayName, fragmentKey);\n  }\n\n  /**\n   * Like `read`, but with a pre-computed fragmentIdentifier that should be\n   * equal to `getFragmentIdentifier(fragmentNode, fragmentRef)` from the\n   * arguments.\n   */;\n  _proto2.readWithIdentifier = function readWithIdentifier(fragmentNode, fragmentRef, fragmentIdentifier, componentDisplayName, fragmentKey) {\n    var _this3 = this;\n    var _fragmentNode$metadat, _fragmentNode$metadat2, _missingLiveResolverF2, _missingLiveResolverF3;\n    var environment = this._environment;\n\n    // If fragmentRef is null or undefined, pass it directly through.\n    // This is a convenience when consuming fragments via a HOC API, when the\n    // prop corresponding to the fragment ref might be passed as null.\n    if (fragmentRef == null) {\n      return {\n        cacheKey: fragmentIdentifier,\n        data: null,\n        isMissingData: false,\n        snapshot: null,\n        storeEpoch: 0\n      };\n    }\n    var storeEpoch = environment.getStore().getEpoch();\n\n    // If fragmentRef is plural, ensure that it is an array.\n    // If it's empty, return the empty array directly before doing any more work.\n    if ((fragmentNode === null || fragmentNode === void 0 ? void 0 : (_fragmentNode$metadat = fragmentNode.metadata) === null || _fragmentNode$metadat === void 0 ? void 0 : _fragmentNode$metadat.plural) === true) {\n      !Array.isArray(fragmentRef) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected fragment pointer%s for fragment `%s` to be ' + 'an array, instead got `%s`. Remove `@relay(plural: true)` ' + 'from fragment `%s` to allow the prop to be an object.', fragmentKey != null ? \" for key `\".concat(fragmentKey, \"`\") : '', fragmentNode.name, typeof fragmentRef, fragmentNode.name) : invariant(false) : void 0;\n      if (fragmentRef.length === 0) {\n        return {\n          cacheKey: fragmentIdentifier,\n          data: CONSTANT_READONLY_EMPTY_ARRAY,\n          isMissingData: false,\n          snapshot: CONSTANT_READONLY_EMPTY_ARRAY,\n          storeEpoch: storeEpoch\n        };\n      }\n    }\n\n    // Now we actually attempt to read the fragment:\n\n    // 1. Check if there's a cached value for this fragment\n    var cachedValue = this._cache.get(fragmentIdentifier);\n    if (cachedValue != null) {\n      var _missingLiveResolverF;\n      if (cachedValue.kind === 'pending' && isPromise(cachedValue.promise)) {\n        environment.__log({\n          name: 'suspense.fragment',\n          data: cachedValue.result.data,\n          fragment: fragmentNode,\n          isRelayHooks: true,\n          isMissingData: cachedValue.result.isMissingData,\n          isPromiseCached: true,\n          pendingOperations: cachedValue.pendingOperations\n        });\n        throw cachedValue.promise;\n      }\n      if (cachedValue.kind === 'done' && cachedValue.result.snapshot && !((_missingLiveResolverF = missingLiveResolverFields(cachedValue.result.snapshot)) !== null && _missingLiveResolverF !== void 0 && _missingLiveResolverF.length)) {\n        this._throwOrLogErrorsInSnapshot(\n        // $FlowFixMe[incompatible-call]\n        cachedValue.result.snapshot);\n\n        // This cache gets populated directly whenever the store notifies us of\n        // an update. That mechanism does not check for missing data, or\n        // in-flight requests.\n        if (cachedValue.result.isMissingData) {\n          environment.__log({\n            name: 'fragmentresource.missing_data',\n            data: cachedValue.result.data,\n            fragment: fragmentNode,\n            isRelayHooks: true,\n            cached: true\n          });\n        }\n        return cachedValue.result;\n      }\n    }\n\n    // 2. If not, try reading the fragment from the Relay store.\n    // If the snapshot has data, return it and save it in cache\n    var fragmentSelector = getSelector(fragmentNode, fragmentRef);\n    !(fragmentSelector != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected to receive an object where `...%s` was spread, ' + 'but the fragment reference was not found`. This is most ' + 'likely the result of:\\n' + \"- Forgetting to spread `%s` in `%s`'s parent's fragment.\\n\" + '- Conditionally fetching `%s` but unconditionally passing %s prop ' + 'to `%s`. If the parent fragment only fetches the fragment conditionally ' + '- with e.g. `@include`, `@skip`, or inside a `... on SomeType { }` ' + 'spread  - then the fragment reference will not exist. ' + 'In this case, pass `null` if the conditions for evaluating the ' + 'fragment are not met (e.g. if the `@include(if)` value is false.)', fragmentNode.name, fragmentNode.name, componentDisplayName, fragmentNode.name, fragmentKey == null ? 'a fragment reference' : \"the `\".concat(fragmentKey, \"`\"), componentDisplayName) : invariant(false) : void 0;\n    var snapshot = fragmentSelector.kind === 'PluralReaderSelector' ? fragmentSelector.selectors.map(function (s) {\n      return environment.lookup(s);\n    }) : environment.lookup(fragmentSelector);\n    var fragmentResult = getFragmentResult(fragmentIdentifier, snapshot, storeEpoch);\n    if (!fragmentResult.isMissingData) {\n      this._throwOrLogErrorsInSnapshot(snapshot);\n      this._cache.set(fragmentIdentifier, {\n        kind: 'done',\n        result: fragmentResult\n      });\n      return fragmentResult;\n    }\n\n    // 3. If we don't have data in the store, there's two cases where we should\n    // suspend to await the data: First if any client edges were traversed where\n    // the destination record was missing data; in that case we initiate a query\n    // here to fetch the missing data. Second, there may already be a request\n    // in flight for the fragment's parent query, or for another operation that\n    //  may affect the parent's query data, such as a mutation or subscription.\n    // For any of these cases we can get a promise, which we will cache and\n    // suspend on.\n\n    // First, initiate a query for any client edges that were missing data:\n    var clientEdgeRequests = null;\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES && ((_fragmentNode$metadat2 = fragmentNode.metadata) === null || _fragmentNode$metadat2 === void 0 ? void 0 : _fragmentNode$metadat2.hasClientEdges) === true && hasMissingClientEdges(snapshot)) {\n      clientEdgeRequests = [];\n      var queryResource = getQueryResourceForEnvironment(this._environment);\n      var queryResults = [];\n      singularOrPluralForEach(snapshot, function (snap) {\n        var _snap$missingClientEd;\n        (_snap$missingClientEd = snap.missingClientEdges) === null || _snap$missingClientEd === void 0 ? void 0 : _snap$missingClientEd.forEach(function (_ref) {\n          var _clientEdgeRequests;\n          var request = _ref.request,\n            clientEdgeDestinationID = _ref.clientEdgeDestinationID;\n          var _this3$_performClient = _this3._performClientEdgeQuery(queryResource, fragmentNode, fragmentRef, request, clientEdgeDestinationID),\n            queryResult = _this3$_performClient.queryResult,\n            requestDescriptor = _this3$_performClient.requestDescriptor;\n          queryResults.push(queryResult);\n          (_clientEdgeRequests = clientEdgeRequests) === null || _clientEdgeRequests === void 0 ? void 0 : _clientEdgeRequests.push(requestDescriptor);\n        });\n      });\n      // Store the query so that it can be retained when our own fragment is\n      // subscribed to. This merges with any existing query results:\n      !(this._clientEdgeQueryResultsCache != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Client edge query result cache should exist when ENABLE_CLIENT_EDGES is on.') : invariant(false) : void 0;\n      this._clientEdgeQueryResultsCache.recordQueryResults(fragmentIdentifier, queryResults);\n    }\n    var clientEdgePromises = [];\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES && clientEdgeRequests) {\n      clientEdgePromises = clientEdgeRequests.map(function (request) {\n        return getPromiseForActiveRequest(_this3._environment, request);\n      }).filter(Boolean);\n    }\n\n    // Finally look for operations in flight for our parent query:\n    var fragmentOwner = fragmentSelector.kind === 'PluralReaderSelector' ? fragmentSelector.selectors[0].owner : fragmentSelector.owner;\n    var parentQueryPromiseResult = this._getAndSavePromiseForFragmentRequestInFlight(fragmentIdentifier, fragmentNode, fragmentOwner, fragmentResult);\n    var parentQueryPromiseResultPromise = parentQueryPromiseResult === null || parentQueryPromiseResult === void 0 ? void 0 : parentQueryPromiseResult.promise; // for refinement\n    var missingResolverFieldPromises = (_missingLiveResolverF2 = (_missingLiveResolverF3 = missingLiveResolverFields(snapshot)) === null || _missingLiveResolverF3 === void 0 ? void 0 : _missingLiveResolverF3.map(function (_ref2) {\n      var liveStateID = _ref2.liveStateID;\n      var store = environment.getStore();\n\n      // $FlowFixMe[prop-missing] This is expected to be a LiveResolverStore\n      return store.getLiveResolverPromise(liveStateID);\n    })) !== null && _missingLiveResolverF2 !== void 0 ? _missingLiveResolverF2 : [];\n    if (clientEdgePromises.length || missingResolverFieldPromises.length || isPromise(parentQueryPromiseResultPromise)) {\n      var _parentQueryPromiseRe, _clientEdgeRequests2;\n      environment.__log({\n        name: 'suspense.fragment',\n        data: fragmentResult.data,\n        fragment: fragmentNode,\n        isRelayHooks: true,\n        isPromiseCached: false,\n        isMissingData: fragmentResult.isMissingData,\n        // TODO! Attach information here about missing live resolver fields\n        pendingOperations: [].concat((0, _toConsumableArray2[\"default\"])((_parentQueryPromiseRe = parentQueryPromiseResult === null || parentQueryPromiseResult === void 0 ? void 0 : parentQueryPromiseResult.pendingOperations) !== null && _parentQueryPromiseRe !== void 0 ? _parentQueryPromiseRe : []), (0, _toConsumableArray2[\"default\"])((_clientEdgeRequests2 = clientEdgeRequests) !== null && _clientEdgeRequests2 !== void 0 ? _clientEdgeRequests2 : []))\n      });\n      var promises = [];\n      if (clientEdgePromises.length > 0) {\n        promises = promises.concat(clientEdgePromises);\n      }\n      if (missingResolverFieldPromises.length > 0) {\n        promises = promises.concat(missingResolverFieldPromises);\n      }\n      if (promises.length > 0) {\n        if (parentQueryPromiseResultPromise) {\n          promises.push(parentQueryPromiseResultPromise);\n        }\n        throw Promise.all(promises);\n      }\n\n      // Note: we are re-throwing the `parentQueryPromiseResultPromise` here,\n      // because some of our suspense-related code is relying on the instance equality\n      // of thrown promises. See FragmentResource-test.js\n      if (parentQueryPromiseResultPromise) {\n        throw parentQueryPromiseResultPromise;\n      }\n    }\n    this._throwOrLogErrorsInSnapshot(snapshot);\n\n    // At this point, there's nothing we can do. We don't have all the expected\n    // data, but there's no indication the missing data will be fulfilled. So we\n    // choose to return potentially non-typesafe data. The data returned here\n    // might not match the generated types for this fragment/operation.\n    environment.__log({\n      name: 'fragmentresource.missing_data',\n      data: fragmentResult.data,\n      fragment: fragmentNode,\n      isRelayHooks: true,\n      cached: false\n    });\n    return getFragmentResult(fragmentIdentifier, snapshot, storeEpoch);\n  };\n  _proto2._performClientEdgeQuery = function _performClientEdgeQuery(queryResource, fragmentNode, fragmentRef, request, clientEdgeDestinationID) {\n    var originalVariables = getVariablesFromFragment(fragmentNode, fragmentRef);\n    var variables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, originalVariables), {}, {\n      id: clientEdgeDestinationID // TODO should be a reserved name\n    });\n\n    var operation = createOperationDescriptor(request, variables, {} //  TODO cacheConfig should probably inherent from parent operation\n    );\n\n    var fetchObservable = fetchQuery(this._environment, operation);\n    var queryResult = queryResource.prepare(operation, fetchObservable\n    // TODO should inherent render policy etc. from parent operation\n    );\n\n    return {\n      requestDescriptor: operation.request,\n      queryResult: queryResult\n    };\n  };\n  _proto2._throwOrLogErrorsInSnapshot = function _throwOrLogErrorsInSnapshot(snapshot) {\n    var _this4 = this;\n    if (Array.isArray(snapshot)) {\n      snapshot.forEach(function (s) {\n        handlePotentialSnapshotErrors(_this4._environment, s.missingRequiredFields, s.relayResolverErrors);\n      });\n    } else {\n      handlePotentialSnapshotErrors(this._environment, snapshot.missingRequiredFields, snapshot.relayResolverErrors);\n    }\n  };\n  _proto2.readSpec = function readSpec(fragmentNodes, fragmentRefs, componentDisplayName) {\n    var result = {};\n    for (var key in fragmentNodes) {\n      result[key] = this.read(fragmentNodes[key], fragmentRefs[key], componentDisplayName, key);\n    }\n    return result;\n  };\n  _proto2.subscribe = function subscribe(fragmentResult, callback) {\n    var _this5 = this;\n    var environment = this._environment;\n    var cacheKey = fragmentResult.cacheKey;\n    var renderedSnapshot = fragmentResult.snapshot;\n    if (!renderedSnapshot) {\n      return {\n        dispose: function dispose() {}\n      };\n    }\n\n    // 1. Check for any updates missed during render phase\n    // TODO(T44066760): More efficiently detect if we missed an update\n    var _this$checkMissedUpda = this.checkMissedUpdates(fragmentResult),\n      didMissUpdates = _this$checkMissedUpda[0],\n      currentSnapshot = _this$checkMissedUpda[1];\n\n    // 2. If an update was missed, notify the component so it updates with\n    // the latest data.\n    if (didMissUpdates) {\n      callback();\n    }\n\n    // 3. Establish subscriptions on the snapshot(s)\n    var disposables = [];\n    if (Array.isArray(renderedSnapshot)) {\n      !Array.isArray(currentSnapshot) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected snapshots to be plural. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n      currentSnapshot.forEach(function (snapshot, idx) {\n        disposables.push(environment.subscribe(snapshot, function (latestSnapshot) {\n          var storeEpoch = environment.getStore().getEpoch();\n          _this5._updatePluralSnapshot(cacheKey, currentSnapshot, latestSnapshot, idx, storeEpoch);\n          callback();\n        }));\n      });\n    } else {\n      !(currentSnapshot != null && !Array.isArray(currentSnapshot)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected snapshot to be singular. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n      disposables.push(environment.subscribe(currentSnapshot, function (latestSnapshot) {\n        var storeEpoch = environment.getStore().getEpoch();\n        _this5._cache.set(cacheKey, {\n          kind: 'done',\n          result: getFragmentResult(cacheKey, latestSnapshot, storeEpoch)\n        });\n        callback();\n      }));\n    }\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n      var _this$_clientEdgeQuer, _this$_clientEdgeQuer2;\n      var clientEdgeQueryResults = (_this$_clientEdgeQuer = (_this$_clientEdgeQuer2 = this._clientEdgeQueryResultsCache) === null || _this$_clientEdgeQuer2 === void 0 ? void 0 : _this$_clientEdgeQuer2.get(cacheKey)) !== null && _this$_clientEdgeQuer !== void 0 ? _this$_clientEdgeQuer : undefined;\n      if (clientEdgeQueryResults !== null && clientEdgeQueryResults !== void 0 && clientEdgeQueryResults.length) {\n        var queryResource = getQueryResourceForEnvironment(this._environment);\n        clientEdgeQueryResults.forEach(function (queryResult) {\n          disposables.push(queryResource.retain(queryResult));\n        });\n      }\n    }\n    return {\n      dispose: function dispose() {\n        disposables.forEach(function (s) {\n          return s.dispose();\n        });\n        _this5._cache[\"delete\"](cacheKey);\n      }\n    };\n  };\n  _proto2.subscribeSpec = function subscribeSpec(fragmentResults, callback) {\n    var _this6 = this;\n    var disposables = Object.keys(fragmentResults).map(function (key) {\n      return _this6.subscribe(fragmentResults[key], callback);\n    });\n    return {\n      dispose: function dispose() {\n        disposables.forEach(function (disposable) {\n          disposable.dispose();\n        });\n      }\n    };\n  };\n  _proto2.checkMissedUpdates = function checkMissedUpdates(fragmentResult) {\n    var environment = this._environment;\n    var renderedSnapshot = fragmentResult.snapshot;\n    if (!renderedSnapshot) {\n      return [false, null];\n    }\n    var storeEpoch = null;\n    // Bail out if the store hasn't been written since last read\n    storeEpoch = environment.getStore().getEpoch();\n    if (fragmentResult.storeEpoch === storeEpoch) {\n      return [false, fragmentResult.snapshot];\n    }\n    var cacheKey = fragmentResult.cacheKey;\n    if (Array.isArray(renderedSnapshot)) {\n      var didMissUpdates = false;\n      var currentSnapshots = [];\n      renderedSnapshot.forEach(function (snapshot, idx) {\n        var currentSnapshot = environment.lookup(snapshot.selector);\n        var renderData = snapshot.data;\n        var currentData = currentSnapshot.data;\n        var updatedData = recycleNodesInto(renderData, currentData);\n        if (updatedData !== renderData) {\n          currentSnapshot = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, currentSnapshot), {}, {\n            data: updatedData\n          });\n          didMissUpdates = true;\n        }\n        currentSnapshots[idx] = currentSnapshot;\n      });\n      // Only update the cache when the data is changed to avoid\n      // returning different `data` instances\n      if (didMissUpdates) {\n        this._cache.set(cacheKey, {\n          kind: 'done',\n          result: getFragmentResult(cacheKey, currentSnapshots, storeEpoch)\n        });\n      }\n      return [didMissUpdates, currentSnapshots];\n    }\n    var currentSnapshot = environment.lookup(renderedSnapshot.selector);\n    var renderData = renderedSnapshot.data;\n    var currentData = currentSnapshot.data;\n    var updatedData = recycleNodesInto(renderData, currentData);\n    var updatedCurrentSnapshot = {\n      data: updatedData,\n      isMissingData: currentSnapshot.isMissingData,\n      missingClientEdges: currentSnapshot.missingClientEdges,\n      missingLiveResolverFields: currentSnapshot.missingLiveResolverFields,\n      seenRecords: currentSnapshot.seenRecords,\n      selector: currentSnapshot.selector,\n      missingRequiredFields: currentSnapshot.missingRequiredFields,\n      relayResolverErrors: currentSnapshot.relayResolverErrors\n    };\n    if (updatedData !== renderData) {\n      this._cache.set(cacheKey, {\n        kind: 'done',\n        result: getFragmentResult(cacheKey, updatedCurrentSnapshot, storeEpoch)\n      });\n    }\n    return [updatedData !== renderData, updatedCurrentSnapshot];\n  };\n  _proto2.checkMissedUpdatesSpec = function checkMissedUpdatesSpec(fragmentResults) {\n    var _this7 = this;\n    return Object.keys(fragmentResults).some(function (key) {\n      return _this7.checkMissedUpdates(fragmentResults[key])[0];\n    });\n  };\n  _proto2._getAndSavePromiseForFragmentRequestInFlight = function _getAndSavePromiseForFragmentRequestInFlight(cacheKey, fragmentNode, fragmentOwner, fragmentResult) {\n    var _this8 = this;\n    var pendingOperationsResult = getPendingOperationsForFragment(this._environment, fragmentNode, fragmentOwner);\n    if (pendingOperationsResult == null) {\n      return null;\n    }\n\n    // When the Promise for the request resolves, we need to make sure to\n    // update the cache with the latest data available in the store before\n    // resolving the Promise\n    var networkPromise = pendingOperationsResult.promise;\n    var pendingOperations = pendingOperationsResult.pendingOperations;\n    var promise = networkPromise.then(function () {\n      _this8._cache[\"delete\"](cacheKey);\n    })[\"catch\"](function (error) {\n      _this8._cache[\"delete\"](cacheKey);\n    });\n    // $FlowExpectedError[prop-missing] Expando to annotate Promises.\n    promise.displayName = networkPromise.displayName;\n    this._cache.set(cacheKey, {\n      kind: 'pending',\n      pendingOperations: pendingOperations,\n      promise: promise,\n      result: fragmentResult\n    });\n    return {\n      promise: promise,\n      pendingOperations: pendingOperations\n    };\n  };\n  _proto2._updatePluralSnapshot = function _updatePluralSnapshot(cacheKey, baseSnapshots, latestSnapshot, idx, storeEpoch) {\n    var _currentFragmentResul;\n    var currentFragmentResult = this._cache.get(cacheKey);\n    if (isPromise(currentFragmentResult)) {\n      reportInvalidCachedData(latestSnapshot.selector.node.name);\n      return;\n    }\n    var currentSnapshot = currentFragmentResult === null || currentFragmentResult === void 0 ? void 0 : (_currentFragmentResul = currentFragmentResult.result) === null || _currentFragmentResul === void 0 ? void 0 : _currentFragmentResul.snapshot;\n    if (currentSnapshot && !Array.isArray(currentSnapshot)) {\n      reportInvalidCachedData(latestSnapshot.selector.node.name);\n      return;\n    }\n    var nextSnapshots = currentSnapshot ? (0, _toConsumableArray2[\"default\"])(currentSnapshot) : (0, _toConsumableArray2[\"default\"])(baseSnapshots);\n    nextSnapshots[idx] = latestSnapshot;\n    this._cache.set(cacheKey, {\n      kind: 'done',\n      result: getFragmentResult(cacheKey, nextSnapshots, storeEpoch)\n    });\n  };\n  return FragmentResourceImpl;\n}();\nfunction reportInvalidCachedData(nodeName) {\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected to find cached data for plural fragment `%s` when ' + 'receiving a subscription. ' + \"If you're seeing this, this is likely a bug in Relay.\", nodeName) : invariant(false) : void 0;\n}\nfunction createFragmentResource(environment) {\n  return new FragmentResourceImpl(environment);\n}\nvar dataResources = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\nfunction getFragmentResourceForEnvironment(environment) {\n  var cached = dataResources.get(environment);\n  if (cached) {\n    return cached;\n  }\n  var newDataResource = createFragmentResource(environment);\n  dataResources.set(environment, newDataResource);\n  return newDataResource;\n}\nmodule.exports = {\n  createFragmentResource: createFragmentResource,\n  getFragmentResourceForEnvironment: getFragmentResourceForEnvironment\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar warning = require(\"fbjs/lib/warning\");\nvar implementation = null;\nfunction inject(impl) {\n  process.env.NODE_ENV !== \"production\" ? warning(implementation !== null, 'Relay HooksImplementation was injected twice.') : void 0;\n  implementation = impl;\n}\nfunction get() {\n  return implementation;\n}\nmodule.exports = {\n  inject: inject,\n  get: get\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar invariant = require('invariant');\n/**\n * JS maps (both plain objects and Map) maintain key insertion\n * order, which means there is an easy way to simulate LRU behavior\n * that should also perform quite well:\n *\n * To insert a new value, first delete the key from the inner _map,\n * then _map.set(k, v). By deleting and reinserting, you ensure that the\n * map sees the key as the last inserted key.\n *\n * Get does the same: if the key is present, delete and reinsert it.\n */\nvar LRUCache = /*#__PURE__*/function () {\n  function LRUCache(capacity) {\n    this._capacity = capacity;\n    !(this._capacity > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'LRUCache: Unable to create instance of cache with zero or negative capacity.') : invariant(false) : void 0;\n    this._map = new Map();\n  }\n  var _proto = LRUCache.prototype;\n  _proto.set = function set(key, value) {\n    this._map[\"delete\"](key);\n    this._map.set(key, value);\n    if (this._map.size > this._capacity) {\n      var firstKey = this._map.keys().next();\n      if (!firstKey.done) {\n        this._map[\"delete\"](firstKey.value);\n      }\n    }\n  };\n  _proto.get = function get(key) {\n    var value = this._map.get(key);\n    if (value != null) {\n      this._map[\"delete\"](key);\n      this._map.set(key, value);\n    }\n    return value;\n  };\n  _proto.has = function has(key) {\n    return this._map.has(key);\n  };\n  _proto[\"delete\"] = function _delete(key) {\n    this._map[\"delete\"](key);\n  };\n  _proto.size = function size() {\n    return this._map.size;\n  };\n  _proto.capacity = function capacity() {\n    return this._capacity - this._map.size;\n  };\n  _proto.clear = function clear() {\n    this._map.clear();\n  };\n  return LRUCache;\n}();\nfunction create(capacity) {\n  return new LRUCache(capacity);\n}\nmodule.exports = {\n  create: create\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n// This contextual profiler can be used to wrap a react sub-tree. It will bind\n// the RelayProfiler during the render phase of these components. Allows\n// collecting metrics for a specific part of your application.\n\n'use strict';\n\nvar React = require('react');\nvar ProfilerContext = React.createContext({\n  wrapPrepareQueryResource: function wrapPrepareQueryResource(cb) {\n    return cb();\n  }\n});\nmodule.exports = ProfilerContext;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar LRUCache = require('./LRUCache');\nvar SuspenseResource = require('./SuspenseResource');\nvar invariant = require('invariant');\nvar _require = require('relay-runtime'),\n  isPromise = _require.isPromise;\nvar warning = require(\"fbjs/lib/warning\");\nvar CACHE_CAPACITY = 1000;\nvar DEFAULT_FETCH_POLICY = 'store-or-network';\nvar DEFAULT_LIVE_FETCH_POLICY = 'store-and-network';\nvar WEAKMAP_SUPPORTED = typeof WeakMap === 'function';\nfunction operationIsLiveQuery(operation) {\n  return operation.request.node.params.metadata.live !== undefined;\n}\nfunction getQueryCacheIdentifier(environment, operation, maybeFetchPolicy, maybeRenderPolicy, cacheBreaker) {\n  var fetchPolicy = maybeFetchPolicy !== null && maybeFetchPolicy !== void 0 ? maybeFetchPolicy : operationIsLiveQuery(operation) ? DEFAULT_LIVE_FETCH_POLICY : DEFAULT_FETCH_POLICY;\n  var renderPolicy = maybeRenderPolicy !== null && maybeRenderPolicy !== void 0 ? maybeRenderPolicy : environment.UNSTABLE_getDefaultRenderPolicy();\n  var cacheIdentifier = \"\".concat(fetchPolicy, \"-\").concat(renderPolicy, \"-\").concat(operation.request.identifier);\n  if (cacheBreaker != null) {\n    return \"\".concat(cacheIdentifier, \"-\").concat(cacheBreaker);\n  }\n  return cacheIdentifier;\n}\nfunction getQueryResult(operation, cacheIdentifier) {\n  var rootFragmentRef = {\n    __id: operation.fragment.dataID,\n    __fragments: (0, _defineProperty2[\"default\"])({}, operation.fragment.node.name, operation.request.variables),\n    __fragmentOwner: operation.request\n  };\n  return {\n    cacheIdentifier: cacheIdentifier,\n    fragmentNode: operation.request.node.fragment,\n    fragmentRef: rootFragmentRef,\n    operation: operation\n  };\n}\nvar nextID = 200000;\nfunction createCacheEntry(cacheIdentifier, operation, operationAvailability, value, networkSubscription, onDispose) {\n  var isLiveQuery = operationIsLiveQuery(operation);\n  var currentValue = value;\n  var currentNetworkSubscription = networkSubscription;\n  var suspenseResource = new SuspenseResource(function (environment) {\n    var retention = environment.retain(operation);\n    return {\n      dispose: function dispose() {\n        // Normally if this entry never commits, the request would've ended by the\n        // time this timeout expires and the temporary retain is released. However,\n        // we need to do this for live queries which remain open indefinitely.\n        if (isLiveQuery && currentNetworkSubscription != null) {\n          currentNetworkSubscription.unsubscribe();\n        }\n        retention.dispose();\n        onDispose(cacheEntry);\n      }\n    };\n  });\n  var cacheEntry = {\n    cacheIdentifier: cacheIdentifier,\n    id: nextID++,\n    processedPayloadsCount: 0,\n    operationAvailability: operationAvailability,\n    getValue: function getValue() {\n      return currentValue;\n    },\n    setValue: function setValue(val) {\n      currentValue = val;\n    },\n    setNetworkSubscription: function setNetworkSubscription(subscription) {\n      if (isLiveQuery && currentNetworkSubscription != null) {\n        currentNetworkSubscription.unsubscribe();\n      }\n      currentNetworkSubscription = subscription;\n    },\n    temporaryRetain: function temporaryRetain(environment) {\n      return suspenseResource.temporaryRetain(environment);\n    },\n    permanentRetain: function permanentRetain(environment) {\n      return suspenseResource.permanentRetain(environment);\n    },\n    releaseTemporaryRetain: function releaseTemporaryRetain() {\n      suspenseResource.releaseTemporaryRetain();\n    }\n  };\n  return cacheEntry;\n}\nvar QueryResourceImpl = /*#__PURE__*/function () {\n  function QueryResourceImpl(environment) {\n    var _this = this;\n    (0, _defineProperty2[\"default\"])(this, \"_clearCacheEntry\", function (cacheEntry) {\n      _this._cache[\"delete\"](cacheEntry.cacheIdentifier);\n    });\n    this._environment = environment;\n    this._cache = LRUCache.create(CACHE_CAPACITY);\n  }\n  var _proto = QueryResourceImpl.prototype;\n  _proto.prepare = function prepare(operation, fetchObservable, maybeFetchPolicy, maybeRenderPolicy, observer, cacheBreaker, profilerContext) {\n    var cacheIdentifier = getQueryCacheIdentifier(this._environment, operation, maybeFetchPolicy, maybeRenderPolicy, cacheBreaker);\n    return this.prepareWithIdentifier(cacheIdentifier, operation, fetchObservable, maybeFetchPolicy, maybeRenderPolicy, observer, profilerContext);\n  }\n\n  /**\n   * This function should be called during a Component's render function,\n   * to either read an existing cached value for the query, or fetch the query\n   * and suspend.\n   */;\n  _proto.prepareWithIdentifier = function prepareWithIdentifier(cacheIdentifier, operation, fetchObservable, maybeFetchPolicy, maybeRenderPolicy, observer, profilerContext) {\n    var environment = this._environment;\n    var fetchPolicy = maybeFetchPolicy !== null && maybeFetchPolicy !== void 0 ? maybeFetchPolicy : operationIsLiveQuery(operation) ? DEFAULT_LIVE_FETCH_POLICY : DEFAULT_FETCH_POLICY;\n    var renderPolicy = maybeRenderPolicy !== null && maybeRenderPolicy !== void 0 ? maybeRenderPolicy : environment.UNSTABLE_getDefaultRenderPolicy();\n\n    // 1. Check if there's a cached value for this operation, and reuse it if\n    // it's available\n    var cacheEntry = this._cache.get(cacheIdentifier);\n    var temporaryRetainDisposable = null;\n    var entryWasCached = cacheEntry != null;\n    if (cacheEntry == null) {\n      // 2. If a cached value isn't available, try fetching the operation.\n      // _fetchAndSaveQuery will update the cache with either a Promise or\n      // an Error to throw, or a QueryResult to return.\n      cacheEntry = this._fetchAndSaveQuery(cacheIdentifier, operation, fetchObservable, fetchPolicy, renderPolicy, profilerContext, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, observer), {}, {\n        unsubscribe: function unsubscribe(subscription) {\n          // 4. If the request is cancelled, make sure to dispose\n          // of the temporary retain; this will ensure that a promise\n          // doesn't remain unnecessarily cached until the temporary retain\n          // expires. Not clearing the temporary retain might cause the\n          // query to incorrectly re-suspend.\n          if (temporaryRetainDisposable != null) {\n            temporaryRetainDisposable.dispose();\n          }\n          var observerUnsubscribe = observer === null || observer === void 0 ? void 0 : observer.unsubscribe;\n          observerUnsubscribe && observerUnsubscribe(subscription);\n        }\n      }));\n    }\n\n    // 3. Temporarily retain here in render phase. When the component reading\n    // the operation is committed, we will transfer ownership of data retention\n    // to the component.\n    // In case the component never commits (mounts or updates) from this render,\n    // this data retention hold will auto-release itself after a timeout.\n    temporaryRetainDisposable = cacheEntry.temporaryRetain(environment);\n    var cachedValue = cacheEntry.getValue();\n    if (isPromise(cachedValue)) {\n      environment.__log({\n        name: 'suspense.query',\n        fetchPolicy: fetchPolicy,\n        isPromiseCached: entryWasCached,\n        operation: operation,\n        queryAvailability: cacheEntry.operationAvailability,\n        renderPolicy: renderPolicy\n      });\n      throw cachedValue;\n    }\n    if (cachedValue instanceof Error) {\n      throw cachedValue;\n    }\n    return cachedValue;\n  }\n\n  /**\n   * This function should be called during a component's commit phase\n   * (e.g. inside useEffect), in order to retain the operation in the Relay store\n   * and transfer ownership of the operation to the component lifecycle.\n   */;\n  _proto.retain = function retain(queryResult, profilerContext) {\n    var environment = this._environment;\n    var cacheIdentifier = queryResult.cacheIdentifier,\n      operation = queryResult.operation;\n    var cacheEntry = this._getOrCreateCacheEntry(cacheIdentifier, operation, null, queryResult, null);\n    var disposable = cacheEntry.permanentRetain(environment);\n    environment.__log({\n      name: 'queryresource.retain',\n      profilerContext: profilerContext,\n      resourceID: cacheEntry.id\n    });\n    return {\n      dispose: function dispose() {\n        disposable.dispose();\n      }\n    };\n  };\n  _proto.releaseTemporaryRetain = function releaseTemporaryRetain(queryResult) {\n    var cacheEntry = this._cache.get(queryResult.cacheIdentifier);\n    if (cacheEntry != null) {\n      cacheEntry.releaseTemporaryRetain();\n    }\n  };\n  _proto.TESTS_ONLY__getCacheEntry = function TESTS_ONLY__getCacheEntry(operation, maybeFetchPolicy, maybeRenderPolicy, cacheBreaker) {\n    var environment = this._environment;\n    var cacheIdentifier = getQueryCacheIdentifier(environment, operation, maybeFetchPolicy, maybeRenderPolicy, cacheBreaker);\n    return this._cache.get(cacheIdentifier);\n  };\n  _proto._getOrCreateCacheEntry = function _getOrCreateCacheEntry(cacheIdentifier, operation, operationAvailability, value, networkSubscription) {\n    var cacheEntry = this._cache.get(cacheIdentifier);\n    if (cacheEntry == null) {\n      cacheEntry = createCacheEntry(cacheIdentifier, operation, operationAvailability, value, networkSubscription, this._clearCacheEntry);\n      this._cache.set(cacheIdentifier, cacheEntry);\n    }\n    return cacheEntry;\n  };\n  _proto._fetchAndSaveQuery = function _fetchAndSaveQuery(cacheIdentifier, operation, fetchObservable, fetchPolicy, renderPolicy, profilerContext, observer) {\n    var _this2 = this;\n    var environment = this._environment;\n\n    // NOTE: Running `check` will write missing data to the store using any\n    // missing data handlers specified on the environment;\n    // We run it here first to make the handlers get a chance to populate\n    // missing data.\n    var queryAvailability = environment.check(operation);\n    var queryStatus = queryAvailability.status;\n    var hasFullQuery = queryStatus === 'available';\n    var canPartialRender = hasFullQuery || renderPolicy === 'partial' && queryStatus !== 'stale';\n    var shouldFetch;\n    var shouldAllowRender;\n    // Different definitions for Promise in our repos can cause this variable\n    // to cause errors when synced elsewhere\n    var resolveNetworkPromise = function resolveNetworkPromise() {};\n    switch (fetchPolicy) {\n      case 'store-only':\n        {\n          shouldFetch = false;\n          shouldAllowRender = true;\n          break;\n        }\n      case 'store-or-network':\n        {\n          shouldFetch = !hasFullQuery;\n          shouldAllowRender = canPartialRender;\n          break;\n        }\n      case 'store-and-network':\n        {\n          shouldFetch = true;\n          shouldAllowRender = canPartialRender;\n          break;\n        }\n      case 'network-only':\n      default:\n        {\n          shouldFetch = true;\n          shouldAllowRender = false;\n          break;\n        }\n    }\n\n    // NOTE: If this value is false, we will cache a promise for this\n    // query, which means we will suspend here at this query root.\n    // If it's true, we will cache the query resource and allow rendering to\n    // continue.\n    if (shouldAllowRender) {\n      var queryResult = getQueryResult(operation, cacheIdentifier);\n      var _cacheEntry = createCacheEntry(cacheIdentifier, operation, queryAvailability, queryResult, null, this._clearCacheEntry);\n      this._cache.set(cacheIdentifier, _cacheEntry);\n    }\n    if (shouldFetch) {\n      var _queryResult = getQueryResult(operation, cacheIdentifier);\n      var networkSubscription;\n      fetchObservable.subscribe({\n        start: function start(subscription) {\n          networkSubscription = subscription;\n          var cacheEntry = _this2._cache.get(cacheIdentifier);\n          if (cacheEntry) {\n            cacheEntry.setNetworkSubscription(networkSubscription);\n          }\n          var observerStart = observer === null || observer === void 0 ? void 0 : observer.start;\n          if (observerStart) {\n            var subscriptionWithConditionalCancelation = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, subscription), {}, {\n              unsubscribe: function unsubscribe() {\n                // Only live queries should have their network requests canceled.\n                if (operationIsLiveQuery(operation)) {\n                  subscription.unsubscribe();\n                }\n              }\n            });\n            observerStart(subscriptionWithConditionalCancelation);\n          }\n        },\n        next: function next() {\n          var cacheEntry = _this2._getOrCreateCacheEntry(cacheIdentifier, operation, queryAvailability, _queryResult, networkSubscription);\n          cacheEntry.processedPayloadsCount += 1;\n          cacheEntry.setValue(_queryResult);\n          resolveNetworkPromise();\n          var observerNext = observer === null || observer === void 0 ? void 0 : observer.next;\n          if (observerNext != null) {\n            var snapshot = environment.lookup(operation.fragment);\n            observerNext(snapshot);\n          }\n        },\n        error: function error(_error) {\n          var cacheEntry = _this2._getOrCreateCacheEntry(cacheIdentifier, operation, queryAvailability, _error, networkSubscription);\n\n          // If, this is the first thing we receive for the query,\n          // before any other payload handled is error, we will cache and\n          // re-throw that error later.\n\n          // We will ignore errors for any incremental payloads we receive.\n          if (cacheEntry.processedPayloadsCount === 0) {\n            cacheEntry.setValue(_error);\n          } else {\n            // TODO:T92030819 Remove this warning and actually throw the network error\n            // To complete this task we need to have a way of precisely tracking suspendable points\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'QueryResource: An incremental payload for query `%s` returned an error: `%s`.', operation.fragment.node.name, String(_error.message)) : void 0;\n          }\n          resolveNetworkPromise();\n          networkSubscription = null;\n          cacheEntry.setNetworkSubscription(null);\n          var observerError = observer === null || observer === void 0 ? void 0 : observer.error;\n          observerError && observerError(_error);\n        },\n        complete: function complete() {\n          resolveNetworkPromise();\n          networkSubscription = null;\n          var cacheEntry = _this2._cache.get(cacheIdentifier);\n          if (cacheEntry) {\n            cacheEntry.setNetworkSubscription(null);\n          }\n          var observerComplete = observer === null || observer === void 0 ? void 0 : observer.complete;\n          observerComplete && observerComplete();\n        },\n        unsubscribe: observer === null || observer === void 0 ? void 0 : observer.unsubscribe\n      });\n      var _cacheEntry2 = this._cache.get(cacheIdentifier);\n      if (!_cacheEntry2) {\n        var networkPromise = new Promise(function (resolve) {\n          resolveNetworkPromise = resolve;\n        });\n\n        // $FlowExpectedError[prop-missing] Expando to annotate Promises.\n        networkPromise.displayName = 'Relay(' + operation.fragment.node.name + ')';\n        _cacheEntry2 = createCacheEntry(cacheIdentifier, operation, queryAvailability, networkPromise, networkSubscription, this._clearCacheEntry);\n        this._cache.set(cacheIdentifier, _cacheEntry2);\n      }\n    } else {\n      var observerComplete = observer === null || observer === void 0 ? void 0 : observer.complete;\n      observerComplete && observerComplete();\n    }\n    var cacheEntry = this._cache.get(cacheIdentifier);\n    !(cacheEntry != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected to have cached a result when attempting to fetch query.' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n    environment.__log({\n      name: 'queryresource.fetch',\n      resourceID: cacheEntry.id,\n      operation: operation,\n      profilerContext: profilerContext,\n      fetchPolicy: fetchPolicy,\n      renderPolicy: renderPolicy,\n      queryAvailability: queryAvailability,\n      shouldFetch: shouldFetch\n    });\n    return cacheEntry;\n  };\n  return QueryResourceImpl;\n}();\nfunction createQueryResource(environment) {\n  return new QueryResourceImpl(environment);\n}\nvar dataResources = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\nfunction getQueryResourceForEnvironment(environment) {\n  var cached = dataResources.get(environment);\n  if (cached) {\n    return cached;\n  }\n  var newDataResource = createQueryResource(environment);\n  dataResources.set(environment, newDataResource);\n  return newDataResource;\n}\nmodule.exports = {\n  createQueryResource: createQueryResource,\n  getQueryResourceForEnvironment: getQueryResourceForEnvironment,\n  getQueryCacheIdentifier: getQueryCacheIdentifier\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ReactRelayContext = require('./../ReactRelayContext');\nvar React = require('react');\nvar useMemo = React.useMemo;\nfunction RelayEnvironmentProvider(props) {\n  var children = props.children,\n    environment = props.environment,\n    getEnvironmentForActor = props.getEnvironmentForActor;\n  var context = useMemo(function () {\n    return {\n      environment: environment,\n      getEnvironmentForActor: getEnvironmentForActor\n    };\n  }, [environment, getEnvironmentForActor]);\n  return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n    value: context\n  }, children);\n}\nmodule.exports = RelayEnvironmentProvider;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar invariant = require('invariant');\nvar TEMPORARY_RETAIN_DURATION_MS = 5 * 60 * 1000;\n\n/**\n * Allows you to retain a resource as part of a component lifecycle accounting\n * for Suspense. You temporarily retain the resource during render, then\n * permanently retain it during commit and release it during unmount.\n */\nvar SuspenseResource = /*#__PURE__*/function () {\n  function SuspenseResource(retain) {\n    var _this = this;\n    (0, _defineProperty2[\"default\"])(this, \"_retainCount\", 0);\n    (0, _defineProperty2[\"default\"])(this, \"_retainDisposable\", null);\n    (0, _defineProperty2[\"default\"])(this, \"_releaseTemporaryRetain\", null);\n    this._retain = function (environment) {\n      _this._retainCount++;\n      if (_this._retainCount === 1) {\n        _this._retainDisposable = retain(environment);\n      }\n      return {\n        dispose: function dispose() {\n          _this._retainCount = Math.max(0, _this._retainCount - 1);\n          if (_this._retainCount === 0) {\n            !(_this._retainDisposable != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected disposable to release query to be defined.' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n            _this._retainDisposable.dispose();\n            _this._retainDisposable = null;\n          }\n        }\n      };\n    };\n  }\n  var _proto = SuspenseResource.prototype;\n  _proto.temporaryRetain = function temporaryRetain(environment) {\n    var _this2 = this;\n    var _this$_releaseTempora;\n    // If we're executing in a server environment, there's no need\n    // to create temporary retains, since the component will never commit.\n    if (environment.isServer()) {\n      return {\n        dispose: function dispose() {}\n      };\n    }\n\n    // temporaryRetain is called during the render phase. However,\n    // given that we can't tell if this render will eventually commit or not,\n    // we create a timer to autodispose of this retain in case the associated\n    // component never commits.\n    // If the component /does/ commit, permanentRetain will clear this timeout\n    // and permanently retain the data.\n    var retention = this._retain(environment);\n    var releaseQueryTimeout = null;\n    var releaseTemporaryRetain = function releaseTemporaryRetain() {\n      clearTimeout(releaseQueryTimeout);\n      releaseQueryTimeout = null;\n      _this2._releaseTemporaryRetain = null;\n      retention.dispose();\n    };\n    releaseQueryTimeout = setTimeout(releaseTemporaryRetain, TEMPORARY_RETAIN_DURATION_MS);\n\n    // NOTE: Since temporaryRetain can be called multiple times, we release\n    // the previous temporary retain after we re-establish a new one, since\n    // we only ever need a single temporary retain until the permanent retain is\n    // established.\n    // temporaryRetain may be called multiple times by React during the render\n    // phase, as well as multiple times by other query components that are\n    // rendering the same query/variables.\n    (_this$_releaseTempora = this._releaseTemporaryRetain) === null || _this$_releaseTempora === void 0 ? void 0 : _this$_releaseTempora.call(this);\n    this._releaseTemporaryRetain = releaseTemporaryRetain;\n    return {\n      dispose: function dispose() {\n        var _this$_releaseTempora2;\n        (_this$_releaseTempora2 = _this2._releaseTemporaryRetain) === null || _this$_releaseTempora2 === void 0 ? void 0 : _this$_releaseTempora2.call(_this2);\n      }\n    };\n  };\n  _proto.permanentRetain = function permanentRetain(environment) {\n    var disposable = this._retain(environment);\n    this.releaseTemporaryRetain();\n    return disposable;\n  };\n  _proto.releaseTemporaryRetain = function releaseTemporaryRetain() {\n    var _this$_releaseTempora3;\n    (_this$_releaseTempora3 = this._releaseTemporaryRetain) === null || _this$_releaseTempora3 === void 0 ? void 0 : _this$_releaseTempora3.call(this);\n    this._releaseTemporaryRetain = null;\n  };\n  _proto.getRetainCount = function getRetainCount() {\n    return this._retainCount;\n  };\n  return SuspenseResource;\n}();\nmodule.exports = SuspenseResource;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./loadQuery'),\n  loadQuery = _require.loadQuery;\nfunction loadEntryPoint(environmentProvider, entryPoint, entryPointParams) {\n  // Start loading the code for the entrypoint\n  var loadingPromise = null;\n  if (entryPoint.root.getModuleIfRequired() == null) {\n    loadingPromise = entryPoint.root.load();\n  }\n  var preloadProps = entryPoint.getPreloadProps(entryPointParams);\n  var queries = preloadProps.queries,\n    entryPoints = preloadProps.entryPoints,\n    extraProps = preloadProps.extraProps;\n  var preloadedQueries = {};\n  var preloadedEntryPoints = {};\n  if (queries != null) {\n    var queriesPropNames = Object.keys(queries);\n    queriesPropNames.forEach(function (queryPropName) {\n      var _queries$queryPropNam = queries[queryPropName],\n        environmentProviderOptions = _queries$queryPropNam.environmentProviderOptions,\n        options = _queries$queryPropNam.options,\n        parameters = _queries$queryPropNam.parameters,\n        variables = _queries$queryPropNam.variables;\n      var environment = environmentProvider.getEnvironment(environmentProviderOptions);\n\n      // $FlowFixMe[underconstrained-implicit-instantiation]\n      preloadedQueries[queryPropName] = loadQuery(environment, parameters, variables, {\n        fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n        networkCacheConfig: options === null || options === void 0 ? void 0 : options.networkCacheConfig,\n        __nameForWarning: 'loadEntryPoint'\n      }, environmentProviderOptions);\n    });\n  }\n  if (entryPoints != null) {\n    var entryPointPropNames = Object.keys(entryPoints);\n    entryPointPropNames.forEach(function (entryPointPropName) {\n      var entryPointDescription = entryPoints[entryPointPropName];\n      if (entryPointDescription == null) {\n        return;\n      }\n      var nestedEntryPoint = entryPointDescription.entryPoint,\n        nestedParams = entryPointDescription.entryPointParams;\n      preloadedEntryPoints[entryPointPropName] = loadEntryPoint(environmentProvider, nestedEntryPoint, nestedParams);\n    });\n  }\n  var isDisposed = false;\n  return {\n    dispose: function dispose() {\n      if (isDisposed) {\n        return;\n      }\n      if (preloadedQueries != null) {\n        Object.values(preloadedQueries).forEach(function (_ref) {\n          var innerDispose = _ref.dispose;\n          innerDispose();\n        });\n      }\n      if (preloadedEntryPoints != null) {\n        Object.values(preloadedEntryPoints).forEach(function (_ref2) {\n          var innerDispose = _ref2.dispose;\n          innerDispose();\n        });\n      }\n      isDisposed = true;\n    },\n    entryPoints: preloadedEntryPoints,\n    extraProps: extraProps !== null && extraProps !== void 0 ? extraProps : null,\n    getComponent: function getComponent() {\n      var componentModule = entryPoint.root.getModuleIfRequired();\n      if (componentModule == null) {\n        var _loadingPromise;\n        loadingPromise = (_loadingPromise = loadingPromise) !== null && _loadingPromise !== void 0 ? _loadingPromise : entryPoint.root.load();\n        throw loadingPromise;\n      }\n\n      // On certain platforms, getting an es6 module with a default export from a JSResource will return an object like\n      // {default: module}, so let's assume that if the \"component\" has a static property named \"default\"\n      // that it's actually an es6 module wrapper, so unwrap it. This won't work for React classes with a static property named \"default\", but\n      // that's probably a worthwhile trade-off.\n      var component =\n      // $FlowIgnore[prop-missing]\n      componentModule[\"default\"] != null ? componentModule[\"default\"] : componentModule;\n      // $FlowFixMe[incompatible-cast] - trust me Flow, its entryPoint component\n      return component;\n    },\n    // $FlowFixMe[unsafe-getters-setters] - this has no side effects\n    get isDisposed() {\n      return isDisposed;\n    },\n    queries: preloadedQueries,\n    rootModuleID: entryPoint.root.getModuleId()\n  };\n}\nmodule.exports = loadEntryPoint;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar invariant = require('invariant');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  fetchQueryDeduped = _require.__internal.fetchQueryDeduped,\n  Observable = _require.Observable,\n  PreloadableQueryRegistry = _require.PreloadableQueryRegistry,\n  RelayFeatureFlags = _require.RelayFeatureFlags,\n  ReplaySubject = _require.ReplaySubject,\n  createOperationDescriptor = _require.createOperationDescriptor,\n  getRequest = _require.getRequest,\n  getRequestIdentifier = _require.getRequestIdentifier;\nvar warning = require(\"fbjs/lib/warning\");\nvar RenderDispatcher = null;\nvar fetchKey = 100001;\nfunction useTrackLoadQueryInRender() {\n  if (RenderDispatcher === null) {\n    var _React$__SECRET_INTER, _React$__SECRET_INTER2;\n    // Flow does not know of React internals (rightly so), but we need to\n    // ensure here that this function isn't called inside render.\n    RenderDispatcher = // $FlowFixMe[prop-missing]\n    (_React$__SECRET_INTER = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) === null || _React$__SECRET_INTER === void 0 ? void 0 : (_React$__SECRET_INTER2 = _React$__SECRET_INTER.ReactCurrentDispatcher) === null || _React$__SECRET_INTER2 === void 0 ? void 0 : _React$__SECRET_INTER2.current;\n  }\n}\nfunction loadQuery(environment, preloadableRequest, variables, options, environmentProviderOptions) {\n  var _React$__SECRET_INTER3, _React$__SECRET_INTER4, _options$__nameForWar, _options$fetchPolicy;\n  // This code ensures that we don't call loadQuery during render.\n  var CurrentDispatcher = // $FlowFixMe[prop-missing]\n  (_React$__SECRET_INTER3 = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) === null || _React$__SECRET_INTER3 === void 0 ? void 0 : (_React$__SECRET_INTER4 = _React$__SECRET_INTER3.ReactCurrentDispatcher) === null || _React$__SECRET_INTER4 === void 0 ? void 0 : _React$__SECRET_INTER4.current;\n  process.env.NODE_ENV !== \"production\" ? warning(RenderDispatcher == null || CurrentDispatcher !== RenderDispatcher, 'Relay: `%s` should not be called inside a React render function.', (_options$__nameForWar = options === null || options === void 0 ? void 0 : options.__nameForWarning) !== null && _options$__nameForWar !== void 0 ? _options$__nameForWar : 'loadQuery') : void 0;\n\n  // Every time you call loadQuery, we will generate a new fetchKey.\n  // This will ensure that every query reference that is created and\n  // passed to usePreloadedQuery is independently evaluated,\n  // even if they are for the same query/variables.\n  // Specifically, we want to avoid a case where we try to refetch a\n  // query by calling loadQuery a second time, and have the Suspense\n  // cache in usePreloadedQuery reuse the cached result instead of\n  // re-evaluating the new query ref and triggering a refetch if\n  // necessary.\n  fetchKey++;\n  var fetchPolicy = (_options$fetchPolicy = options === null || options === void 0 ? void 0 : options.fetchPolicy) !== null && _options$fetchPolicy !== void 0 ? _options$fetchPolicy : 'store-or-network';\n  var networkCacheConfig = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, options === null || options === void 0 ? void 0 : options.networkCacheConfig), {}, {\n    force: true\n  });\n\n  // executeWithNetworkSource will retain and execute an operation\n  // against the Relay store, given an Observable that would provide\n  // the network events for the operation.\n  var retainReference;\n  var didExecuteNetworkSource = false;\n  var executeWithNetworkSource = function executeWithNetworkSource(operation, networkObservable) {\n    didExecuteNetworkSource = true;\n    return environment.executeWithSource({\n      operation: operation,\n      source: networkObservable\n    });\n  };\n\n  // N.B. For loadQuery, we unconventionally want to return an Observable\n  // that isn't lazily executed, meaning that we don't want to wait\n  // until the returned Observable is subscribed to to actually start\n  // fetching and executing an operation; i.e. we want to execute the\n  // operation eagerly, when loadQuery is called.\n  // For this reason, we use an intermediate executionSubject which\n  // allows us to capture the events that occur during the eager execution\n  // of the operation, and then replay them to the Observable we\n  // ultimately return.\n  var executionSubject = new ReplaySubject();\n  var returnedObservable = Observable.create(function (sink) {\n    return executionSubject.subscribe(sink);\n  });\n  var unsubscribeFromNetworkRequest;\n  var networkError = null;\n  // makeNetworkRequest will immediately start a raw network request if\n  // one isn't already in flight and return an Observable that when\n  // subscribed to will replay the network events that have occured so far,\n  // as well as subsequent events.\n  var didMakeNetworkRequest = false;\n  var makeNetworkRequest = function makeNetworkRequest(params) {\n    // N.B. this function is called synchronously or not at all\n    // didMakeNetworkRequest is safe to rely on in the returned value\n    // Even if the request gets deduped below, we still wan't to return an\n    // observable that provides the replayed network events for the query,\n    // so we set this to true before deduping, to guarantee that the\n    // `source` observable is returned.\n    didMakeNetworkRequest = true;\n    var observable;\n    var subject = new ReplaySubject();\n    if (RelayFeatureFlags.ENABLE_LOAD_QUERY_REQUEST_DEDUPING === true) {\n      // Here, we are calling fetchQueryDeduped at the network layer level,\n      // which ensures that only a single network request is active for a given\n      // (environment, identifier) pair.\n      // Since network requests can be started /before/ we have the query ast\n      // necessary to process the results, we need to dedupe the raw requests\n      // separately from deduping the operation execution; specifically,\n      // if `loadQuery` is called multiple times before the query ast is available,\n      // we still want the network request to be deduped.\n      // - If a duplicate active network request is found, it will return an\n      // Observable that replays the events of the already active request.\n      // - If no duplicate active network request is found, it will call the fetchFn\n      // to start the request, and return an Observable that will replay\n      // the events from the network request.\n      // We provide an extra key to the identifier to distinguish deduping\n      // of raw network requests vs deduping of operation executions.\n      var identifier = 'raw-network-request-' + getRequestIdentifier(params, variables);\n      observable = fetchQueryDeduped(environment, identifier, function () {\n        var network = environment.getNetwork();\n        return network.execute(params, variables, networkCacheConfig);\n      });\n    } else {\n      var network = environment.getNetwork();\n      observable = network.execute(params, variables, networkCacheConfig);\n    }\n    var _observable$subscribe = observable.subscribe({\n        error: function error(err) {\n          networkError = err;\n          subject.error(err);\n        },\n        next: function next(data) {\n          subject.next(data);\n        },\n        complete: function complete() {\n          subject.complete();\n        }\n      }),\n      unsubscribe = _observable$subscribe.unsubscribe;\n    unsubscribeFromNetworkRequest = unsubscribe;\n    return Observable.create(function (sink) {\n      var subjectSubscription = subject.subscribe(sink);\n      return function () {\n        subjectSubscription.unsubscribe();\n        unsubscribeFromNetworkRequest();\n      };\n    });\n  };\n  var unsubscribeFromExecution;\n  var executeDeduped = function executeDeduped(operation, fetchFn) {\n    if (RelayFeatureFlags.ENABLE_LOAD_QUERY_REQUEST_DEDUPING === true) {\n      // N.B. at this point, if we're calling execute with a query ast (OperationDescriptor),\n      // we are guaranteed to have started a network request. We set this to\n      // true here as well since `makeNetworkRequest` might get skipped in the case\n      // where the query ast is already available and the query executions get deduped.\n      // Even if the execution gets deduped below, we still wan't to return\n      // an observable that provides the replayed network events for the query,\n      // so we set this to true before deduping, to guarantee that the `source`\n      // observable is returned.\n      didMakeNetworkRequest = true;\n    }\n\n    // Here, we are calling fetchQueryDeduped, which ensures that only\n    // a single operation is active for a given (environment, identifier) pair,\n    // and also tracks the active state of the operation, which is necessary\n    // for our Suspense infra to later be able to suspend (or not) on\n    // active operations. Even though we already dedupe raw network requests,\n    // we also need to dedupe and keep track operation execution for our Suspense\n    // infra, and we also want to avoid processing responses more than once, for\n    // the cases where `loadQuery` might be called multiple times after the query ast\n    // is available.\n    // - If a duplicate active operation is found, it will return an\n    // Observable that replays the events of the already active operation.\n    // - If no duplicate active operation is found, it will call the fetchFn\n    // to execute the operation, and return an Observable that will provide\n    // the events for executing the operation.\n    var _fetchQueryDeduped$su = fetchQueryDeduped(environment, operation.request.identifier, fetchFn).subscribe({\n      error: function error(err) {\n        executionSubject.error(err);\n      },\n      next: function next(data) {\n        executionSubject.next(data);\n      },\n      complete: function complete() {\n        executionSubject.complete();\n      }\n    });\n    unsubscribeFromExecution = _fetchQueryDeduped$su.unsubscribe;\n  };\n  var checkAvailabilityAndExecute = function checkAvailabilityAndExecute(concreteRequest) {\n    var operation = createOperationDescriptor(concreteRequest, variables, networkCacheConfig);\n    retainReference = environment.retain(operation);\n    if (fetchPolicy === 'store-only') {\n      return;\n    }\n\n    // N.B. If the fetch policy allows fulfillment from the store but the\n    // environment already has the data for that operation cached in the store,\n    // then we do nothing.\n    var shouldFetch = fetchPolicy !== 'store-or-network' || environment.check(operation).status !== 'available';\n    if (shouldFetch) {\n      executeDeduped(operation, function () {\n        // N.B. Since we have the operation synchronously available here,\n        // we can immediately fetch and execute the operation.\n        var networkObservable = makeNetworkRequest(concreteRequest.params);\n        var executeObservable = executeWithNetworkSource(operation, networkObservable);\n        return executeObservable;\n      });\n    }\n  };\n  var params;\n  var cancelOnLoadCallback;\n  var queryId;\n  if (preloadableRequest.kind === 'PreloadableConcreteRequest') {\n    var preloadableConcreteRequest = preloadableRequest;\n    params = preloadableConcreteRequest.params;\n    var _params = params;\n    queryId = _params.id;\n    !(queryId !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: `loadQuery` requires that preloadable query `%s` has a persisted query id', params.name) : invariant(false) : void 0;\n    var _module = PreloadableQueryRegistry.get(queryId);\n    if (_module != null) {\n      checkAvailabilityAndExecute(_module);\n    } else {\n      // If the module isn't synchronously available, we launch the\n      // network request immediately if the fetchPolicy might produce\n      // a network fetch, regardless of the state of the store cache. We\n      // do this because we can't check if a query is cached without the\n      // ast, and we know that if we don't have the query ast\n      // available, then this query could've never been written to the\n      // store in the first place, so it couldn't have been cached.\n      var networkObservable = fetchPolicy === 'store-only' ? null : makeNetworkRequest(params);\n      // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n      var _PreloadableQueryRegi = PreloadableQueryRegistry.onLoad(queryId, function (preloadedModule) {\n        cancelOnLoadCallback();\n        var operation = createOperationDescriptor(preloadedModule, variables, networkCacheConfig);\n        retainReference = environment.retain(operation);\n        if (networkObservable != null) {\n          executeDeduped(operation, function () {\n            return executeWithNetworkSource(operation, networkObservable);\n          });\n        }\n      });\n      cancelOnLoadCallback = _PreloadableQueryRegi.dispose;\n    }\n  } else {\n    var graphQlTaggedNode = preloadableRequest;\n    var request = getRequest(graphQlTaggedNode);\n    params = request.params;\n    queryId = params.cacheID != null ? params.cacheID : params.id;\n    checkAvailabilityAndExecute(request);\n  }\n  var isDisposed = false;\n  var isReleased = false;\n  var isNetworkRequestCancelled = false;\n  var releaseQuery = function releaseQuery() {\n    if (isReleased) {\n      return;\n    }\n    retainReference && retainReference.dispose();\n    isReleased = true;\n  };\n  var cancelNetworkRequest = function cancelNetworkRequest() {\n    if (isNetworkRequestCancelled) {\n      return;\n    }\n    if (didExecuteNetworkSource) {\n      unsubscribeFromExecution && unsubscribeFromExecution();\n    } else {\n      unsubscribeFromNetworkRequest && unsubscribeFromNetworkRequest();\n    }\n    cancelOnLoadCallback && cancelOnLoadCallback();\n    isNetworkRequestCancelled = true;\n  };\n  return {\n    kind: 'PreloadedQuery',\n    environment: environment,\n    environmentProviderOptions: environmentProviderOptions,\n    dispose: function dispose() {\n      if (isDisposed) {\n        return;\n      }\n      releaseQuery();\n      cancelNetworkRequest();\n      isDisposed = true;\n    },\n    releaseQuery: releaseQuery,\n    cancelNetworkRequest: cancelNetworkRequest,\n    fetchKey: fetchKey,\n    id: queryId,\n    // $FlowFixMe[unsafe-getters-setters] - this has no side effects\n    get isDisposed() {\n      return isDisposed || isReleased;\n    },\n    // $FlowFixMe[unsafe-getters-setters] - this has no side effects\n    get networkError() {\n      return networkError;\n    },\n    name: params.name,\n    networkCacheConfig: networkCacheConfig,\n    fetchPolicy: fetchPolicy,\n    source: didMakeNetworkRequest ? returnedObservable : undefined,\n    variables: variables\n  };\n}\nmodule.exports = {\n  loadQuery: loadQuery,\n  useTrackLoadQueryInRender: useTrackLoadQueryInRender\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar useLazyLoadQuery = require('./useLazyLoadQuery');\n\n/**\n * This hook can be used to render client-only queries.\n * These queries are consist of queries for client-only data,\n * schematized via local schema extensions and/or Relay resolvers.\n */\nfunction useClientQuery(gqlQuery, variables, options) {\n  // $FlowFixMe[incompatible-type] client queries can be used with useLazyLoadQuery, but only with `store-only` policy.\n  var query = gqlQuery;\n  return useLazyLoadQuery(query, variables, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, options), {}, {\n    fetchPolicy: 'store-only'\n  }));\n}\nmodule.exports = useClientQuery;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar loadEntryPoint = require('./loadEntryPoint');\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useIsMountedRef = require('./useIsMountedRef');\nvar _require2 = require('react'),\n  useCallback = _require2.useCallback,\n  useEffect = _require2.useEffect,\n  useRef = _require2.useRef,\n  useState = _require2.useState;\nvar initialNullEntryPointReferenceState = {\n  kind: 'NullEntryPointReference'\n};\nfunction useLoadEntryPoint(environmentProvider, entryPoint, options) {\n  var _options$TEST_ONLY__i, _options$TEST_ONLY__i2, _options$TEST_ONLY__i3, _options$TEST_ONLY__i4;\n  /**\n   * We want to always call `entryPointReference.dispose()` for every call to\n   * `setEntryPointReference(loadEntryPoint(...))` so that no leaks of data in Relay\n   * stores will occur.\n   *\n   * However, a call to `setState(newState)` is not always followed by a commit where\n   * this value is reflected in the state. Thus, we cannot reliably clean up each ref\n   * with `useEffect(() => () => entryPointReference.dispose(), [entryPointReference])`.\n   *\n   * Instead, we keep track of each call to `loadEntryPoint` in a ref.\n   * Relying on the fact that if a state change commits, no state changes that were\n   * initiated prior to the currently committing state change will ever subsequently\n   * commit, we can safely dispose of all preloaded entry point references\n   * associated with state changes initiated prior to the currently committing state\n   * change.\n   *\n   * Finally, when the hook unmounts, we also dispose of all remaining uncommitted\n   * entry point references.\n   */\n\n  useTrackLoadQueryInRender();\n  var initialEntryPointReferenceInternal = (_options$TEST_ONLY__i = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i2 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i2 === void 0 ? void 0 : _options$TEST_ONLY__i2.entryPointReference) !== null && _options$TEST_ONLY__i !== void 0 ? _options$TEST_ONLY__i : initialNullEntryPointReferenceState;\n  var initialEntryPointParamsInternal = (_options$TEST_ONLY__i3 = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i4 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i4 === void 0 ? void 0 : _options$TEST_ONLY__i4.entryPointParams) !== null && _options$TEST_ONLY__i3 !== void 0 ? _options$TEST_ONLY__i3 : null;\n  var isMountedRef = useIsMountedRef();\n  var undisposedEntryPointReferencesRef = useRef(new Set([initialEntryPointReferenceInternal]));\n  var _useState = useState(initialEntryPointReferenceInternal),\n    entryPointReference = _useState[0],\n    setEntryPointReference = _useState[1];\n  var _useState2 = useState(initialEntryPointParamsInternal),\n    entryPointParams = _useState2[0],\n    setEntryPointParams = _useState2[1];\n  var disposeEntryPoint = useCallback(function () {\n    if (isMountedRef.current) {\n      var nullEntryPointReference = {\n        kind: 'NullEntryPointReference'\n      };\n      undisposedEntryPointReferencesRef.current.add(nullEntryPointReference);\n      setEntryPointReference(nullEntryPointReference);\n    }\n  }, [setEntryPointReference, isMountedRef]);\n  var entryPointLoaderCallback = useCallback(function (params) {\n    if (isMountedRef.current) {\n      var updatedEntryPointReference = loadEntryPoint(environmentProvider, entryPoint, params);\n      undisposedEntryPointReferencesRef.current.add(updatedEntryPointReference);\n      setEntryPointReference(updatedEntryPointReference);\n      setEntryPointParams(params);\n    }\n  }, [environmentProvider, entryPoint, setEntryPointReference, isMountedRef]);\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      // Attempt to detect if the component was\n      // hidden (by Offscreen API), or fast refresh occured;\n      // Only in these situations would the effect cleanup\n      // for \"unmounting\" run multiple times, so if\n      // we are ever able to read this ref with a value\n      // of true, it means that one of these cases\n      // has happened.\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      // This block only runs if the component has previously \"unmounted\"\n      // due to it being hidden by the Offscreen API, or during fast refresh.\n      // At this point, the current entryPointReference will have been disposed\n      // by the previous cleanup, so instead of attempting to\n      // do our regular commit setup, which would incorrectly leave our\n      // current entryPointReference disposed, we need to load the entryPoint again\n      // and force a re-render by calling entryPointLoaderCallback again,\n      // so that the entryPointReference's queries are correctly re-retained, and\n      // potentially refetched if necessary.\n      maybeHiddenOrFastRefresh.current = false;\n      if (entryPointReference.kind !== 'NullEntryPointReference' && entryPointParams != null) {\n        entryPointLoaderCallback(entryPointParams);\n      }\n      return;\n    }\n\n    // When a new entryPointReference is committed, we iterate over all\n    // entrypoint refs in undisposedEntryPointReferences and dispose all of\n    // the refs that aren't the currently committed one. This ensures\n    // that we don't leave any dangling entrypoint references for the\n    // case that loadEntryPoint is called multiple times before commit; when\n    // this happens, multiple state updates will be scheduled, but only one\n    // will commit, meaning that we need to keep track of and dispose any\n    // query references that don't end up committing.\n    // - We are relying on the fact that sets iterate in insertion order, and we\n    // can remove items from a set as we iterate over it (i.e. no iterator\n    // invalidation issues.) Thus, it is safe to loop through\n    // undisposedEntryPointReferences until we find entryPointReference, and\n    // remove and dispose all previous references.\n    // - We are guaranteed to find entryPointReference in the set, because if a\n    // state change results in a commit, no state changes initiated prior to that\n    // one will be committed, and we are disposing and removing references\n    // associated with commits that were initiated prior to the currently\n    // committing state change. (A useEffect callback is called during the commit\n    // phase.)\n    var undisposedEntryPointReferences = undisposedEntryPointReferencesRef.current;\n    if (isMountedRef.current) {\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferences),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var undisposedEntryPointReference = _step.value;\n          if (undisposedEntryPointReference === entryPointReference) {\n            break;\n          }\n          undisposedEntryPointReferences[\"delete\"](undisposedEntryPointReference);\n          if (undisposedEntryPointReference.kind !== 'NullEntryPointReference') {\n            undisposedEntryPointReference.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, [entryPointReference, entryPointParams, entryPointLoaderCallback, isMountedRef]);\n  useEffect(function () {\n    return function disposeAllRemainingEntryPointReferences() {\n      // undisposedEntryPointReferences.current is never reassigned\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferencesRef.current),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var unhandledStateChange = _step2.value;\n          if (unhandledStateChange.kind !== 'NullEntryPointReference') {\n            unhandledStateChange.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n  }, []);\n  return [entryPointReference.kind === 'NullEntryPointReference' ? null : entryPointReference, entryPointLoaderCallback, disposeEntryPoint];\n}\nmodule.exports = useLoadEntryPoint;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useUnsafeRef_DEPRECATED = require('./useUnsafeRef_DEPRECATED');\nvar _require = require('react'),\n  useCallback = _require.useCallback,\n  useEffect = _require.useEffect;\n\n/**\n * This hook returns a mutable React ref that holds the value of whether a\n * fetch request is in flight. The reason this is a mutable ref instead of\n * state is because we don't actually want to trigger an update when this\n * changes, but instead synchronously keep track of whether the network request\n * is in flight, for example in order to bail out of a request if one is\n * already in flight. If this was state, due to the nature of concurrent\n * updates, this value wouldn't be in sync with when the request is actually\n * in flight.\n * The additional functions returned by this Hook can be used to mutate\n * the ref.\n */\nfunction useFetchTrackingRef() {\n  var subscriptionRef = useUnsafeRef_DEPRECATED(null);\n  var isFetchingRef = useUnsafeRef_DEPRECATED(false);\n  var disposeFetch = useCallback(function () {\n    if (subscriptionRef.current != null) {\n      subscriptionRef.current.unsubscribe();\n      subscriptionRef.current = null;\n    }\n    isFetchingRef.current = false;\n  }, []);\n  var startFetch = useCallback(function (subscription) {\n    subscriptionRef.current = subscription;\n    isFetchingRef.current = true;\n  }, []);\n  var completeFetch = useCallback(function () {\n    subscriptionRef.current = null;\n    isFetchingRef.current = false;\n  }, []);\n\n  // Dipose of ongoing fetch on unmount\n  useEffect(function () {\n    return disposeFetch;\n  }, [disposeFetch]);\n  return {\n    isFetchingRef: isFetchingRef,\n    startFetch: startFetch,\n    disposeFetch: disposeFetch,\n    completeFetch: completeFetch\n  };\n}\nmodule.exports = useFetchTrackingRef;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar HooksImplementation = require('./HooksImplementation');\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useFragmentNode = require('./useFragmentNode');\nvar useStaticFragmentNodeWarning = require('./useStaticFragmentNodeWarning');\nvar _require2 = require('react'),\n  useDebugValue = _require2.useDebugValue;\nvar _require3 = require('relay-runtime'),\n  getFragment = _require3.getFragment;\nfunction useFragment_LEGACY(fragment, key) {\n  // We need to use this hook in order to be able to track if\n  // loadQuery was called during render\n  useTrackLoadQueryInRender();\n  var fragmentNode = getFragment(fragment);\n  useStaticFragmentNodeWarning(fragmentNode, 'first argument of useFragment()');\n  var _useFragmentNode = useFragmentNode(fragmentNode, key, 'useFragment()'),\n    data = _useFragmentNode.data;\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useDebugValue({\n      fragment: fragmentNode.name,\n      data: data\n    });\n  }\n  return data;\n}\nfunction useFragment(fragment, key) {\n  var impl = HooksImplementation.get();\n  if (impl) {\n    // $FlowFixMe This is safe because impl.useFragment has the type of useFragment...\n    return impl.useFragment(fragment, key);\n    // (i.e. type declared above, but not the supertype used in this function definition)\n  } else {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useFragment_LEGACY(fragment, key);\n  }\n}\nmodule.exports = useFragment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./FragmentResource'),\n  getFragmentResourceForEnvironment = _require.getFragmentResourceForEnvironment;\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar useUnsafeRef_DEPRECATED = require('./useUnsafeRef_DEPRECATED');\nvar _require2 = require('react'),\n  useEffect = _require2.useEffect,\n  useState = _require2.useState;\nvar _require3 = require('relay-runtime'),\n  getFragmentIdentifier = _require3.getFragmentIdentifier;\nvar warning = require(\"fbjs/lib/warning\");\nfunction useFragmentNode(fragmentNode, fragmentRef, componentDisplayName) {\n  var environment = useRelayEnvironment();\n  var FragmentResource = getFragmentResourceForEnvironment(environment);\n  var isMountedRef = useUnsafeRef_DEPRECATED(false);\n  var _useState = useState(0),\n    forceUpdate = _useState[1];\n  var fragmentIdentifier = getFragmentIdentifier(fragmentNode, fragmentRef);\n\n  // Read fragment data; this might suspend.\n  var fragmentResult = FragmentResource.readWithIdentifier(fragmentNode, fragmentRef, fragmentIdentifier, componentDisplayName);\n  var isListeningForUpdatesRef = useUnsafeRef_DEPRECATED(true);\n  function enableStoreUpdates() {\n    isListeningForUpdatesRef.current = true;\n    var didMissUpdates = FragmentResource.checkMissedUpdates(fragmentResult)[0];\n    if (didMissUpdates) {\n      handleDataUpdate();\n    }\n  }\n  function disableStoreUpdates() {\n    isListeningForUpdatesRef.current = false;\n  }\n  function handleDataUpdate() {\n    if (isMountedRef.current === false || isListeningForUpdatesRef.current === false) {\n      return;\n    }\n\n    // React bails out on noop state updates as an optimization.\n    // If we want to force an update via setState, we need to pass an value.\n    // The actual value can be arbitrary though, e.g. an incremented number.\n    forceUpdate(function (count) {\n      return count + 1;\n    });\n  }\n\n  // Establish Relay store subscriptions in the commit phase, only if\n  // rendering for the first time, or if we need to subscribe to new data\n  // If the fragment identifier changes, it means that the variables on the\n  // fragment owner changed, or the fragment ref points to different records.\n  // In this case, we need to resubscribe to the Relay store.\n  useEffect(function () {\n    isMountedRef.current = true;\n    var disposable = FragmentResource.subscribe(fragmentResult, handleDataUpdate);\n    return function () {\n      // When unmounting or resubscribing to new data, clean up current\n      // subscription. This will also make sure fragment data is no longer\n      // cached so that next time it its read, it will be freshly read from\n      // the Relay store\n      isMountedRef.current = false;\n      disposable.dispose();\n    };\n    // NOTE: We disable react-hooks-deps warning because environment and fragmentIdentifier\n    // is capturing all information about whether the effect should be re-ran.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [environment, fragmentIdentifier]);\n  if (process.env.NODE_ENV !== \"production\") {\n    if (fragmentRef != null && (fragmentResult.data === undefined || Array.isArray(fragmentResult.data) && fragmentResult.data.length > 0 && fragmentResult.data.every(function (data) {\n      return data === undefined;\n    }))) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Expected to have been able to read non-null data for ' + 'fragment `%s` declared in ' + '`%s`, since fragment reference was non-null. ' + \"Make sure that that `%s`'s parent isn't \" + 'holding on to and/or passing a fragment reference for data that ' + 'has been deleted.', fragmentNode.name, componentDisplayName, componentDisplayName) : void 0;\n    }\n  }\n  return {\n    // $FlowFixMe[incompatible-return]\n    data: fragmentResult.data,\n    disableStoreUpdates: disableStoreUpdates,\n    enableStoreUpdates: enableStoreUpdates\n  };\n}\nmodule.exports = useFragmentNode;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('react'),\n  useEffect = _require.useEffect,\n  useRef = _require.useRef;\nfunction useIsMountedRef() {\n  var isMountedRef = useRef(true);\n  useEffect(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return isMountedRef;\n}\nmodule.exports = useIsMountedRef;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar invariant = require('invariant');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  getObservableForActiveRequest = _require.__internal.getObservableForActiveRequest,\n  getSelector = _require.getSelector;\nvar useEffect = React.useEffect,\n  useState = React.useState,\n  useMemo = React.useMemo;\nfunction useIsOperationNodeActive(fragmentNode, fragmentRef) {\n  var environment = useRelayEnvironment();\n  var observable = useMemo(function () {\n    var selector = getSelector(fragmentNode, fragmentRef);\n    if (selector == null) {\n      return null;\n    }\n    !(selector.kind === 'SingularReaderSelector') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'useIsOperationNodeActive: Plural fragments are not supported.') : invariant(false) : void 0;\n    return getObservableForActiveRequest(environment, selector.owner);\n  }, [environment, fragmentNode, fragmentRef]);\n  var _useState = useState(observable != null),\n    isActive = _useState[0],\n    setIsActive = _useState[1];\n  useEffect(function () {\n    var subscription;\n    setIsActive(observable != null);\n    if (observable != null) {\n      var onCompleteOrError = function onCompleteOrError() {\n        setIsActive(false);\n      };\n      subscription = observable.subscribe({\n        complete: onCompleteOrError,\n        error: onCompleteOrError\n      });\n    }\n    return function () {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [observable]);\n  return isActive;\n}\nmodule.exports = useIsOperationNodeActive;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useLazyLoadQueryNode = require('./useLazyLoadQueryNode');\nvar useMemoOperationDescriptor = require('./useMemoOperationDescriptor');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar _require2 = require('relay-runtime'),\n  fetchQuery = _require2.__internal.fetchQuery;\n\n// This separate type export is only needed as long as we are injecting\n// a separate hooks implementation in ./HooksImplementation -- it can\n// be removed after we stop doing that.\n\nfunction useLazyLoadQuery(gqlQuery, variables, options) {\n  // We need to use this hook in order to be able to track if\n  // loadQuery was called during render\n  useTrackLoadQueryInRender();\n  var environment = useRelayEnvironment();\n  var query = useMemoOperationDescriptor(gqlQuery, variables, options && options.networkCacheConfig ? options.networkCacheConfig : {\n    force: true\n  });\n  var data = useLazyLoadQueryNode({\n    componentDisplayName: 'useLazyLoadQuery()',\n    fetchKey: options === null || options === void 0 ? void 0 : options.fetchKey,\n    fetchObservable: fetchQuery(environment, query),\n    fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n    query: query,\n    renderPolicy: options === null || options === void 0 ? void 0 : options.UNSTABLE_renderPolicy\n  });\n  return data;\n}\nmodule.exports = useLazyLoadQuery;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ProfilerContext = require('./ProfilerContext');\nvar _require = require('./QueryResource'),\n  getQueryCacheIdentifier = _require.getQueryCacheIdentifier,\n  getQueryResourceForEnvironment = _require.getQueryResourceForEnvironment;\nvar useFetchTrackingRef = require('./useFetchTrackingRef');\nvar useFragmentNode = require('./useFragmentNode');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar useContext = React.useContext,\n  useEffect = React.useEffect,\n  useState = React.useState,\n  useRef = React.useRef;\nfunction useLazyLoadQueryNode(_ref) {\n  var query = _ref.query,\n    componentDisplayName = _ref.componentDisplayName,\n    fetchObservable = _ref.fetchObservable,\n    fetchPolicy = _ref.fetchPolicy,\n    fetchKey = _ref.fetchKey,\n    renderPolicy = _ref.renderPolicy;\n  var environment = useRelayEnvironment();\n  var profilerContext = useContext(ProfilerContext);\n  var QueryResource = getQueryResourceForEnvironment(environment);\n  var _useState = useState(0),\n    forceUpdateKey = _useState[0],\n    forceUpdate = _useState[1];\n  var _useFetchTrackingRef = useFetchTrackingRef(),\n    startFetch = _useFetchTrackingRef.startFetch,\n    completeFetch = _useFetchTrackingRef.completeFetch;\n  var cacheBreaker = \"\".concat(forceUpdateKey, \"-\").concat(fetchKey !== null && fetchKey !== void 0 ? fetchKey : '');\n  var cacheIdentifier = getQueryCacheIdentifier(environment, query, fetchPolicy, renderPolicy, cacheBreaker);\n  var preparedQueryResult = profilerContext.wrapPrepareQueryResource(function () {\n    return QueryResource.prepareWithIdentifier(cacheIdentifier, query, fetchObservable, fetchPolicy, renderPolicy, {\n      start: startFetch,\n      complete: completeFetch,\n      error: completeFetch\n    }, profilerContext);\n  });\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      // Attempt to detect if the component was\n      // hidden (by Offscreen API), or fast refresh occured;\n      // Only in these situations would the effect cleanup\n      // for \"unmounting\" run multiple times, so if\n      // we are ever able to read this ref with a value\n      // of true, it means that one of these cases\n      // has happened.\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      // This block only runs if the component has previously \"unmounted\"\n      // due to it being hidden by the Offscreen API, or during fast refresh.\n      // At this point, the current cached resource will have been disposed\n      // by the previous cleanup, so instead of attempting to\n      // do our regular commit setup, which would incorrectly attempt to\n      // retain a cached query resource that was disposed, we need to force\n      // a re-render so that the cache entry for this query is re-intiliazed and\n      // and re-evaluated (and potentially cause a refetch).\n      maybeHiddenOrFastRefresh.current = false;\n      forceUpdate(function (n) {\n        return n + 1;\n      });\n      return;\n    }\n    var disposable = QueryResource.retain(preparedQueryResult, profilerContext);\n    return function () {\n      disposable.dispose();\n    };\n    // NOTE: We disable react-hooks-deps warning because the `environment`\n    // and `cacheIdentifier` identities are capturing all information about whether\n    // the effect should be re-executed and the query re-retained.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [environment, cacheIdentifier]);\n  useEffect(function () {\n    // Release any temporary retain that's not released. At this point, if the\n    // cacheIdentifier doesn't change, the query is still permanently retained,\n    // and the temporary retain is redundant.\n    QueryResource.releaseTemporaryRetain(preparedQueryResult);\n    // This effect is intended to run on every commit, thus no dependency\n  });\n\n  var fragmentNode = preparedQueryResult.fragmentNode,\n    fragmentRef = preparedQueryResult.fragmentRef;\n  var _useFragmentNode = useFragmentNode(fragmentNode, fragmentRef, componentDisplayName),\n    data = _useFragmentNode.data;\n  return data;\n}\nmodule.exports = useLazyLoadQueryNode;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar useFetchTrackingRef = require('./useFetchTrackingRef');\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useIsOperationNodeActive = require('./useIsOperationNodeActive');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar invariant = require('invariant');\nvar _require = require('react'),\n  useCallback = _require.useCallback,\n  useEffect = _require.useEffect,\n  useState = _require.useState;\nvar _require2 = require('relay-runtime'),\n  fetchQuery = _require2.__internal.fetchQuery,\n  ConnectionInterface = _require2.ConnectionInterface,\n  createOperationDescriptor = _require2.createOperationDescriptor,\n  getPaginationVariables = _require2.getPaginationVariables,\n  getSelector = _require2.getSelector,\n  getValueAtPath = _require2.getValueAtPath;\nvar warning = require(\"fbjs/lib/warning\");\nfunction useLoadMoreFunction(args) {\n  var direction = args.direction,\n    fragmentNode = args.fragmentNode,\n    fragmentRef = args.fragmentRef,\n    fragmentIdentifier = args.fragmentIdentifier,\n    fragmentData = args.fragmentData,\n    connectionPathInFragmentData = args.connectionPathInFragmentData,\n    paginationRequest = args.paginationRequest,\n    paginationMetadata = args.paginationMetadata,\n    componentDisplayName = args.componentDisplayName,\n    observer = args.observer,\n    onReset = args.onReset,\n    identifierField = args.identifierField;\n  var environment = useRelayEnvironment();\n  var _useFetchTrackingRef = useFetchTrackingRef(),\n    isFetchingRef = _useFetchTrackingRef.isFetchingRef,\n    startFetch = _useFetchTrackingRef.startFetch,\n    disposeFetch = _useFetchTrackingRef.disposeFetch,\n    completeFetch = _useFetchTrackingRef.completeFetch;\n  var identifierValue = identifierField != null && fragmentData != null && typeof fragmentData === 'object' ? fragmentData[identifierField] : null;\n  var isMountedRef = useIsMountedRef();\n  var _useState = useState(environment),\n    mirroredEnvironment = _useState[0],\n    setMirroredEnvironment = _useState[1];\n  var _useState2 = useState(fragmentIdentifier),\n    mirroredFragmentIdentifier = _useState2[0],\n    setMirroredFragmentIdentifier = _useState2[1];\n  var isParentQueryActive = useIsOperationNodeActive(fragmentNode, fragmentRef);\n  var shouldReset = environment !== mirroredEnvironment || fragmentIdentifier !== mirroredFragmentIdentifier;\n  if (shouldReset) {\n    disposeFetch();\n    onReset();\n    setMirroredEnvironment(environment);\n    setMirroredFragmentIdentifier(fragmentIdentifier);\n  }\n  var _getConnectionState = getConnectionState(direction, fragmentNode, fragmentData, connectionPathInFragmentData),\n    cursor = _getConnectionState.cursor,\n    hasMore = _getConnectionState.hasMore;\n\n  // Dispose of pagination requests in flight when unmounting\n  useEffect(function () {\n    return function () {\n      disposeFetch();\n    };\n  }, [disposeFetch]);\n  var loadMore = useCallback(function (count, options) {\n    // TODO(T41131846): Fetch/Caching policies for loadMore\n\n    var onComplete = options === null || options === void 0 ? void 0 : options.onComplete;\n    if (isMountedRef.current !== true) {\n      // Bail out and warn if we're trying to paginate after the component\n      // has unmounted\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected fetch on unmounted component for fragment ' + '`%s` in `%s`. It looks like some instances of your component are ' + 'still trying to fetch data but they already unmounted. ' + 'Please make sure you clear all timers, intervals, ' + 'async calls, etc that may trigger a fetch.', fragmentNode.name, componentDisplayName) : void 0;\n      return {\n        dispose: function dispose() {}\n      };\n    }\n    var fragmentSelector = getSelector(fragmentNode, fragmentRef);\n    if (isFetchingRef.current === true || fragmentData == null || isParentQueryActive) {\n      if (fragmentSelector == null) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected fetch while using a null fragment ref ' + 'for fragment `%s` in `%s`. When fetching more items, we expect ' + \"initial fragment data to be non-null. Please make sure you're \" + 'passing a valid fragment ref to `%s` before paginating.', fragmentNode.name, componentDisplayName, componentDisplayName) : void 0;\n      }\n      if (onComplete) {\n        onComplete(null);\n      }\n      return {\n        dispose: function dispose() {}\n      };\n    }\n    !(fragmentSelector != null && fragmentSelector.kind !== 'PluralReaderSelector') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected to be able to find a non-plural fragment owner for ' + \"fragment `%s` when using `%s`. If you're seeing this, \" + 'this is likely a bug in Relay.', fragmentNode.name, componentDisplayName) : invariant(false) : void 0;\n    var parentVariables = fragmentSelector.owner.variables;\n    var fragmentVariables = fragmentSelector.variables;\n    var extraVariables = options === null || options === void 0 ? void 0 : options.UNSTABLE_extraVariables;\n    var baseVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, parentVariables), fragmentVariables);\n    var paginationVariables = getPaginationVariables(direction, count, cursor, baseVariables, (0, _objectSpread2[\"default\"])({}, extraVariables), paginationMetadata);\n\n    // If the query needs an identifier value ('id' or similar) and one\n    // was not explicitly provided, read it from the fragment data.\n    if (identifierField != null) {\n      // @refetchable fragments are guaranteed to have an `id` selection\n      // if the type is Node, implements Node, or is @fetchable. Double-check\n      // that there actually is a value at runtime.\n      if (typeof identifierValue !== 'string') {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Expected result to have a string  ' + '`%s` in order to refetch, got `%s`.', identifierField, identifierValue) : void 0;\n      }\n      paginationVariables.id = identifierValue;\n    }\n    var paginationQuery = createOperationDescriptor(paginationRequest, paginationVariables, {\n      force: true\n    });\n    fetchQuery(environment, paginationQuery).subscribe((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, observer), {}, {\n      start: function start(subscription) {\n        startFetch(subscription);\n        observer.start && observer.start(subscription);\n      },\n      complete: function complete() {\n        completeFetch();\n        observer.complete && observer.complete();\n        onComplete && onComplete(null);\n      },\n      error: function error(_error) {\n        completeFetch();\n        observer.error && observer.error(_error);\n        onComplete && onComplete(_error);\n      }\n    }));\n    return {\n      dispose: disposeFetch\n    };\n  },\n  // NOTE: We disable react-hooks-deps warning because all values\n  // inside paginationMetadata are static\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [environment, identifierValue, direction, cursor, startFetch, disposeFetch, completeFetch, isFetchingRef, isParentQueryActive, fragmentData, fragmentNode.name, fragmentRef, componentDisplayName]);\n  return [loadMore, hasMore, disposeFetch];\n}\nfunction getConnectionState(direction, fragmentNode, fragmentData, connectionPathInFragmentData) {\n  var _pageInfo$END_CURSOR, _pageInfo$START_CURSO;\n  var _ConnectionInterface$ = ConnectionInterface.get(),\n    EDGES = _ConnectionInterface$.EDGES,\n    PAGE_INFO = _ConnectionInterface$.PAGE_INFO,\n    HAS_NEXT_PAGE = _ConnectionInterface$.HAS_NEXT_PAGE,\n    HAS_PREV_PAGE = _ConnectionInterface$.HAS_PREV_PAGE,\n    END_CURSOR = _ConnectionInterface$.END_CURSOR,\n    START_CURSOR = _ConnectionInterface$.START_CURSOR;\n  var connection = getValueAtPath(fragmentData, connectionPathInFragmentData);\n  if (connection == null) {\n    return {\n      cursor: null,\n      hasMore: false\n    };\n  }\n  !(typeof connection === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected connection in fragment `%s` to have been `null`, or ' + 'a plain object with %s and %s properties. Instead got `%s`.', fragmentNode.name, EDGES, PAGE_INFO, connection) : invariant(false) : void 0;\n  var edges = connection[EDGES];\n  var pageInfo = connection[PAGE_INFO];\n  if (edges == null || pageInfo == null) {\n    return {\n      cursor: null,\n      hasMore: false\n    };\n  }\n  !Array.isArray(edges) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected connection in fragment `%s` to have a plural `%s` field. ' + 'Instead got `%s`.', fragmentNode.name, EDGES, edges) : invariant(false) : void 0;\n  !(typeof pageInfo === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected connection in fragment `%s` to have a `%s` field. ' + 'Instead got `%s`.', fragmentNode.name, PAGE_INFO, pageInfo) : invariant(false) : void 0;\n  var cursor = direction === 'forward' ? (_pageInfo$END_CURSOR = pageInfo[END_CURSOR]) !== null && _pageInfo$END_CURSOR !== void 0 ? _pageInfo$END_CURSOR : null : (_pageInfo$START_CURSO = pageInfo[START_CURSOR]) !== null && _pageInfo$START_CURSO !== void 0 ? _pageInfo$START_CURSO : null;\n  !(cursor === null || typeof cursor === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected page info for connection in fragment `%s` to have a ' + 'valid `%s`. Instead got `%s`.', fragmentNode.name, START_CURSOR, cursor) : invariant(false) : void 0;\n  var hasMore;\n  if (direction === 'forward') {\n    hasMore = cursor != null && pageInfo[HAS_NEXT_PAGE] === true;\n  } else {\n    hasMore = cursor != null && pageInfo[HAS_PREV_PAGE] === true;\n  }\n  return {\n    cursor: cursor,\n    hasMore: hasMore\n  };\n}\nmodule.exports = useLoadMoreFunction;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useMemoVariables = require('./useMemoVariables');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  createOperationDescriptor = _require.createOperationDescriptor,\n  getRequest = _require.getRequest;\nvar useMemo = React.useMemo;\nfunction useMemoOperationDescriptor(gqlQuery, variables, cacheConfig) {\n  var memoVariables = useMemoVariables(variables);\n  var memoCacheConfig = useMemoVariables(cacheConfig || {});\n  return useMemo(function () {\n    return createOperationDescriptor(getRequest(gqlQuery), memoVariables, memoCacheConfig);\n  }, [gqlQuery, memoVariables, memoCacheConfig]);\n}\nmodule.exports = useMemoOperationDescriptor;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar _require = require('react'),\n  useState = _require.useState;\n\n/**\n * Memoizes the passed in `variables` object based on `areEqual` equality.\n * This is useful when a `variables` object is used as a value in a depencency\n * array as it might often be constructed during render.\n */\nfunction useMemoVariables(variables) {\n  var _useState = useState(variables),\n    mirroredVariables = _useState[0],\n    setMirroredVariables = _useState[1];\n  if (areEqual(variables, mirroredVariables)) {\n    return mirroredVariables;\n  } else {\n    setMirroredVariables(variables);\n    return variables;\n  }\n}\nmodule.exports = useMemoVariables;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  defaultCommitMutation = _require.commitMutation;\nvar useState = React.useState,\n  useEffect = React.useEffect,\n  useRef = React.useRef,\n  useCallback = React.useCallback;\nfunction useMutation(mutation) {\n  var commitMutationFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCommitMutation;\n  var environment = useRelayEnvironment();\n  var isMountedRef = useIsMountedRef();\n  var environmentRef = useRef(environment);\n  var mutationRef = useRef(mutation);\n  var inFlightMutationsRef = useRef(new Set());\n  var _useState = useState(false),\n    isMutationInFlight = _useState[0],\n    setMutationInFlight = _useState[1];\n  var cleanup = useCallback(function (disposable) {\n    if (environmentRef.current === environment && mutationRef.current === mutation) {\n      inFlightMutationsRef.current[\"delete\"](disposable);\n      if (isMountedRef.current) {\n        setMutationInFlight(inFlightMutationsRef.current.size > 0);\n      }\n    }\n  }, [environment, isMountedRef, mutation]);\n  useEffect(function () {\n    if (environmentRef.current !== environment || mutationRef.current !== mutation) {\n      inFlightMutationsRef.current = new Set();\n      if (isMountedRef.current) {\n        setMutationInFlight(false);\n      }\n      environmentRef.current = environment;\n      mutationRef.current = mutation;\n    }\n  }, [environment, isMountedRef, mutation]);\n  var commit = useCallback(function (config) {\n    if (isMountedRef.current) {\n      setMutationInFlight(true);\n    }\n    var disposable = commitMutationFn(environment, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, config), {}, {\n      mutation: mutation,\n      onCompleted: function onCompleted(response, errors) {\n        var _config$onCompleted;\n        cleanup(disposable);\n        (_config$onCompleted = config.onCompleted) === null || _config$onCompleted === void 0 ? void 0 : _config$onCompleted.call(config, response, errors);\n      },\n      onError: function onError(error) {\n        var _config$onError;\n        cleanup(disposable);\n        (_config$onError = config.onError) === null || _config$onError === void 0 ? void 0 : _config$onError.call(config, error);\n      },\n      onUnsubscribe: function onUnsubscribe() {\n        var _config$onUnsubscribe;\n        cleanup(disposable);\n        (_config$onUnsubscribe = config.onUnsubscribe) === null || _config$onUnsubscribe === void 0 ? void 0 : _config$onUnsubscribe.call(config);\n      },\n      onNext: function onNext() {\n        var _config$onNext;\n        (_config$onNext = config.onNext) === null || _config$onNext === void 0 ? void 0 : _config$onNext.call(config);\n      }\n    }));\n    inFlightMutationsRef.current.add(disposable);\n    return disposable;\n  }, [cleanup, commitMutationFn, environment, isMountedRef, mutation]);\n  return [commit, isMutationInFlight];\n}\nmodule.exports = useMutation;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar HooksImplementation = require('./HooksImplementation');\nvar useLoadMoreFunction = require('./useLoadMoreFunction');\nvar useRefetchableFragmentNode = require('./useRefetchableFragmentNode');\nvar useStaticFragmentNodeWarning = require('./useStaticFragmentNodeWarning');\nvar _require = require('react'),\n  useCallback = _require.useCallback,\n  useDebugValue = _require.useDebugValue,\n  useState = _require.useState;\nvar _require2 = require('relay-runtime'),\n  getFragment = _require2.getFragment,\n  getFragmentIdentifier = _require2.getFragmentIdentifier,\n  getPaginationMetadata = _require2.getPaginationMetadata;\n\n// This separate type export is only needed as long as we are injecting\n// a separate hooks implementation in ./HooksImplementation -- it can\n// be removed after we stop doing that.\n\nfunction usePaginationFragment_LEGACY(fragmentInput, parentFragmentRef) {\n  var fragmentNode = getFragment(fragmentInput);\n  useStaticFragmentNodeWarning(fragmentNode, 'first argument of usePaginationFragment()');\n  var componentDisplayName = 'usePaginationFragment()';\n  var _getPaginationMetadat = getPaginationMetadata(fragmentNode, componentDisplayName),\n    connectionPathInFragmentData = _getPaginationMetadat.connectionPathInFragmentData,\n    paginationRequest = _getPaginationMetadat.paginationRequest,\n    paginationMetadata = _getPaginationMetadat.paginationMetadata,\n    identifierField = _getPaginationMetadat.identifierField;\n  var _useRefetchableFragme = useRefetchableFragmentNode(fragmentNode, parentFragmentRef, componentDisplayName),\n    fragmentData = _useRefetchableFragme.fragmentData,\n    fragmentRef = _useRefetchableFragme.fragmentRef,\n    refetch = _useRefetchableFragme.refetch;\n  var fragmentIdentifier = getFragmentIdentifier(fragmentNode, fragmentRef);\n\n  // Backward pagination\n  var _useLoadMore = useLoadMore({\n      componentDisplayName: componentDisplayName,\n      connectionPathInFragmentData: connectionPathInFragmentData,\n      direction: 'backward',\n      fragmentData: fragmentData,\n      fragmentIdentifier: fragmentIdentifier,\n      fragmentNode: fragmentNode,\n      fragmentRef: fragmentRef,\n      identifierField: identifierField,\n      paginationMetadata: paginationMetadata,\n      paginationRequest: paginationRequest\n    }),\n    loadPrevious = _useLoadMore[0],\n    hasPrevious = _useLoadMore[1],\n    isLoadingPrevious = _useLoadMore[2],\n    disposeFetchPrevious = _useLoadMore[3];\n\n  // Forward pagination\n  var _useLoadMore2 = useLoadMore({\n      componentDisplayName: componentDisplayName,\n      connectionPathInFragmentData: connectionPathInFragmentData,\n      direction: 'forward',\n      fragmentData: fragmentData,\n      fragmentIdentifier: fragmentIdentifier,\n      fragmentNode: fragmentNode,\n      fragmentRef: fragmentRef,\n      identifierField: identifierField,\n      paginationMetadata: paginationMetadata,\n      paginationRequest: paginationRequest\n    }),\n    loadNext = _useLoadMore2[0],\n    hasNext = _useLoadMore2[1],\n    isLoadingNext = _useLoadMore2[2],\n    disposeFetchNext = _useLoadMore2[3];\n  var refetchPagination = useCallback(function (variables, options) {\n    disposeFetchNext();\n    disposeFetchPrevious();\n    return refetch(variables, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, options), {}, {\n      __environment: undefined\n    }));\n  }, [disposeFetchNext, disposeFetchPrevious, refetch]);\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useDebugValue({\n      fragment: fragmentNode.name,\n      data: fragmentData,\n      hasNext: hasNext,\n      isLoadingNext: isLoadingNext,\n      hasPrevious: hasPrevious,\n      isLoadingPrevious: isLoadingPrevious\n    });\n  }\n  return {\n    data: fragmentData,\n    loadNext: loadNext,\n    loadPrevious: loadPrevious,\n    hasNext: hasNext,\n    hasPrevious: hasPrevious,\n    isLoadingNext: isLoadingNext,\n    isLoadingPrevious: isLoadingPrevious,\n    refetch: refetchPagination\n  };\n}\nfunction useLoadMore(args) {\n  var _useState = useState(false),\n    isLoadingMore = _useState[0],\n    setIsLoadingMore = _useState[1];\n  var observer = {\n    start: function start() {\n      return setIsLoadingMore(true);\n    },\n    complete: function complete() {\n      return setIsLoadingMore(false);\n    },\n    error: function error() {\n      return setIsLoadingMore(false);\n    }\n  };\n  var handleReset = function handleReset() {\n    return setIsLoadingMore(false);\n  };\n  var _useLoadMoreFunction = useLoadMoreFunction((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, args), {}, {\n      observer: observer,\n      onReset: handleReset\n    })),\n    loadMore = _useLoadMoreFunction[0],\n    hasMore = _useLoadMoreFunction[1],\n    disposeFetch = _useLoadMoreFunction[2];\n  return [loadMore, hasMore, isLoadingMore, disposeFetch];\n}\nfunction usePaginationFragment(fragmentInput, parentFragmentRef) {\n  var impl = HooksImplementation.get();\n  if (impl) {\n    return impl.usePaginationFragment(fragmentInput, parentFragmentRef);\n  } else {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return usePaginationFragment_LEGACY(fragmentInput, parentFragmentRef);\n  }\n}\nmodule.exports = usePaginationFragment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useLazyLoadQueryNode = require('./useLazyLoadQueryNode');\nvar useMemoOperationDescriptor = require('./useMemoOperationDescriptor');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar invariant = require('invariant');\nvar _require2 = require('react'),\n  useDebugValue = _require2.useDebugValue;\nvar _require3 = require('relay-runtime'),\n  _require3$__internal = _require3.__internal,\n  fetchQueryDeduped = _require3$__internal.fetchQueryDeduped,\n  fetchQuery = _require3$__internal.fetchQuery;\nvar warning = require(\"fbjs/lib/warning\");\nfunction usePreloadedQuery(gqlQuery, preloadedQuery, options) {\n  // We need to use this hook in order to be able to track if\n  // loadQuery was called during render\n  useTrackLoadQueryInRender();\n  var environment = useRelayEnvironment();\n  var fetchKey = preloadedQuery.fetchKey,\n    fetchPolicy = preloadedQuery.fetchPolicy,\n    source = preloadedQuery.source,\n    variables = preloadedQuery.variables,\n    networkCacheConfig = preloadedQuery.networkCacheConfig;\n  var operation = useMemoOperationDescriptor(gqlQuery, variables, networkCacheConfig);\n  var useLazyLoadQueryNodeParams;\n  if (preloadedQuery.kind === 'PreloadedQuery_DEPRECATED') {\n    !(operation.request.node.params.name === preloadedQuery.name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'usePreloadedQuery(): Expected data to be prefetched for query `%s`, ' + 'got prefetch results for query `%s`.', operation.request.node.params.name, preloadedQuery.name) : invariant(false) : void 0;\n    useLazyLoadQueryNodeParams = {\n      componentDisplayName: 'usePreloadedQuery()',\n      fetchKey: fetchKey,\n      fetchObservable: fetchQueryDeduped(environment, operation.request.identifier, function () {\n        if (environment === preloadedQuery.environment && source != null) {\n          return environment.executeWithSource({\n            operation: operation,\n            source: source\n          });\n        } else {\n          return environment.execute({\n            operation: operation\n          });\n        }\n      }),\n      fetchPolicy: fetchPolicy,\n      query: operation,\n      renderPolicy: options === null || options === void 0 ? void 0 : options.UNSTABLE_renderPolicy\n    };\n  } else {\n    process.env.NODE_ENV !== \"production\" ? warning(preloadedQuery.isDisposed === false, 'usePreloadedQuery(): Expected preloadedQuery to not be disposed yet. ' + 'This is because disposing the query marks it for future garbage ' + 'collection, and as such query results may no longer be present in the Relay ' + 'store. In the future, this will become a hard error.') : void 0;\n    var fallbackFetchObservable = fetchQuery(environment, operation);\n    var fetchObservable;\n    if (source != null && environment === preloadedQuery.environment) {\n      // If the source observable exists and the environments match, reuse\n      // the source observable.\n      // If the source observable happens to be empty, we need to fall back\n      // and re-execute and de-dupe the query (at render time).\n      fetchObservable = source.ifEmpty(fallbackFetchObservable);\n    } else if (environment !== preloadedQuery.environment) {\n      // If a call to loadQuery is made with a particular environment, and that\n      // preloaded query is passed to usePreloadedQuery in a different environment\n      // context, we cannot re-use the existing preloaded query.\n      // Instead, we need to fall back and re-execute and de-dupe the query with\n      // the new environment (at render time).\n      // TODO T68036756 track occurences of this warning and turn it into a hard error\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'usePreloadedQuery(): usePreloadedQuery was passed a preloaded query ' + 'that was created with a different environment than the one that is currently ' + 'in context. In the future, this will become a hard error.') : void 0;\n      fetchObservable = fallbackFetchObservable;\n    } else {\n      // if (source == null)\n      // If the source observable does not exist, we need to\n      // fall back and re-execute and de-dupe the query (at render time).\n      fetchObservable = fallbackFetchObservable;\n    }\n    useLazyLoadQueryNodeParams = {\n      componentDisplayName: 'usePreloadedQuery()',\n      fetchObservable: fetchObservable,\n      fetchKey: fetchKey,\n      fetchPolicy: fetchPolicy,\n      query: operation,\n      renderPolicy: options === null || options === void 0 ? void 0 : options.UNSTABLE_renderPolicy\n    };\n  }\n  var data = useLazyLoadQueryNode(useLazyLoadQueryNodeParams);\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useDebugValue({\n      query: preloadedQuery.name,\n      variables: preloadedQuery.variables,\n      data: data,\n      fetchKey: fetchKey,\n      fetchPolicy: fetchPolicy,\n      renderPolicy: options === null || options === void 0 ? void 0 : options.UNSTABLE_renderPolicy\n    });\n  }\n  return data;\n}\nmodule.exports = usePreloadedQuery;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _require = require('./loadQuery'),\n  loadQuery = _require.loadQuery,\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar _require2 = require('react'),\n  useCallback = _require2.useCallback,\n  useEffect = _require2.useEffect,\n  useRef = _require2.useRef,\n  useState = _require2.useState;\nvar _require3 = require('relay-runtime'),\n  getRequest = _require3.getRequest;\nvar initialNullQueryReferenceState = {\n  kind: 'NullQueryReference'\n};\nfunction requestIsLiveQuery(preloadableRequest) {\n  if (preloadableRequest.kind === 'PreloadableConcreteRequest') {\n    return preloadableRequest.params.metadata.live !== undefined;\n  }\n  var request = getRequest(preloadableRequest);\n  return request.params.metadata.live !== undefined;\n}\nfunction useQueryLoader(preloadableRequest, initialQueryReference) {\n  /**\n   * We want to always call `queryReference.dispose()` for every call to\n   * `setQueryReference(loadQuery(...))` so that no leaks of data in Relay stores\n   * will occur.\n   *\n   * However, a call to `setState(newState)` is not always followed by a commit where\n   * this value is reflected in the state. Thus, we cannot reliably clean up each\n   * ref with `useEffect(() => () => queryReference.dispose(), [queryReference])`.\n   *\n   * Instead, we keep track of each call to `loadQuery` in a ref.\n   * Relying on the fact that if a state change commits, no state changes that were\n   * initiated prior to the currently committing state change will ever subsequently\n   * commit, we can safely dispose of all preloaded query references\n   * associated with state changes initiated prior to the currently committing state\n   * change.\n   *\n   * Finally, when the hook unmounts, we also dispose of all remaining uncommitted\n   * query references.\n   */\n\n  var initialQueryReferenceInternal = initialQueryReference !== null && initialQueryReference !== void 0 ? initialQueryReference : initialNullQueryReferenceState;\n  var environment = useRelayEnvironment();\n  useTrackLoadQueryInRender();\n  var isMountedRef = useIsMountedRef();\n  var undisposedQueryReferencesRef = useRef(new Set([initialQueryReferenceInternal]));\n  var _useState = useState(function () {\n      return initialQueryReferenceInternal;\n    }),\n    queryReference = _useState[0],\n    setQueryReference = _useState[1];\n  var _useState2 = useState(function () {\n      return initialQueryReferenceInternal;\n    }),\n    previousInitialQueryReference = _useState2[0],\n    setPreviousInitialQueryReference = _useState2[1];\n  if (initialQueryReferenceInternal !== previousInitialQueryReference) {\n    // Rendering the query reference makes it \"managed\" by this hook, so\n    // we start keeping track of it so we can dispose it when it is no longer\n    // necessary here\n    // TODO(T78446637): Handle disposal of managed query references in\n    // components that were never mounted after rendering\n    undisposedQueryReferencesRef.current.add(initialQueryReferenceInternal);\n    setPreviousInitialQueryReference(initialQueryReferenceInternal);\n    setQueryReference(initialQueryReferenceInternal);\n  }\n  var disposeQuery = useCallback(function () {\n    if (isMountedRef.current) {\n      undisposedQueryReferencesRef.current.add(initialNullQueryReferenceState);\n      setQueryReference(initialNullQueryReferenceState);\n    }\n  }, [isMountedRef]);\n  var queryLoaderCallback = useCallback(function (variables, options) {\n    var mergedOptions = options != null && options.hasOwnProperty('__environment') ? {\n      fetchPolicy: options.fetchPolicy,\n      networkCacheConfig: options.networkCacheConfig,\n      __nameForWarning: options.__nameForWarning\n    } : options;\n    if (isMountedRef.current) {\n      var _options$__environmen;\n      var updatedQueryReference = loadQuery((_options$__environmen = options === null || options === void 0 ? void 0 : options.__environment) !== null && _options$__environmen !== void 0 ? _options$__environmen : environment, preloadableRequest, variables, mergedOptions);\n      undisposedQueryReferencesRef.current.add(updatedQueryReference);\n      setQueryReference(updatedQueryReference);\n    }\n  }, [environment, preloadableRequest, setQueryReference, isMountedRef]);\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      // Attempt to detect if the component was\n      // hidden (by Offscreen API), or fast refresh occured;\n      // Only in these situations would the effect cleanup\n      // for \"unmounting\" run multiple times, so if\n      // we are ever able to read this ref with a value\n      // of true, it means that one of these cases\n      // has happened.\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      // This block only runs if the component has previously \"unmounted\"\n      // due to it being hidden by the Offscreen API, or during fast refresh.\n      // At this point, the current queryReference will have been disposed\n      // by the previous cleanup, so instead of attempting to\n      // do our regular commit setup, which would incorrectly leave our\n      // current queryReference disposed, we need to load the query again\n      // and force a re-render by calling queryLoaderCallback again,\n      // so that the queryReference is correctly re-retained, and\n      // potentially refetched if necessary.\n      maybeHiddenOrFastRefresh.current = false;\n      if (queryReference.kind !== 'NullQueryReference') {\n        queryLoaderCallback(queryReference.variables, {\n          fetchPolicy: queryReference.fetchPolicy,\n          networkCacheConfig: queryReference.networkCacheConfig\n        });\n      }\n      return;\n    }\n\n    // When a new queryReference is committed, we iterate over all\n    // query references in undisposedQueryReferences and dispose all of\n    // the refs that aren't the currently committed one. This ensures\n    // that we don't leave any dangling query references for the\n    // case that loadQuery is called multiple times before commit; when\n    // this happens, multiple state updates will be scheduled, but only one\n    // will commit, meaning that we need to keep track of and dispose any\n    // query references that don't end up committing.\n    // - We are relying on the fact that sets iterate in insertion order, and we\n    // can remove items from a set as we iterate over it (i.e. no iterator\n    // invalidation issues.) Thus, it is safe to loop through\n    // undisposedQueryReferences until we find queryReference, and\n    // remove and dispose all previous references.\n    // - We are guaranteed to find queryReference in the set, because if a\n    // state update results in a commit, no state updates initiated prior to that\n    // one will be committed, and we are disposing and removing references\n    // associated with updates that were scheduled prior to the currently\n    // committing state change. (A useEffect callback is called during the commit\n    // phase.)\n    var undisposedQueryReferences = undisposedQueryReferencesRef.current;\n    if (isMountedRef.current) {\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(undisposedQueryReferences),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var undisposedQueryReference = _step.value;\n          if (undisposedQueryReference === queryReference) {\n            break;\n          }\n          undisposedQueryReferences[\"delete\"](undisposedQueryReference);\n          if (undisposedQueryReference.kind !== 'NullQueryReference') {\n            if (requestIsLiveQuery(preloadableRequest)) {\n              undisposedQueryReference.dispose && undisposedQueryReference.dispose();\n            } else {\n              undisposedQueryReference.releaseQuery && undisposedQueryReference.releaseQuery();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, [queryReference, isMountedRef, queryLoaderCallback, preloadableRequest]);\n  useEffect(function () {\n    return function disposeAllRemainingQueryReferences() {\n      // undisposedQueryReferences.current is never reassigned\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(undisposedQueryReferencesRef.current),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var undisposedQueryReference = _step2.value;\n          if (undisposedQueryReference.kind !== 'NullQueryReference') {\n            if (requestIsLiveQuery(preloadableRequest)) {\n              undisposedQueryReference.dispose && undisposedQueryReference.dispose();\n            } else {\n              undisposedQueryReference.releaseQuery && undisposedQueryReference.releaseQuery();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n  }, [preloadableRequest]);\n  return [queryReference.kind === 'NullQueryReference' ? null : queryReference, queryLoaderCallback, disposeQuery];\n}\nmodule.exports = useQueryLoader;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar HooksImplementation = require('./HooksImplementation');\nvar useRefetchableFragmentNode = require('./useRefetchableFragmentNode');\nvar useStaticFragmentNodeWarning = require('./useStaticFragmentNodeWarning');\nvar _require = require('react'),\n  useDebugValue = _require.useDebugValue;\nvar _require2 = require('relay-runtime'),\n  getFragment = _require2.getFragment;\nfunction useRefetchableFragment_LEGACY(fragmentInput, fragmentRef) {\n  var fragmentNode = getFragment(fragmentInput);\n  useStaticFragmentNodeWarning(fragmentNode, 'first argument of useRefetchableFragment()');\n  var _useRefetchableFragme = useRefetchableFragmentNode(fragmentNode, fragmentRef, 'useRefetchableFragment()'),\n    fragmentData = _useRefetchableFragme.fragmentData,\n    refetch = _useRefetchableFragme.refetch;\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useDebugValue({\n      fragment: fragmentNode.name,\n      data: fragmentData\n    });\n  }\n\n  // $FlowFixMe[incompatible-return]\n  // $FlowFixMe[prop-missing]\n  return [fragmentData, refetch];\n}\nfunction useRefetchableFragment(fragmentInput, parentFragmentRef) {\n  var impl = HooksImplementation.get();\n  if (impl) {\n    return impl.useRefetchableFragment(fragmentInput, parentFragmentRef);\n  } else {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useRefetchableFragment_LEGACY(fragmentInput, parentFragmentRef);\n  }\n}\nmodule.exports = useRefetchableFragment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _require = require('./FragmentResource'),\n  getFragmentResourceForEnvironment = _require.getFragmentResourceForEnvironment;\nvar ProfilerContext = require('./ProfilerContext');\nvar _require2 = require('./QueryResource'),\n  getQueryResourceForEnvironment = _require2.getQueryResourceForEnvironment;\nvar useFragmentNode = require('./useFragmentNode');\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useQueryLoader = require('./useQueryLoader');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar invariant = require('invariant');\nvar _require3 = require('react'),\n  useCallback = _require3.useCallback,\n  useContext = _require3.useContext,\n  useReducer = _require3.useReducer;\nvar _require4 = require('relay-runtime'),\n  fetchQuery = _require4.__internal.fetchQuery,\n  createOperationDescriptor = _require4.createOperationDescriptor,\n  getFragmentIdentifier = _require4.getFragmentIdentifier,\n  getRefetchMetadata = _require4.getRefetchMetadata,\n  getSelector = _require4.getSelector,\n  getValueAtPath = _require4.getValueAtPath;\nvar warning = require(\"fbjs/lib/warning\");\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'refetch':\n      {\n        var _action$refetchEnviro;\n        return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, state), {}, {\n          fetchPolicy: action.fetchPolicy,\n          mirroredEnvironment: (_action$refetchEnviro = action.refetchEnvironment) !== null && _action$refetchEnviro !== void 0 ? _action$refetchEnviro : state.mirroredEnvironment,\n          onComplete: action.onComplete,\n          refetchEnvironment: action.refetchEnvironment,\n          refetchQuery: action.refetchQuery,\n          renderPolicy: action.renderPolicy\n        });\n      }\n    case 'reset':\n      {\n        return {\n          fetchPolicy: undefined,\n          mirroredEnvironment: action.environment,\n          mirroredFragmentIdentifier: action.fragmentIdentifier,\n          onComplete: undefined,\n          refetchQuery: null,\n          renderPolicy: undefined\n        };\n      }\n    default:\n      {\n        action.type;\n        throw new Error('useRefetchableFragmentNode: Unexpected action type');\n      }\n  }\n}\nfunction useRefetchableFragmentNode(fragmentNode, parentFragmentRef, componentDisplayName) {\n  var parentEnvironment = useRelayEnvironment();\n  var _getRefetchMetadata = getRefetchMetadata(fragmentNode, componentDisplayName),\n    refetchableRequest = _getRefetchMetadata.refetchableRequest,\n    fragmentRefPathInResponse = _getRefetchMetadata.fragmentRefPathInResponse,\n    identifierField = _getRefetchMetadata.identifierField;\n  var fragmentIdentifier = getFragmentIdentifier(fragmentNode, parentFragmentRef);\n  var _useReducer = useReducer(reducer, {\n      fetchPolicy: undefined,\n      mirroredEnvironment: parentEnvironment,\n      mirroredFragmentIdentifier: fragmentIdentifier,\n      onComplete: undefined,\n      refetchEnvironment: null,\n      refetchQuery: null,\n      renderPolicy: undefined\n    }),\n    refetchState = _useReducer[0],\n    dispatch = _useReducer[1];\n  var fetchPolicy = refetchState.fetchPolicy,\n    mirroredEnvironment = refetchState.mirroredEnvironment,\n    mirroredFragmentIdentifier = refetchState.mirroredFragmentIdentifier,\n    onComplete = refetchState.onComplete,\n    refetchEnvironment = refetchState.refetchEnvironment,\n    refetchQuery = refetchState.refetchQuery,\n    renderPolicy = refetchState.renderPolicy;\n  var environment = refetchEnvironment !== null && refetchEnvironment !== void 0 ? refetchEnvironment : parentEnvironment;\n  var QueryResource = getQueryResourceForEnvironment(environment);\n  var FragmentResource = getFragmentResourceForEnvironment(environment);\n  var profilerContext = useContext(ProfilerContext);\n  var shouldReset = environment !== mirroredEnvironment || fragmentIdentifier !== mirroredFragmentIdentifier;\n  var _useQueryLoader = useQueryLoader(refetchableRequest),\n    queryRef = _useQueryLoader[0],\n    loadQuery = _useQueryLoader[1],\n    disposeQuery = _useQueryLoader[2];\n  var fragmentRef = parentFragmentRef;\n  if (shouldReset) {\n    dispatch({\n      type: 'reset',\n      environment: environment,\n      fragmentIdentifier: fragmentIdentifier\n    });\n    disposeQuery();\n  } else if (refetchQuery != null && queryRef != null) {\n    // If refetch was called, we expect to have a refetchQuery and queryRef\n    // in state, since both state updates to set the refetchQuery and the\n    // queryRef occur simultaneously.\n    // In this case, we need to read the refetched query data (potentially\n    // suspending if it's in flight), and extract the new fragment ref\n    // from the query in order read the current @refetchable fragment\n    // with the updated fragment owner as the new refetchQuery.\n\n    // Before observing the refetch, record the current ID and typename\n    // so that, if we are refetching existing data on\n    // a field that implements Node, after refetching we\n    // can validate that the received data is consistent\n    var debugPreviousIDAndTypename;\n    if (process.env.NODE_ENV !== \"production\") {\n      debugPreviousIDAndTypename = debugFunctions.getInitialIDAndType(refetchQuery.request.variables, fragmentRefPathInResponse, environment);\n    }\n    var handleQueryCompleted = function handleQueryCompleted(maybeError) {\n      onComplete && onComplete(maybeError !== null && maybeError !== void 0 ? maybeError : null);\n    };\n\n    // The queryRef.source obtained from useQueryLoader will be\n    // an observable we can consume /if/ a network request was\n    // started. Otherwise, given that QueryResource.prepare\n    // always expects an observable we fall back to a new network\n    // observable. Note however that if loadQuery did not make a network\n    // request, we don't expect to make one here, unless the state of\n    // the cache has changed between the call to refetch and this\n    // render.\n    var fetchObservable = queryRef.source != null ? queryRef.source : fetchQuery(environment, refetchQuery);\n\n    // Now wwe can we read the refetch query here using the\n    // queryRef provided from useQueryLoader. Note that the\n    // network request is started during the call to refetch,\n    // but if the refetch query is still in flight, we will suspend\n    // at this point:\n    var queryResult = profilerContext.wrapPrepareQueryResource(function () {\n      return QueryResource.prepare(refetchQuery, fetchObservable, fetchPolicy, renderPolicy, {\n        error: handleQueryCompleted,\n        complete: function complete() {\n          // Validate that the type of the object we got back matches the type\n          // of the object already in the store\n          if (process.env.NODE_ENV !== \"production\") {\n            debugFunctions.checkSameTypeAfterRefetch(debugPreviousIDAndTypename, environment, fragmentNode, componentDisplayName);\n          }\n          handleQueryCompleted();\n        }\n      }, queryRef.fetchKey, profilerContext);\n    });\n    var queryData = FragmentResource.read(queryResult.fragmentNode, queryResult.fragmentRef, componentDisplayName).data;\n    !(queryData != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected to be able to read refetch query response. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n\n    // After reading/fetching the refetch query, we extract from the\n    // refetch query response the new fragment ref we need to use to read\n    // the fragment. The new fragment ref will point to the refetch query\n    // as its fragment owner.\n    var refetchedFragmentRef = getValueAtPath(queryData, fragmentRefPathInResponse);\n    fragmentRef = refetchedFragmentRef;\n    if (process.env.NODE_ENV !== \"production\") {\n      // Validate that the id of the object we got back matches the id\n      // we queried for in the variables.\n      // We do this during render instead of onComplete to make sure we are\n      // only validating the most recent refetch.\n      debugFunctions.checkSameIDAfterRefetch(debugPreviousIDAndTypename, fragmentRef, fragmentNode, componentDisplayName);\n    }\n  }\n\n  // We read and subscribe to the fragment using useFragmentNode.\n  // If refetch was called, we read the fragment using the new computed\n  // fragment ref from the refetch query response; otherwise, we use the\n  // fragment ref passed by the caller as normal.\n  var _useFragmentNode = useFragmentNode(fragmentNode, fragmentRef, componentDisplayName),\n    fragmentData = _useFragmentNode.data,\n    disableStoreUpdates = _useFragmentNode.disableStoreUpdates,\n    enableStoreUpdates = _useFragmentNode.enableStoreUpdates;\n  var refetch = useRefetchFunction(componentDisplayName, dispatch, disposeQuery, fragmentData, fragmentIdentifier, fragmentNode, fragmentRefPathInResponse, identifierField, loadQuery, parentFragmentRef, refetchableRequest);\n  return {\n    fragmentData: fragmentData,\n    fragmentRef: fragmentRef,\n    refetch: refetch,\n    disableStoreUpdates: disableStoreUpdates,\n    enableStoreUpdates: enableStoreUpdates\n  };\n}\nfunction useRefetchFunction(componentDisplayName, dispatch, disposeQuery, fragmentData, fragmentIdentifier, fragmentNode, fragmentRefPathInResponse, identifierField, loadQuery, parentFragmentRef, refetchableRequest) {\n  var isMountedRef = useIsMountedRef();\n  var identifierValue = identifierField != null && fragmentData != null && typeof fragmentData === 'object' ? fragmentData[identifierField] : null;\n  return useCallback(function (providedRefetchVariables, options) {\n    // Bail out and warn if we're trying to refetch after the component\n    // has unmounted\n    if (isMountedRef.current !== true) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected call to `refetch` on unmounted component for fragment ' + '`%s` in `%s`. It looks like some instances of your component are ' + 'still trying to fetch data but they already unmounted. ' + 'Please make sure you clear all timers, intervals, ' + 'async calls, etc that may trigger a fetch.', fragmentNode.name, componentDisplayName) : void 0;\n      return {\n        dispose: function dispose() {}\n      };\n    }\n    if (parentFragmentRef == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected call to `refetch` while using a null fragment ref ' + 'for fragment `%s` in `%s`. When calling `refetch`, we expect ' + \"initial fragment data to be non-null. Please make sure you're \" + 'passing a valid fragment ref to `%s` before calling ' + '`refetch`, or make sure you pass all required variables to `refetch`.', fragmentNode.name, componentDisplayName, componentDisplayName) : void 0;\n    }\n    var refetchEnvironment = options === null || options === void 0 ? void 0 : options.__environment;\n    var fetchPolicy = options === null || options === void 0 ? void 0 : options.fetchPolicy;\n    var renderPolicy = options === null || options === void 0 ? void 0 : options.UNSTABLE_renderPolicy;\n    var onComplete = options === null || options === void 0 ? void 0 : options.onComplete;\n    var fragmentSelector = getSelector(fragmentNode, parentFragmentRef);\n    var parentVariables;\n    var fragmentVariables;\n    if (fragmentSelector == null) {\n      parentVariables = {};\n      fragmentVariables = {};\n    } else if (fragmentSelector.kind === 'PluralReaderSelector') {\n      var _fragmentSelector$sel, _fragmentSelector$sel2, _fragmentSelector$sel3, _fragmentSelector$sel4;\n      parentVariables = (_fragmentSelector$sel = (_fragmentSelector$sel2 = fragmentSelector.selectors[0]) === null || _fragmentSelector$sel2 === void 0 ? void 0 : _fragmentSelector$sel2.owner.variables) !== null && _fragmentSelector$sel !== void 0 ? _fragmentSelector$sel : {};\n      fragmentVariables = (_fragmentSelector$sel3 = (_fragmentSelector$sel4 = fragmentSelector.selectors[0]) === null || _fragmentSelector$sel4 === void 0 ? void 0 : _fragmentSelector$sel4.variables) !== null && _fragmentSelector$sel3 !== void 0 ? _fragmentSelector$sel3 : {};\n    } else {\n      parentVariables = fragmentSelector.owner.variables;\n      fragmentVariables = fragmentSelector.variables;\n    }\n\n    // A user of `useRefetchableFragment()` may pass a subset of\n    // all variables required by the fragment when calling `refetch()`.\n    // We fill in any variables not passed by the call to `refetch()` with the\n    // variables from the original parent fragment owner.\n    var refetchVariables = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, parentVariables), fragmentVariables), providedRefetchVariables);\n\n    // If the query needs an identifier value ('id' or similar) and one\n    // was not explicitly provided, read it from the fragment data.\n    if (identifierField != null && !providedRefetchVariables.hasOwnProperty('id')) {\n      // @refetchable fragments are guaranteed to have an `id` selection\n      // if the type is Node, implements Node, or is @fetchable. Double-check\n      // that there actually is a value at runtime.\n      if (typeof identifierValue !== 'string') {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Expected result to have a string  ' + '`%s` in order to refetch, got `%s`.', identifierField, identifierValue) : void 0;\n      }\n      refetchVariables.id = identifierValue;\n    }\n    var refetchQuery = createOperationDescriptor(refetchableRequest, refetchVariables, {\n      force: true\n    });\n\n    // We call loadQuery which will start a network request if necessary\n    // and update the querRef from useQueryLoader.\n    // Note the following:\n    // - loadQuery will dispose of any previously refetched queries.\n    // - We use the variables extracted off the OperationDescriptor\n    // so that they have been filtered out to include only the\n    // variables actually declared in the query.\n    loadQuery(refetchQuery.request.variables, {\n      fetchPolicy: fetchPolicy,\n      __environment: refetchEnvironment,\n      __nameForWarning: 'refetch'\n    });\n    dispatch({\n      type: 'refetch',\n      fetchPolicy: fetchPolicy,\n      onComplete: onComplete,\n      refetchEnvironment: refetchEnvironment,\n      refetchQuery: refetchQuery,\n      renderPolicy: renderPolicy\n    });\n    return {\n      dispose: disposeQuery\n    };\n  },\n  // NOTE: We disable react-hooks-deps warning because:\n  //   - We know fragmentRefPathInResponse is static, so it can be omitted from\n  //     deps\n  //   - We know fragmentNode is static, so it can be omitted from deps.\n  //   - fragmentNode and parentFragmentRef are also captured by including\n  //     fragmentIdentifier\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [fragmentIdentifier, dispatch, disposeQuery, identifierValue, loadQuery]);\n}\nvar debugFunctions;\nif (process.env.NODE_ENV !== \"production\") {\n  debugFunctions = {\n    getInitialIDAndType: function getInitialIDAndType(memoRefetchVariables, fragmentRefPathInResponse, environment) {\n      var _require5 = require('relay-runtime'),\n        Record = _require5.Record;\n      var id = memoRefetchVariables === null || memoRefetchVariables === void 0 ? void 0 : memoRefetchVariables.id;\n      if (fragmentRefPathInResponse.length !== 1 || fragmentRefPathInResponse[0] !== 'node' || id == null) {\n        return null;\n      }\n      var recordSource = environment.getStore().getSource();\n      var record = recordSource.get(id);\n      var typename = record && Record.getType(record);\n      if (typename == null) {\n        return null;\n      }\n      return {\n        id: id,\n        typename: typename\n      };\n    },\n    checkSameTypeAfterRefetch: function checkSameTypeAfterRefetch(previousIDAndType, environment, fragmentNode, componentDisplayName) {\n      var _require6 = require('relay-runtime'),\n        Record = _require6.Record;\n      if (!previousIDAndType) {\n        return;\n      }\n      var recordSource = environment.getStore().getSource();\n      var record = recordSource.get(previousIDAndType.id);\n      var typename = record && Record.getType(record);\n      if (typename !== previousIDAndType.typename) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Call to `refetch` returned data with a different ' + '__typename: was `%s`, now `%s`, on `%s` in `%s`. ' + 'Please make sure the server correctly implements' + 'unique id requirement.', previousIDAndType.typename, typename, fragmentNode.name, componentDisplayName) : void 0;\n      }\n    },\n    checkSameIDAfterRefetch: function checkSameIDAfterRefetch(previousIDAndTypename, refetchedFragmentRef, fragmentNode, componentDisplayName) {\n      if (previousIDAndTypename == null) {\n        return;\n      }\n      var _require7 = require('relay-runtime'),\n        ID_KEY = _require7.ID_KEY;\n      // $FlowExpectedError[incompatible-use]\n      var resultID = refetchedFragmentRef[ID_KEY];\n      if (resultID != null && resultID !== previousIDAndTypename.id) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Call to `refetch` returned a different id, expected ' + '`%s`, got `%s`, on `%s` in `%s`. ' + 'Please make sure the server correctly implements ' + 'unique id requirement.', resultID, previousIDAndTypename.id, fragmentNode.name, componentDisplayName) : void 0;\n      }\n    }\n  };\n}\nmodule.exports = useRefetchableFragmentNode;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ReactRelayContext = require('./../ReactRelayContext');\nvar invariant = require('invariant');\nvar _require = require('react'),\n  useContext = _require.useContext;\nfunction useRelayEnvironment() {\n  var context = useContext(ReactRelayContext);\n  !(context != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'useRelayEnvironment: Expected to have found a Relay environment provided by ' + 'a `RelayEnvironmentProvider` component. ' + 'This usually means that useRelayEnvironment was used in a ' + 'component that is not a descendant of a `RelayEnvironmentProvider`. ' + 'Please make sure a `RelayEnvironmentProvider` has been rendered somewhere ' + 'as a parent or ancestor of your component.') : invariant(false) : void 0;\n  return context.environment;\n}\nmodule.exports = useRelayEnvironment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useUnsafeRef_DEPRECATED = require('./useUnsafeRef_DEPRECATED');\nvar warning = require(\"fbjs/lib/warning\");\nfunction useStaticFragmentNodeWarning(fragmentNode, warningContext) {\n  if (process.env.NODE_ENV !== \"production\") {\n    // This is calling `useRef` conditionally, but based on the environment\n    // __DEV__ setting which shouldn't change. This allows us to only pay the\n    // cost of `useRef` in development mode to produce the warning.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initialPropRef = useUnsafeRef_DEPRECATED(fragmentNode.name);\n    process.env.NODE_ENV !== \"production\" ? warning(initialPropRef.current === fragmentNode.name, 'Relay: The %s has to remain the same over the lifetime of a component. ' + 'Changing it is not supported and will result in unexpected behavior.', warningContext) : void 0;\n  }\n}\nmodule.exports = useStaticFragmentNodeWarning;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar _require = require('react'),\n  useEffect = _require.useEffect,\n  useRef = _require.useRef;\n\n/**\n * This hook subscribes a callback to the invalidation state of the given data\n * ids.\n * Any time the invalidation state of the given data ids changes, the provided\n * callback will be called.\n * If new ids or a new callback are provided, the subscription will be\n * re-established and the previous one will be disposed.\n * The subscription will automatically be disposed on unmount\n */\nfunction useSubscribeToInvalidationState(dataIDs, callback) {\n  var environment = useRelayEnvironment();\n  var disposableRef = useRef(null);\n  var stableDataIDs = Array.from(dataIDs).sort().join('');\n  useEffect(function () {\n    var store = environment.getStore();\n    var invalidationState = store.lookupInvalidationState(dataIDs);\n    var disposable = store.subscribeToInvalidationState(invalidationState, callback);\n    disposableRef.current = disposable;\n    return function () {\n      return disposable.dispose();\n    };\n\n    // Intentionally excluding dataIDs, since we're using stableDataIDs\n    // instead\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stableDataIDs, callback, environment]);\n  return {\n    dispose: function dispose() {\n      if (disposableRef.current != null) {\n        disposableRef.current.dispose();\n      }\n    }\n  };\n}\nmodule.exports = useSubscribeToInvalidationState;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar _require = require('react'),\n  useEffect = _require.useEffect;\nvar _require2 = require('relay-runtime'),\n  requestSubscription = _require2.requestSubscription;\nfunction useSubscription(config, requestSubscriptionFn) {\n  // N.B. this will re-subscribe every render if config or requestSubscriptionFn\n  // are not memoized.\n  // Please do not pass an object defined in-line.\n  var actualRequestSubscription = requestSubscriptionFn !== null && requestSubscriptionFn !== void 0 ? requestSubscriptionFn : requestSubscription;\n  var environment = useRelayEnvironment();\n  useEffect(function () {\n    // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n    var _actualRequestSubscri = actualRequestSubscription(environment, config),\n      dispose = _actualRequestSubscri.dispose;\n    return dispose;\n  }, [environment, config, actualRequestSubscription]);\n}\nmodule.exports = useSubscription;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('react'),\n  useMemo = _require.useMemo;\n\n/**\n * Like `useRef`, but does not warn when accessed during render. It's a bad\n * pattern to read or write from a ref during render as it does not trigger\n * a rerender and might result in bugs.\n */\nfunction useUnsafeRef_DEPRECATED(init) {\n  return useMemo(function () {\n    return {\n      current: init\n    };\n  }, []);\n}\nmodule.exports = useUnsafeRef_DEPRECATED;","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nexport function warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { warning, invariant, parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\ntype LowerCaseFormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\ntype UpperCaseFormMethod = Uppercase<LowerCaseFormMethod>;\n\n/**\n * Users can specify either lowercase or uppercase form methods on <Form>,\n * useSubmit(), <fetcher.Form>, etc.\n */\nexport type HTMLFormMethod = LowerCaseFormMethod | UpperCaseFormMethod;\n\n/**\n * Active navigation/fetcher form methods are exposed in lowercase on the\n * RouterState\n */\nexport type FormMethod = LowerCaseFormMethod;\nexport type MutationFormMethod = Exclude<FormMethod, \"get\">;\n\n/**\n * In v7, active navigation/fetcher form methods are exposed in uppercase on the\n * RouterState.  This is to align with the normalization done via fetch().\n */\nexport type V7_FormMethod = UpperCaseFormMethod;\nexport type V7_MutationFormMethod = Exclude<V7_FormMethod, \"GET\">;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\";\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport interface Submission {\n  formMethod: FormMethod | V7_FormMethod;\n  formAction: string;\n  formEncType: FormEncType;\n  formData: FormData;\n}\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n  context?: any;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Loaders and actions can return anything except `undefined` (`null` is a\n * valid return value if there is no data to return).  Responses are preferred\n * and will ease any future migration to Remix\n */\ntype DataFunctionValue = Response | NonNullable<unknown> | null;\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    formData?: Submission[\"formData\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set `hasErrorBoundary`\n * from the framework-aware `errorElement` prop\n *\n * @deprecated Use `mapRouteProperties` instead\n */\nexport interface DetectErrorBoundaryFunction {\n  (route: AgnosticRouteObject): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set any framework-specific\n * properties from framework-agnostic properties\n */\nexport interface MapRoutePropertiesFunction {\n  (route: AgnosticRouteObject): {\n    hasErrorBoundary: boolean;\n  } & Record<string, any>;\n}\n\n/**\n * Keys we cannot change from within a lazy() function. We spread all other keys\n * onto the route. Either they're meaningful to the router, or they'll get\n * ignored.\n */\nexport type ImmutableRouteKey =\n  | \"lazy\"\n  | \"caseSensitive\"\n  | \"path\"\n  | \"id\"\n  | \"index\"\n  | \"children\";\n\nexport const immutableRouteKeys = new Set<ImmutableRouteKey>([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\",\n]);\n\n/**\n * lazy() function to load a route definition, which can add non-matching\n * related properties to a route\n */\nexport interface LazyRouteFunction<R extends AgnosticRouteObject> {\n  (): Promise<Omit<R, ImmutableRouteKey>>;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n  lazy?: LazyRouteFunction<AgnosticBaseRouteObject>;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\nexport type RouteManifest = Record<string, AgnosticDataRouteObject | undefined>;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\" | \"/*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  mapRouteProperties: MapRoutePropertiesFunction,\n  parentPath: number[] = [],\n  manifest: RouteManifest = {}\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n        children: undefined,\n      };\n      manifest[id] = pathOrLayoutRoute;\n\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties,\n          treePath,\n          manifest\n        );\n      }\n\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(\n      branches[i],\n      // Incoming pathnames are generally encoded from either window.location\n      // or from router.navigate, but we want to match against the unencoded\n      // paths in the route definitions.  Memory router locations won't be\n      // encoded here but there also shouldn't be anything to decode so this\n      // should be a safe operation.  This avoids needing matchRoutes to be\n      // history-aware.\n      safelyDecodeURI(pathname)\n    );\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path: string = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n\n  const segments = path\n    .split(/\\/+/)\n    .map((segment, index, array) => {\n      const isLastSegment = index === array.length - 1;\n\n      // only apply the splat if it's the last segment\n      if (isLastSegment && segment === \"*\") {\n        const star = \"*\" as PathParam<Path>;\n        const starParam = params[star];\n\n        // Apply the splat\n        return starParam;\n      }\n\n      const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n      if (keyMatch) {\n        const [, key, optional] = keyMatch;\n        let param = params[key as PathParam<Path>];\n\n        if (optional === \"?\") {\n          return param == null ? \"\" : param;\n        }\n\n        if (param == null) {\n          invariant(false, `Missing \":${key}\" param`);\n        }\n\n        return param;\n      }\n\n      // Remove any optional markers from optional static segments\n      return segment.replace(/\\?$/g, \"\");\n    })\n    // Remove empty segments\n    .filter((segment) => !!segment);\n\n  return prefix + segments.join(\"/\");\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/\\/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURI(value: string) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, null, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    if (error) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  error?: Error;\n  internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n  warning,\n} from \"./history\";\nimport type {\n  DataResult,\n  DeferredData,\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DeferredResult,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  DetectErrorBoundaryFunction,\n  RedirectResult,\n  RouteData,\n  AgnosticRouteObject,\n  Submission,\n  SuccessResult,\n  AgnosticRouteMatch,\n  ShouldRevalidateFunction,\n  RouteManifest,\n  ImmutableRouteKey,\n  ActionFunction,\n  LoaderFunction,\n  V7_MutationFormMethod,\n  V7_FormMethod,\n  HTMLFormMethod,\n  MutationFormMethod,\n  MapRoutePropertiesFunction,\n} from \"./utils\";\nimport {\n  ErrorResponse,\n  ResultType,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  immutableRouteKeys,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  stripBasename,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To | null, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterNavigateOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key?: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key?: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * HMR needs to pass in-flight route updates to React Router\n   * TODO: Replace this with granular route update APIs (addRoute, updateRoute, deleteRoute)\n   */\n  _internalSetRoutes(routes: AgnosticRouteObject[]): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface FutureConfig {\n  v7_normalizeFormMethod: boolean;\n  v7_prependBasename: boolean;\n}\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  routes: AgnosticRouteObject[];\n  history: History;\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n  future?: Partial<FutureConfig>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: { requestContext?: unknown }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: { routeId?: string; requestContext?: unknown }\n  ): Promise<any>;\n}\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (state: RouterState): void;\n}\n\ninterface UseMatchesMatch {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: unknown;\n  handle: unknown;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UseMatchesMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\ntype BaseNavigateOptions = {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  fromRouteId?: string;\n};\n\n/**\n * Options for a navigate() call for a Link navigation\n */\ntype LinkNavigateOptions = BaseNavigateOptions;\n\n/**\n * Options for a navigate() call for a Form navigation\n */\ntype SubmissionNavigateOptions = BaseNavigateOptions & {\n  formMethod?: HTMLFormMethod;\n  formEncType?: FormEncType;\n  formData: FormData;\n};\n\n/**\n * Options to pass to navigate() for either a Link or Form navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions =\n  | Omit<LinkNavigateOptions, \"replace\">\n  | Omit<SubmissionNavigateOptions, \"replace\">;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: FormMethod | V7_FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: FormMethod | V7_FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: FormMethod | V7_FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: FormMethod | V7_FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Error thrown from the current action, keyed by the route containing the\n   * error boundary to render the error.  To be committed to the state after\n   * loaders have completed\n   */\n  pendingActionError?: RouteData;\n  /**\n   * Data returned from the current action, keyed by the route owning the action.\n   * To be committed to the state after loaders have completed\n   */\n  pendingActionData?: RouteData;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n  match: AgnosticDataRouteMatch | null;\n  matches: AgnosticDataRouteMatch[] | null;\n  controller: AbortController | null;\n}\n\n/**\n * Wrapper object to allow us to throw any response out from callLoaderOrAction\n * for queryRouter while preserving whether or not it was thrown or returned\n * from the loader/action\n */\ninterface QueryRouteResponse {\n  type: ResultType.data | ResultType.error;\n  response: Response;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst defaultMapRouteProperties: MapRoutePropertiesFunction = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary),\n});\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  const routerWindow = init.window\n    ? init.window\n    : typeof window !== \"undefined\"\n    ? window\n    : undefined;\n  const isBrowser =\n    typeof routerWindow !== \"undefined\" &&\n    typeof routerWindow.document !== \"undefined\" &&\n    typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  // Routes keyed by ID\n  let manifest: RouteManifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n  let inFlightDataRoutes: AgnosticDataRouteObject[] | undefined;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future: FutureConfig = {\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false,\n    ...init.future,\n  };\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized =\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m) => m.route.lazy) &&\n    // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m) => m.route.loader) || init.hydrationData != null);\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              deleteBlocker(blockerKey!);\n              updateState({ blockers: new Map(router.state.blockers) });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location);\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(newState: Partial<RouterState>): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n    subscribers.forEach((subscriber) => subscriber(state));\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    for (let [key] of blockerFunctions) {\n      deleteBlocker(key);\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n\n    updateState({\n      ...newState, // matches, errors, fetchers go through as-is\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(\n        location,\n        newState.matches || state.matches\n      ),\n      preventScrollReset,\n      blockers: new Map(state.blockers),\n    });\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To | null,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      false,\n      normalizedPath,\n      opts\n    );\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          deleteBlocker(blockerKey!);\n          updateState({ blockers: new Map(state.blockers) });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponse;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error,\n        },\n      });\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (\n      state.initialized &&\n      !isRevalidationRequired &&\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionData: RouteData | undefined;\n    let pendingError: RouteData | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError,\n      };\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace }\n      );\n\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        ...opts.submission,\n      };\n      loadingNavigation = navigation;\n\n      // Create a GET request for the loaders\n      request = new Request(request.url, { signal: request.signal });\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      pendingActionData,\n      pendingError\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts?: { replace?: boolean }\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation: NavigationStates[\"Submitting\"] = {\n      state: \"submitting\",\n      location,\n      ...submission,\n    };\n    updateState({ navigation });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename\n      );\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace =\n          result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, { submission, replace });\n      return { shortCircuited: true };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: { [boundaryMatch.route.id]: result.error },\n      };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    return {\n      pendingActionData: { [actionMatch.route.id]: result.data },\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    fetcherSubmission?: Submission,\n    replace?: boolean,\n    pendingActionData?: RouteData,\n    pendingError?: RouteData\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation;\n    if (!loadingNavigation) {\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        ...submission,\n      };\n      loadingNavigation = navigation;\n    }\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission =\n      submission || fetcherSubmission\n        ? submission || fetcherSubmission\n        : loadingNavigation.formMethod &&\n          loadingNavigation.formAction &&\n          loadingNavigation.formData &&\n          loadingNavigation.formEncType\n        ? {\n            formMethod: loadingNavigation.formMethod,\n            formAction: loadingNavigation.formAction,\n            formData: loadingNavigation.formData,\n            formEncType: loadingNavigation.formEncType,\n          }\n        : undefined;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      routesToUse,\n      basename,\n      pendingActionData,\n      pendingError\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, {\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null,\n        ...(pendingActionData ? { actionData: pendingActionData } : {}),\n        ...(updatedFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n      });\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: fetcher && fetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState({\n        navigation: loadingNavigation,\n        ...(actionData\n          ? Object.keys(actionData).length === 0\n            ? { actionData: null }\n            : { actionData }\n          : {}),\n        ...(revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n    }\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n    revalidatingFetchers.forEach((rf) => {\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      await startRedirectNavigation(state, redirect, { replace });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingError,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers =\n      updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n\n    return {\n      loaderData,\n      errors,\n      ...(shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n    };\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath })\n      );\n      return;\n    }\n\n    let { path, submission } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      true,\n      normalizedPath,\n      opts\n    );\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher: FetcherStates[\"Submitting\"] = {\n      state: \"submitting\",\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, fetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let actionResult = await callLoaderOrAction(\n      \"action\",\n      fetchRequest,\n      match,\n      requestMatches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      fetchRedirectIds.add(key);\n      let loadingFetcher: FetcherStates[\"Loading\"] = {\n        state: \"loading\",\n        ...submission,\n        data: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, loadingFetcher);\n      updateState({ fetchers: new Map(state.fetchers) });\n\n      return startRedirectNavigation(state, actionResult, {\n        submission,\n        isFetchActionRedirect: true,\n      });\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(routesToUse, state.navigation.location, basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      data: actionResult.data,\n      ...submission,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      routesToUse,\n      basename,\n      { [match.route.id]: actionResult.data },\n      undefined // No need to send through errors since we short circuit above\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: existingFetcher && existingFetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        if (rf.controller) {\n          fetchControllers.set(staleKey, rf.controller);\n        }\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect(results);\n    if (redirect) {\n      return startRedirectNavigation(state, redirect);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: actionResult.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        ...(didAbortFetchLoads || revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadingFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n\n    let result: DataResult = await callLoaderOrAction(\n      \"loader\",\n      fetchRequest,\n      match,\n      matches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      fetchRedirectIds.add(key);\n      await startRedirectNavigation(state, result);\n      return;\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error,\n        },\n      });\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    let doneFetcher: FetcherStates[\"Idle\"] = {\n      state: \"idle\",\n      data: result.data,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, doneFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    state: RouterState,\n    redirect: RedirectResult,\n    {\n      submission,\n      replace,\n      isFetchActionRedirect,\n    }: {\n      submission?: Submission;\n      replace?: boolean;\n      isFetchActionRedirect?: boolean;\n    } = {}\n  ) {\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n\n    let redirectLocation = createLocation(\n      state.location,\n      redirect.location,\n      // TODO: This can be removed once we get rid of useTransition in Remix v2\n      {\n        _isRedirect: true,\n        ...(isFetchActionRedirect ? { _isFetchActionRedirect: true } : {}),\n      }\n    );\n    invariant(\n      redirectLocation,\n      \"Expected a location on the redirect navigation\"\n    );\n    // Check if this an absolute external redirect that goes to a new origin\n    if (ABSOLUTE_URL_REGEX.test(redirect.location) && isBrowser) {\n      let url = init.history.createURL(redirect.location);\n      let isDifferentBasename = stripBasename(url.pathname, basename) == null;\n\n      if (routerWindow.location.origin !== url.origin || isDifferentBasename) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let { formMethod, formAction, formEncType, formData } = state.navigation;\n    if (!submission && formMethod && formAction && formData && formEncType) {\n      submission = {\n        formMethod,\n        formAction,\n        formEncType,\n        formData,\n      };\n    }\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.status) &&\n      submission &&\n      isMutationMethod(submission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...submission,\n          formAction: redirect.location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: {\n          state: \"loading\",\n          location: redirectLocation,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n        },\n        fetcherSubmission: submission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // Otherwise, we kick off a new loading navigation, preserving the\n      // submission info for the duration of this navigation\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: {\n          state: \"loading\",\n          location: redirectLocation,\n          formMethod: submission ? submission.formMethod : undefined,\n          formAction: submission ? submission.formAction : undefined,\n          formEncType: submission ? submission.formEncType : undefined,\n          formData: submission ? submission.formData : undefined,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename\n        )\n      ),\n      ...fetchersToLoad.map((f) => {\n        if (f.matches && f.match && f.controller) {\n          return callLoaderOrAction(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            f.match,\n            f.matches,\n            manifest,\n            mapRouteProperties,\n            basename\n          );\n        } else {\n          let error: ErrorResult = {\n            type: ResultType.error,\n            error: getInternalRouterError(404, { pathname: f.path }),\n          };\n          return error;\n        }\n      }),\n    ]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        loaderResults.map(() => request.signal),\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        fetchersToLoad.map((f) => (f.controller ? f.controller.signal : null)),\n        true\n      ),\n    ]);\n\n    return { results, loaderResults, fetcherResults };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function setFetcherError(key: string, routeId: string, error: any) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error,\n      },\n      fetchers: new Map(state.fetchers),\n    });\n  }\n\n  function deleteFetcher(key: string): void {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (\n      fetchControllers.has(key) &&\n      !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))\n    ) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: fetcher.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): boolean {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    state.blockers.set(key, newBlocker);\n    updateState({ blockers: new Map(state.blockers) });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || ((location) => location.key);\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  function _internalSetRoutes(newRoutes: AgnosticDataRouteObject[]) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties,\n      undefined,\n      manifest\n    );\n  }\n\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\nexport interface CreateStaticHandlerOptions {\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n}\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: CreateStaticHandlerOptions\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let manifest: RouteManifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (opts?.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts?.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(\n    request: Request,\n    { requestContext }: { requestContext?: unknown } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n    }: { requestContext?: unknown; routeId?: string } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error && !isRedirectResponse(e.response)) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename,\n        true,\n        isRouteRequest,\n        requestContext\n      );\n\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(`${method}() call aborted`);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        undefined,\n        {\n          [boundaryMatch.route.id]: result.error,\n        }\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n\n    return {\n      ...context,\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      actionHeaders: {\n        ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n      },\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch,\n    pendingActionError?: RouteData\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (\n      isRouteRequest &&\n      !routeMatch?.route.loader &&\n      !routeMatch?.route.lazy\n    ) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : getLoaderMatchesUntilBoundary(\n          matches,\n          Object.keys(pendingActionError || {})[0]\n        );\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename,\n          true,\n          isRouteRequest,\n          requestContext\n        )\n      ),\n    ]);\n\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(`${method}() call aborted`);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionError,\n      activeDeferreds\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction isSubmissionNavigation(\n  opts: RouterNavigateOptions\n): opts is SubmissionNavigateOptions {\n  return opts != null && \"formData\" in opts;\n}\n\nfunction normalizeTo(\n  location: Path,\n  matches: AgnosticDataRouteMatch[],\n  basename: string,\n  prependBasename: boolean,\n  to: To | null,\n  fromRouteId?: string,\n  relative?: RelativeRoutingType\n) {\n  let contextualMatches: AgnosticDataRouteMatch[];\n  let activeRouteMatch: AgnosticDataRouteMatch | undefined;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n\n  // Resolve the relative path\n  let path = resolveTo(\n    to ? to : \".\",\n    getPathContributingMatches(contextualMatches).map((m) => m.pathnameBase),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n\n  // Add an ?index param for matched index routes if we don't already have one\n  if (\n    (to == null || to === \"\" || to === \".\") &&\n    activeRouteMatch &&\n    activeRouteMatch.route.index &&\n    !hasNakedIndexQuery(path.search)\n  ) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  normalizeFormMethod: boolean,\n  isFetcher: boolean,\n  path: string,\n  opts?: RouterNavigateOptions\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponse;\n} {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  // Create a Submission on non-GET navigations\n  let submission: Submission | undefined;\n  if (opts.formData) {\n    let formMethod = opts.formMethod || \"get\";\n    submission = {\n      formMethod: normalizeFormMethod\n        ? (formMethod.toUpperCase() as V7_FormMethod)\n        : (formMethod.toLowerCase() as FormMethod),\n      formAction: stripHashFromPath(path),\n      formEncType:\n        (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n      formData: opts.formData,\n    };\n\n    if (isMutationMethod(submission.formMethod)) {\n      return { path, submission };\n    }\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  let searchParams = convertFormDataToSearchParams(opts.formData);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId?: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  fetchLoadMatches: Map<string, FetchLoadMatch>,\n  routesToUse: AgnosticDataRouteObject[],\n  basename: string | undefined,\n  pendingActionData?: RouteData,\n  pendingError?: RouteData\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingError\n    ? Object.values(pendingError)[0]\n    : pendingActionData\n    ? Object.values(pendingActionData)[0]\n    : undefined;\n\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate:\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired ||\n        // Clicked the same link, resubmitted a GET form\n        currentUrl.pathname + currentUrl.search ===\n          nextUrl.pathname + nextUrl.search ||\n        // Search params affect all loaders\n        currentUrl.search !== nextUrl.search ||\n        isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some((m) => m.route.id === f.routeId)) {\n      return;\n    }\n\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null,\n      });\n      return;\n    }\n\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n\n    if (cancelledFetcherLoads.includes(key)) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController(),\n      });\n      return;\n    }\n\n    // Revalidating fetchers are decoupled from the route matches since they\n    // hit a static href, so they _always_ check shouldRevalidate and the\n    // default is strictly if a revalidation is explicitly required (action\n    // submissions, useRevalidator, X-Remix-Revalidate).\n    let shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n      currentUrl,\n      currentParams: state.matches[state.matches.length - 1].params,\n      nextUrl,\n      nextParams: matches[matches.length - 1].params,\n      ...submission,\n      actionResult,\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      defaultShouldRevalidate: isRevalidationRequired,\n    });\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController(),\n      });\n    }\n  });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: Parameters<ShouldRevalidateFunction>[0]\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(\n  route: AgnosticDataRouteObject,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  manifest: RouteManifest\n) {\n  if (!route.lazy) {\n    return;\n  }\n\n  let lazyRoute = await route.lazy();\n\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates: Record<string, any> = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue =\n      routeToUpdate[lazyRouteProperty as keyof typeof routeToUpdate];\n\n    let isPropertyStaticallyDefined =\n      staticRouteValue !== undefined &&\n      // This property isn't static since it should always be updated based\n      // on the route updates\n      lazyRouteProperty !== \"hasErrorBoundary\";\n\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" ` +\n        `defined but its lazy function is also returning a value for this property. ` +\n        `The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n\n    if (\n      !isPropertyStaticallyDefined &&\n      !immutableRouteKeys.has(lazyRouteProperty as ImmutableRouteKey)\n    ) {\n      routeUpdates[lazyRouteProperty] =\n        lazyRoute[lazyRouteProperty as keyof typeof lazyRoute];\n    }\n  }\n\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided\n    // `mapRouteProperties` (or wrapped `detectErrorBoundary`) function to\n    // set the framework-aware properties (`element`/`hasErrorBoundary`) since\n    // the logic will differ between frameworks.\n    ...mapRouteProperties(routeToUpdate),\n    lazy: undefined,\n  });\n}\n\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  matches: AgnosticDataRouteMatch[],\n  manifest: RouteManifest,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  basename: string,\n  isStaticRequest: boolean = false,\n  isRouteRequest: boolean = false,\n  requestContext?: unknown\n): Promise<DataResult> {\n  let resultType;\n  let result;\n  let onReject: (() => void) | undefined;\n\n  let runHandler = (handler: ActionFunction | LoaderFunction) => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject: () => void;\n    let abortPromise = new Promise((_, r) => (reject = r));\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([\n      handler({ request, params: match.params, context: requestContext }),\n      abortPromise,\n    ]);\n  };\n\n  try {\n    let handler = match.route[type];\n\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([\n          runHandler(handler),\n          loadLazyRouteModule(match.route, mapRouteProperties, manifest),\n        ]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id,\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return { type: ResultType.data, data: undefined };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname,\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n\n    invariant(\n      result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n\n  if (isResponse(result)) {\n    let status = result.status;\n\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(\n        location,\n        \"Redirects returned/thrown from loaders/actions must have a Location header\"\n      );\n\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(\n          new URL(request.url),\n          matches.slice(0, matches.indexOf(match) + 1),\n          basename,\n          true,\n          location\n        );\n      } else if (!isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + location)\n          : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n      };\n    }\n\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (isRouteRequest) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: resultType || ResultType.data,\n        response: result,\n      };\n    }\n\n    let data: any;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (resultType === ResultType.error) {\n    return { type: resultType, error: result };\n  }\n\n  if (isDeferredData(result)) {\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: result.init?.status,\n      headers: result.init?.headers && new Headers(result.init.headers),\n    };\n  }\n\n  return { type: ResultType.data, data: result };\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType, formData } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    init.body =\n      formEncType === \"application/x-www-form-urlencoded\"\n        ? convertFormDataToSearchParams(formData)\n        : formData;\n  }\n\n  // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, value instanceof File ? value.name : value);\n  }\n\n  return searchParams;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (\n        result.statusCode != null &&\n        result.statusCode !== 200 &&\n        !foundError\n      ) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingError,\n    activeDeferreds\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match, controller } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: result.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`,\n  };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponse(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results: DataResult[]): RedirectResult | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return result;\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nexport function isDeferredData(value: any): value is DeferredData {\n  let deferred: DeferredData = value;\n  return (\n    deferred &&\n    typeof deferred === \"object\" &&\n    typeof deferred.data === \"object\" &&\n    typeof deferred.subscribe === \"function\" &&\n    typeof deferred.cancel === \"function\" &&\n    typeof deferred.resolveData === \"function\"\n  );\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isQueryRouteResponse(obj: any): obj is QueryRouteResponse {\n  return (\n    obj &&\n    isResponse(obj.response) &&\n    (obj.type === ResultType.data || ResultType.error)\n  );\n}\n\nfunction isValidMethod(method: string): method is FormMethod | V7_FormMethod {\n  return validRequestMethods.has(method.toLowerCase() as FormMethod);\n}\n\nfunction isMutationMethod(\n  method: string\n): method is MutationFormMethod | V7_MutationFormMethod {\n  return validMutationMethods.has(method.toLowerCase() as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: (AgnosticDataRouteMatch | null)[],\n  results: DataResult[],\n  signals: (AbortSignal | null)[],\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match!.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(\n        signal,\n        \"Expected an AbortSignal for revalidating fetcher deferred result\"\n      );\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UseMatchesMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id] as unknown,\n    handle: route.handle as unknown,\n  };\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n//#endregion\n","import * as React from \"react\";\n\n/**\n  Not a true \"polyfill\" since we guard via the feature flag at runtime,\n  but close enough :)\n\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nexport default React[START_TRANSITION];\n","import * as React from \"react\";\nimport type {\n  AgnosticRouteMatch,\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  History,\n  Location,\n  RelativeRoutingType,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n  LazyRouteFunction,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n  isDataRoute: boolean;\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n  isDataRoute: false,\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  RevalidationState,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  UNSAFE_invariant as invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\nconst navigateEffectWarning =\n  `You should call navigate() in a React.useEffect(), not when ` +\n  `your component is first rendered.`;\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(\n  cb: Parameters<typeof React.useLayoutEffect>[0]\n) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  let { isDataRoute } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\n\nfunction useNavigateUnstable(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our history listener yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history (but only if we're not in a data router,\n      // otherwise it'll prepend the basename inside of the router).\n      // If this is a root navigation, then we navigate to the raw basename\n      // which allows the basename to have full control over the presence of a\n      // trailing slash on root links\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext,\n    ]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nexport function useRoutesImpl(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string,\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined ||\n        matches[matches.length - 1].route.Component !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" ` +\n        `does not have an element or Component. This means it will render an <Outlet /> with a ` +\n        `null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterState\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n\n    devInfo = (\n      <>\n        <p> Hey developer </p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own <code style={codeStyles}>ErrorBoundary</code> or{\" \"}\n          <code style={codeStyles}>errorElement</code> prop on your route.\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\nconst defaultErrorElement = <DefaultErrorComponent />;\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (\n      state.location !== props.location ||\n      (state.revalidation !== \"idle\" && props.revalidation === \"idle\")\n    ) {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    (match.route.errorElement || match.route.ErrorBoundary)\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState: RemixRouter[\"state\"] | null = null\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement: React.ReactNode | null = null;\n    if (dataRouterState) {\n      errorElement = match.route.errorElement || defaultErrorElement;\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children: React.ReactNode;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = <match.route.Component />;\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return (\n        <RenderedRoute\n          match={match}\n          routeContext={{\n            outlet,\n            matches,\n            isDataRoute: dataRouterState != null,\n          }}\n          children={children}\n        />\n      );\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState &&\n      (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        revalidation={dataRouterState.revalidation}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches, isDataRoute: true }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n}\n\nenum DataRouterStateHook {\n  UseBlocker = \"useBlocker\",\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n  UseRouteId = \"useRouteId\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nexport function useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return {\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation,\n  };\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey] = React.useState(() => String(++blockerId));\n\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (args) => {\n      return typeof shouldBlock === \"function\"\n        ? !!shouldBlock(args)\n        : !!shouldBlock;\n    },\n    [shouldBlock]\n  );\n\n  let blocker = router.getBlocker(blockerKey, blockerFunction);\n\n  // Cleanup on unmount\n  React.useEffect(\n    () => () => router.deleteBlocker(blockerKey),\n    [router, blockerKey]\n  );\n\n  // Prefer the blocker from state since DataRouterContext is memoized so this\n  // ensures we update on blocker state updates\n  return state.blockers.get(blockerKey) || blocker;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable(): NavigateFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our router subscriber yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n\n  return navigate;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  To,\n  LazyRouteFunction,\n  RelativeRoutingType,\n  RouterState,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  UNSAFE_invariant as invariant,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  UNSAFE_warning as warning,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n} from \"@remix-run/router\";\n\nimport startTransitionImpl from \"./polyfills/start-transition\";\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  NonIndexRouteObject,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n  RouteContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n  useRoutesImpl,\n  useLocation,\n} from \"./hooks\";\n\nexport interface FutureConfig {\n  v7_startTransition: boolean;\n}\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n  future?: FutureConfig;\n}\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n  future,\n}: RouterProviderProps): React.ReactElement {\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  let [state, setStateImpl] = React.useState(router.state);\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: RouterState) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={basename}\n            location={state.location}\n            navigationType={state.historyAction}\n            navigator={navigator}\n          >\n            {state.initialized ? (\n              <DataRoutes routes={router.routes} state={state} />\n            ) : (\n              fallbackElement\n            )}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nfunction DataRoutes({\n  routes,\n  state,\n}: {\n  routes: DataRouteObject[];\n  state: RouterState;\n}): React.ReactElement | null {\n  return useRoutesImpl(routes, undefined, state);\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  future?: FutureConfig;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  future,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(\n    to,\n    getPathContributingMatches(matches).map((match) => match.pathnameBase),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n\n  React.useEffect(\n    () => navigate(JSON.parse(jsonPath), { replace, state, relative }),\n    [navigate, jsonPath, relative, replace, state]\n  );\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key,\n      },\n      navigationType,\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (locationContext == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider children={children} value={locationContext} />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    let treePath = [...parentPath, index];\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary:\n        element.props.ErrorBoundary != null ||\n        element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  FutureConfig,\n  Location,\n  NavigateOptions,\n  NavigationType,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_mapRouteProperties as mapRouteProperties,\n  UNSAFE_startTransitionImpl as startTransitionImpl,\n  UNSAFE_useRouteId as useRouteId,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  FutureConfig as RouterFutureConfig,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HTMLFormMethod,\n  HydrationState,\n  Router as RemixRouter,\n  V7_FormMethod,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  joinPaths,\n  stripBasename,\n  ErrorResponse,\n  UNSAFE_invariant as invariant,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n  V7_FormMethod,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_useRouteId,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\ninterface DOMRouterOpts {\n  basename?: string;\n  future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      let error = new Error(val.message);\n      // Wipe away the client-side stack trace.  Nothing to fill it in with\n      // because we don't serialize SSR stack traces for security reasons\n      error.stack = \"\";\n      serialized[key] = error;\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  future,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({\n  basename,\n  children,\n  future,\n  window,\n}: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({\n  basename,\n  children,\n  future,\n  history,\n}: HistoryRouterProps) {\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    let { basename } = React.useContext(NavigationContext);\n\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n      // Render the absolute href server- and client-side\n      absoluteHref = to;\n\n      // Only check for external origins client-side\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\")\n            ? new URL(currentUrl.protocol + to)\n            : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          // We can't do external URL detection without a valid URL\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break ` +\n              `when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    return <FormImpl {...props} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  fetcherKey?: string;\n  routeId?: string;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      fetcherKey,\n      routeId,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmitImpl(fetcherKey, routeId);\n    let formMethod: HTMLFormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as HTMLFormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmitImpl = \"useSubmitImpl\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\nexport type SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\ntype SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | { [name: string]: string }\n  | null;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  return useSubmitImpl();\n}\n\nfunction useSubmitImpl(\n  fetcherKey?: string,\n  fetcherRouteId?: string\n): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitImpl);\n  let { basename } = React.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n\n  return React.useCallback(\n    (target, options = {}) => {\n      if (typeof document === \"undefined\") {\n        throw new Error(\n          \"You are calling submit during the server render. \" +\n            \"Try calling submit within a `useEffect` or callback instead.\"\n        );\n      }\n\n      let { action, method, encType, formData } = getFormSubmissionInfo(\n        target,\n        options,\n        basename\n      );\n\n      // Base options shared between fetch() and navigate()\n      let opts = {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        formMethod: method as HTMLFormMethod,\n        formEncType: encType as FormEncType,\n      };\n\n      if (fetcherKey) {\n        invariant(\n          fetcherRouteId != null,\n          \"No routeId available for useFetcher()\"\n        );\n        router.fetch(fetcherKey, fetcherRouteId, action, opts);\n      } else {\n        router.navigate(action, {\n          ...opts,\n          replace: options.replace,\n          fromRouteId: currentRouteId,\n        });\n      }\n    },\n    [router, basename, fetcherKey, fetcherRouteId, currentRouteId]\n  );\n}\n\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params and the hash of the resolved\n  // URL. This is the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to these directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    // or hash\n    path.search = location.search;\n    path.hash = location.hash;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FormProps>(\n    (props, ref) => {\n      return (\n        <FormImpl\n          {...props}\n          ref={ref}\n          fetcherKey={fetcherKey}\n          routeId={routeId}\n        />\n      );\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: (\n    target: SubmitTarget,\n    // Fetchers cannot replace/preventScrollReset because they are not\n    // navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"preventScrollReset\">\n  ) => void;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitImpl(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No router available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(location.hash.slice(1));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n","/**\n * Relay v15.0.0\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nmodule.exports = require('./lib/index.js');\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ConnectionHandler = require('./connection/ConnectionHandler');\nvar MutationHandlers = require('./connection/MutationHandlers');\nvar invariant = require('invariant');\nfunction RelayDefaultHandlerProvider(handle) {\n  switch (handle) {\n    case 'connection':\n      return ConnectionHandler;\n    case 'deleteRecord':\n      return MutationHandlers.DeleteRecordHandler;\n    case 'deleteEdge':\n      return MutationHandlers.DeleteEdgeHandler;\n    case 'appendEdge':\n      return MutationHandlers.AppendEdgeHandler;\n    case 'prependEdge':\n      return MutationHandlers.PrependEdgeHandler;\n    case 'appendNode':\n      return MutationHandlers.AppendNodeHandler;\n    case 'prependNode':\n      return MutationHandlers.PrependNodeHandler;\n  }\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayDefaultHandlerProvider: No handler provided for `%s`.', handle) : invariant(false) : void 0;\n}\nmodule.exports = RelayDefaultHandlerProvider;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../../store/ClientID'),\n  generateClientID = _require.generateClientID;\nvar _require2 = require('../../store/RelayStoreUtils'),\n  getStableStorageKey = _require2.getStableStorageKey;\nvar getRelayHandleKey = require('../../util/getRelayHandleKey');\nvar ConnectionInterface = require('./ConnectionInterface');\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\nvar CONNECTION = 'connection';\n\n// Per-instance incrementing index used to generate unique edge IDs\nvar NEXT_EDGE_INDEX = '__connection_next_edge_index';\n\n/**\n * @public\n *\n * A default runtime handler for connection fields that appends newly fetched\n * edges onto the end of a connection, regardless of the arguments used to fetch\n * those edges.\n */\nfunction update(store, payload) {\n  var record = store.get(payload.dataID);\n  if (!record) {\n    return;\n  }\n  var _ConnectionInterface$ = ConnectionInterface.get(),\n    EDGES = _ConnectionInterface$.EDGES,\n    END_CURSOR = _ConnectionInterface$.END_CURSOR,\n    HAS_NEXT_PAGE = _ConnectionInterface$.HAS_NEXT_PAGE,\n    HAS_PREV_PAGE = _ConnectionInterface$.HAS_PREV_PAGE,\n    PAGE_INFO = _ConnectionInterface$.PAGE_INFO,\n    PAGE_INFO_TYPE = _ConnectionInterface$.PAGE_INFO_TYPE,\n    START_CURSOR = _ConnectionInterface$.START_CURSOR;\n  var serverConnection = record.getLinkedRecord(payload.fieldKey);\n  var serverPageInfo = serverConnection && serverConnection.getLinkedRecord(PAGE_INFO);\n  if (!serverConnection) {\n    record.setValue(null, payload.handleKey);\n    return;\n  }\n  // In rare cases the handleKey field may be unset even though the client\n  // connection record exists, in this case new edges should still be merged\n  // into the existing client connection record (and the field reset to point\n  // to that record).\n  var clientConnectionID = generateClientID(record.getDataID(), payload.handleKey);\n  var clientConnectionField = record.getLinkedRecord(payload.handleKey);\n  var clientConnection = clientConnectionField !== null && clientConnectionField !== void 0 ? clientConnectionField : store.get(clientConnectionID);\n  var clientPageInfo = clientConnection && clientConnection.getLinkedRecord(PAGE_INFO);\n  if (!clientConnection) {\n    // Initial fetch with data: copy fields from the server record\n    var connection = store.create(clientConnectionID, serverConnection.getType());\n    connection.setValue(0, NEXT_EDGE_INDEX);\n    connection.copyFieldsFrom(serverConnection);\n    var serverEdges = serverConnection.getLinkedRecords(EDGES);\n    if (serverEdges) {\n      serverEdges = serverEdges.map(function (edge) {\n        return buildConnectionEdge(store, connection, edge);\n      });\n      connection.setLinkedRecords(serverEdges, EDGES);\n    }\n    record.setLinkedRecord(connection, payload.handleKey);\n    clientPageInfo = store.create(generateClientID(connection.getDataID(), PAGE_INFO), PAGE_INFO_TYPE);\n    clientPageInfo.setValue(false, HAS_NEXT_PAGE);\n    clientPageInfo.setValue(false, HAS_PREV_PAGE);\n    clientPageInfo.setValue(null, END_CURSOR);\n    clientPageInfo.setValue(null, START_CURSOR);\n    if (serverPageInfo) {\n      clientPageInfo.copyFieldsFrom(serverPageInfo);\n    }\n    connection.setLinkedRecord(clientPageInfo, PAGE_INFO);\n  } else {\n    if (clientConnectionField == null) {\n      // If the handleKey field was unset but the client connection record\n      // existed, update the field to point to the record\n      record.setLinkedRecord(clientConnection, payload.handleKey);\n    }\n    var _connection = clientConnection;\n    // Subsequent fetches:\n    // - updated fields on the connection\n    // - merge prev/next edges, de-duplicating by node id\n    // - synthesize page info fields\n    var _serverEdges = serverConnection.getLinkedRecords(EDGES);\n    if (_serverEdges) {\n      _serverEdges = _serverEdges.map(function (edge) {\n        return buildConnectionEdge(store, _connection, edge);\n      });\n    }\n    var prevEdges = _connection.getLinkedRecords(EDGES);\n    var prevPageInfo = _connection.getLinkedRecord(PAGE_INFO);\n    _connection.copyFieldsFrom(serverConnection);\n    // Reset EDGES and PAGE_INFO fields\n    if (prevEdges) {\n      _connection.setLinkedRecords(prevEdges, EDGES);\n    }\n    if (prevPageInfo) {\n      _connection.setLinkedRecord(prevPageInfo, PAGE_INFO);\n    }\n    var nextEdges = [];\n    var args = payload.args;\n    if (prevEdges && _serverEdges) {\n      if (args.after != null) {\n        // Forward pagination from the end of the connection: append edges\n        if (clientPageInfo && args.after === clientPageInfo.getValue(END_CURSOR)) {\n          var nodeIDs = new Set();\n          mergeEdges(prevEdges, nextEdges, nodeIDs);\n          mergeEdges(_serverEdges, nextEdges, nodeIDs);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected after cursor `%s`, edges must ' + 'be fetched from the end of the list (`%s`).', args.after, clientPageInfo && clientPageInfo.getValue(END_CURSOR)) : void 0;\n          return;\n        }\n      } else if (args.before != null) {\n        // Backward pagination from the start of the connection: prepend edges\n        if (clientPageInfo && args.before === clientPageInfo.getValue(START_CURSOR)) {\n          var _nodeIDs = new Set();\n          mergeEdges(_serverEdges, nextEdges, _nodeIDs);\n          mergeEdges(prevEdges, nextEdges, _nodeIDs);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Unexpected before cursor `%s`, edges must ' + 'be fetched from the beginning of the list (`%s`).', args.before, clientPageInfo && clientPageInfo.getValue(START_CURSOR)) : void 0;\n          return;\n        }\n      } else {\n        // The connection was refetched from the beginning/end: replace edges\n        nextEdges = _serverEdges;\n      }\n    } else if (_serverEdges) {\n      nextEdges = _serverEdges;\n    } else {\n      // $FlowFixMe[incompatible-type]\n      nextEdges = prevEdges;\n    }\n    // Update edges only if they were updated, the null check is\n    // for Flow (prevEdges could be null).\n    if (nextEdges != null && nextEdges !== prevEdges) {\n      _connection.setLinkedRecords(nextEdges, EDGES);\n    }\n    // Page info should be updated even if no new edge were returned.\n    if (clientPageInfo && serverPageInfo) {\n      if (args.after == null && args.before == null) {\n        // The connection was refetched from the beginning/end: replace\n        // page_info\n        clientPageInfo.copyFieldsFrom(serverPageInfo);\n      } else if (args.before != null || args.after == null && args.last) {\n        clientPageInfo.setValue(!!serverPageInfo.getValue(HAS_PREV_PAGE), HAS_PREV_PAGE);\n        var startCursor = serverPageInfo.getValue(START_CURSOR);\n        if (typeof startCursor === 'string') {\n          clientPageInfo.setValue(startCursor, START_CURSOR);\n        }\n      } else if (args.after != null || args.before == null && args.first) {\n        clientPageInfo.setValue(!!serverPageInfo.getValue(HAS_NEXT_PAGE), HAS_NEXT_PAGE);\n        var endCursor = serverPageInfo.getValue(END_CURSOR);\n        if (typeof endCursor === 'string') {\n          clientPageInfo.setValue(endCursor, END_CURSOR);\n        }\n      }\n    }\n  }\n}\n\n/**\n * @public\n *\n * Given a record and the name of the schema field for which a connection was\n * fetched, returns the linked connection record.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * The `friends` connection record can be accessed with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   // Access fields on the connection:\n *   const edges = friends.getLinkedRecords('edges');\n * }\n * ```\n *\n * TODO: t15733312\n * Currently we haven't run into this case yet, but we need to add a `getConnections`\n * that returns an array of the connections under the same `key` regardless of the variables.\n */\nfunction getConnection(record, key, filters) {\n  var handleKey = getRelayHandleKey(CONNECTION, key, null);\n  return record.getLinkedRecord(handleKey, filters);\n}\n\n/**\n * @public\n *\n * Given a record ID, the key of a connection field, and optional filters used\n * to identify the connection, returns the connection ID.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<user-id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *     edges {\n *       node {\n *         id\n *       }\n *     }\n *   }\n * }\n * ```\n *\n * The ID of the `friends` connection record can be accessed with:\n *\n * ```\n * store => {\n *   const connectionID = ConnectionHandler.getConnectionID('<user-id>', 'FriendsFragment_friends');\n * }\n * ```\n */\nfunction getConnectionID(recordID, key, filters) {\n  var handleKey = getRelayHandleKey(CONNECTION, key, null);\n  var storageKey = getStableStorageKey(handleKey, filters);\n  return generateClientID(recordID, storageKey);\n}\n\n/**\n * @public\n *\n * Inserts an edge after the given cursor, or at the end of the list if no\n * cursor is provided.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * An edge can be appended with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   const edge = store.create('<edge-id>', 'FriendsEdge');\n *   ConnectionHandler.insertEdgeAfter(friends, edge);\n * }\n * ```\n */\nfunction insertEdgeAfter(record, newEdge, cursor) {\n  var _ConnectionInterface$2 = ConnectionInterface.get(),\n    CURSOR = _ConnectionInterface$2.CURSOR,\n    EDGES = _ConnectionInterface$2.EDGES;\n  var edges = record.getLinkedRecords(EDGES);\n  if (!edges) {\n    record.setLinkedRecords([newEdge], EDGES);\n    return;\n  }\n  var nextEdges;\n  if (cursor == null) {\n    nextEdges = edges.concat(newEdge);\n  } else {\n    nextEdges = [];\n    var foundCursor = false;\n    for (var ii = 0; ii < edges.length; ii++) {\n      var edge = edges[ii];\n      nextEdges.push(edge);\n      if (edge == null) {\n        continue;\n      }\n      var edgeCursor = edge.getValue(CURSOR);\n      if (cursor === edgeCursor) {\n        nextEdges.push(newEdge);\n        foundCursor = true;\n      }\n    }\n    if (!foundCursor) {\n      nextEdges.push(newEdge);\n    }\n  }\n  record.setLinkedRecords(nextEdges, EDGES);\n}\n\n/**\n * @public\n *\n * Creates an edge for a connection record, given a node and edge type.\n */\nfunction createEdge(store, record, node, edgeType) {\n  var _ConnectionInterface$3 = ConnectionInterface.get(),\n    NODE = _ConnectionInterface$3.NODE;\n\n  // An index-based client ID could easily conflict (unless it was\n  // auto-incrementing, but there is nowhere to the store the id)\n  // Instead, construct a client ID based on the connection ID and node ID,\n  // which will only conflict if the same node is added to the same connection\n  // twice. This is acceptable since the `insertEdge*` functions ignore\n  // duplicates.\n  var edgeID = generateClientID(record.getDataID(), node.getDataID());\n  var edge = store.get(edgeID);\n  if (!edge) {\n    edge = store.create(edgeID, edgeType);\n  }\n  edge.setLinkedRecord(node, NODE);\n  if (edge.getValue('cursor') == null) {\n    // Always use null instead of undefined value for cursor\n    // to avoid considering it as missing data\n    edge.setValue(null, 'cursor');\n  }\n  return edge;\n}\n\n/**\n * @public\n *\n * Inserts an edge before the given cursor, or at the beginning of the list if\n * no cursor is provided.\n *\n * Example:\n *\n * Given that data has already been fetched on some user `<id>` on the `friends`\n * field:\n *\n * ```\n * fragment FriendsFragment on User {\n *   friends(first: 10) @connection(key: \"FriendsFragment_friends\") {\n *    edges {\n *      node {\n *        id\n *        }\n *      }\n *   }\n * }\n * ```\n *\n * An edge can be prepended with:\n *\n * ```\n * store => {\n *   const user = store.get('<id>');\n *   const friends = ConnectionHandler.getConnection(user, 'FriendsFragment_friends');\n *   const edge = store.create('<edge-id>', 'FriendsEdge');\n *   ConnectionHandler.insertEdgeBefore(friends, edge);\n * }\n * ```\n */\nfunction insertEdgeBefore(record, newEdge, cursor) {\n  var _ConnectionInterface$4 = ConnectionInterface.get(),\n    CURSOR = _ConnectionInterface$4.CURSOR,\n    EDGES = _ConnectionInterface$4.EDGES;\n  var edges = record.getLinkedRecords(EDGES);\n  if (!edges) {\n    record.setLinkedRecords([newEdge], EDGES);\n    return;\n  }\n  var nextEdges;\n  if (cursor == null) {\n    nextEdges = [newEdge].concat(edges);\n  } else {\n    nextEdges = [];\n    var foundCursor = false;\n    for (var ii = 0; ii < edges.length; ii++) {\n      var edge = edges[ii];\n      if (edge != null) {\n        var edgeCursor = edge.getValue(CURSOR);\n        if (cursor === edgeCursor) {\n          nextEdges.push(newEdge);\n          foundCursor = true;\n        }\n      }\n      nextEdges.push(edge);\n    }\n    if (!foundCursor) {\n      nextEdges.unshift(newEdge);\n    }\n  }\n  record.setLinkedRecords(nextEdges, EDGES);\n}\n\n/**\n * @public\n *\n * Remove any edges whose `node.id` matches the given id.\n */\nfunction deleteNode(record, nodeID) {\n  var _ConnectionInterface$5 = ConnectionInterface.get(),\n    EDGES = _ConnectionInterface$5.EDGES,\n    NODE = _ConnectionInterface$5.NODE;\n  var edges = record.getLinkedRecords(EDGES);\n  if (!edges) {\n    return;\n  }\n  var nextEdges;\n  for (var ii = 0; ii < edges.length; ii++) {\n    var edge = edges[ii];\n    var node = edge && edge.getLinkedRecord(NODE);\n    if (node != null && node.getDataID() === nodeID) {\n      if (nextEdges === undefined) {\n        nextEdges = edges.slice(0, ii);\n      }\n    } else if (nextEdges !== undefined) {\n      nextEdges.push(edge);\n    }\n  }\n  if (nextEdges !== undefined) {\n    record.setLinkedRecords(nextEdges, EDGES);\n  }\n}\n\n/**\n * @internal\n *\n * Creates a copy of an edge with a unique ID based on per-connection-instance\n * incrementing edge index. This is necessary to avoid collisions between edges,\n * which can occur because (edge) client IDs are assigned deterministically\n * based on the path from the nearest node with an id.\n *\n * Example: if the first N edges of the same connection are refetched, the edges\n * from the second fetch will be assigned the same IDs as the first fetch, even\n * though the nodes they point to may be different (or the same and in different\n * order).\n */\nfunction buildConnectionEdge(store, connection, edge) {\n  if (edge == null) {\n    return edge;\n  }\n  var _ConnectionInterface$6 = ConnectionInterface.get(),\n    EDGES = _ConnectionInterface$6.EDGES;\n  var edgeIndex = connection.getValue(NEXT_EDGE_INDEX);\n  !(typeof edgeIndex === 'number') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ConnectionHandler: Expected %s to be a number, got `%s`.', NEXT_EDGE_INDEX, edgeIndex) : invariant(false) : void 0;\n  var edgeID = generateClientID(connection.getDataID(), EDGES, edgeIndex);\n  var connectionEdge = store.create(edgeID, edge.getType());\n  connectionEdge.copyFieldsFrom(edge);\n  if (connectionEdge.getValue('cursor') == null) {\n    // Always use null instead of undefined value for cursor\n    // to avoid considering it as missing data\n    connectionEdge.setValue(null, 'cursor');\n  }\n  connection.setValue(edgeIndex + 1, NEXT_EDGE_INDEX);\n  return connectionEdge;\n}\n\n/**\n * @internal\n *\n * Adds the source edges to the target edges, skipping edges with\n * duplicate node ids.\n */\nfunction mergeEdges(sourceEdges, targetEdges, nodeIDs) {\n  var _ConnectionInterface$7 = ConnectionInterface.get(),\n    NODE = _ConnectionInterface$7.NODE;\n  for (var ii = 0; ii < sourceEdges.length; ii++) {\n    var edge = sourceEdges[ii];\n    if (!edge) {\n      continue;\n    }\n    var node = edge.getLinkedRecord(NODE);\n    var nodeID = node && node.getDataID();\n    if (nodeID) {\n      if (nodeIDs.has(nodeID)) {\n        continue;\n      }\n      nodeIDs.add(nodeID);\n    }\n    targetEdges.push(edge);\n  }\n}\nmodule.exports = {\n  buildConnectionEdge: buildConnectionEdge,\n  createEdge: createEdge,\n  deleteNode: deleteNode,\n  getConnection: getConnection,\n  getConnectionID: getConnectionID,\n  insertEdgeAfter: insertEdgeAfter,\n  insertEdgeBefore: insertEdgeBefore,\n  update: update\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar CONNECTION_CALLS = {\n  after: true,\n  before: true,\n  find: true,\n  first: true,\n  last: true,\n  surrounds: true\n};\nvar config = {\n  CURSOR: 'cursor',\n  EDGES: 'edges',\n  END_CURSOR: 'endCursor',\n  HAS_NEXT_PAGE: 'hasNextPage',\n  HAS_PREV_PAGE: 'hasPreviousPage',\n  NODE: 'node',\n  PAGE_INFO_TYPE: 'PageInfo',\n  PAGE_INFO: 'pageInfo',\n  START_CURSOR: 'startCursor'\n};\n\n/**\n * @internal\n *\n * Defines logic relevant to the informal \"Connection\" GraphQL interface.\n */\nvar ConnectionInterface = {\n  inject: function inject(newConfig) {\n    config = newConfig;\n  },\n  get: function get() {\n    return config;\n  },\n  /**\n   * Checks whether a call exists strictly to encode which parts of a connection\n   * to fetch. Fields that only differ by connection call values should have the\n   * same identity.\n   */\n  isConnectionCall: function isConnectionCall(call) {\n    return CONNECTION_CALLS.hasOwnProperty(call.name);\n  }\n};\nmodule.exports = ConnectionInterface;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar ConnectionHandler = require('./ConnectionHandler');\nvar ConnectionInterface = require('./ConnectionInterface');\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\nvar DeleteRecordHandler = {\n  update: function update(store, payload) {\n    var record = store.get(payload.dataID);\n    if (record != null) {\n      var idOrIds = record.getValue(payload.fieldKey);\n      if (typeof idOrIds === 'string') {\n        store[\"delete\"](idOrIds);\n      } else if (Array.isArray(idOrIds)) {\n        idOrIds.forEach(function (id) {\n          if (typeof id === 'string') {\n            store[\"delete\"](id);\n          }\n        });\n      }\n    }\n  }\n};\nvar DeleteEdgeHandler = {\n  update: function update(store, payload) {\n    var record = store.get(payload.dataID);\n    if (record == null) {\n      return;\n    }\n    var connections = payload.handleArgs.connections;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    var idOrIds = record.getValue(payload.fieldKey);\n    var idList = Array.isArray(idOrIds) ? idOrIds : [idOrIds];\n    idList.forEach(function (id) {\n      if (typeof id === 'string') {\n        var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var connectionID = _step.value;\n            var connection = store.get(connectionID);\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n            ConnectionHandler.deleteNode(connection, id);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    });\n  }\n};\nvar AppendEdgeHandler = {\n  update: edgeUpdater(ConnectionHandler.insertEdgeAfter)\n};\nvar PrependEdgeHandler = {\n  update: edgeUpdater(ConnectionHandler.insertEdgeBefore)\n};\nvar AppendNodeHandler = {\n  update: nodeUpdater(ConnectionHandler.insertEdgeAfter)\n};\nvar PrependNodeHandler = {\n  update: nodeUpdater(ConnectionHandler.insertEdgeBefore)\n};\nfunction edgeUpdater(insertFn) {\n  return function (store, payload) {\n    var _serverEdges;\n    var record = store.get(payload.dataID);\n    if (record == null) {\n      return;\n    }\n    var connections = payload.handleArgs.connections;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    var singleServerEdge, serverEdges;\n    try {\n      singleServerEdge = record.getLinkedRecord(payload.fieldKey);\n    } catch (_unused) {}\n    if (!singleServerEdge) {\n      try {\n        serverEdges = record.getLinkedRecords(payload.fieldKey);\n      } catch (_unused2) {}\n    }\n    if (singleServerEdge == null && serverEdges == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'MutationHandlers: Expected the server edge to be non-null.') : void 0;\n      return;\n    }\n    var _ConnectionInterface$ = ConnectionInterface.get(),\n      NODE = _ConnectionInterface$.NODE,\n      EDGES = _ConnectionInterface$.EDGES;\n    var serverEdgeList = (_serverEdges = serverEdges) !== null && _serverEdges !== void 0 ? _serverEdges : [singleServerEdge];\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(serverEdgeList),\n      _step2;\n    try {\n      var _loop = function _loop() {\n        var serverEdge = _step2.value;\n        if (serverEdge == null) {\n          return \"continue\";\n        }\n        var serverNode = serverEdge.getLinkedRecord('node');\n        if (!serverNode) {\n          return \"continue\";\n        }\n        var serverNodeId = serverNode.getDataID();\n        var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var connectionID = _step3.value;\n            var connection = store.get(connectionID);\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n            var nodeAlreadyExistsInConnection = (_connection$getLinked = connection.getLinkedRecords(EDGES)) === null || _connection$getLinked === void 0 ? void 0 : _connection$getLinked.some(function (edge) {\n              var _edge$getLinkedRecord;\n              return (edge === null || edge === void 0 ? void 0 : (_edge$getLinkedRecord = edge.getLinkedRecord(NODE)) === null || _edge$getLinkedRecord === void 0 ? void 0 : _edge$getLinkedRecord.getDataID()) === serverNodeId;\n            });\n            if (nodeAlreadyExistsInConnection) {\n              continue;\n            }\n            var clientEdge = ConnectionHandler.buildConnectionEdge(store, connection, serverEdge);\n            !(clientEdge != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Failed to build the edge.') : invariant(false) : void 0;\n            insertFn(connection, clientEdge);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      };\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _connection$getLinked;\n        var _ret = _loop();\n        if (_ret === \"continue\") continue;\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n}\nfunction nodeUpdater(insertFn) {\n  return function (store, payload) {\n    var _serverNodes;\n    var record = store.get(payload.dataID);\n    if (record == null) {\n      return;\n    }\n    var _payload$handleArgs = payload.handleArgs,\n      connections = _payload$handleArgs.connections,\n      edgeTypeName = _payload$handleArgs.edgeTypeName;\n    !(connections != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected connection IDs to be specified.') : invariant(false) : void 0;\n    !(edgeTypeName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Expected edge typename to be specified.') : invariant(false) : void 0;\n    var singleServerNode;\n    var serverNodes;\n    try {\n      singleServerNode = record.getLinkedRecord(payload.fieldKey);\n    } catch (_unused3) {}\n    if (!singleServerNode) {\n      try {\n        serverNodes = record.getLinkedRecords(payload.fieldKey);\n      } catch (_unused4) {}\n    }\n    if (singleServerNode == null && serverNodes == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'MutationHandlers: Expected target node to exist.') : void 0;\n      return;\n    }\n    var _ConnectionInterface$2 = ConnectionInterface.get(),\n      NODE = _ConnectionInterface$2.NODE,\n      EDGES = _ConnectionInterface$2.EDGES;\n    var serverNodeList = (_serverNodes = serverNodes) !== null && _serverNodes !== void 0 ? _serverNodes : [singleServerNode];\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(serverNodeList),\n      _step4;\n    try {\n      var _loop2 = function _loop2() {\n        var serverNode = _step4.value;\n        if (serverNode == null) {\n          return \"continue\";\n        }\n        var serverNodeId = serverNode.getDataID();\n        var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(connections),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var connectionID = _step5.value;\n            var connection = store.get(connectionID);\n            if (connection == null) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"[Relay][Mutation] The connection with id '\".concat(connectionID, \"' doesn't exist.\")) : void 0;\n              continue;\n            }\n            var nodeAlreadyExistsInConnection = (_connection$getLinked2 = connection.getLinkedRecords(EDGES)) === null || _connection$getLinked2 === void 0 ? void 0 : _connection$getLinked2.some(function (edge) {\n              var _edge$getLinkedRecord2;\n              return (edge === null || edge === void 0 ? void 0 : (_edge$getLinkedRecord2 = edge.getLinkedRecord(NODE)) === null || _edge$getLinkedRecord2 === void 0 ? void 0 : _edge$getLinkedRecord2.getDataID()) === serverNodeId;\n            });\n            if (nodeAlreadyExistsInConnection) {\n              continue;\n            }\n            var clientEdge = ConnectionHandler.createEdge(store, connection, serverNode, edgeTypeName);\n            !(clientEdge != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'MutationHandlers: Failed to build the edge.') : invariant(false) : void 0;\n            insertFn(connection, clientEdge);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      };\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _connection$getLinked2;\n        var _ret2 = _loop2();\n        if (_ret2 === \"continue\") continue;\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  };\n}\nmodule.exports = {\n  AppendEdgeHandler: AppendEdgeHandler,\n  DeleteRecordHandler: DeleteRecordHandler,\n  PrependEdgeHandler: PrependEdgeHandler,\n  AppendNodeHandler: AppendNodeHandler,\n  PrependNodeHandler: PrependNodeHandler,\n  DeleteEdgeHandler: DeleteEdgeHandler\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ConnectionHandler = require('./handlers/connection/ConnectionHandler');\nvar ConnectionInterface = require('./handlers/connection/ConnectionInterface');\nvar MutationHandlers = require('./handlers/connection/MutationHandlers');\nvar RelayDefaultHandlerProvider = require('./handlers/RelayDefaultHandlerProvider');\nvar applyOptimisticMutation = require('./mutations/applyOptimisticMutation');\nvar commitLocalUpdate = require('./mutations/commitLocalUpdate');\nvar commitMutation = require('./mutations/commitMutation');\nvar RelayDeclarativeMutationConfig = require('./mutations/RelayDeclarativeMutationConfig');\nvar RelayNetwork = require('./network/RelayNetwork');\nvar RelayObservable = require('./network/RelayObservable');\nvar RelayQueryResponseCache = require('./network/RelayQueryResponseCache');\nvar fetchQuery = require('./query/fetchQuery');\nvar fetchQuery_DEPRECATED = require('./query/fetchQuery_DEPRECATED');\nvar fetchQueryInternal = require('./query/fetchQueryInternal');\nvar GraphQLTag = require('./query/GraphQLTag');\nvar PreloadableQueryRegistry = require('./query/PreloadableQueryRegistry');\nvar _require = require('./store/ClientID'),\n  generateClientID = _require.generateClientID,\n  generateUniqueClientID = _require.generateUniqueClientID,\n  isClientID = _require.isClientID;\nvar createFragmentSpecResolver = require('./store/createFragmentSpecResolver');\nvar createRelayContext = require('./store/createRelayContext');\nvar isRelayModernEnvironment = require('./store/isRelayModernEnvironment');\nvar readInlineData = require('./store/readInlineData');\nvar RelayConcreteVariables = require('./store/RelayConcreteVariables');\nvar RelayModernEnvironment = require('./store/RelayModernEnvironment');\nvar RelayModernOperationDescriptor = require('./store/RelayModernOperationDescriptor');\nvar RelayModernRecord = require('./store/RelayModernRecord');\nvar RelayModernSelector = require('./store/RelayModernSelector');\nvar RelayModernStore = require('./store/RelayModernStore');\nvar RelayOperationTracker = require('./store/RelayOperationTracker');\nvar RelayRecordSource = require('./store/RelayRecordSource');\nvar RelayStoreUtils = require('./store/RelayStoreUtils');\nvar ResolverFragments = require('./store/ResolverFragments');\nvar ViewerPattern = require('./store/ViewerPattern');\nvar requestSubscription = require('./subscription/requestSubscription');\nvar createPayloadFor3DField = require('./util/createPayloadFor3DField');\nvar deepFreeze = require('./util/deepFreeze');\nvar getFragmentIdentifier = require('./util/getFragmentIdentifier');\nvar getPaginationMetadata = require('./util/getPaginationMetadata');\nvar getPaginationVariables = require('./util/getPaginationVariables');\nvar getPendingOperationsForFragment = require('./util/getPendingOperationsForFragment');\nvar getRefetchMetadata = require('./util/getRefetchMetadata');\nvar getRelayHandleKey = require('./util/getRelayHandleKey');\nvar getRequestIdentifier = require('./util/getRequestIdentifier');\nvar getValueAtPath = require('./util/getValueAtPath');\nvar handlePotentialSnapshotErrors = require('./util/handlePotentialSnapshotErrors');\nvar isPromise = require('./util/isPromise');\nvar isScalarAndEqual = require('./util/isScalarAndEqual');\nvar recycleNodesInto = require('./util/recycleNodesInto');\nvar RelayConcreteNode = require('./util/RelayConcreteNode');\nvar RelayDefaultHandleKey = require('./util/RelayDefaultHandleKey');\nvar RelayError = require('./util/RelayError');\nvar RelayFeatureFlags = require('./util/RelayFeatureFlags');\nvar RelayProfiler = require('./util/RelayProfiler');\nvar RelayReplaySubject = require('./util/RelayReplaySubject');\nvar stableCopy = require('./util/stableCopy');\nvar withProvidedVariables = require('./util/withProvidedVariables');\n// As early as possible, check for the existence of the JavaScript globals which\n// Relay Runtime relies upon, and produce a clear message if they do not exist.\nif (process.env.NODE_ENV !== \"production\") {\n  var mapStr = typeof Map !== 'function' ? 'Map' : null;\n  var setStr = typeof Set !== 'function' ? 'Set' : null;\n  var promiseStr = typeof Promise !== 'function' ? 'Promise' : null;\n  var objStr = typeof Object.assign !== 'function' ? 'Object.assign' : null;\n  if (mapStr || setStr || promiseStr || objStr) {\n    throw new Error(\"relay-runtime requires \".concat([mapStr, setStr, promiseStr, objStr].filter(Boolean).join(', and '), \" to exist. \") + 'Use a polyfill to provide these for older browsers.');\n  }\n}\n\n/**\n * The public interface to Relay Runtime.\n */\nmodule.exports = {\n  // Core API\n  Environment: RelayModernEnvironment,\n  Network: RelayNetwork,\n  Observable: RelayObservable,\n  QueryResponseCache: RelayQueryResponseCache,\n  RecordSource: RelayRecordSource,\n  Record: RelayModernRecord,\n  ReplaySubject: RelayReplaySubject,\n  Store: RelayModernStore,\n  areEqualSelectors: RelayModernSelector.areEqualSelectors,\n  createFragmentSpecResolver: createFragmentSpecResolver,\n  createNormalizationSelector: RelayModernSelector.createNormalizationSelector,\n  createOperationDescriptor: RelayModernOperationDescriptor.createOperationDescriptor,\n  createReaderSelector: RelayModernSelector.createReaderSelector,\n  createRequestDescriptor: RelayModernOperationDescriptor.createRequestDescriptor,\n  getArgumentValues: RelayStoreUtils.getArgumentValues,\n  getDataIDsFromFragment: RelayModernSelector.getDataIDsFromFragment,\n  getDataIDsFromObject: RelayModernSelector.getDataIDsFromObject,\n  getNode: GraphQLTag.getNode,\n  getFragment: GraphQLTag.getFragment,\n  getInlineDataFragment: GraphQLTag.getInlineDataFragment,\n  getModuleComponentKey: RelayStoreUtils.getModuleComponentKey,\n  getModuleOperationKey: RelayStoreUtils.getModuleOperationKey,\n  getPaginationFragment: GraphQLTag.getPaginationFragment,\n  getPluralSelector: RelayModernSelector.getPluralSelector,\n  getRefetchableFragment: GraphQLTag.getRefetchableFragment,\n  getRequest: GraphQLTag.getRequest,\n  getRequestIdentifier: getRequestIdentifier,\n  getSelector: RelayModernSelector.getSelector,\n  getSelectorsFromObject: RelayModernSelector.getSelectorsFromObject,\n  getSingularSelector: RelayModernSelector.getSingularSelector,\n  getStorageKey: RelayStoreUtils.getStorageKey,\n  getVariablesFromFragment: RelayModernSelector.getVariablesFromFragment,\n  getVariablesFromObject: RelayModernSelector.getVariablesFromObject,\n  getVariablesFromPluralFragment: RelayModernSelector.getVariablesFromPluralFragment,\n  getVariablesFromSingularFragment: RelayModernSelector.getVariablesFromSingularFragment,\n  handlePotentialSnapshotErrors: handlePotentialSnapshotErrors,\n  graphql: GraphQLTag.graphql,\n  isFragment: GraphQLTag.isFragment,\n  isInlineDataFragment: GraphQLTag.isInlineDataFragment,\n  isRequest: GraphQLTag.isRequest,\n  readInlineData: readInlineData,\n  // Declarative mutation API\n  MutationTypes: RelayDeclarativeMutationConfig.MutationTypes,\n  RangeOperations: RelayDeclarativeMutationConfig.RangeOperations,\n  // Extensions\n  DefaultHandlerProvider: RelayDefaultHandlerProvider,\n  ConnectionHandler: ConnectionHandler,\n  MutationHandlers: MutationHandlers,\n  VIEWER_ID: ViewerPattern.VIEWER_ID,\n  VIEWER_TYPE: ViewerPattern.VIEWER_TYPE,\n  // Helpers (can be implemented via the above API)\n  applyOptimisticMutation: applyOptimisticMutation,\n  commitLocalUpdate: commitLocalUpdate,\n  commitMutation: commitMutation,\n  fetchQuery: fetchQuery,\n  fetchQuery_DEPRECATED: fetchQuery_DEPRECATED,\n  isRelayModernEnvironment: isRelayModernEnvironment,\n  requestSubscription: requestSubscription,\n  // Configuration interface for legacy or special uses\n  ConnectionInterface: ConnectionInterface,\n  // Utilities\n  PreloadableQueryRegistry: PreloadableQueryRegistry,\n  RelayProfiler: RelayProfiler,\n  createPayloadFor3DField: createPayloadFor3DField,\n  // INTERNAL-ONLY: These exports might be removed at any point.\n  RelayConcreteNode: RelayConcreteNode,\n  RelayError: RelayError,\n  RelayFeatureFlags: RelayFeatureFlags,\n  DEFAULT_HANDLE_KEY: RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,\n  FRAGMENTS_KEY: RelayStoreUtils.FRAGMENTS_KEY,\n  FRAGMENT_OWNER_KEY: RelayStoreUtils.FRAGMENT_OWNER_KEY,\n  ID_KEY: RelayStoreUtils.ID_KEY,\n  REF_KEY: RelayStoreUtils.REF_KEY,\n  REFS_KEY: RelayStoreUtils.REFS_KEY,\n  ROOT_ID: RelayStoreUtils.ROOT_ID,\n  ROOT_TYPE: RelayStoreUtils.ROOT_TYPE,\n  TYPENAME_KEY: RelayStoreUtils.TYPENAME_KEY,\n  deepFreeze: deepFreeze,\n  generateClientID: generateClientID,\n  generateUniqueClientID: generateUniqueClientID,\n  getRelayHandleKey: getRelayHandleKey,\n  isClientID: isClientID,\n  isPromise: isPromise,\n  isScalarAndEqual: isScalarAndEqual,\n  recycleNodesInto: recycleNodesInto,\n  stableCopy: stableCopy,\n  getFragmentIdentifier: getFragmentIdentifier,\n  getRefetchMetadata: getRefetchMetadata,\n  getPaginationMetadata: getPaginationMetadata,\n  getPaginationVariables: getPaginationVariables,\n  getPendingOperationsForFragment: getPendingOperationsForFragment,\n  getValueAtPath: getValueAtPath,\n  __internal: {\n    ResolverFragments: ResolverFragments,\n    OperationTracker: RelayOperationTracker,\n    createRelayContext: createRelayContext,\n    getOperationVariables: RelayConcreteVariables.getOperationVariables,\n    fetchQuery: fetchQueryInternal.fetchQuery,\n    fetchQueryDeduped: fetchQueryInternal.fetchQueryDeduped,\n    getPromiseForActiveRequest: fetchQueryInternal.getPromiseForActiveRequest,\n    getObservableForActiveRequest: fetchQueryInternal.getObservableForActiveRequest,\n    withProvidedVariables: withProvidedVariables\n  }\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * A unique identifier of the current actor.\n */\nvar invariant = require('invariant');\nvar INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE = 'INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE';\nfunction assertInternalActorIdentifier(actorIdentifier) {\n  !(actorIdentifier === INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to use only internal version of the `actorIdentifier`. \"%s\" was provided.', actorIdentifier) : invariant(false) : void 0;\n}\nmodule.exports = {\n  assertInternalActorIdentifier: assertInternalActorIdentifier,\n  getActorIdentifier: function getActorIdentifier(actorID) {\n    return actorID;\n  },\n  getDefaultActorIdentifier: function getDefaultActorIdentifier() {\n    throw new Error('Not Implemented');\n  },\n  INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE: INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ACTOR_IDENTIFIER_FIELD_NAME = 'actor_key';\nvar _require = require('./ActorIdentifier'),\n  getActorIdentifier = _require.getActorIdentifier;\nfunction getActorIdentifierFromPayload(payload) {\n  if (payload != null && typeof payload === 'object' && typeof payload[ACTOR_IDENTIFIER_FIELD_NAME] === 'string') {\n    return getActorIdentifier(payload[ACTOR_IDENTIFIER_FIELD_NAME]);\n  }\n}\nmodule.exports = {\n  ACTOR_IDENTIFIER_FIELD_NAME: ACTOR_IDENTIFIER_FIELD_NAME,\n  getActorIdentifierFromPayload: getActorIdentifierFromPayload\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar ConnectionHandler = require('../handlers/connection/ConnectionHandler');\nvar warning = require(\"fbjs/lib/warning\");\nvar MutationTypes = Object.freeze({\n  RANGE_ADD: 'RANGE_ADD',\n  RANGE_DELETE: 'RANGE_DELETE',\n  NODE_DELETE: 'NODE_DELETE'\n});\nvar RangeOperations = Object.freeze({\n  APPEND: 'append',\n  PREPEND: 'prepend'\n});\nfunction convert(configs, request, optimisticUpdater, updater) {\n  var configOptimisticUpdates = optimisticUpdater ? [optimisticUpdater] : [];\n  var configUpdates = updater ? [updater] : [];\n  configs.forEach(function (config) {\n    switch (config.type) {\n      case 'NODE_DELETE':\n        var nodeDeleteResult = nodeDelete(config, request);\n        if (nodeDeleteResult) {\n          configOptimisticUpdates.push(nodeDeleteResult);\n          configUpdates.push(nodeDeleteResult);\n        }\n        break;\n      case 'RANGE_ADD':\n        var rangeAddResult = rangeAdd(config, request);\n        if (rangeAddResult) {\n          configOptimisticUpdates.push(rangeAddResult);\n          configUpdates.push(rangeAddResult);\n        }\n        break;\n      case 'RANGE_DELETE':\n        var rangeDeleteResult = rangeDelete(config, request);\n        if (rangeDeleteResult) {\n          configOptimisticUpdates.push(rangeDeleteResult);\n          configUpdates.push(rangeDeleteResult);\n        }\n        break;\n    }\n  });\n  return {\n    optimisticUpdater: function optimisticUpdater(store, data) {\n      configOptimisticUpdates.forEach(function (eachOptimisticUpdater) {\n        eachOptimisticUpdater(store, data);\n      });\n    },\n    updater: function updater(store, data) {\n      configUpdates.forEach(function (eachUpdater) {\n        eachUpdater(store, data);\n      });\n    }\n  };\n}\nfunction nodeDelete(config, request) {\n  var deletedIDFieldName = config.deletedIDFieldName;\n  var rootField = getRootField(request);\n  if (!rootField) {\n    return null;\n  }\n  return function (store, data) {\n    var payload = store.getRootField(rootField);\n    if (!payload) {\n      return;\n    }\n    var deleteID = payload.getValue(deletedIDFieldName);\n    var deleteIDs = Array.isArray(deleteID) ? deleteID : [deleteID];\n    deleteIDs.forEach(function (id) {\n      if (id && typeof id === 'string') {\n        store[\"delete\"](id);\n      }\n    });\n  };\n}\nfunction rangeAdd(config, request) {\n  var parentID = config.parentID,\n    connectionInfo = config.connectionInfo,\n    edgeName = config.edgeName;\n  if (!parentID) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: For mutation config RANGE_ADD ' + 'to work you must include a parentID') : void 0;\n    return null;\n  }\n  var rootField = getRootField(request);\n  if (!connectionInfo || !rootField) {\n    return null;\n  }\n  return function (store, data) {\n    var parent = store.get(parentID);\n    if (!parent) {\n      return;\n    }\n    var payload = store.getRootField(rootField);\n    if (!payload) {\n      return;\n    }\n    var serverEdge = payload.getLinkedRecord(edgeName);\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(connectionInfo),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var info = _step.value;\n        if (!serverEdge) {\n          continue;\n        }\n        var connection = ConnectionHandler.getConnection(parent, info.key, info.filters);\n        if (!connection) {\n          continue;\n        }\n        var clientEdge = ConnectionHandler.buildConnectionEdge(store, connection, serverEdge);\n        if (!clientEdge) {\n          continue;\n        }\n        switch (info.rangeBehavior) {\n          case 'append':\n            ConnectionHandler.insertEdgeAfter(connection, clientEdge);\n            break;\n          case 'prepend':\n            ConnectionHandler.insertEdgeBefore(connection, clientEdge);\n            break;\n          default:\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_ADD range behavior `%s` ' + 'will not work as expected in RelayModern, supported range ' + \"behaviors are 'append', 'prepend'.\", info.rangeBehavior) : void 0;\n            break;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n}\nfunction rangeDelete(config, request) {\n  var parentID = config.parentID,\n    connectionKeys = config.connectionKeys,\n    pathToConnection = config.pathToConnection,\n    deletedIDFieldName = config.deletedIDFieldName;\n  if (!parentID) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: For mutation config RANGE_DELETE ' + 'to work you must include a parentID') : void 0;\n    return null;\n  }\n  var rootField = getRootField(request);\n  if (!rootField) {\n    return null;\n  }\n  return function (store, data) {\n    if (!data) {\n      return;\n    }\n    var deleteIDs = [];\n    // the type of data should come from a type parameter associated with ConcreteRequest,\n    // but ConcreteRequest does not contain a type parameter. Hence, we use a FlowFixMe.\n    // $FlowFixMe[incompatible-use] see above\n    var deletedIDField = data[rootField];\n    if (deletedIDField && Array.isArray(deletedIDFieldName)) {\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(deletedIDFieldName),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var eachField = _step2.value;\n          if (deletedIDField && typeof deletedIDField === 'object') {\n            deletedIDField = deletedIDField[eachField];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      if (Array.isArray(deletedIDField)) {\n        deletedIDField.forEach(function (idObject) {\n          if (idObject && idObject.id && typeof idObject === 'object' && typeof idObject.id === 'string') {\n            deleteIDs.push(idObject.id);\n          }\n        });\n      } else if (deletedIDField && deletedIDField.id && typeof deletedIDField.id === 'string') {\n        deleteIDs.push(deletedIDField.id);\n      }\n    } else if (deletedIDField && typeof deletedIDFieldName === 'string' && typeof deletedIDField === 'object') {\n      deletedIDField = deletedIDField[deletedIDFieldName];\n      if (typeof deletedIDField === 'string') {\n        deleteIDs.push(deletedIDField);\n      } else if (Array.isArray(deletedIDField)) {\n        deletedIDField.forEach(function (id) {\n          if (typeof id === 'string') {\n            deleteIDs.push(id);\n          }\n        });\n      }\n    }\n    deleteNode(parentID, connectionKeys, pathToConnection, store, deleteIDs);\n  };\n}\nfunction deleteNode(parentID, connectionKeys, pathToConnection, store, deleteIDs) {\n  process.env.NODE_ENV !== \"production\" ? warning(connectionKeys != null, 'RelayDeclarativeMutationConfig: RANGE_DELETE must provide a ' + 'connectionKeys') : void 0;\n  var parent = store.get(parentID);\n  if (!parent) {\n    return;\n  }\n  if (pathToConnection.length < 2) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_DELETE ' + 'pathToConnection must include at least parent and connection') : void 0;\n    return;\n  }\n  var recordProxy = parent;\n  for (var i = 1; i < pathToConnection.length - 1; i++) {\n    if (recordProxy) {\n      recordProxy = recordProxy.getLinkedRecord(pathToConnection[i]);\n    }\n  }\n  // Should never enter loop except edge cases\n  if (!connectionKeys || !recordProxy) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayDeclarativeMutationConfig: RANGE_DELETE ' + 'pathToConnection is incorrect. Unable to find connection with ' + 'parentID: %s and path: %s', parentID, pathToConnection.toString()) : void 0;\n    return;\n  }\n  var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(connectionKeys),\n    _step3;\n  try {\n    var _loop = function _loop() {\n      var key = _step3.value;\n      var connection = ConnectionHandler.getConnection(recordProxy, key.key, key.filters);\n      if (connection) {\n        deleteIDs.forEach(function (deleteID) {\n          ConnectionHandler.deleteNode(connection, deleteID);\n        });\n      }\n    };\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\nfunction getRootField(request) {\n  if (request.fragment.selections && request.fragment.selections.length > 0 && request.fragment.selections[0].kind === 'LinkedField') {\n    return request.fragment.selections[0].name;\n  }\n  return null;\n}\nmodule.exports = {\n  MutationTypes: MutationTypes,\n  RangeOperations: RangeOperations,\n  convert: convert\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../store/ClientID'),\n  generateClientID = _require.generateClientID;\nvar _require2 = require('../store/RelayStoreUtils'),\n  getStableStorageKey = _require2.getStableStorageKey;\nvar invariant = require('invariant');\n\n/**\n * @internal\n *\n * A helper class for manipulating a given record from a record source via an\n * imperative/OO-style API.\n */\nvar RelayRecordProxy = /*#__PURE__*/function () {\n  function RelayRecordProxy(source, mutator, dataID) {\n    this._dataID = dataID;\n    this._mutator = mutator;\n    this._source = source;\n  }\n  var _proto = RelayRecordProxy.prototype;\n  _proto.copyFieldsFrom = function copyFieldsFrom(source) {\n    this._mutator.copyFields(source.getDataID(), this._dataID);\n  };\n  _proto.getDataID = function getDataID() {\n    return this._dataID;\n  };\n  _proto.getType = function getType() {\n    var type = this._mutator.getType(this._dataID);\n    !(type != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy: Cannot get the type of deleted record `%s`.', this._dataID) : invariant(false) : void 0;\n    return type;\n  };\n  _proto.getValue = function getValue(name, args) {\n    var storageKey = getStableStorageKey(name, args);\n    return this._mutator.getValue(this._dataID, storageKey);\n  };\n  _proto.setValue = function setValue(value, name, args) {\n    !isValidLeafValue(value) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setValue(): Expected a scalar or array of scalars, ' + 'got `%s`.', JSON.stringify(value)) : invariant(false) : void 0;\n    return this.setValue__UNSAFE(value, name, args);\n  }\n\n  // This is used in the typesafe updaters.\n  // We already validated that the value has the correct type\n  // so it should be safe to store complex structures as scalar values (custom scalars)\n  ;\n  _proto.setValue__UNSAFE = function setValue__UNSAFE(value, name, args) {\n    var storageKey = getStableStorageKey(name, args);\n    this._mutator.setValue(this._dataID, storageKey, value);\n    return this;\n  };\n  _proto.getLinkedRecord = function getLinkedRecord(name, args) {\n    var storageKey = getStableStorageKey(name, args);\n    var linkedID = this._mutator.getLinkedRecordID(this._dataID, storageKey);\n    return linkedID != null ? this._source.get(linkedID) : linkedID;\n  };\n  _proto.setLinkedRecord = function setLinkedRecord(record, name, args) {\n    !(record instanceof RelayRecordProxy) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setLinkedRecord(): Expected a record, got `%s`.', record) : invariant(false) : void 0;\n    var storageKey = getStableStorageKey(name, args);\n    var linkedID = record.getDataID();\n    this._mutator.setLinkedRecordID(this._dataID, storageKey, linkedID);\n    return this;\n  };\n  _proto.getOrCreateLinkedRecord = function getOrCreateLinkedRecord(name, typeName, args) {\n    var linkedRecord = this.getLinkedRecord(name, args);\n    if (!linkedRecord) {\n      var _this$_source$get;\n      var storageKey = getStableStorageKey(name, args);\n      var clientID = generateClientID(this.getDataID(), storageKey);\n      // NOTE: it's possible that a client record for this field exists\n      // but the field itself was unset.\n      linkedRecord = (_this$_source$get = this._source.get(clientID)) !== null && _this$_source$get !== void 0 ? _this$_source$get : this._source.create(clientID, typeName);\n      this.setLinkedRecord(linkedRecord, name, args);\n    }\n    return linkedRecord;\n  };\n  _proto.getLinkedRecords = function getLinkedRecords(name, args) {\n    var _this = this;\n    var storageKey = getStableStorageKey(name, args);\n    var linkedIDs = this._mutator.getLinkedRecordIDs(this._dataID, storageKey);\n    if (linkedIDs == null) {\n      return linkedIDs;\n    }\n    return linkedIDs.map(function (linkedID) {\n      return linkedID != null ? _this._source.get(linkedID) : linkedID;\n    });\n  };\n  _proto.setLinkedRecords = function setLinkedRecords(records, name, args) {\n    !Array.isArray(records) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordProxy#setLinkedRecords(): Expected records to be an array, got `%s`.', records) : invariant(false) : void 0;\n    var storageKey = getStableStorageKey(name, args);\n    var linkedIDs = records.map(function (record) {\n      return record && record.getDataID();\n    });\n    this._mutator.setLinkedRecordIDs(this._dataID, storageKey, linkedIDs);\n    return this;\n  };\n  _proto.invalidateRecord = function invalidateRecord() {\n    this._source.markIDForInvalidation(this._dataID);\n  };\n  return RelayRecordProxy;\n}();\nfunction isValidLeafValue(value) {\n  return value == null || typeof value !== 'object' || Array.isArray(value) && value.every(isValidLeafValue);\n}\nmodule.exports = RelayRecordProxy;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayModernRecord = require('../store/RelayModernRecord');\nvar _require = require('../store/RelayRecordState'),\n  EXISTENT = _require.EXISTENT;\nvar invariant = require('invariant');\n\n/**\n * @internal\n *\n * Wrapper API that is an amalgam of the `RelayModernRecord` API and\n * `MutableRecordSource` interface, implementing copy-on-write semantics for records\n * in a record source.\n *\n * Modifications are applied to fresh copies of records:\n * - Records in `base` are never modified.\n * - Modifications cause a fresh version of a record to be created in `sink`.\n *   These sink records contain only modified fields.\n */\nvar RelayRecordSourceMutator = /*#__PURE__*/function () {\n  function RelayRecordSourceMutator(base, sink) {\n    this.__sources = [sink, base];\n    this._base = base;\n    this._sink = sink;\n  }\n\n  /**\n   * **UNSTABLE**\n   * This method is likely to be removed in an upcoming release\n   * and should not be relied upon.\n   * TODO T41593196: Remove unstable_getRawRecordWithChanges\n   */\n  var _proto = RelayRecordSourceMutator.prototype;\n  _proto.unstable_getRawRecordWithChanges = function unstable_getRawRecordWithChanges(dataID) {\n    var baseRecord = this._base.get(dataID);\n    var sinkRecord = this._sink.get(dataID);\n    if (sinkRecord === undefined) {\n      if (baseRecord == null) {\n        return baseRecord;\n      }\n      var nextRecord = RelayModernRecord.clone(baseRecord);\n      if (process.env.NODE_ENV !== \"production\") {\n        // Prevent mutation of a record from outside the store.\n        RelayModernRecord.freeze(nextRecord);\n      }\n      return nextRecord;\n    } else if (sinkRecord === null) {\n      return null;\n    } else if (baseRecord != null) {\n      var _nextRecord = RelayModernRecord.update(baseRecord, sinkRecord);\n      if (process.env.NODE_ENV !== \"production\") {\n        if (_nextRecord !== baseRecord) {\n          // Prevent mutation of a record from outside the store.\n          RelayModernRecord.freeze(_nextRecord);\n        }\n      }\n      return _nextRecord;\n    } else {\n      var _nextRecord2 = RelayModernRecord.clone(sinkRecord);\n      if (process.env.NODE_ENV !== \"production\") {\n        // Prevent mutation of a record from outside the store.\n        RelayModernRecord.freeze(_nextRecord2);\n      }\n      return _nextRecord2;\n    }\n  };\n  _proto._getSinkRecord = function _getSinkRecord(dataID) {\n    var sinkRecord = this._sink.get(dataID);\n    if (!sinkRecord) {\n      var baseRecord = this._base.get(dataID);\n      !baseRecord ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator: Cannot modify non-existent record `%s`.', dataID) : invariant(false) : void 0;\n      sinkRecord = RelayModernRecord.create(dataID, RelayModernRecord.getType(baseRecord));\n      this._sink.set(dataID, sinkRecord);\n    }\n    return sinkRecord;\n  };\n  _proto.copyFields = function copyFields(sourceID, sinkID) {\n    var sinkSource = this._sink.get(sourceID);\n    var baseSource = this._base.get(sourceID);\n    !(sinkSource || baseSource) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator#copyFields(): Cannot copy fields from ' + 'non-existent record `%s`.', sourceID) : invariant(false) : void 0;\n    var sink = this._getSinkRecord(sinkID);\n    if (baseSource) {\n      RelayModernRecord.copyFields(baseSource, sink);\n    }\n    if (sinkSource) {\n      RelayModernRecord.copyFields(sinkSource, sink);\n    }\n  };\n  _proto.copyFieldsFromRecord = function copyFieldsFromRecord(record, sinkID) {\n    var sink = this._getSinkRecord(sinkID);\n    RelayModernRecord.copyFields(record, sink);\n  };\n  _proto.create = function create(dataID, typeName) {\n    !(this._base.getStatus(dataID) !== EXISTENT && this._sink.getStatus(dataID) !== EXISTENT) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceMutator#create(): Cannot create a record with id ' + '`%s`, this record already exists.', dataID) : invariant(false) : void 0;\n    var record = RelayModernRecord.create(dataID, typeName);\n    this._sink.set(dataID, record);\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n  _proto.getStatus = function getStatus(dataID) {\n    return this._sink.has(dataID) ? this._sink.getStatus(dataID) : this._base.getStatus(dataID);\n  };\n  _proto.getType = function getType(dataID) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n      if (record) {\n        return RelayModernRecord.getType(record);\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n  _proto.getValue = function getValue(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n      if (record) {\n        var value = RelayModernRecord.getValue(record, storageKey);\n        if (value !== undefined) {\n          return value;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n  _proto.setValue = function setValue(dataID, storageKey, value) {\n    var sinkRecord = this._getSinkRecord(dataID);\n    RelayModernRecord.setValue(sinkRecord, storageKey, value);\n  };\n  _proto.getLinkedRecordID = function getLinkedRecordID(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n      if (record) {\n        var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n        if (linkedID !== undefined) {\n          return linkedID;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n  _proto.setLinkedRecordID = function setLinkedRecordID(dataID, storageKey, linkedID) {\n    var sinkRecord = this._getSinkRecord(dataID);\n    RelayModernRecord.setLinkedRecordID(sinkRecord, storageKey, linkedID);\n  };\n  _proto.getLinkedRecordIDs = function getLinkedRecordIDs(dataID, storageKey) {\n    for (var ii = 0; ii < this.__sources.length; ii++) {\n      var record = this.__sources[ii].get(dataID);\n      if (record) {\n        var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n        if (linkedIDs !== undefined) {\n          return linkedIDs;\n        }\n      } else if (record === null) {\n        return null;\n      }\n    }\n  };\n  _proto.setLinkedRecordIDs = function setLinkedRecordIDs(dataID, storageKey, linkedIDs) {\n    var sinkRecord = this._getSinkRecord(dataID);\n    RelayModernRecord.setLinkedRecordIDs(sinkRecord, storageKey, linkedIDs);\n  };\n  return RelayRecordSourceMutator;\n}();\nmodule.exports = RelayRecordSourceMutator;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayModernRecord = require('../store/RelayModernRecord');\nvar _require = require('../store/RelayRecordState'),\n  EXISTENT = _require.EXISTENT,\n  NONEXISTENT = _require.NONEXISTENT;\nvar _require2 = require('../store/RelayStoreUtils'),\n  ROOT_ID = _require2.ROOT_ID,\n  ROOT_TYPE = _require2.ROOT_TYPE;\nvar _require3 = require('./readUpdatableFragment'),\n  _readUpdatableFragment = _require3.readUpdatableFragment;\nvar _require4 = require('./readUpdatableQuery'),\n  _readUpdatableQuery = _require4.readUpdatableQuery;\nvar RelayRecordProxy = require('./RelayRecordProxy');\nvar invariant = require('invariant');\n\n/**\n * @internal\n *\n * A helper for manipulating a `RecordSource` via an imperative/OO-style API.\n */\nvar RelayRecordSourceProxy = /*#__PURE__*/function () {\n  function RelayRecordSourceProxy(mutator, getDataID, handlerProvider, missingFieldHandlers) {\n    this.__mutator = mutator;\n    this._handlerProvider = handlerProvider || null;\n    this._proxies = {};\n    this._getDataID = getDataID;\n    this._invalidatedStore = false;\n    this._idsMarkedForInvalidation = new Set();\n    this._missingFieldHandlers = missingFieldHandlers;\n  }\n  var _proto = RelayRecordSourceProxy.prototype;\n  _proto.publishSource = function publishSource(source, fieldPayloads) {\n    var _this = this;\n    var dataIDs = source.getRecordIDs();\n    dataIDs.forEach(function (dataID) {\n      var status = source.getStatus(dataID);\n      if (status === EXISTENT) {\n        var sourceRecord = source.get(dataID);\n        if (sourceRecord) {\n          if (_this.__mutator.getStatus(dataID) !== EXISTENT) {\n            _this.create(dataID, RelayModernRecord.getType(sourceRecord));\n          }\n          _this.__mutator.copyFieldsFromRecord(sourceRecord, dataID);\n        }\n      } else if (status === NONEXISTENT) {\n        _this[\"delete\"](dataID);\n      }\n    });\n    if (fieldPayloads && fieldPayloads.length) {\n      fieldPayloads.forEach(function (fieldPayload) {\n        var handler = _this._handlerProvider && _this._handlerProvider(fieldPayload.handle);\n        !handler ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a handler to be provided for handle `%s`.', fieldPayload.handle) : invariant(false) : void 0;\n        handler.update(_this, fieldPayload);\n      });\n    }\n  };\n  _proto.create = function create(dataID, typeName) {\n    this.__mutator.create(dataID, typeName);\n    delete this._proxies[dataID];\n    var record = this.get(dataID);\n    // For flow\n    !record ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#create(): Expected the created record to exist.') : invariant(false) : void 0;\n    return record;\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    !(dataID !== ROOT_ID) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#delete(): Cannot delete the root record.') : invariant(false) : void 0;\n    delete this._proxies[dataID];\n    this.__mutator[\"delete\"](dataID);\n  };\n  _proto.get = function get(dataID) {\n    if (!this._proxies.hasOwnProperty(dataID)) {\n      var status = this.__mutator.getStatus(dataID);\n      if (status === EXISTENT) {\n        this._proxies[dataID] = new RelayRecordProxy(this, this.__mutator, dataID);\n      } else {\n        this._proxies[dataID] = status === NONEXISTENT ? null : undefined;\n      }\n    }\n    return this._proxies[dataID];\n  };\n  _proto.getRoot = function getRoot() {\n    var root = this.get(ROOT_ID);\n    if (!root) {\n      root = this.create(ROOT_ID, ROOT_TYPE);\n    }\n    !(root && root.getType() === ROOT_TYPE) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceProxy#getRoot(): Expected the source to contain a ' + 'root record, %s.', root == null ? 'no root record found' : \"found a root record of type `\".concat(root.getType(), \"`\")) : invariant(false) : void 0;\n    return root;\n  };\n  _proto.invalidateStore = function invalidateStore() {\n    this._invalidatedStore = true;\n  };\n  _proto.isStoreMarkedForInvalidation = function isStoreMarkedForInvalidation() {\n    return this._invalidatedStore;\n  };\n  _proto.markIDForInvalidation = function markIDForInvalidation(dataID) {\n    this._idsMarkedForInvalidation.add(dataID);\n  };\n  _proto.getIDsMarkedForInvalidation = function getIDsMarkedForInvalidation() {\n    return this._idsMarkedForInvalidation;\n  };\n  _proto.readUpdatableQuery = function readUpdatableQuery(query, variables) {\n    return _readUpdatableQuery(query, variables, this, this._missingFieldHandlers);\n  };\n  _proto.readUpdatableFragment = function readUpdatableFragment(fragment, fragmentReference) {\n    return _readUpdatableFragment(fragment, fragmentReference, this, this._missingFieldHandlers);\n  };\n  return RelayRecordSourceProxy;\n}();\nmodule.exports = RelayRecordSourceProxy;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../store/RelayStoreUtils'),\n  ROOT_TYPE = _require.ROOT_TYPE,\n  getStorageKey = _require.getStorageKey;\nvar _require2 = require('./readUpdatableFragment'),\n  _readUpdatableFragment = _require2.readUpdatableFragment;\nvar _require3 = require('./readUpdatableQuery'),\n  _readUpdatableQuery = _require3.readUpdatableQuery;\nvar invariant = require('invariant');\n\n/**\n * @internal\n *\n * A subclass of RecordSourceProxy that provides convenience methods for\n * accessing the root fields of a given query/mutation. These fields accept\n * complex arguments and it can be tedious to re-construct the correct sets of\n * arguments to pass to e.g. `getRoot().getLinkedRecord()`.\n */\nvar RelayRecordSourceSelectorProxy = /*#__PURE__*/function () {\n  function RelayRecordSourceSelectorProxy(mutator, recordSource, readSelector, missingFieldHandlers) {\n    this.__mutator = mutator;\n    this.__recordSource = recordSource;\n    this._readSelector = readSelector;\n    this._missingFieldHandlers = missingFieldHandlers;\n  }\n  var _proto = RelayRecordSourceSelectorProxy.prototype;\n  _proto.create = function create(dataID, typeName) {\n    return this.__recordSource.create(dataID, typeName);\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this.__recordSource[\"delete\"](dataID);\n  };\n  _proto.get = function get(dataID) {\n    return this.__recordSource.get(dataID);\n  };\n  _proto.getRoot = function getRoot() {\n    return this.__recordSource.getRoot();\n  };\n  _proto.getOperationRoot = function getOperationRoot() {\n    var root = this.__recordSource.get(this._readSelector.dataID);\n    if (!root) {\n      root = this.__recordSource.create(this._readSelector.dataID, ROOT_TYPE);\n    }\n    return root;\n  };\n  _proto._getRootField = function _getRootField(selector, fieldName, plural) {\n    var field = selector.node.selections.find(function (selection) {\n      return selection.kind === 'LinkedField' && selection.name === fieldName || selection.kind === 'RequiredField' && selection.field.name === fieldName;\n    });\n    if (field && field.kind === 'RequiredField') {\n      field = field.field;\n    }\n    !(field && field.kind === 'LinkedField') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceSelectorProxy#getRootField(): Cannot find root ' + 'field `%s`, no such field is defined on GraphQL document `%s`.', fieldName, selector.node.name) : invariant(false) : void 0;\n    !(field.plural === plural) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayRecordSourceSelectorProxy#getRootField(): Expected root field ' + '`%s` to be %s.', fieldName, plural ? 'plural' : 'singular') : invariant(false) : void 0;\n    return field;\n  };\n  _proto.getRootField = function getRootField(fieldName) {\n    var field = this._getRootField(this._readSelector, fieldName, false);\n    var storageKey = getStorageKey(field, this._readSelector.variables);\n    return this.getOperationRoot().getLinkedRecord(storageKey);\n  };\n  _proto.getPluralRootField = function getPluralRootField(fieldName) {\n    var field = this._getRootField(this._readSelector, fieldName, true);\n    var storageKey = getStorageKey(field, this._readSelector.variables);\n    return this.getOperationRoot().getLinkedRecords(storageKey);\n  };\n  _proto.invalidateStore = function invalidateStore() {\n    this.__recordSource.invalidateStore();\n  };\n  _proto.readUpdatableQuery = function readUpdatableQuery(query, variables) {\n    return _readUpdatableQuery(query, variables, this, this._missingFieldHandlers);\n  };\n  _proto.readUpdatableFragment = function readUpdatableFragment(fragment, fragmentReference) {\n    return _readUpdatableFragment(fragment, fragmentReference, this, this._missingFieldHandlers);\n  };\n  return RelayRecordSourceSelectorProxy;\n}();\nmodule.exports = RelayRecordSourceSelectorProxy;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/GraphQLTag'),\n  getRequest = _require.getRequest;\nvar isRelayModernEnvironment = require('../store/isRelayModernEnvironment');\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require2.createOperationDescriptor;\nvar RelayDeclarativeMutationConfig = require('./RelayDeclarativeMutationConfig');\nvar invariant = require('invariant');\n/**\n * Higher-level helper function to execute a mutation against a specific\n * environment.\n */\nfunction applyOptimisticMutation(environment, config) {\n  !isRelayModernEnvironment(environment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'commitMutation: expected `environment` to be an instance of ' + '`RelayModernEnvironment`.') : invariant(false) : void 0;\n  var mutation = getRequest(config.mutation);\n  if (mutation.params.operationKind !== 'mutation') {\n    throw new Error('commitMutation: Expected mutation operation');\n  }\n  var optimisticUpdater = config.optimisticUpdater;\n  var configs = config.configs,\n    optimisticResponse = config.optimisticResponse,\n    variables = config.variables;\n  var operation = createOperationDescriptor(mutation, variables);\n  if (configs) {\n    var _RelayDeclarativeMuta = RelayDeclarativeMutationConfig.convert(configs, mutation, optimisticUpdater);\n    optimisticUpdater = _RelayDeclarativeMuta.optimisticUpdater;\n  }\n  return environment.applyMutation({\n    operation: operation,\n    response: optimisticResponse,\n    updater: optimisticUpdater\n  });\n}\nmodule.exports = applyOptimisticMutation;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nfunction commitLocalUpdate(environment, updater) {\n  environment.commitUpdate(updater);\n}\nmodule.exports = commitLocalUpdate;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _require = require('../query/GraphQLTag'),\n  getRequest = _require.getRequest;\nvar _require2 = require('../store/ClientID'),\n  generateUniqueClientID = _require2.generateUniqueClientID;\nvar isRelayModernEnvironment = require('../store/isRelayModernEnvironment');\nvar _require3 = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require3.createOperationDescriptor;\nvar RelayDeclarativeMutationConfig = require('./RelayDeclarativeMutationConfig');\nvar validateMutation = require('./validateMutation');\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Higher-level helper function to execute a mutation against a specific\n * environment.\n */\nfunction commitMutation(environment, config) {\n  !isRelayModernEnvironment(environment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'commitMutation: expected `environment` to be an instance of ' + '`RelayModernEnvironment`.') : invariant(false) : void 0;\n  var mutation = getRequest(config.mutation);\n  if (mutation.params.operationKind !== 'mutation') {\n    throw new Error('commitMutation: Expected mutation operation');\n  }\n  if (mutation.kind !== 'Request') {\n    throw new Error('commitMutation: Expected mutation to be of type request');\n  }\n  var optimisticResponse = config.optimisticResponse,\n    optimisticUpdater = config.optimisticUpdater,\n    updater = config.updater;\n  var configs = config.configs,\n    cacheConfig = config.cacheConfig,\n    onError = config.onError,\n    onUnsubscribe = config.onUnsubscribe,\n    variables = config.variables,\n    uploadables = config.uploadables;\n  var operation = createOperationDescriptor(mutation, variables, cacheConfig, generateUniqueClientID());\n  // TODO: remove this check after we fix flow.\n  if (typeof optimisticResponse === 'function') {\n    optimisticResponse = optimisticResponse();\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'commitMutation: Expected `optimisticResponse` to be an object, ' + 'received a function.') : void 0;\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    if (optimisticResponse instanceof Object) {\n      validateMutation(optimisticResponse, mutation, variables);\n    }\n  }\n  if (configs) {\n    var _RelayDeclarativeMuta = RelayDeclarativeMutationConfig.convert(configs, mutation, optimisticUpdater, updater);\n    optimisticUpdater = _RelayDeclarativeMuta.optimisticUpdater;\n    updater = _RelayDeclarativeMuta.updater;\n  }\n  var errors = [];\n  var subscription = environment.executeMutation({\n    operation: operation,\n    optimisticResponse: optimisticResponse,\n    optimisticUpdater: optimisticUpdater,\n    updater: updater,\n    uploadables: uploadables\n  }).subscribe({\n    next: function next(payload) {\n      var _config$onNext;\n      if (Array.isArray(payload)) {\n        payload.forEach(function (item) {\n          if (item.errors) {\n            errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(item.errors));\n          }\n        });\n      } else {\n        if (payload.errors) {\n          errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(payload.errors));\n        }\n      }\n      (_config$onNext = config.onNext) === null || _config$onNext === void 0 ? void 0 : _config$onNext.call(config);\n    },\n    complete: function complete() {\n      var onCompleted = config.onCompleted;\n      if (onCompleted) {\n        var snapshot = environment.lookup(operation.fragment);\n        onCompleted(snapshot.data, errors.length !== 0 ? errors : null);\n      }\n    },\n    error: onError,\n    unsubscribe: onUnsubscribe\n  });\n  return {\n    dispose: subscription.unsubscribe\n  };\n}\nmodule.exports = commitMutation;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _require = require('../store/RelayStoreUtils'),\n  getArgumentValues = _require.getArgumentValues;\nvar _require2 = require('../util/RelayConcreteNode'),\n  ACTOR_CHANGE = _require2.ACTOR_CHANGE,\n  ALIASED_FRAGMENT_SPREAD = _require2.ALIASED_FRAGMENT_SPREAD,\n  ALIASED_INLINE_FRAGMENT_SPREAD = _require2.ALIASED_INLINE_FRAGMENT_SPREAD,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = _require2.CLIENT_EDGE_TO_CLIENT_OBJECT,\n  CLIENT_EDGE_TO_SERVER_OBJECT = _require2.CLIENT_EDGE_TO_SERVER_OBJECT,\n  CLIENT_EXTENSION = _require2.CLIENT_EXTENSION,\n  CONDITION = _require2.CONDITION,\n  DEFER = _require2.DEFER,\n  FLIGHT_FIELD = _require2.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = _require2.FRAGMENT_SPREAD,\n  INLINE_DATA_FRAGMENT_SPREAD = _require2.INLINE_DATA_FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = _require2.INLINE_FRAGMENT,\n  LINKED_FIELD = _require2.LINKED_FIELD,\n  MODULE_IMPORT = _require2.MODULE_IMPORT,\n  RELAY_LIVE_RESOLVER = _require2.RELAY_LIVE_RESOLVER,\n  RELAY_RESOLVER = _require2.RELAY_RESOLVER,\n  REQUIRED_FIELD = _require2.REQUIRED_FIELD,\n  SCALAR_FIELD = _require2.SCALAR_FIELD,\n  STREAM = _require2.STREAM;\nvar nonUpdatableKeys = ['id', '__id', '__typename', 'js'];\nfunction createUpdatableProxy(updatableProxyRootRecord, variables, selections, recordSourceProxy, missingFieldHandlers) {\n  var mutableUpdatableProxy = {};\n  updateProxyFromSelections(mutableUpdatableProxy, updatableProxyRootRecord, variables, selections, recordSourceProxy, missingFieldHandlers);\n  if (process.env.NODE_ENV !== \"production\") {\n    Object.freeze(mutableUpdatableProxy);\n  }\n  // unless ReaderSelection carries more type information, we will never be able\n  // to flowtype mutableUpdatableProxy without a type assertion.\n  // $FlowFixMe[unclear-type]\n  return mutableUpdatableProxy;\n}\nfunction updateProxyFromSelections(mutableUpdatableProxy, updatableProxyRootRecord, variables, selections, recordSourceProxy, missingFieldHandlers) {\n  var _selection$alias3;\n  var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(selections),\n    _step;\n  try {\n    var _loop = function _loop() {\n      var selection = _step.value;\n      switch (selection.kind) {\n        case LINKED_FIELD:\n          if (selection.plural) {\n            Object.defineProperty(mutableUpdatableProxy, (_selection$alias = selection.alias) !== null && _selection$alias !== void 0 ? _selection$alias : selection.name, {\n              get: createGetterForPluralLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers),\n              set: createSetterForPluralLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy)\n            });\n          } else {\n            Object.defineProperty(mutableUpdatableProxy, (_selection$alias2 = selection.alias) !== null && _selection$alias2 !== void 0 ? _selection$alias2 : selection.name, {\n              get: createGetterForSingularLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers),\n              set: createSetterForSingularLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy)\n            });\n          }\n          break;\n        case SCALAR_FIELD:\n          var scalarFieldName = (_selection$alias3 = selection.alias) !== null && _selection$alias3 !== void 0 ? _selection$alias3 : selection.name;\n          Object.defineProperty(mutableUpdatableProxy, scalarFieldName, {\n            get: function get() {\n              var _selection$args;\n              var newVariables = getArgumentValues((_selection$args = selection.args) !== null && _selection$args !== void 0 ? _selection$args : [], variables);\n              // Flow incorrect assumes that the return value for the get method must match\n              // the set parameter.\n              var value = updatableProxyRootRecord.getValue(selection.name, newVariables\n              // $FlowFixMe[unclear-type] Typed by the generated updatable query flow type\n              );\n\n              if (value == null) {\n                value = getScalarUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers);\n              }\n              return value;\n            },\n            set: nonUpdatableKeys.includes(selection.name) ? undefined :\n            // $FlowFixMe[unclear-type] Typed by the generated updatable query flow type\n            function (newValue) {\n              var _selection$args2;\n              var newVariables = getArgumentValues((_selection$args2 = selection.args) !== null && _selection$args2 !== void 0 ? _selection$args2 : [], variables);\n              // $FlowFixMe[prop-missing] Typesafe updaters should prevent people from using untyped values\n              updatableProxyRootRecord.setValue__UNSAFE(newValue, selection.name, newVariables);\n            }\n          });\n          break;\n        case INLINE_FRAGMENT:\n          if (updatableProxyRootRecord.getType() === selection.type) {\n            updateProxyFromSelections(mutableUpdatableProxy, updatableProxyRootRecord, variables, selection.selections, recordSourceProxy, missingFieldHandlers);\n          }\n          break;\n        case CLIENT_EXTENSION:\n          updateProxyFromSelections(mutableUpdatableProxy, updatableProxyRootRecord, variables, selection.selections, recordSourceProxy, missingFieldHandlers);\n          break;\n        case FRAGMENT_SPREAD:\n          // Explicitly ignore\n          break;\n        case CONDITION:\n        case ACTOR_CHANGE:\n        case ALIASED_FRAGMENT_SPREAD:\n        case INLINE_DATA_FRAGMENT_SPREAD:\n        case ALIASED_INLINE_FRAGMENT_SPREAD:\n        case CLIENT_EDGE_TO_CLIENT_OBJECT:\n        case CLIENT_EDGE_TO_SERVER_OBJECT:\n        case DEFER:\n        case FLIGHT_FIELD:\n        case MODULE_IMPORT:\n        case RELAY_LIVE_RESOLVER:\n        case REQUIRED_FIELD:\n        case STREAM:\n        case RELAY_RESOLVER:\n          // These types of reader nodes are not currently handled.\n          throw new Error('Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.');\n        default:\n          selection.kind;\n          throw new Error('Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.');\n      }\n    };\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _selection$alias;\n      var _selection$alias2;\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nfunction createSetterForPluralLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy) {\n  return function set(newValue) {\n    var _selection$args3;\n    var newVariables = getArgumentValues((_selection$args3 = selection.args) !== null && _selection$args3 !== void 0 ? _selection$args3 : [], variables);\n    if (newValue == null) {\n      throw new Error('Do not assign null to plural linked fields; assign an empty array instead.');\n    } else {\n      var recordProxies = newValue.map(function (item) {\n        if (item == null) {\n          throw new Error('When assigning an array of items, none of the items should be null or undefined.');\n        }\n        var __id = item.__id;\n        if (__id == null) {\n          throw new Error('The __id field must be present on each item passed to the setter. This indicates a bug in Relay.');\n        }\n        var newValueRecord = recordSourceProxy.get(__id);\n        if (newValueRecord == null) {\n          throw new Error(\"Did not find item with data id \".concat(__id, \" in the store.\"));\n        }\n        return newValueRecord;\n      });\n      updatableProxyRootRecord.setLinkedRecords(recordProxies, selection.name, newVariables);\n    }\n  };\n}\nfunction createSetterForSingularLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy) {\n  return function set(newValue) {\n    var _selection$args4;\n    var newVariables = getArgumentValues((_selection$args4 = selection.args) !== null && _selection$args4 !== void 0 ? _selection$args4 : [], variables);\n    if (newValue == null) {\n      updatableProxyRootRecord.setValue(newValue, selection.name, newVariables);\n    } else {\n      var __id = newValue.__id;\n      if (__id == null) {\n        throw new Error('The __id field must be present on the argument. This indicates a bug in Relay.');\n      }\n      var newValueRecord = recordSourceProxy.get(__id);\n      if (newValueRecord == null) {\n        throw new Error(\"Did not find item with data id \".concat(__id, \" in the store.\"));\n      }\n      updatableProxyRootRecord.setLinkedRecord(newValueRecord, selection.name, newVariables);\n    }\n  };\n}\nfunction createGetterForPluralLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers) {\n  return function () {\n    var _selection$args5;\n    var newVariables = getArgumentValues((_selection$args5 = selection.args) !== null && _selection$args5 !== void 0 ? _selection$args5 : [], variables);\n    var linkedRecords = updatableProxyRootRecord.getLinkedRecords(selection.name, newVariables);\n    if (linkedRecords === undefined) {\n      linkedRecords = getPluralLinkedRecordUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers);\n    }\n    if (linkedRecords != null) {\n      return linkedRecords.map(function (linkedRecord) {\n        if (linkedRecord != null) {\n          var updatableProxy = {};\n          updateProxyFromSelections(updatableProxy, linkedRecord, variables, selection.selections, recordSourceProxy, missingFieldHandlers);\n          if (process.env.NODE_ENV !== \"production\") {\n            Object.freeze(updatableProxy);\n          }\n          // Flow incorrect assumes that the return value for the get method must match\n          // the set parameter.\n          // $FlowFixMe[unclear-type] Typed by the generated updatable query flow type\n          return updatableProxy;\n        } else {\n          return linkedRecord;\n        }\n        // $FlowFixMe[unclear-type] Typed by the generated updatable query flow type\n      });\n    } else {\n      return linkedRecords;\n    }\n  };\n}\nfunction createGetterForSingularLinkedField(selection, variables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers) {\n  return function () {\n    var _selection$args6;\n    var newVariables = getArgumentValues((_selection$args6 = selection.args) !== null && _selection$args6 !== void 0 ? _selection$args6 : [], variables);\n    var linkedRecord = updatableProxyRootRecord.getLinkedRecord(selection.name, newVariables);\n    if (linkedRecord === undefined) {\n      linkedRecord = getLinkedRecordUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers);\n    }\n    if (linkedRecord != null) {\n      var updatableProxy = {};\n      updateProxyFromSelections(updatableProxy, linkedRecord, variables, selection.selections, recordSourceProxy, missingFieldHandlers);\n      if (process.env.NODE_ENV !== \"production\") {\n        Object.freeze(updatableProxy);\n      }\n      // Flow incorrect assumes that the return value for the get method must match\n      // the set parameter.\n      // $FlowFixMe[unclear-type] Typed by the generated updatable query flow type\n      return updatableProxy;\n    } else {\n      return linkedRecord;\n    }\n  };\n}\nfunction getLinkedRecordUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers) {\n  var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(missingFieldHandlers),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var handler = _step2.value;\n      if (handler.kind === 'linked') {\n        var newId = handler.handle(selection, updatableProxyRootRecord, newVariables, recordSourceProxy);\n        if (newId != null) {\n          return recordSourceProxy.get(newId);\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\nfunction getPluralLinkedRecordUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers) {\n  var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(missingFieldHandlers),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var handler = _step3.value;\n      if (handler.kind === 'pluralLinked') {\n        var newIds = handler.handle(selection, updatableProxyRootRecord, newVariables, recordSourceProxy);\n        if (newIds != null) {\n          return newIds.map(function (newId) {\n            if (newId != null) {\n              return recordSourceProxy.get(newId);\n            }\n          });\n        }\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\nfunction getScalarUsingMissingFieldHandlers(selection, newVariables, updatableProxyRootRecord, recordSourceProxy, missingFieldHandlers) {\n  var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(missingFieldHandlers),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var handler = _step4.value;\n      if (handler.kind === 'scalar') {\n        var value = handler.handle(selection, updatableProxyRootRecord, newVariables, recordSourceProxy);\n        if (value !== undefined) {\n          return value;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n}\nmodule.exports = {\n  createUpdatableProxy: createUpdatableProxy\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/GraphQLTag'),\n  getFragment = _require.getFragment;\nvar _require2 = require('../store/RelayModernSelector'),\n  getVariablesFromFragment = _require2.getVariablesFromFragment;\nvar _require3 = require('../store/RelayStoreUtils'),\n  ID_KEY = _require3.ID_KEY;\nvar _require4 = require('./createUpdatableProxy'),\n  createUpdatableProxy = _require4.createUpdatableProxy;\nvar invariant = require('invariant');\n\n// Note: plural fragment references are currently not supported\nfunction readUpdatableFragment(fragment, fragmentReference, proxy, missingFieldHandlers) {\n  var updatableFragment = getFragment(fragment);\n  var fragmentVariables = getVariablesFromFragment(updatableFragment, fragmentReference);\n  // $FlowFixMe[prop-missing] it's there, we just don't include it in the type\n  var id = fragmentReference[ID_KEY];\n  var fragmentRoot = proxy.get(id);\n  !(fragmentRoot != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"No record with \".concat(id, \" was found. This likely indicates a problem with Relay.\")) : invariant(false) : void 0;\n  return {\n    // $FlowFixMe[incompatible-call]\n    updatableData: createUpdatableProxy(fragmentRoot, fragmentVariables, updatableFragment.selections, proxy, missingFieldHandlers)\n  };\n}\nmodule.exports = {\n  readUpdatableFragment: readUpdatableFragment\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/GraphQLTag'),\n  getUpdatableQuery = _require.getUpdatableQuery;\nvar _require2 = require('./createUpdatableProxy'),\n  createUpdatableProxy = _require2.createUpdatableProxy;\nfunction readUpdatableQuery(query, variables, proxy, missingFieldHandlers) {\n  var updatableQuery = getUpdatableQuery(query);\n  return {\n    // $FlowFixMe[incompatible-call]\n    updatableData: createUpdatableProxy(proxy.getRoot(), variables, updatableQuery.fragment.selections, proxy, missingFieldHandlers)\n  };\n}\nmodule.exports = {\n  readUpdatableQuery: readUpdatableQuery\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _require = require('../util/RelayConcreteNode'),\n  ACTOR_CHANGE = _require.ACTOR_CHANGE,\n  CLIENT_COMPONENT = _require.CLIENT_COMPONENT,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = _require.CLIENT_EDGE_TO_CLIENT_OBJECT,\n  CLIENT_EXTENSION = _require.CLIENT_EXTENSION,\n  CONDITION = _require.CONDITION,\n  DEFER = _require.DEFER,\n  FLIGHT_FIELD = _require.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = _require.FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = _require.INLINE_FRAGMENT,\n  LINKED_FIELD = _require.LINKED_FIELD,\n  LINKED_HANDLE = _require.LINKED_HANDLE,\n  MODULE_IMPORT = _require.MODULE_IMPORT,\n  RELAY_RESOLVER = _require.RELAY_RESOLVER,\n  SCALAR_FIELD = _require.SCALAR_FIELD,\n  SCALAR_HANDLE = _require.SCALAR_HANDLE,\n  STREAM = _require.STREAM,\n  TYPE_DISCRIMINATOR = _require.TYPE_DISCRIMINATOR;\nvar warning = require(\"fbjs/lib/warning\");\n// $FlowFixMe[method-unbinding] added when improving typing for this parameters\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar validateMutation = function validateMutation() {};\nif (process.env.NODE_ENV !== \"production\") {\n  var addFieldToDiff = function addFieldToDiff(path, diff, isScalar) {\n    var deepLoc = diff;\n    path.split('.').forEach(function (key, index, arr) {\n      if (deepLoc[key] == null) {\n        deepLoc[key] = {};\n      }\n      if (isScalar && index === arr.length - 1) {\n        deepLoc[key] = '<scalar>';\n      }\n      deepLoc = deepLoc[key];\n    });\n  };\n  validateMutation = function validateMutation(optimisticResponse, mutation, variables) {\n    var operationName = mutation.operation.name;\n    var context = {\n      path: 'ROOT',\n      visitedPaths: new Set(),\n      variables: variables || {},\n      missingDiff: {},\n      extraDiff: {},\n      moduleImportPaths: new Set()\n    };\n    validateSelections(optimisticResponse, mutation.operation.selections, context);\n    validateOptimisticResponse(optimisticResponse, context);\n    process.env.NODE_ENV !== \"production\" ? warning(context.missingDiff.ROOT == null, 'Expected `optimisticResponse` to match structure of server response for mutation `%s`, please define fields for all of\\n%s', operationName, JSON.stringify(context.missingDiff.ROOT, null, 2)) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(context.extraDiff.ROOT == null, 'Expected `optimisticResponse` to match structure of server response for mutation `%s`, please remove all fields of\\n%s', operationName, JSON.stringify(context.extraDiff.ROOT, null, 2)) : void 0;\n  };\n  var validateSelections = function validateSelections(optimisticResponse, selections, context) {\n    selections.forEach(function (selection) {\n      return validateSelection(optimisticResponse, selection, context);\n    });\n  };\n  var validateSelection = function validateSelection(optimisticResponse, selection, context) {\n    switch (selection.kind) {\n      case CONDITION:\n        validateSelections(optimisticResponse, selection.selections, context);\n        return;\n      case CLIENT_COMPONENT:\n      case FRAGMENT_SPREAD:\n        validateSelections(optimisticResponse, selection.fragment.selections, context);\n        return;\n      case SCALAR_FIELD:\n      case LINKED_FIELD:\n      case FLIGHT_FIELD:\n        return validateField(optimisticResponse, selection, context);\n      case ACTOR_CHANGE:\n        return validateField(optimisticResponse, selection.linkedField, context);\n      case INLINE_FRAGMENT:\n        var type = selection.type;\n        var isConcreteType = selection.abstractKey == null;\n        validateAbstractKey(context, selection.abstractKey);\n        selection.selections.forEach(function (subselection) {\n          if (isConcreteType && optimisticResponse.__typename !== type) {\n            return;\n          }\n          validateSelection(optimisticResponse, subselection, context);\n        });\n        return;\n      case CLIENT_EXTENSION:\n        selection.selections.forEach(function (subselection) {\n          validateSelection(optimisticResponse, subselection, context);\n        });\n        return;\n      case MODULE_IMPORT:\n        return validateModuleImport(context);\n      case TYPE_DISCRIMINATOR:\n        return validateAbstractKey(context, selection.abstractKey);\n      case RELAY_RESOLVER:\n      case CLIENT_EDGE_TO_CLIENT_OBJECT:\n      case LINKED_HANDLE:\n      case SCALAR_HANDLE:\n      case DEFER:\n      case STREAM:\n        {\n          // TODO(T35864292) - Add missing validations for these types\n          return;\n        }\n      default:\n        selection;\n        return;\n    }\n  };\n  var validateModuleImport = function validateModuleImport(context) {\n    context.moduleImportPaths.add(context.path);\n  };\n  var validateAbstractKey = function validateAbstractKey(context, abstractKey) {\n    if (abstractKey != null) {\n      var path = \"\".concat(context.path, \".\").concat(abstractKey);\n      context.visitedPaths.add(path);\n    }\n  };\n  var validateField = function validateField(optimisticResponse, field, context) {\n    var fieldName = field.alias || field.name;\n    var path = \"\".concat(context.path, \".\").concat(fieldName);\n    context.visitedPaths.add(path);\n    switch (field.kind) {\n      case SCALAR_FIELD:\n        if (hasOwnProperty.call(optimisticResponse, fieldName) === false) {\n          addFieldToDiff(path, context.missingDiff, true);\n        }\n        return;\n      case LINKED_FIELD:\n        var selections = field.selections;\n        if (optimisticResponse[fieldName] === null || hasOwnProperty.call(optimisticResponse, fieldName) && optimisticResponse[fieldName] === undefined) {\n          return;\n        }\n        if (field.plural) {\n          if (Array.isArray(optimisticResponse[fieldName])) {\n            optimisticResponse[fieldName].forEach(function (r) {\n              if (r !== null) {\n                validateSelections(r, selections, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n                  path: path\n                }));\n              }\n            });\n            return;\n          } else {\n            addFieldToDiff(path, context.missingDiff);\n            return;\n          }\n        } else {\n          if (optimisticResponse[fieldName] instanceof Object) {\n            validateSelections(optimisticResponse[fieldName], selections, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n              path: path\n            }));\n            return;\n          } else {\n            addFieldToDiff(path, context.missingDiff);\n            return;\n          }\n        }\n      case FLIGHT_FIELD:\n        if (optimisticResponse[fieldName] === null || hasOwnProperty.call(optimisticResponse, fieldName) && optimisticResponse[fieldName] === undefined) {\n          return;\n        }\n        throw new Error('validateMutation: Flight fields are not compatible with ' + 'optimistic updates, as React does not have the component code ' + 'necessary to process new data on the client. Instead, you ' + 'should update your code to require a full refetch of the Flight ' + 'field so your UI can be updated.');\n    }\n  };\n  var validateOptimisticResponse = function validateOptimisticResponse(optimisticResponse, context) {\n    if (Array.isArray(optimisticResponse)) {\n      optimisticResponse.forEach(function (r) {\n        if (r instanceof Object) {\n          validateOptimisticResponse(r, context);\n        }\n      });\n      return;\n    }\n    Object.keys(optimisticResponse).forEach(function (key) {\n      var value = optimisticResponse[key];\n      var path = \"\".concat(context.path, \".\").concat(key);\n      // if it's a module import path we don't have an ast so we cannot validate it\n      if (context.moduleImportPaths.has(path)) {\n        return;\n      }\n      if (!context.visitedPaths.has(path)) {\n        addFieldToDiff(path, context.extraDiff);\n        return;\n      }\n      if (value instanceof Object) {\n        validateOptimisticResponse(value, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, context), {}, {\n          path: path\n        }));\n      }\n    });\n  };\n}\nmodule.exports = validateMutation;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayObservable = require('./RelayObservable');\n\n/**\n * Converts a FetchFunction into an ExecuteFunction for use by RelayNetwork.\n */\nfunction convertFetch(fn) {\n  return function fetch(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    var result = fn(request, variables, cacheConfig, uploadables, logRequestInfo);\n    // Note: We allow FetchFunction to directly return Error to indicate\n    // a failure to fetch. To avoid handling this special case throughout the\n    // Relay codebase, it is explicitly handled here.\n    if (result instanceof Error) {\n      return RelayObservable.create(function (sink) {\n        return sink.error(result);\n      });\n    }\n    return RelayObservable.from(result);\n  };\n}\nmodule.exports = {\n  convertFetch: convertFetch\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar withProvidedVariables = require('../util/withProvidedVariables');\nvar _require = require('./ConvertToExecuteFunction'),\n  convertFetch = _require.convertFetch;\nvar invariant = require('invariant');\n\n/**\n * Creates an implementation of the `Network` interface defined in\n * `RelayNetworkTypes` given `fetch` and `subscribe` functions.\n */\nfunction create(fetchFn, subscribe) {\n  // Convert to functions that returns RelayObservable.\n  var observeFetch = convertFetch(fetchFn);\n  function execute(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    var operationVariables = withProvidedVariables(variables, request.providedVariables);\n    if (request.operationKind === 'subscription') {\n      !subscribe ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: This network layer does not support Subscriptions. ' + 'To use Subscriptions, provide a custom network layer.') : invariant(false) : void 0;\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while subscribing.') : invariant(false) : void 0;\n      return subscribe(request, operationVariables, cacheConfig);\n    }\n    var pollInterval = cacheConfig.poll;\n    if (pollInterval != null) {\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while polling.') : invariant(false) : void 0;\n      return observeFetch(request, operationVariables, {\n        force: true\n      }).poll(pollInterval);\n    }\n    return observeFetch(request, operationVariables, cacheConfig, uploadables, logRequestInfo);\n  }\n  return {\n    execute: execute\n  };\n}\nmodule.exports = {\n  create: create\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar isPromise = require('../util/isPromise');\n\n/**\n * A Subscription object is returned from .subscribe(), which can be\n * unsubscribed or checked to see if the resulting subscription has closed.\n */\n\nvar hostReportError = swallowError;\n\n/**\n * Limited implementation of ESObservable, providing the limited set of behavior\n * Relay networking requires.\n *\n * Observables retain the benefit of callbacks which can be called\n * synchronously, avoiding any UI jitter, while providing a compositional API,\n * which simplifies logic and prevents mishandling of errors compared to\n * the direct use of callback functions.\n *\n * ESObservable: https://github.com/tc39/proposal-observable\n */\nvar RelayObservable = /*#__PURE__*/function () {\n  RelayObservable.create = function create(source) {\n    return new RelayObservable(source);\n  }\n\n  // Use RelayObservable.create()\n  ;\n  function RelayObservable(source) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // Early runtime errors for ill-formed sources.\n      if (!source || typeof source !== 'function') {\n        throw new Error('Source must be a Function: ' + String(source));\n      }\n    }\n    this._source = source;\n  }\n\n  /**\n   * When an emitted error event is not handled by an Observer, it is reported\n   * to the host environment (what the ESObservable spec refers to as\n   * \"HostReportErrors()\").\n   *\n   * The default implementation in development rethrows thrown errors, and\n   * logs emitted error events to the console, while in production does nothing\n   * (swallowing unhandled errors).\n   *\n   * Called during application initialization, this method allows\n   * application-specific handling of unhandled errors. Allowing, for example,\n   * integration with error logging or developer tools.\n   *\n   * A second parameter `isUncaughtThrownError` is true when the unhandled error\n   * was thrown within an Observer handler, and false when the unhandled error\n   * was an unhandled emitted event.\n   *\n   *  - Uncaught thrown errors typically represent avoidable errors thrown from\n   *    application code, which should be handled with a try/catch block, and\n   *    usually have useful stack traces.\n   *\n   *  - Unhandled emitted event errors typically represent unavoidable events in\n   *    application flow such as network failure, and may not have useful\n   *    stack traces.\n   */\n  RelayObservable.onUnhandledError = function onUnhandledError(callback) {\n    hostReportError = callback;\n  }\n\n  /**\n   * Accepts various kinds of data sources, and always returns a RelayObservable\n   * useful for accepting the result of a user-provided FetchFunction.\n   */;\n  RelayObservable.from = function from(obj) {\n    return isObservable(obj) ? fromObservable(obj) : isPromise(obj) ? fromPromise(obj) : fromValue(obj);\n  }\n\n  /**\n   * Similar to promise.catch(), observable.catch() handles error events, and\n   * provides an alternative observable to use in it's place.\n   *\n   * If the catch handler throws a new error, it will appear as an error event\n   * on the resulting Observable.\n   */;\n  var _proto = RelayObservable.prototype;\n  _proto[\"catch\"] = function _catch(fn) {\n    var _this = this;\n    return RelayObservable.create(function (sink) {\n      var subscription;\n      _this.subscribe({\n        start: function start(sub) {\n          subscription = sub;\n        },\n        next: sink.next,\n        complete: sink.complete,\n        error: function error(_error2) {\n          try {\n            fn(_error2).subscribe({\n              start: function start(sub) {\n                subscription = sub;\n              },\n              next: sink.next,\n              complete: sink.complete,\n              error: sink.error\n            });\n          } catch (error2) {\n            sink.error(error2, true /* isUncaughtThrownError */);\n          }\n        }\n      });\n\n      return function () {\n        return subscription.unsubscribe();\n      };\n    });\n  }\n\n  /**\n   * Returns a new Observable which first yields values from this Observable,\n   * then yields values from the next Observable. This is useful for chaining\n   * together Observables of finite length.\n   */;\n  _proto.concat = function concat(next) {\n    var _this2 = this;\n    return RelayObservable.create(function (sink) {\n      var current;\n      _this2.subscribe({\n        start: function start(subscription) {\n          current = subscription;\n        },\n        next: sink.next,\n        error: sink.error,\n        complete: function complete() {\n          current = next.subscribe(sink);\n        }\n      });\n      return function () {\n        current && current.unsubscribe();\n      };\n    });\n  }\n\n  /**\n   * Returns a new Observable which returns the same values as this one, but\n   * modified so that the provided Observer is called to perform a side-effects\n   * for all events emitted by the source.\n   *\n   * Any errors that are thrown in the side-effect Observer are unhandled, and\n   * do not affect the source Observable or its Observer.\n   *\n   * This is useful for when debugging your Observables or performing other\n   * side-effects such as logging or performance monitoring.\n   */;\n  _proto[\"do\"] = function _do(observer) {\n    var _this3 = this;\n    return RelayObservable.create(function (sink) {\n      var both = function both(action) {\n        return function () {\n          try {\n            observer[action] && observer[action].apply(observer, arguments);\n          } catch (error) {\n            hostReportError(error, true /* isUncaughtThrownError */);\n          }\n\n          sink[action] && sink[action].apply(sink, arguments);\n        };\n      };\n      return _this3.subscribe({\n        start: both('start'),\n        next: both('next'),\n        error: both('error'),\n        complete: both('complete'),\n        unsubscribe: both('unsubscribe')\n      });\n    });\n  }\n\n  /**\n   * Returns a new Observable which returns the same values as this one, but\n   * modified so that the finally callback is performed after completion,\n   * whether normal or due to error or unsubscription.\n   *\n   * This is useful for cleanup such as resource finalization.\n   */;\n  _proto[\"finally\"] = function _finally(fn) {\n    var _this4 = this;\n    return RelayObservable.create(function (sink) {\n      var subscription = _this4.subscribe(sink);\n      return function () {\n        subscription.unsubscribe();\n        fn();\n      };\n    });\n  }\n\n  /**\n   * Returns a new Observable which is identical to this one, unless this\n   * Observable completes before yielding any values, in which case the new\n   * Observable will yield the values from the alternate Observable.\n   *\n   * If this Observable does yield values, the alternate is never subscribed to.\n   *\n   * This is useful for scenarios where values may come from multiple sources\n   * which should be tried in order, i.e. from a cache before a network.\n   */;\n  _proto.ifEmpty = function ifEmpty(alternate) {\n    var _this5 = this;\n    return RelayObservable.create(function (sink) {\n      var hasValue = false;\n      var current = _this5.subscribe({\n        next: function next(value) {\n          hasValue = true;\n          sink.next(value);\n        },\n        error: sink.error,\n        complete: function complete() {\n          if (hasValue) {\n            sink.complete();\n          } else {\n            current = alternate.subscribe(sink);\n          }\n        }\n      });\n      return function () {\n        current.unsubscribe();\n      };\n    });\n  }\n\n  /**\n   * Observable's primary API: returns an unsubscribable Subscription to the\n   * source of this Observable.\n   *\n   * Note: A sink may be passed directly to .subscribe() as its observer,\n   * allowing for easily composing Observables.\n   */;\n  _proto.subscribe = function subscribe(observer) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // Early runtime errors for ill-formed observers.\n      if (!observer || typeof observer !== 'object') {\n        throw new Error('Observer must be an Object with callbacks: ' + String(observer));\n      }\n    }\n    return _subscribe(this._source, observer);\n  }\n\n  /**\n   * Returns a new Observerable where each value has been transformed by\n   * the mapping function.\n   */;\n  _proto.map = function map(fn) {\n    var _this6 = this;\n    return RelayObservable.create(function (sink) {\n      var subscription = _this6.subscribe({\n        complete: sink.complete,\n        error: sink.error,\n        next: function next(value) {\n          try {\n            var mapValue = fn(value);\n            sink.next(mapValue);\n          } catch (error) {\n            sink.error(error, true /* isUncaughtThrownError */);\n          }\n        }\n      });\n\n      return function () {\n        subscription.unsubscribe();\n      };\n    });\n  }\n\n  /**\n   * Returns a new Observable where each value is replaced with a new Observable\n   * by the mapping function, the results of which returned as a single\n   * merged Observable.\n   */;\n  _proto.mergeMap = function mergeMap(fn) {\n    var _this7 = this;\n    return RelayObservable.create(function (sink) {\n      var subscriptions = [];\n      function start(subscription) {\n        this._sub = subscription;\n        subscriptions.push(subscription);\n      }\n      function complete() {\n        subscriptions.splice(subscriptions.indexOf(this._sub), 1);\n        if (subscriptions.length === 0) {\n          sink.complete();\n        }\n      }\n      _this7.subscribe({\n        start: start,\n        next: function next(value) {\n          try {\n            if (!sink.closed) {\n              RelayObservable.from(fn(value)).subscribe({\n                start: start,\n                next: sink.next,\n                error: sink.error,\n                complete: complete\n              });\n            }\n          } catch (error) {\n            sink.error(error, true /* isUncaughtThrownError */);\n          }\n        },\n\n        error: sink.error,\n        complete: complete\n      });\n      return function () {\n        subscriptions.forEach(function (sub) {\n          return sub.unsubscribe();\n        });\n        subscriptions.length = 0;\n      };\n    });\n  }\n\n  /**\n   * Returns a new Observable which first mirrors this Observable, then when it\n   * completes, waits for `pollInterval` milliseconds before re-subscribing to\n   * this Observable again, looping in this manner until unsubscribed.\n   *\n   * The returned Observable never completes.\n   */;\n  _proto.poll = function poll(pollInterval) {\n    var _this8 = this;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof pollInterval !== 'number' || pollInterval <= 0) {\n        throw new Error('RelayObservable: Expected pollInterval to be positive, got: ' + pollInterval);\n      }\n    }\n    return RelayObservable.create(function (sink) {\n      var subscription;\n      var timeout;\n      var poll = function poll() {\n        subscription = _this8.subscribe({\n          next: sink.next,\n          error: sink.error,\n          complete: function complete() {\n            timeout = setTimeout(poll, pollInterval);\n          }\n        });\n      };\n      poll();\n      return function () {\n        clearTimeout(timeout);\n        subscription.unsubscribe();\n      };\n    });\n  }\n\n  /**\n   * Returns a Promise which resolves when this Observable yields a first value\n   * or when it completes with no value.\n   *\n   * NOTE: The source Observable is *NOT* canceled when the returned Promise\n   * resolves. The Observable is always run to completion.\n   */;\n  _proto.toPromise = function toPromise() {\n    var _this9 = this;\n    return new Promise(function (resolve, reject) {\n      var resolved = false;\n      _this9.subscribe({\n        next: function next(val) {\n          if (!resolved) {\n            resolved = true;\n            resolve(val);\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n  return RelayObservable;\n}(); // Use declarations to teach Flow how to check isObservable.\nfunction isObservable(obj) {\n  return typeof obj === 'object' && obj !== null && typeof obj.subscribe === 'function';\n}\nfunction fromObservable(obj) {\n  return obj instanceof RelayObservable ? obj : RelayObservable.create(function (sink) {\n    return obj.subscribe(sink);\n  });\n}\nfunction fromPromise(promise) {\n  return RelayObservable.create(function (sink) {\n    // Since sink methods do not throw, the resulting Promise can be ignored.\n    promise.then(function (value) {\n      sink.next(value);\n      sink.complete();\n    }, sink.error);\n  });\n}\nfunction fromValue(value) {\n  return RelayObservable.create(function (sink) {\n    sink.next(value);\n    sink.complete();\n  });\n}\nfunction _subscribe(source, observer) {\n  var closed = false;\n  var cleanup;\n\n  // Ideally we would simply describe a `get closed()` method on the Sink and\n  // Subscription objects below, however not all flow environments we expect\n  // Relay to be used within will support property getters, and many minifier\n  // tools still do not support ES5 syntax. Instead, we can use defineProperty.\n  var withClosed = function withClosed(obj) {\n    return Object.defineProperty(obj, 'closed', {\n      get: function get() {\n        return closed;\n      }\n    });\n  };\n  function doCleanup() {\n    if (cleanup) {\n      if (cleanup.unsubscribe) {\n        cleanup.unsubscribe();\n      } else {\n        try {\n          cleanup();\n        } catch (error) {\n          hostReportError(error, true /* isUncaughtThrownError */);\n        }\n      }\n\n      cleanup = undefined;\n    }\n  }\n\n  // Create a Subscription.\n  var subscription = withClosed({\n    unsubscribe: function unsubscribe() {\n      if (!closed) {\n        closed = true;\n\n        // Tell Observer that unsubscribe was called.\n        try {\n          observer.unsubscribe && observer.unsubscribe(subscription);\n        } catch (error) {\n          hostReportError(error, true /* isUncaughtThrownError */);\n        } finally {\n          doCleanup();\n        }\n      }\n    }\n  });\n\n  // Tell Observer that observation is about to begin.\n  try {\n    observer.start && observer.start(subscription);\n  } catch (error) {\n    hostReportError(error, true /* isUncaughtThrownError */);\n  }\n\n  // If closed already, don't bother creating a Sink.\n  if (closed) {\n    return subscription;\n  }\n\n  // Create a Sink respecting subscription state and cleanup.\n  var sink = withClosed({\n    next: function next(value) {\n      if (!closed && observer.next) {\n        try {\n          observer.next(value);\n        } catch (error) {\n          hostReportError(error, true /* isUncaughtThrownError */);\n        }\n      }\n    },\n    error: function error(_error3, isUncaughtThrownError) {\n      if (closed || !observer.error) {\n        closed = true;\n        hostReportError(_error3, isUncaughtThrownError || false);\n        doCleanup();\n      } else {\n        closed = true;\n        try {\n          observer.error(_error3);\n        } catch (error2) {\n          hostReportError(error2, true /* isUncaughtThrownError */);\n        } finally {\n          doCleanup();\n        }\n      }\n    },\n    complete: function complete() {\n      if (!closed) {\n        closed = true;\n        try {\n          observer.complete && observer.complete();\n        } catch (error) {\n          hostReportError(error, true /* isUncaughtThrownError */);\n        } finally {\n          doCleanup();\n        }\n      }\n    }\n  });\n\n  // If anything goes wrong during observing the source, handle the error.\n  try {\n    cleanup = source(sink);\n  } catch (error) {\n    sink.error(error, true /* isUncaughtThrownError */);\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // Early runtime errors for ill-formed returned cleanup.\n    if (cleanup !== undefined && typeof cleanup !== 'function' && (!cleanup || typeof cleanup.unsubscribe !== 'function')) {\n      throw new Error('Returned cleanup function which cannot be called: ' + String(cleanup));\n    }\n  }\n\n  // If closed before the source function existed, cleanup now.\n  if (closed) {\n    doCleanup();\n  }\n  return subscription;\n}\nfunction swallowError(_error, _isUncaughtThrownError) {\n  // do nothing.\n}\nif (process.env.NODE_ENV !== \"production\") {\n  // Default implementation of HostReportErrors() in development builds.\n  // Can be replaced by the host application environment.\n  RelayObservable.onUnhandledError(function (error, isUncaughtThrownError) {\n    if (typeof fail === 'function') {\n      // In test environments (Jest), fail() immediately fails the current test.\n      fail(String(error));\n    } else if (isUncaughtThrownError) {\n      // Rethrow uncaught thrown errors on the next frame to avoid breaking\n      // current logic.\n      setTimeout(function () {\n        throw error;\n      });\n    } else if (typeof console !== 'undefined') {\n      // Otherwise, log the unhandled error for visibility.\n      // eslint-disable-next-line no-console\n      console.error('RelayObservable: Unhandled Error', error);\n    }\n  });\n}\nmodule.exports = RelayObservable;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar stableCopy = require('../util/stableCopy');\nvar invariant = require('invariant');\n/**\n * A cache for storing query responses, featuring:\n * - `get` with TTL\n * - cache size limiting, with least-recently *updated* entries purged first\n */\nvar RelayQueryResponseCache = /*#__PURE__*/function () {\n  function RelayQueryResponseCache(_ref) {\n    var size = _ref.size,\n      ttl = _ref.ttl;\n    !(size > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayQueryResponseCache: Expected the max cache size to be > 0, got ' + '`%s`.', size) : invariant(false) : void 0;\n    !(ttl > 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayQueryResponseCache: Expected the max ttl to be > 0, got `%s`.', ttl) : invariant(false) : void 0;\n    this._responses = new Map();\n    this._size = size;\n    this._ttl = ttl;\n  }\n  var _proto = RelayQueryResponseCache.prototype;\n  _proto.clear = function clear() {\n    this._responses.clear();\n  };\n  _proto.get = function get(queryID, variables) {\n    var _this = this;\n    var cacheKey = getCacheKey(queryID, variables);\n    this._responses.forEach(function (response, key) {\n      if (!isCurrent(response.fetchTime, _this._ttl)) {\n        _this._responses[\"delete\"](key);\n      }\n    });\n    var response = this._responses.get(cacheKey);\n    if (response == null) {\n      return null;\n    }\n    if (Array.isArray(response.payload)) {\n      return response.payload.map(function (payload) {\n        return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, payload), {}, {\n          extensions: (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, payload.extensions), {}, {\n            cacheTimestamp: response.fetchTime\n          })\n        });\n      });\n    }\n    return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, response.payload), {}, {\n      extensions: (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, response.payload.extensions), {}, {\n        cacheTimestamp: response.fetchTime\n      })\n    });\n  };\n  _proto.set = function set(queryID, variables, payload) {\n    var fetchTime = Date.now();\n    var cacheKey = getCacheKey(queryID, variables);\n    this._responses[\"delete\"](cacheKey); // deletion resets key ordering\n    this._responses.set(cacheKey, {\n      fetchTime: fetchTime,\n      payload: payload\n    });\n    // Purge least-recently updated key when max size reached\n    if (this._responses.size > this._size) {\n      var firstKey = this._responses.keys().next();\n      if (!firstKey.done) {\n        this._responses[\"delete\"](firstKey.value);\n      }\n    }\n  };\n  return RelayQueryResponseCache;\n}();\nfunction getCacheKey(queryID, variables) {\n  return JSON.stringify(stableCopy({\n    queryID: queryID,\n    variables: variables\n  }));\n}\n\n/**\n * Determine whether a response fetched at `fetchTime` is still valid given\n * some `ttl`.\n */\nfunction isCurrent(fetchTime, ttl) {\n  return fetchTime + ttl >= Date.now();\n}\nmodule.exports = RelayQueryResponseCache;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar generateID = require('../util/generateID');\n\n/**\n * Wraps the network with logging to ensure that network requests are\n * always logged. Relying on each network callsite to be wrapped is\n * untenable and will eventually lead to holes in the logging.\n * NOTE: This function takes an environment instance, because Relay\n * devtools will mutate the `env.__log` method, and the devtools rely\n * on it to receive network events.\n */\nfunction wrapNetworkWithLogObserver(env, network) {\n  return {\n    execute: function execute(params, variables, cacheConfig, uploadables) {\n      var networkRequestId = generateID();\n      var logObserver = {\n        start: function start(subscription) {\n          env.__log({\n            name: 'network.start',\n            networkRequestId: networkRequestId,\n            params: params,\n            variables: variables,\n            cacheConfig: cacheConfig\n          });\n        },\n        next: function next(response) {\n          env.__log({\n            name: 'network.next',\n            networkRequestId: networkRequestId,\n            response: response\n          });\n        },\n        error: function error(_error) {\n          env.__log({\n            name: 'network.error',\n            networkRequestId: networkRequestId,\n            error: _error\n          });\n        },\n        complete: function complete() {\n          env.__log({\n            name: 'network.complete',\n            networkRequestId: networkRequestId\n          });\n        },\n        unsubscribe: function unsubscribe() {\n          env.__log({\n            name: 'network.unsubscribe',\n            networkRequestId: networkRequestId\n          });\n        }\n      };\n      var logRequestInfo = function logRequestInfo(info) {\n        env.__log({\n          name: 'network.info',\n          networkRequestId: networkRequestId,\n          info: info\n        });\n      };\n      return network.execute(params, variables, cacheConfig, uploadables, logRequestInfo)[\"do\"](logObserver);\n    }\n  };\n}\nmodule.exports = wrapNetworkWithLogObserver;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n\n// The type of a graphql`...` tagged template expression.\n\n/**\n * Runtime function to correspond to the `graphql` tagged template function.\n * All calls to this function should be transformed by the plugin.\n */\nfunction graphql(strings) {\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'graphql: Unexpected invocation at runtime. Either the Babel transform ' + 'was not set up, or it failed to identify this call site. Make sure it ' + 'is being used verbatim as `graphql`. Note also that there cannot be ' + 'a space between graphql and the backtick that follows.') : invariant(false) : void 0;\n}\nfunction getNode(taggedNode) {\n  var node = taggedNode;\n  if (typeof node === 'function') {\n    node = node();\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayGraphQLTag: node `%s` unexpectedly wrapped in a function.', node.kind === 'Fragment' ? node.name : node.operation.name) : void 0;\n  } else if (node[\"default\"]) {\n    // Support for languages that work (best) with ES6 modules, such as TypeScript.\n    node = node[\"default\"];\n  }\n  return node;\n}\nfunction isFragment(node) {\n  var fragment = getNode(node);\n  return typeof fragment === 'object' && fragment !== null && fragment.kind === RelayConcreteNode.FRAGMENT;\n}\nfunction isRequest(node) {\n  var request = getNode(node);\n  return typeof request === 'object' && request !== null && request.kind === RelayConcreteNode.REQUEST;\n}\nfunction isUpdatableQuery(node) {\n  var updatableQuery = getNode(node);\n  return typeof updatableQuery === 'object' && updatableQuery !== null && updatableQuery.kind === RelayConcreteNode.UPDATABLE_QUERY;\n}\nfunction isInlineDataFragment(node) {\n  var fragment = getNode(node);\n  return typeof fragment === 'object' && fragment !== null && fragment.kind === RelayConcreteNode.INLINE_DATA_FRAGMENT;\n}\nfunction getFragment(taggedNode) {\n  var fragment = getNode(taggedNode);\n  !isFragment(fragment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected a fragment, got `%s`.', JSON.stringify(fragment)) : invariant(false) : void 0;\n  return fragment;\n}\nfunction getPaginationFragment(taggedNode) {\n  var _fragment$metadata;\n  var fragment = getFragment(taggedNode);\n  var refetch = (_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.refetch;\n  var connection = refetch === null || refetch === void 0 ? void 0 : refetch.connection;\n  if (refetch === null || typeof refetch !== 'object' || connection === null || typeof connection !== 'object') {\n    return null;\n  }\n  return fragment;\n}\nfunction getRefetchableFragment(taggedNode) {\n  var _fragment$metadata2;\n  var fragment = getFragment(taggedNode);\n  var refetch = (_fragment$metadata2 = fragment.metadata) === null || _fragment$metadata2 === void 0 ? void 0 : _fragment$metadata2.refetch;\n  if (refetch === null || typeof refetch !== 'object') {\n    return null;\n  }\n  return fragment;\n}\nfunction getRequest(taggedNode) {\n  var request = getNode(taggedNode);\n  !isRequest(request) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected a request, got `%s`.', JSON.stringify(request)) : invariant(false) : void 0;\n  return request;\n}\nfunction getUpdatableQuery(taggedNode) {\n  var updatableQuery = getNode(taggedNode);\n  !isUpdatableQuery(updatableQuery) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected a request, got `%s`.', JSON.stringify(updatableQuery)) : invariant(false) : void 0;\n  return updatableQuery;\n}\nfunction getInlineDataFragment(taggedNode) {\n  var fragment = getNode(taggedNode);\n  !isInlineDataFragment(fragment) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'GraphQLTag: Expected an inline data fragment, got `%s`.', JSON.stringify(fragment)) : invariant(false) : void 0;\n  return fragment;\n}\nmodule.exports = {\n  getFragment: getFragment,\n  getNode: getNode,\n  getPaginationFragment: getPaginationFragment,\n  getRefetchableFragment: getRefetchableFragment,\n  getRequest: getRequest,\n  getUpdatableQuery: getUpdatableQuery,\n  getInlineDataFragment: getInlineDataFragment,\n  graphql: graphql,\n  isFragment: isFragment,\n  isRequest: isRequest,\n  isUpdatableQuery: isUpdatableQuery,\n  isInlineDataFragment: isInlineDataFragment\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar PreloadableQueryRegistry = /*#__PURE__*/function () {\n  function PreloadableQueryRegistry() {\n    this._preloadableQueries = new Map();\n    this._callbacks = new Map();\n  }\n  var _proto = PreloadableQueryRegistry.prototype;\n  _proto.set = function set(key, value) {\n    this._preloadableQueries.set(key, value);\n    var callbacks = this._callbacks.get(key);\n    if (callbacks != null) {\n      callbacks.forEach(function (cb) {\n        try {\n          cb(value);\n        } catch (e) {\n          // We do *not* want to throw in this tick, as this callback is executed\n          // while a query is required for the very first time.\n          setTimeout(function () {\n            throw e;\n          }, 0);\n        }\n      });\n    }\n  };\n  _proto.get = function get(key) {\n    return this._preloadableQueries.get(key);\n  };\n  _proto.onLoad = function onLoad(key, callback) {\n    var _this$_callbacks$get;\n    var callbacks = (_this$_callbacks$get = this._callbacks.get(key)) !== null && _this$_callbacks$get !== void 0 ? _this$_callbacks$get : new Set();\n    callbacks.add(callback);\n    var dispose = function dispose() {\n      callbacks[\"delete\"](callback);\n    };\n    this._callbacks.set(key, callbacks);\n    return {\n      dispose: dispose\n    };\n  };\n  _proto.clear = function clear() {\n    this._preloadableQueries.clear();\n  };\n  return PreloadableQueryRegistry;\n}();\nvar preloadableQueryRegistry = new PreloadableQueryRegistry();\nmodule.exports = preloadableQueryRegistry;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar RelayObservable = require('../network/RelayObservable');\nvar _require = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require.createOperationDescriptor;\nvar handlePotentialSnapshotErrors = require('../util/handlePotentialSnapshotErrors');\nvar fetchQueryInternal = require('./fetchQueryInternal');\nvar _require2 = require('./GraphQLTag'),\n  getRequest = _require2.getRequest;\nvar invariant = require('invariant');\n\n/**\n * Fetches the given query and variables on the provided environment,\n * and de-dupes identical in-flight requests.\n *\n * Observing a request:\n * ====================\n * fetchQuery returns an Observable which you can call .subscribe()\n * on. Subscribe optionally takes an Observer, which you can provide to\n * observe network events:\n *\n * ```\n * fetchQuery(environment, query, variables).subscribe({\n *   // Called when network requests starts\n *   start: (subsctiption) => {},\n *\n *   // Called after a payload is received and written to the local store\n *   next: (payload) => {},\n *\n *   // Called when network requests errors\n *   error: (error) => {},\n *\n *   // Called when network requests fully completes\n *   complete: () => {},\n *\n *   // Called when network request is unsubscribed\n *   unsubscribe: (subscription) => {},\n * });\n * ```\n *\n * Request Promise:\n * ================\n * The obervable can be converted to a Promise with .toPromise(), which will\n * resolve to a snapshot of the query data when the first response is received\n * from the server.\n *\n * ```\n * fetchQuery(environment, query, variables).toPromise().then((data) => {\n *   // ...\n * });\n * ```\n *\n * In-flight request de-duping:\n * ============================\n * By default, calling fetchQuery multiple times with the same\n * environment, query and variables will not initiate a new request if a request\n * for those same parameters is already in flight.\n *\n * A request is marked in-flight from the moment it starts until the moment it\n * fully completes, regardless of error or successful completion.\n *\n * NOTE: If the request completes _synchronously_, calling fetchQuery\n * a second time with the same arguments in the same tick will _NOT_ de-dupe\n * the request given that it will no longer be in-flight.\n *\n *\n * Data Retention:\n * ===============\n * This function will NOT retain query data, meaning that it is not guaranteed\n * that the fetched data will remain in the Relay store after the request has\n * completed.\n * If you need to retain the query data outside of the network request,\n * you need to use `environment.retain()`.\n *\n *\n * Cancelling requests:\n * ====================\n * If the disposable returned by subscribe is called while the\n * request is in-flight, the request will be cancelled.\n *\n * ```\n * const disposable = fetchQuery(...).subscribe(...);\n *\n * // This will cancel the request if it is in-flight.\n * disposable.dispose();\n * ```\n * NOTE: When using .toPromise(), the request cannot be cancelled.\n */\nfunction fetchQuery(environment, query, variables, options) {\n  var _options$fetchPolicy;\n  var queryNode = getRequest(query);\n  !(queryNode.params.operationKind === 'query') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'fetchQuery: Expected query operation') : invariant(false) : void 0;\n  var networkCacheConfig = (0, _objectSpread2[\"default\"])({\n    force: true\n  }, options === null || options === void 0 ? void 0 : options.networkCacheConfig);\n  var operation = createOperationDescriptor(queryNode, variables, networkCacheConfig);\n  var fetchPolicy = (_options$fetchPolicy = options === null || options === void 0 ? void 0 : options.fetchPolicy) !== null && _options$fetchPolicy !== void 0 ? _options$fetchPolicy : 'network-only';\n  function readData(snapshot) {\n    handlePotentialSnapshotErrors(environment, snapshot.missingRequiredFields, snapshot.relayResolverErrors);\n    /* $FlowFixMe[incompatible-return] we assume readData returns the right\n     * data just having written it from network or checked availability. */\n    return snapshot.data;\n  }\n  switch (fetchPolicy) {\n    case 'network-only':\n      {\n        return getNetworkObservable(environment, operation).map(readData);\n      }\n    case 'store-or-network':\n      {\n        if (environment.check(operation).status === 'available') {\n          return RelayObservable.from(environment.lookup(operation.fragment)).map(readData);\n        }\n        return getNetworkObservable(environment, operation).map(readData);\n      }\n    default:\n      fetchPolicy;\n      throw new Error('fetchQuery: Invalid fetchPolicy ' + fetchPolicy);\n  }\n}\nfunction getNetworkObservable(environment, operation) {\n  return fetchQueryInternal.fetchQuery(environment, operation).map(function () {\n    return environment.lookup(operation.fragment);\n  });\n}\nmodule.exports = fetchQuery;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar Observable = require('../network/RelayObservable');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar RelayReplaySubject = require('../util/RelayReplaySubject');\nvar invariant = require('invariant');\nvar WEAKMAP_SUPPORTED = typeof WeakMap === 'function';\nvar requestCachesByEnvironment = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\n\n/**\n * Fetches the given query and variables on the provided environment,\n * and de-dupes identical in-flight requests.\n *\n * Observing a request:\n * ====================\n * fetchQuery returns an Observable which you can call .subscribe()\n * on. subscribe() takes an Observer, which you can provide to\n * observe network events:\n *\n * ```\n * fetchQuery(environment, query, variables).subscribe({\n *   // Called when network requests starts\n *   start: (subscription) => {},\n *\n *   // Called after a payload is received and written to the local store\n *   next: (payload) => {},\n *\n *   // Called when network requests errors\n *   error: (error) => {},\n *\n *   // Called when network requests fully completes\n *   complete: () => {},\n *\n *   // Called when network request is unsubscribed\n *   unsubscribe: (subscription) => {},\n * });\n * ```\n *\n * In-flight request de-duping:\n * ============================\n * By default, calling fetchQuery multiple times with the same\n * environment, query and variables will not initiate a new request if a request\n * for those same parameters is already in flight.\n *\n * A request is marked in-flight from the moment it starts until the moment it\n * fully completes, regardless of error or successful completion.\n *\n * NOTE: If the request completes _synchronously_, calling fetchQuery\n * a second time with the same arguments in the same tick will _NOT_ de-dupe\n * the request given that it will no longer be in-flight.\n *\n *\n * Data Retention:\n * ===============\n * This function will not retain any query data outside the scope of the\n * request, which means it is not guaranteed that it won't be garbage\n * collected after the request completes.\n * If you need to retain data, you can do so manually with environment.retain().\n *\n * Cancelling requests:\n * ====================\n * If the subscription returned by subscribe is called while the\n * request is in-flight, the request will be cancelled.\n *\n * ```\n * const subscription = fetchQuery(...).subscribe(...);\n *\n * // This will cancel the request if it is in-flight.\n * subscription.unsubscribe();\n * ```\n */\nfunction fetchQuery(environment, operation) {\n  return fetchQueryDeduped(environment, operation.request.identifier, function () {\n    return environment.execute({\n      operation: operation\n    });\n  });\n}\n\n/**\n * Low-level implementation details of `fetchQuery`.\n *\n * `fetchQueryDeduped` can also be used to share a single cache for\n * requests that aren't using `fetchQuery` directly (e.g. because they don't\n * have an `OperationDescriptor` when they are called).\n */\nfunction fetchQueryDeduped(environment, identifier, fetchFn) {\n  return Observable.create(function (sink) {\n    var requestCache = getRequestCache(environment);\n    var cachedRequest = requestCache.get(identifier);\n    if (!cachedRequest) {\n      fetchFn()[\"finally\"](function () {\n        return requestCache[\"delete\"](identifier);\n      }).subscribe({\n        start: function start(subscription) {\n          cachedRequest = {\n            identifier: identifier,\n            subject: new RelayReplaySubject(),\n            subjectForInFlightStatus: new RelayReplaySubject(),\n            subscription: subscription,\n            promise: null\n          };\n          requestCache.set(identifier, cachedRequest);\n        },\n        next: function next(response) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.next(response);\n          cachedReq.subjectForInFlightStatus.next(response);\n        },\n        error: function error(_error) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.error(_error);\n          cachedReq.subjectForInFlightStatus.error(_error);\n        },\n        complete: function complete() {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.complete();\n          cachedReq.subjectForInFlightStatus.complete();\n        },\n        unsubscribe: function unsubscribe(subscription) {\n          var cachedReq = getCachedRequest(requestCache, identifier);\n          cachedReq.subject.unsubscribe();\n          cachedReq.subjectForInFlightStatus.unsubscribe();\n        }\n      });\n    }\n    !(cachedRequest != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[fetchQueryInternal] fetchQueryDeduped: Expected `start` to be ' + 'called synchronously') : invariant(false) : void 0;\n    return getObservableForCachedRequest(requestCache, cachedRequest).subscribe(sink);\n  });\n}\n\n/**\n * @private\n */\nfunction getObservableForCachedRequest(requestCache, cachedRequest) {\n  return Observable.create(function (sink) {\n    var subscription = cachedRequest.subject.subscribe(sink);\n    return function () {\n      subscription.unsubscribe();\n      var cachedRequestInstance = requestCache.get(cachedRequest.identifier);\n      if (cachedRequestInstance) {\n        var requestSubscription = cachedRequestInstance.subscription;\n        if (requestSubscription != null && cachedRequestInstance.subject.getObserverCount() === 0) {\n          requestSubscription.unsubscribe();\n          requestCache[\"delete\"](cachedRequest.identifier);\n        }\n      }\n    };\n  });\n}\n\n/**\n * @private\n */\nfunction getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest) {\n  return Observable.create(function (sink) {\n    var subscription = cachedRequest.subjectForInFlightStatus.subscribe({\n      error: sink.error,\n      next: function next(response) {\n        if (!environment.isRequestActive(cachedRequest.identifier)) {\n          sink.complete();\n          return;\n        }\n        sink.next();\n      },\n      complete: sink.complete,\n      unsubscribe: sink.complete\n    });\n    return function () {\n      subscription.unsubscribe();\n    };\n  });\n}\n\n/**\n * If a request is active for the given query, variables and environment,\n * this function will return a Promise that will resolve when that request\n * stops being active (receives a final payload), and the data has been saved\n * to the store.\n * If no request is active, null will be returned\n */\nfunction getPromiseForActiveRequest(environment, request) {\n  var requestCache = getRequestCache(environment);\n  var cachedRequest = requestCache.get(request.identifier);\n  if (!cachedRequest) {\n    return null;\n  }\n  if (!environment.isRequestActive(cachedRequest.identifier)) {\n    return null;\n  }\n  if (RelayFeatureFlags.USE_REACT_CACHE) {\n    var existing = cachedRequest.promise;\n    if (existing) {\n      return existing;\n    }\n  }\n  var promise = new Promise(function (resolve, reject) {\n    var resolveOnNext = false;\n    getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest).subscribe({\n      complete: resolve,\n      error: reject,\n      next: function next(response) {\n        /*\n         * The underlying `RelayReplaySubject` will synchronously replay events\n         * as soon as we subscribe, but since we want the *next* asynchronous\n         * one, we'll ignore them until the replay finishes.\n         */\n        if (resolveOnNext) {\n          resolve(response);\n        }\n      }\n    });\n    resolveOnNext = true;\n  });\n  if (RelayFeatureFlags.USE_REACT_CACHE) {\n    // React Suspense should get thrown the same promise each time, so we cache it.\n    // However, the promise gets resolved on each payload, so subsequently we need\n    // to provide a new fresh promise that isn't already resolved. (When the feature\n    // flag is off we do this in QueryResource.)\n    cachedRequest.promise = promise;\n    var cleanup = function cleanup() {\n      cachedRequest.promise = null;\n    };\n    promise.then(cleanup, cleanup);\n  }\n  return promise;\n}\n\n/**\n * If there is a pending request for the given query, returns an Observable of\n * *all* its responses. Existing responses are published synchronously and\n * subsequent responses are published asynchronously. Returns null if there is\n * no pending request. This is similar to fetchQuery() except that it will not\n * issue a fetch if there isn't already one pending.\n */\nfunction getObservableForActiveRequest(environment, request) {\n  var requestCache = getRequestCache(environment);\n  var cachedRequest = requestCache.get(request.identifier);\n  if (!cachedRequest) {\n    return null;\n  }\n  if (!environment.isRequestActive(cachedRequest.identifier)) {\n    return null;\n  }\n  return getActiveStatusObservableForCachedRequest(environment, requestCache, cachedRequest);\n}\n\n/**\n * @private\n */\nfunction getRequestCache(environment) {\n  var cached = requestCachesByEnvironment.get(environment);\n  if (cached != null) {\n    return cached;\n  }\n  var requestCache = new Map();\n  requestCachesByEnvironment.set(environment, requestCache);\n  return requestCache;\n}\n\n/**\n * @private\n */\nfunction getCachedRequest(requestCache, identifier) {\n  var cached = requestCache.get(identifier);\n  !(cached != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[fetchQueryInternal] getCachedRequest: Expected request to be cached') : invariant(false) : void 0;\n  return cached;\n}\nmodule.exports = {\n  fetchQuery: fetchQuery,\n  fetchQueryDeduped: fetchQueryDeduped,\n  getPromiseForActiveRequest: getPromiseForActiveRequest,\n  getObservableForActiveRequest: getObservableForActiveRequest\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require.createOperationDescriptor;\nvar _require2 = require('./GraphQLTag'),\n  getRequest = _require2.getRequest;\n\n/**\n * A helper function to fetch the results of a query. Note that results for\n * fragment spreads are masked: fields must be explicitly listed in the query in\n * order to be accessible in the result object.\n */\n\nfunction fetchQuery_DEPRECATED(environment, taggedNode, variables, cacheConfig) {\n  var query = getRequest(taggedNode);\n  if (query.params.operationKind !== 'query') {\n    throw new Error('fetchQuery: Expected query operation');\n  }\n  var operation = createOperationDescriptor(query, variables, cacheConfig);\n  return environment.execute({\n    operation: operation\n  }).map(function () {\n    return environment.lookup(operation.fragment).data;\n  }).toPromise();\n}\nmodule.exports = fetchQuery_DEPRECATED;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar _require = require('../util/StringInterner'),\n  intern = _require.intern;\nvar PREFIX = 'client:';\nfunction generateClientID(id, storageKey, index) {\n  var internedId = RelayFeatureFlags.STRING_INTERN_LEVEL <= 0 ? id : intern(id, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n  var key = internedId + ':' + storageKey;\n  if (index != null) {\n    key += ':' + index;\n  }\n  if (key.indexOf(PREFIX) !== 0) {\n    key = PREFIX + key;\n  }\n  return key;\n}\nfunction isClientID(id) {\n  return id.indexOf(PREFIX) === 0;\n}\nvar localID = 0;\nfunction generateUniqueClientID() {\n  return \"\".concat(PREFIX, \"local:\").concat(localID++);\n}\n\n// Client objects backed by Relay Resolvers may not be able to provide a\n// globally unique ID, so we provide a namespace.\nfunction generateClientObjectClientID(typename, localId, index) {\n  var key = \"\".concat(PREFIX).concat(typename, \":\").concat(localId);\n  if (index != null) {\n    key += ':' + index;\n  }\n  return key;\n}\nmodule.exports = {\n  generateClientID: generateClientID,\n  generateClientObjectClientID: generateClientObjectClientID,\n  generateUniqueClientID: generateUniqueClientID,\n  isClientID: isClientID\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar RelayRecordSourceMutator = require('../mutations/RelayRecordSourceMutator');\nvar RelayRecordSourceProxy = require('../mutations/RelayRecordSourceProxy');\nvar getOperation = require('../util/getOperation');\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar _require = require('./ClientID'),\n  isClientID = _require.isClientID;\nvar cloneRelayHandleSourceField = require('./cloneRelayHandleSourceField');\nvar cloneRelayScalarHandleSourceField = require('./cloneRelayScalarHandleSourceField');\nvar _require2 = require('./RelayConcreteVariables'),\n  getLocalVariables = _require2.getLocalVariables;\nvar RelayModernRecord = require('./RelayModernRecord');\nvar _require3 = require('./RelayRecordState'),\n  EXISTENT = _require3.EXISTENT,\n  UNKNOWN = _require3.UNKNOWN;\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\nvar RelayStoreUtils = require('./RelayStoreUtils');\nvar _require4 = require('./TypeID'),\n  TYPE_SCHEMA_TYPE = _require4.TYPE_SCHEMA_TYPE,\n  generateTypeID = _require4.generateTypeID;\nvar invariant = require('invariant');\nvar ACTOR_CHANGE = RelayConcreteNode.ACTOR_CHANGE,\n  CONDITION = RelayConcreteNode.CONDITION,\n  CLIENT_COMPONENT = RelayConcreteNode.CLIENT_COMPONENT,\n  CLIENT_EXTENSION = RelayConcreteNode.CLIENT_EXTENSION,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = RelayConcreteNode.CLIENT_EDGE_TO_CLIENT_OBJECT,\n  DEFER = RelayConcreteNode.DEFER,\n  FLIGHT_FIELD = RelayConcreteNode.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = RelayConcreteNode.FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = RelayConcreteNode.INLINE_FRAGMENT,\n  LINKED_FIELD = RelayConcreteNode.LINKED_FIELD,\n  LINKED_HANDLE = RelayConcreteNode.LINKED_HANDLE,\n  MODULE_IMPORT = RelayConcreteNode.MODULE_IMPORT,\n  RELAY_RESOLVER = RelayConcreteNode.RELAY_RESOLVER,\n  SCALAR_FIELD = RelayConcreteNode.SCALAR_FIELD,\n  SCALAR_HANDLE = RelayConcreteNode.SCALAR_HANDLE,\n  STREAM = RelayConcreteNode.STREAM,\n  TYPE_DISCRIMINATOR = RelayConcreteNode.TYPE_DISCRIMINATOR;\nvar ROOT_ID = RelayStoreUtils.ROOT_ID,\n  getModuleOperationKey = RelayStoreUtils.getModuleOperationKey,\n  getStorageKey = RelayStoreUtils.getStorageKey,\n  getArgumentValues = RelayStoreUtils.getArgumentValues;\n\n/**\n * Synchronously check whether the records required to fulfill the given\n * `selector` are present in `source`.\n *\n * If a field is missing, it uses the provided handlers to attempt to substitute\n * data. The `target` will store all records that are modified because of a\n * successful substitution.\n *\n * If all records are present, returns `true`, otherwise `false`.\n */\nfunction check(getSourceForActor, getTargetForActor, defaultActorIdentifier, selector, handlers, operationLoader, getDataID, shouldProcessClientComponents) {\n  var dataID = selector.dataID,\n    node = selector.node,\n    variables = selector.variables;\n  var checker = new DataChecker(getSourceForActor, getTargetForActor, defaultActorIdentifier, variables, handlers, operationLoader, getDataID, shouldProcessClientComponents);\n  return checker.check(node, dataID);\n}\n\n/**\n * @private\n */\nvar DataChecker = /*#__PURE__*/function () {\n  function DataChecker(getSourceForActor, getTargetForActor, defaultActorIdentifier, variables, handlers, operationLoader, getDataID, shouldProcessClientComponents) {\n    this._getSourceForActor = getSourceForActor;\n    this._getTargetForActor = getTargetForActor;\n    this._getDataID = getDataID;\n    this._source = getSourceForActor(defaultActorIdentifier);\n    this._mutatorRecordSourceProxyCache = new Map();\n    var _this$_getMutatorAndR = this._getMutatorAndRecordProxyForActor(defaultActorIdentifier),\n      mutator = _this$_getMutatorAndR[0],\n      recordSourceProxy = _this$_getMutatorAndR[1];\n    this._mostRecentlyInvalidatedAt = null;\n    this._handlers = handlers;\n    this._mutator = mutator;\n    this._operationLoader = operationLoader !== null && operationLoader !== void 0 ? operationLoader : null;\n    this._recordSourceProxy = recordSourceProxy;\n    this._recordWasMissing = false;\n    this._variables = variables;\n    this._shouldProcessClientComponents = shouldProcessClientComponents;\n  }\n  var _proto = DataChecker.prototype;\n  _proto._getMutatorAndRecordProxyForActor = function _getMutatorAndRecordProxyForActor(actorIdentifier) {\n    var tuple = this._mutatorRecordSourceProxyCache.get(actorIdentifier);\n    if (tuple == null) {\n      var target = this._getTargetForActor(actorIdentifier);\n      var mutator = new RelayRecordSourceMutator(this._getSourceForActor(actorIdentifier), target);\n      var recordSourceProxy = new RelayRecordSourceProxy(mutator, this._getDataID, undefined, this._handlers);\n      tuple = [mutator, recordSourceProxy];\n      this._mutatorRecordSourceProxyCache.set(actorIdentifier, tuple);\n    }\n    return tuple;\n  };\n  _proto.check = function check(node, dataID) {\n    this._assignClientAbstractTypes(node);\n    this._traverse(node, dataID);\n    return this._recordWasMissing === true ? {\n      status: 'missing',\n      mostRecentlyInvalidatedAt: this._mostRecentlyInvalidatedAt\n    } : {\n      status: 'available',\n      mostRecentlyInvalidatedAt: this._mostRecentlyInvalidatedAt\n    };\n  };\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayAsyncLoader(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n  _proto._handleMissing = function _handleMissing() {\n    this._recordWasMissing = true;\n  };\n  _proto._handleMissingScalarField = function _handleMissingScalarField(field, dataID) {\n    if (field.name === 'id' && field.alias == null && isClientID(dataID)) {\n      return undefined;\n    }\n    var args = field.args != undefined ? getArgumentValues(field.args, this._variables) : {};\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var handler = _step.value;\n        if (handler.kind === 'scalar') {\n          var newValue = handler.handle(field, this._recordSourceProxy.get(dataID), args, this._recordSourceProxy);\n          if (newValue !== undefined) {\n            return newValue;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    this._handleMissing();\n  };\n  _proto._handleMissingLinkField = function _handleMissingLinkField(field, dataID) {\n    var args = field.args != undefined ? getArgumentValues(field.args, this._variables) : {};\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var handler = _step2.value;\n        if (handler.kind === 'linked') {\n          var newValue = handler.handle(field, this._recordSourceProxy.get(dataID), args, this._recordSourceProxy);\n          if (newValue !== undefined && (newValue === null || this._mutator.getStatus(newValue) === EXISTENT)) {\n            return newValue;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    this._handleMissing();\n  };\n  _proto._handleMissingPluralLinkField = function _handleMissingPluralLinkField(field, dataID) {\n    var _this = this;\n    var args = field.args != undefined ? getArgumentValues(field.args, this._variables) : {};\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(this._handlers),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var handler = _step3.value;\n        if (handler.kind === 'pluralLinked') {\n          var newValue = handler.handle(field, this._recordSourceProxy.get(dataID), args, this._recordSourceProxy);\n          if (newValue != null) {\n            var allItemsKnown = newValue.every(function (linkedID) {\n              return linkedID != null && _this._mutator.getStatus(linkedID) === EXISTENT;\n            });\n            if (allItemsKnown) {\n              return newValue;\n            }\n          } else if (newValue === null) {\n            return null;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    this._handleMissing();\n  };\n  _proto._traverse = function _traverse(node, dataID) {\n    var status = this._mutator.getStatus(dataID);\n    if (status === UNKNOWN) {\n      this._handleMissing();\n    }\n    if (status === EXISTENT) {\n      var record = this._source.get(dataID);\n      var invalidatedAt = RelayModernRecord.getInvalidationEpoch(record);\n      if (invalidatedAt != null) {\n        this._mostRecentlyInvalidatedAt = this._mostRecentlyInvalidatedAt != null ? Math.max(this._mostRecentlyInvalidatedAt, invalidatedAt) : invalidatedAt;\n      }\n      this._traverseSelections(node.selections, dataID);\n    }\n  };\n  _proto._traverseSelections = function _traverseSelections(selections, dataID) {\n    var _this2 = this;\n    selections.forEach(function (selection) {\n      switch (selection.kind) {\n        case SCALAR_FIELD:\n          _this2._checkScalar(selection, dataID);\n          break;\n        case LINKED_FIELD:\n          if (selection.plural) {\n            _this2._checkPluralLink(selection, dataID);\n          } else {\n            _this2._checkLink(selection, dataID);\n          }\n          break;\n        case ACTOR_CHANGE:\n          _this2._checkActorChange(selection.linkedField, dataID);\n          break;\n        case CONDITION:\n          var conditionValue = Boolean(_this2._getVariableValue(selection.condition));\n          if (conditionValue === selection.passingValue) {\n            _this2._traverseSelections(selection.selections, dataID);\n          }\n          break;\n        case INLINE_FRAGMENT:\n          {\n            var _abstractKey = selection.abstractKey;\n            if (_abstractKey == null) {\n              // concrete type refinement: only check data if the type exactly matches\n              var typeName = _this2._mutator.getType(dataID);\n              if (typeName === selection.type) {\n                _this2._traverseSelections(selection.selections, dataID);\n              }\n            } else {\n              // Abstract refinement: check data depending on whether the type\n              // conforms to the interface/union or not:\n              // - Type known to _not_ implement the interface: don't check the selections.\n              // - Type is known _to_ implement the interface: check selections.\n              // - Unknown whether the type implements the interface: don't check the selections\n              //   and treat the data as missing; we do this because the Relay Compiler\n              //   guarantees that the type discriminator will always be fetched.\n              var _recordType = _this2._mutator.getType(dataID);\n              !(_recordType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected record `%s` to have a known type', dataID) : invariant(false) : void 0;\n              var _typeID = generateTypeID(_recordType);\n              var _implementsInterface = _this2._mutator.getValue(_typeID, _abstractKey);\n              if (_implementsInterface === true) {\n                _this2._traverseSelections(selection.selections, dataID);\n              } else if (_implementsInterface == null) {\n                // unsure if the type implements the interface: data is\n                // missing so don't bother reading the fragment\n                _this2._handleMissing();\n              } // else false: known to not implement the interface\n            }\n\n            break;\n          }\n        case LINKED_HANDLE:\n          {\n            // Handles have no selections themselves; traverse the original field\n            // where the handle was set-up instead.\n            var handleField = cloneRelayHandleSourceField(selection, selections, _this2._variables);\n            if (handleField.plural) {\n              _this2._checkPluralLink(handleField, dataID);\n            } else {\n              _this2._checkLink(handleField, dataID);\n            }\n            break;\n          }\n        case SCALAR_HANDLE:\n          {\n            var _handleField = cloneRelayScalarHandleSourceField(selection, selections, _this2._variables);\n            _this2._checkScalar(_handleField, dataID);\n            break;\n          }\n        case MODULE_IMPORT:\n          _this2._checkModuleImport(selection, dataID);\n          break;\n        case DEFER:\n        case STREAM:\n          _this2._traverseSelections(selection.selections, dataID);\n          break;\n        case FRAGMENT_SPREAD:\n          var prevVariables = _this2._variables;\n          _this2._variables = getLocalVariables(_this2._variables, selection.fragment.argumentDefinitions, selection.args);\n          _this2._traverseSelections(selection.fragment.selections, dataID);\n          _this2._variables = prevVariables;\n          break;\n        case CLIENT_EXTENSION:\n          var recordWasMissing = _this2._recordWasMissing;\n          _this2._traverseSelections(selection.selections, dataID);\n          _this2._recordWasMissing = recordWasMissing;\n          break;\n        case TYPE_DISCRIMINATOR:\n          var abstractKey = selection.abstractKey;\n          var recordType = _this2._mutator.getType(dataID);\n          !(recordType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected record `%s` to have a known type', dataID) : invariant(false) : void 0;\n          var typeID = generateTypeID(recordType);\n          var implementsInterface = _this2._mutator.getValue(typeID, abstractKey);\n          if (implementsInterface == null) {\n            // unsure if the type implements the interface: data is\n            // missing\n            _this2._handleMissing();\n          } // else: if it does or doesn't implement, we don't need to check or skip anything else\n          break;\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            _this2._checkFlightField(selection, dataID);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n          break;\n        case CLIENT_COMPONENT:\n          if (_this2._shouldProcessClientComponents === false) {\n            break;\n          }\n          _this2._traverseSelections(selection.fragment.selections, dataID);\n          break;\n        case RELAY_RESOLVER:\n          _this2._checkResolver(selection, dataID);\n          break;\n        case CLIENT_EDGE_TO_CLIENT_OBJECT:\n          _this2._checkResolver(selection.backingField, dataID);\n          break;\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayAsyncLoader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    });\n  };\n  _proto._checkResolver = function _checkResolver(resolver, dataID) {\n    if (resolver.fragment) {\n      this._traverseSelections([resolver.fragment], dataID);\n    }\n  };\n  _proto._checkModuleImport = function _checkModuleImport(moduleImport, dataID) {\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using `@module`.') : invariant(false) : void 0;\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n    var operationReference = this._mutator.getValue(dataID, operationKey);\n    if (operationReference == null) {\n      if (operationReference === undefined) {\n        this._handleMissing();\n      }\n      return;\n    }\n    var normalizationRootNode = operationLoader.get(operationReference);\n    if (normalizationRootNode != null) {\n      var operation = getOperation(normalizationRootNode);\n      var prevVariables = this._variables;\n      this._variables = getLocalVariables(this._variables, operation.argumentDefinitions, moduleImport.args);\n      this._traverse(operation, dataID);\n      this._variables = prevVariables;\n    } else {\n      // If the fragment is not available, we assume that the data cannot have been\n      // processed yet and must therefore be missing.\n      this._handleMissing();\n    }\n  };\n  _proto._checkScalar = function _checkScalar(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n    var fieldValue = this._mutator.getValue(dataID, storageKey);\n    if (fieldValue === undefined) {\n      fieldValue = this._handleMissingScalarField(field, dataID);\n      if (fieldValue !== undefined) {\n        this._mutator.setValue(dataID, storageKey, fieldValue);\n      }\n    }\n  };\n  _proto._checkLink = function _checkLink(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = this._mutator.getLinkedRecordID(dataID, storageKey);\n    if (linkedID === undefined) {\n      linkedID = this._handleMissingLinkField(field, dataID);\n      if (linkedID != null) {\n        this._mutator.setLinkedRecordID(dataID, storageKey, linkedID);\n      } else if (linkedID === null) {\n        this._mutator.setValue(dataID, storageKey, null);\n      }\n    }\n    if (linkedID != null) {\n      this._traverse(field, linkedID);\n    }\n  };\n  _proto._checkPluralLink = function _checkPluralLink(field, dataID) {\n    var _this3 = this;\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedIDs = this._mutator.getLinkedRecordIDs(dataID, storageKey);\n    if (linkedIDs === undefined) {\n      linkedIDs = this._handleMissingPluralLinkField(field, dataID);\n      if (linkedIDs != null) {\n        this._mutator.setLinkedRecordIDs(dataID, storageKey, linkedIDs);\n      } else if (linkedIDs === null) {\n        this._mutator.setValue(dataID, storageKey, null);\n      }\n    }\n    if (linkedIDs) {\n      linkedIDs.forEach(function (linkedID) {\n        if (linkedID != null) {\n          _this3._traverse(field, linkedID);\n        }\n      });\n    }\n  };\n  _proto._checkActorChange = function _checkActorChange(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n    var record = this._source.get(dataID);\n    var tuple = record != null ? RelayModernRecord.getActorLinkedRecordID(record, storageKey) : record;\n    if (tuple == null) {\n      if (tuple === undefined) {\n        this._handleMissing();\n      }\n    } else {\n      var actorIdentifier = tuple[0],\n        linkedID = tuple[1];\n      var prevSource = this._source;\n      var prevMutator = this._mutator;\n      var prevRecordSourceProxy = this._recordSourceProxy;\n      var _this$_getMutatorAndR2 = this._getMutatorAndRecordProxyForActor(actorIdentifier),\n        mutator = _this$_getMutatorAndR2[0],\n        recordSourceProxy = _this$_getMutatorAndR2[1];\n      this._source = this._getSourceForActor(actorIdentifier);\n      this._mutator = mutator;\n      this._recordSourceProxy = recordSourceProxy;\n      this._assignClientAbstractTypes(field);\n      this._traverse(field, linkedID);\n      this._source = prevSource;\n      this._mutator = prevMutator;\n      this._recordSourceProxy = prevRecordSourceProxy;\n    }\n  };\n  _proto._checkFlightField = function _checkFlightField(field, dataID) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = this._mutator.getLinkedRecordID(dataID, storageKey);\n    if (linkedID == null) {\n      if (linkedID === undefined) {\n        this._handleMissing();\n        return;\n      }\n      return;\n    }\n    var tree = this._mutator.getValue(linkedID, RelayStoreReactFlightUtils.REACT_FLIGHT_TREE_STORAGE_KEY);\n    var reachableExecutableDefinitions = this._mutator.getValue(linkedID, RelayStoreReactFlightUtils.REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY);\n    if (tree == null || !Array.isArray(reachableExecutableDefinitions)) {\n      this._handleMissing();\n      return;\n    }\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using ' + 'React Flight.') : invariant(false) : void 0;\n    // In Flight, the variables that are in scope for reachable executable\n    // definitions aren't the same as what's in scope for the outer query.\n    var prevVariables = this._variables;\n    // $FlowFixMe[incompatible-cast]\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(reachableExecutableDefinitions),\n      _step4;\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var definition = _step4.value;\n        this._variables = definition.variables;\n        var normalizationRootNode = operationLoader.get(definition.module);\n        if (normalizationRootNode != null) {\n          var operation = getOperation(normalizationRootNode);\n          this._traverseSelections(operation.selections, ROOT_ID);\n        } else {\n          // If the fragment is not available, we assume that the data cannot have\n          // been processed yet and must therefore be missing.\n          this._handleMissing();\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n    this._variables = prevVariables;\n  }\n\n  // For abstract types defined in the client schema extension, we won't be\n  // getting `__is<AbstractType>` hints from the server. To handle this, the\n  // compiler attaches additional metadata on the normalization artifact,\n  // which we need to record into the store.\n  ;\n  _proto._assignClientAbstractTypes = function _assignClientAbstractTypes(node) {\n    var clientAbstractTypes = node.clientAbstractTypes;\n    if (clientAbstractTypes != null) {\n      for (var _i = 0, _Object$keys = Object.keys(clientAbstractTypes); _i < _Object$keys.length; _i++) {\n        var abstractType = _Object$keys[_i];\n        var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(clientAbstractTypes[abstractType]),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var concreteType = _step5.value;\n            var typeID = generateTypeID(concreteType);\n            if (this._source.get(typeID) == null) {\n              this._mutator.create(typeID, TYPE_SCHEMA_TYPE);\n            }\n            if (this._mutator.getValue(typeID, abstractType) == null) {\n              this._mutator.setValue(typeID, abstractType, true);\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n    }\n  };\n  return DataChecker;\n}();\nmodule.exports = {\n  check: check\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar RelayObservable = require('../network/RelayObservable');\nvar generateID = require('../util/generateID');\nvar getOperation = require('../util/getOperation');\nvar RelayError = require('../util/RelayError');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar stableCopy = require('../util/stableCopy');\nvar withDuration = require('../util/withDuration');\nvar _require = require('./ClientID'),\n  generateClientID = _require.generateClientID,\n  generateUniqueClientID = _require.generateUniqueClientID;\nvar _require2 = require('./RelayConcreteVariables'),\n  getLocalVariables = _require2.getLocalVariables;\nvar RelayModernRecord = require('./RelayModernRecord');\nvar _require3 = require('./RelayModernSelector'),\n  createNormalizationSelector = _require3.createNormalizationSelector,\n  createReaderSelector = _require3.createReaderSelector;\nvar RelayRecordSource = require('./RelayRecordSource');\nvar RelayResponseNormalizer = require('./RelayResponseNormalizer');\nvar _require4 = require('./RelayStoreUtils'),\n  ROOT_TYPE = _require4.ROOT_TYPE,\n  TYPENAME_KEY = _require4.TYPENAME_KEY,\n  getStorageKey = _require4.getStorageKey;\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\nfunction execute(config) {\n  return new Executor(config);\n}\n\n/**\n * Coordinates the execution of a query, handling network callbacks\n * including optimistic payloads, standard payloads, resolution of match\n * dependencies, etc.\n */\nvar Executor = /*#__PURE__*/function () {\n  function Executor(_ref2) {\n    var _this = this;\n    var actorIdentifier = _ref2.actorIdentifier,\n      getDataID = _ref2.getDataID,\n      getPublishQueue = _ref2.getPublishQueue,\n      getStore = _ref2.getStore,\n      isClientPayload = _ref2.isClientPayload,\n      operation = _ref2.operation,\n      operationExecutions = _ref2.operationExecutions,\n      operationLoader = _ref2.operationLoader,\n      operationTracker = _ref2.operationTracker,\n      optimisticConfig = _ref2.optimisticConfig,\n      _reactFlightPayloadDeserializer = _ref2.reactFlightPayloadDeserializer,\n      reactFlightServerErrorHandler = _ref2.reactFlightServerErrorHandler,\n      scheduler = _ref2.scheduler,\n      shouldProcessClientComponents = _ref2.shouldProcessClientComponents,\n      sink = _ref2.sink,\n      source = _ref2.source,\n      treatMissingFieldsAsNull = _ref2.treatMissingFieldsAsNull,\n      updater = _ref2.updater,\n      log = _ref2.log;\n    (0, _defineProperty2[\"default\"])(this, \"_deserializeReactFlightPayloadWithLogging\", function (tree) {\n      var reactFlightPayloadDeserializer = _this._reactFlightPayloadDeserializer;\n      !(typeof reactFlightPayloadDeserializer === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected reactFlightPayloadDeserializer to be available when calling _deserializeReactFlightPayloadWithLogging.') : invariant(false) : void 0;\n      var _withDuration = withDuration(function () {\n          return reactFlightPayloadDeserializer(tree);\n        }),\n        duration = _withDuration[0],\n        result = _withDuration[1];\n      _this._log({\n        name: 'execute.flight.payload_deserialize',\n        executeId: _this._executeId,\n        operationName: _this._operation.request.node.params.name,\n        duration: duration\n      });\n      return result;\n    });\n    this._actorIdentifier = actorIdentifier;\n    this._getDataID = getDataID;\n    this._treatMissingFieldsAsNull = treatMissingFieldsAsNull;\n    this._incrementalPayloadsPending = false;\n    this._incrementalResults = new Map();\n    this._log = log;\n    this._executeId = generateID();\n    this._nextSubscriptionId = 0;\n    this._operation = operation;\n    this._operationExecutions = operationExecutions;\n    this._operationLoader = operationLoader;\n    this._operationTracker = operationTracker;\n    this._operationUpdateEpochs = new Map();\n    this._optimisticUpdates = null;\n    this._pendingModulePayloadsCount = 0;\n    this._getPublishQueue = getPublishQueue;\n    this._scheduler = scheduler;\n    this._sink = sink;\n    this._source = new Map();\n    this._state = 'started';\n    this._getStore = getStore;\n    this._subscriptions = new Map();\n    this._updater = updater;\n    this._isClientPayload = isClientPayload === true;\n    this._reactFlightPayloadDeserializer = _reactFlightPayloadDeserializer;\n    this._reactFlightServerErrorHandler = reactFlightServerErrorHandler;\n    this._isSubscriptionOperation = this._operation.request.node.params.operationKind === 'subscription';\n    this._shouldProcessClientComponents = shouldProcessClientComponents;\n    this._retainDisposables = new Map();\n    this._seenActors = new Set();\n    this._completeFns = [];\n    var id = this._nextSubscriptionId++;\n    source.subscribe({\n      complete: function complete() {\n        return _this._complete(id);\n      },\n      error: function error(_error2) {\n        return _this._error(_error2);\n      },\n      next: function next(response) {\n        try {\n          _this._next(id, response);\n        } catch (error) {\n          sink.error(error);\n        }\n      },\n      start: function start(subscription) {\n        var _this$_operation$requ;\n        _this._start(id, subscription);\n        _this._log({\n          name: 'execute.start',\n          executeId: _this._executeId,\n          params: _this._operation.request.node.params,\n          variables: _this._operation.request.variables,\n          cacheConfig: (_this$_operation$requ = _this._operation.request.cacheConfig) !== null && _this$_operation$requ !== void 0 ? _this$_operation$requ : {}\n        });\n      }\n    });\n    if (optimisticConfig != null) {\n      this._processOptimisticResponse(optimisticConfig.response != null ? {\n        data: optimisticConfig.response\n      } : null, optimisticConfig.updater, false);\n    }\n  }\n\n  // Cancel any pending execution tasks and mark the executor as completed.\n  var _proto = Executor.prototype;\n  _proto.cancel = function cancel() {\n    var _this2 = this;\n    if (this._state === 'completed') {\n      return;\n    }\n    this._state = 'completed';\n    this._operationExecutions[\"delete\"](this._operation.request.identifier);\n    if (this._subscriptions.size !== 0) {\n      this._subscriptions.forEach(function (sub) {\n        return sub.unsubscribe();\n      });\n      this._subscriptions.clear();\n    }\n    var optimisticUpdates = this._optimisticUpdates;\n    if (optimisticUpdates !== null) {\n      this._optimisticUpdates = null;\n      optimisticUpdates.forEach(function (update) {\n        return _this2._getPublishQueueAndSaveActor().revertUpdate(update);\n      });\n      // OK: run revert on cancel\n      this._runPublishQueue();\n    }\n    this._incrementalResults.clear();\n    if (this._asyncStoreUpdateDisposable != null) {\n      this._asyncStoreUpdateDisposable.dispose();\n      this._asyncStoreUpdateDisposable = null;\n    }\n    this._completeFns = [];\n    this._completeOperationTracker();\n    this._disposeRetainedData();\n  };\n  _proto._updateActiveState = function _updateActiveState() {\n    var activeState;\n    switch (this._state) {\n      case 'started':\n        {\n          activeState = 'active';\n          break;\n        }\n      case 'loading_incremental':\n        {\n          activeState = 'active';\n          break;\n        }\n      case 'completed':\n        {\n          activeState = 'inactive';\n          break;\n        }\n      case 'loading_final':\n        {\n          activeState = this._pendingModulePayloadsCount > 0 ? 'active' : 'inactive';\n          break;\n        }\n      default:\n        this._state;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: invalid executor state.') : invariant(false) : void 0;\n    }\n    this._operationExecutions.set(this._operation.request.identifier, activeState);\n  };\n  _proto._schedule = function _schedule(task) {\n    var _this3 = this;\n    var scheduler = this._scheduler;\n    if (scheduler != null) {\n      var id = this._nextSubscriptionId++;\n      RelayObservable.create(function (sink) {\n        var cancellationToken = scheduler.schedule(function () {\n          try {\n            task();\n            sink.complete();\n          } catch (error) {\n            sink.error(error);\n          }\n        });\n        return function () {\n          return scheduler.cancel(cancellationToken);\n        };\n      }).subscribe({\n        complete: function complete() {\n          return _this3._complete(id);\n        },\n        error: function error(_error3) {\n          return _this3._error(_error3);\n        },\n        start: function start(subscription) {\n          return _this3._start(id, subscription);\n        }\n      });\n    } else {\n      task();\n    }\n  };\n  _proto._complete = function _complete(id) {\n    this._subscriptions[\"delete\"](id);\n    if (this._subscriptions.size === 0) {\n      this.cancel();\n      this._sink.complete();\n      this._log({\n        name: 'execute.complete',\n        executeId: this._executeId\n      });\n    }\n  };\n  _proto._error = function _error(error) {\n    this.cancel();\n    this._sink.error(error);\n    this._log({\n      name: 'execute.error',\n      executeId: this._executeId,\n      error: error\n    });\n  };\n  _proto._start = function _start(id, subscription) {\n    this._subscriptions.set(id, subscription);\n    this._updateActiveState();\n  }\n\n  // Handle a raw GraphQL response.\n  ;\n  _proto._next = function _next(_id, response) {\n    var _this4 = this;\n    this._schedule(function () {\n      var _withDuration2 = withDuration(function () {\n          _this4._handleNext(response);\n          _this4._maybeCompleteSubscriptionOperationTracking();\n        }),\n        duration = _withDuration2[0];\n      _this4._log({\n        name: 'execute.next',\n        executeId: _this4._executeId,\n        response: response,\n        duration: duration\n      });\n    });\n  };\n  _proto._handleErrorResponse = function _handleErrorResponse(responses) {\n    var _this5 = this;\n    var results = [];\n    responses.forEach(function (response) {\n      if (response.data === null && response.extensions != null && !response.hasOwnProperty('errors')) {\n        // Skip extensions-only payloads\n        return;\n      } else if (response.data == null) {\n        // Error if any other payload in the batch is missing data, regardless of whether\n        // it had `errors` or not.\n        var errors = response.hasOwnProperty('errors') && response.errors != null ? response.errors : null;\n        var messages = errors ? errors.map(function (_ref3) {\n          var message = _ref3.message;\n          return message;\n        }).join('\\n') : '(No errors)';\n        var error = RelayError.create('RelayNetwork', 'No data returned for operation `' + _this5._operation.request.node.params.name + '`, got error(s):\\n' + messages + '\\n\\nSee the error `source` property for more information.');\n        error.source = {\n          errors: errors,\n          operation: _this5._operation.request.node,\n          variables: _this5._operation.request.variables\n        };\n        // In V8, Error objects keep the closure scope chain alive until the\n        // err.stack property is accessed.\n        error.stack;\n        throw error;\n      } else {\n        var responseWithData = response;\n        results.push(responseWithData);\n      }\n    });\n    return results;\n  }\n\n  /**\n   * This method return boolean to indicate if the optimistic\n   * response has been handled\n   */;\n  _proto._handleOptimisticResponses = function _handleOptimisticResponses(responses) {\n    var _response$extensions;\n    if (responses.length > 1) {\n      if (responses.some(function (responsePart) {\n        var _responsePart$extensi;\n        return ((_responsePart$extensi = responsePart.extensions) === null || _responsePart$extensi === void 0 ? void 0 : _responsePart$extensi.isOptimistic) === true;\n      })) {\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Optimistic responses cannot be batched.') : invariant(false) : void 0;\n      }\n      return false;\n    }\n    var response = responses[0];\n    var isOptimistic = ((_response$extensions = response.extensions) === null || _response$extensions === void 0 ? void 0 : _response$extensions.isOptimistic) === true;\n    if (isOptimistic && this._state !== 'started') {\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: optimistic payload received after server payload.') : invariant(false) : void 0;\n    }\n    if (isOptimistic) {\n      this._processOptimisticResponse(response, null, this._treatMissingFieldsAsNull);\n      this._sink.next(response);\n      return true;\n    }\n    return false;\n  };\n  _proto._handleNext = function _handleNext(response) {\n    if (this._state === 'completed') {\n      return;\n    }\n    this._seenActors.clear();\n    var responses = Array.isArray(response) ? response : [response];\n    var responsesWithData = this._handleErrorResponse(responses);\n    if (responsesWithData.length === 0) {\n      // no results with data, nothing to process\n      // this can occur with extensions-only payloads\n      var isFinal = responses.some(function (x) {\n        var _x$extensions;\n        return ((_x$extensions = x.extensions) === null || _x$extensions === void 0 ? void 0 : _x$extensions.is_final) === true;\n      });\n      if (isFinal) {\n        this._state = 'loading_final';\n        this._updateActiveState();\n        this._incrementalPayloadsPending = false;\n      }\n      this._sink.next(response);\n      return;\n    }\n\n    // Next, handle optimistic responses\n    var isOptimistic = this._handleOptimisticResponses(responsesWithData);\n    if (isOptimistic) {\n      return;\n    }\n    var _partitionGraphQLResp = partitionGraphQLResponses(responsesWithData),\n      nonIncrementalResponses = _partitionGraphQLResp[0],\n      incrementalResponses = _partitionGraphQLResp[1];\n    var hasNonIncrementalResponses = nonIncrementalResponses.length > 0;\n\n    // In theory this doesn't preserve the ordering of the batch.\n    // The idea is that a batch is always:\n    //  * at most one non-incremental payload\n    //  * followed by zero or more incremental payloads\n    // The non-incremental payload can appear if the server sends a batch\n    // with the initial payload followed by some early-to-resolve incremental\n    // payloads (although, can that even happen?)\n    if (hasNonIncrementalResponses) {\n      // For subscriptions, to avoid every new payload from overwriting existing\n      // data from previous payloads, assign a unique rootID for every new\n      // non-incremental payload.\n      if (this._isSubscriptionOperation) {\n        var nextID = generateUniqueClientID();\n        this._operation = {\n          request: this._operation.request,\n          fragment: createReaderSelector(this._operation.fragment.node, nextID, this._operation.fragment.variables, this._operation.fragment.owner),\n          root: createNormalizationSelector(this._operation.root.node, nextID, this._operation.root.variables)\n        };\n      }\n      var payloadFollowups = this._processResponses(nonIncrementalResponses);\n      this._processPayloadFollowups(payloadFollowups);\n    }\n    if (incrementalResponses.length > 0) {\n      var _payloadFollowups = this._processIncrementalResponses(incrementalResponses);\n      this._processPayloadFollowups(_payloadFollowups);\n    }\n    if (this._isSubscriptionOperation) {\n      // We attach the id to allow the `requestSubscription` to read from the store using\n      // the current id in its `onNext` callback\n      if (responsesWithData[0].extensions == null) {\n        // $FlowFixMe[cannot-write]\n        responsesWithData[0].extensions = {\n          __relay_subscription_root_id: this._operation.fragment.dataID\n        };\n      } else {\n        responsesWithData[0].extensions.__relay_subscription_root_id = this._operation.fragment.dataID;\n      }\n    }\n\n    // OK: run once after each new payload\n    // If we have non-incremental responses, we passing `this._operation` to\n    // the publish queue here, which will later be passed to the store (via\n    // notify) to indicate that this operation caused the store to update\n    var updatedOwners = this._runPublishQueue(hasNonIncrementalResponses ? this._operation : undefined);\n    if (hasNonIncrementalResponses) {\n      if (this._incrementalPayloadsPending) {\n        this._retainData();\n      }\n    }\n    this._updateOperationTracker(updatedOwners);\n    this._sink.next(response);\n  };\n  _proto._processOptimisticResponse = function _processOptimisticResponse(response, updater, treatMissingFieldsAsNull) {\n    var _this6 = this;\n    !(this._optimisticUpdates === null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: environment.execute: only support one optimistic response per ' + 'execute.') : invariant(false) : void 0;\n    if (response == null && updater == null) {\n      return;\n    }\n    var optimisticUpdates = [];\n    if (response) {\n      var payload = normalizeResponse(response, this._operation.root, ROOT_TYPE, {\n        actorIdentifier: this._actorIdentifier,\n        getDataID: this._getDataID,\n        path: [],\n        reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer != null ? this._deserializeReactFlightPayloadWithLogging : null,\n        reactFlightServerErrorHandler: this._reactFlightServerErrorHandler,\n        shouldProcessClientComponents: this._shouldProcessClientComponents,\n        treatMissingFieldsAsNull: treatMissingFieldsAsNull\n      });\n      validateOptimisticResponsePayload(payload);\n      optimisticUpdates.push({\n        operation: this._operation,\n        payload: payload,\n        updater: updater\n      });\n      this._processOptimisticFollowups(payload, optimisticUpdates);\n    } else if (updater) {\n      optimisticUpdates.push({\n        operation: this._operation,\n        payload: {\n          errors: null,\n          fieldPayloads: null,\n          incrementalPlaceholders: null,\n          followupPayloads: null,\n          source: RelayRecordSource.create(),\n          isFinal: false\n        },\n        updater: updater\n      });\n    }\n    this._optimisticUpdates = optimisticUpdates;\n    optimisticUpdates.forEach(function (update) {\n      return _this6._getPublishQueueAndSaveActor().applyUpdate(update);\n    });\n    // OK: only called on construction and when receiving an optimistic payload from network,\n    // which doesn't fall-through to the regular next() handling\n    this._runPublishQueue();\n  };\n  _proto._processOptimisticFollowups = function _processOptimisticFollowups(payload, optimisticUpdates) {\n    if (payload.followupPayloads && payload.followupPayloads.length) {\n      var followupPayloads = payload.followupPayloads;\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(followupPayloads),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var followupPayload = _step.value;\n          switch (followupPayload.kind) {\n            case 'ModuleImportPayload':\n              var operationLoader = this._expectOperationLoader();\n              var operation = operationLoader.get(followupPayload.operationReference);\n              if (operation == null) {\n                this._processAsyncOptimisticModuleImport(followupPayload);\n              } else {\n                var moduleImportOptimisticUpdates = this._processOptimisticModuleImport(operation, followupPayload);\n                optimisticUpdates.push.apply(optimisticUpdates, (0, _toConsumableArray2[\"default\"])(moduleImportOptimisticUpdates));\n              }\n              break;\n            case 'ActorPayload':\n              process.env.NODE_ENV !== \"production\" ? warning(false, 'OperationExecutor: Unexpected optimistic ActorPayload. These updates are not supported.') : void 0;\n              break;\n            default:\n              followupPayload;\n              !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Unexpected followup kind `%s`. when processing optimistic updates.', followupPayload.kind) : invariant(false) : void 0;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }\n\n  /**\n   * Normalize Data for @module payload, and actor-specific payload\n   */;\n  _proto._normalizeFollowupPayload = function _normalizeFollowupPayload(followupPayload, normalizationNode) {\n    var variables;\n    if (normalizationNode.kind === 'SplitOperation' && followupPayload.kind === 'ModuleImportPayload') {\n      variables = getLocalVariables(followupPayload.variables, normalizationNode.argumentDefinitions, followupPayload.args);\n    } else {\n      variables = followupPayload.variables;\n    }\n    var selector = createNormalizationSelector(normalizationNode, followupPayload.dataID, variables);\n    return normalizeResponse({\n      data: followupPayload.data\n    }, selector, followupPayload.typeName, {\n      actorIdentifier: this._actorIdentifier,\n      getDataID: this._getDataID,\n      path: followupPayload.path,\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer != null ? this._deserializeReactFlightPayloadWithLogging : null,\n      reactFlightServerErrorHandler: this._reactFlightServerErrorHandler,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull,\n      shouldProcessClientComponents: this._shouldProcessClientComponents\n    });\n  };\n  _proto._processOptimisticModuleImport = function _processOptimisticModuleImport(normalizationRootNode, moduleImportPayload) {\n    var operation = getOperation(normalizationRootNode);\n    var optimisticUpdates = [];\n    var modulePayload = this._normalizeFollowupPayload(moduleImportPayload, operation);\n    validateOptimisticResponsePayload(modulePayload);\n    optimisticUpdates.push({\n      operation: this._operation,\n      payload: modulePayload,\n      updater: null\n    });\n    this._processOptimisticFollowups(modulePayload, optimisticUpdates);\n    return optimisticUpdates;\n  };\n  _proto._processAsyncOptimisticModuleImport = function _processAsyncOptimisticModuleImport(moduleImportPayload) {\n    var _this7 = this;\n    // $FlowFixMe[unused-promise]\n    this._expectOperationLoader().load(moduleImportPayload.operationReference).then(function (operation) {\n      if (operation == null || _this7._state !== 'started') {\n        return;\n      }\n      var moduleImportOptimisticUpdates = _this7._processOptimisticModuleImport(operation, moduleImportPayload);\n      moduleImportOptimisticUpdates.forEach(function (update) {\n        return _this7._getPublishQueueAndSaveActor().applyUpdate(update);\n      });\n      if (_this7._optimisticUpdates == null) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'OperationExecutor: Unexpected ModuleImport optimistic ' + 'update in operation %s.' + _this7._operation.request.node.params.name) : void 0;\n      } else {\n        var _this$_optimisticUpda;\n        (_this$_optimisticUpda = _this7._optimisticUpdates).push.apply(_this$_optimisticUpda, (0, _toConsumableArray2[\"default\"])(moduleImportOptimisticUpdates));\n        // OK: always have to run() after an module import resolves async\n        _this7._runPublishQueue();\n      }\n    });\n  };\n  _proto._processResponses = function _processResponses(responses) {\n    var _this8 = this;\n    if (this._optimisticUpdates !== null) {\n      this._optimisticUpdates.forEach(function (update) {\n        _this8._getPublishQueueAndSaveActor().revertUpdate(update);\n      });\n      this._optimisticUpdates = null;\n    }\n    this._incrementalPayloadsPending = false;\n    this._incrementalResults.clear();\n    this._source.clear();\n    return responses.map(function (payloadPart) {\n      var relayPayload = normalizeResponse(payloadPart, _this8._operation.root, ROOT_TYPE, {\n        actorIdentifier: _this8._actorIdentifier,\n        getDataID: _this8._getDataID,\n        path: [],\n        reactFlightPayloadDeserializer: _this8._reactFlightPayloadDeserializer != null ? _this8._deserializeReactFlightPayloadWithLogging : null,\n        reactFlightServerErrorHandler: _this8._reactFlightServerErrorHandler,\n        treatMissingFieldsAsNull: _this8._treatMissingFieldsAsNull,\n        shouldProcessClientComponents: _this8._shouldProcessClientComponents\n      });\n      _this8._getPublishQueueAndSaveActor().commitPayload(_this8._operation, relayPayload, _this8._updater);\n      return relayPayload;\n    });\n  }\n\n  /**\n   * Handles any follow-up actions for a Relay payload for @match, @defer,\n   * and @stream directives.\n   */;\n  _proto._processPayloadFollowups = function _processPayloadFollowups(payloads) {\n    var _this9 = this;\n    if (this._state === 'completed') {\n      return;\n    }\n    payloads.forEach(function (payload) {\n      var incrementalPlaceholders = payload.incrementalPlaceholders,\n        followupPayloads = payload.followupPayloads,\n        isFinal = payload.isFinal;\n      _this9._state = isFinal ? 'loading_final' : 'loading_incremental';\n      _this9._updateActiveState();\n      if (isFinal) {\n        _this9._incrementalPayloadsPending = false;\n      }\n      if (followupPayloads && followupPayloads.length !== 0) {\n        followupPayloads.forEach(function (followupPayload) {\n          var _followupPayload$acto;\n          var prevActorIdentifier = _this9._actorIdentifier;\n          _this9._actorIdentifier = (_followupPayload$acto = followupPayload.actorIdentifier) !== null && _followupPayload$acto !== void 0 ? _followupPayload$acto : _this9._actorIdentifier;\n          _this9._processFollowupPayload(followupPayload);\n          _this9._actorIdentifier = prevActorIdentifier;\n        });\n      }\n      if (incrementalPlaceholders && incrementalPlaceholders.length !== 0) {\n        _this9._incrementalPayloadsPending = _this9._state !== 'loading_final';\n        incrementalPlaceholders.forEach(function (incrementalPlaceholder) {\n          var _incrementalPlacehold;\n          var prevActorIdentifier = _this9._actorIdentifier;\n          _this9._actorIdentifier = (_incrementalPlacehold = incrementalPlaceholder.actorIdentifier) !== null && _incrementalPlacehold !== void 0 ? _incrementalPlacehold : _this9._actorIdentifier;\n          _this9._processIncrementalPlaceholder(payload, incrementalPlaceholder);\n          _this9._actorIdentifier = prevActorIdentifier;\n        });\n        if (_this9._isClientPayload || _this9._state === 'loading_final') {\n          // The query has defer/stream selections that are enabled, but either\n          // the server indicated that this is a \"final\" payload: no incremental\n          // payloads will be delivered, then warn that the query was (likely)\n          // executed on the server in non-streaming mode, with incremental\n          // delivery disabled; or this is a client payload, and there will be\n          // no incremental payload.\n          process.env.NODE_ENV !== \"production\" ? warning(_this9._isClientPayload, 'RelayModernEnvironment: Operation `%s` contains @defer/@stream ' + 'directives but was executed in non-streaming mode. See ' + 'https://fburl.com/relay-incremental-delivery-non-streaming-warning.', _this9._operation.request.node.params.name) : void 0;\n          // But eagerly process any deferred payloads\n          var relayPayloads = [];\n          incrementalPlaceholders.forEach(function (placeholder) {\n            if (placeholder.kind === 'defer') {\n              relayPayloads.push(_this9._processDeferResponse(placeholder.label, placeholder.path, placeholder, {\n                data: placeholder.data\n              }));\n            }\n          });\n          if (relayPayloads.length > 0) {\n            _this9._processPayloadFollowups(relayPayloads);\n          }\n        }\n      }\n    });\n  };\n  _proto._maybeCompleteSubscriptionOperationTracking = function _maybeCompleteSubscriptionOperationTracking() {\n    if (!this._isSubscriptionOperation) {\n      return;\n    }\n    if (this._pendingModulePayloadsCount === 0 && this._incrementalPayloadsPending === false) {\n      this._completeOperationTracker();\n    }\n  }\n\n  /**\n   * Processes a ModuleImportPayload, asynchronously resolving the normalization\n   * AST and using it to normalize the field data into a RelayResponsePayload.\n   * The resulting payload may contain other incremental payloads (match,\n   * defer, stream, etc); these are handled by calling\n   * `_processPayloadFollowups()`.\n   */;\n  _proto._processFollowupPayload = function _processFollowupPayload(followupPayload) {\n    var _this10 = this;\n    switch (followupPayload.kind) {\n      case 'ModuleImportPayload':\n        var operationLoader = this._expectOperationLoader();\n        var node = operationLoader.get(followupPayload.operationReference);\n        if (node != null) {\n          // If the operation module is available synchronously, normalize the\n          // data synchronously.\n          this._processFollowupPayloadWithNormalizationNode(followupPayload, getOperation(node));\n        } else {\n          // Otherwise load the operation module and schedule a task to normalize\n          // the data when the module is available.\n          var id = this._nextSubscriptionId++;\n          this._pendingModulePayloadsCount++;\n          var decrementPendingCount = function decrementPendingCount() {\n            _this10._pendingModulePayloadsCount--;\n            _this10._maybeCompleteSubscriptionOperationTracking();\n          };\n\n          // Observable.from(operationLoader.load()) wouldn't catch synchronous\n          // errors thrown by the load function, which is user-defined. Guard\n          // against that with Observable.from(new Promise(<work>)).\n          var networkObservable = RelayObservable.from(new Promise(function (resolve, reject) {\n            operationLoader.load(followupPayload.operationReference).then(resolve, reject);\n          }));\n          RelayObservable.create(function (sink) {\n            var cancellationToken;\n            var subscription = networkObservable.subscribe({\n              next: function next(loadedNode) {\n                if (loadedNode != null) {\n                  var publishModuleImportPayload = function publishModuleImportPayload() {\n                    try {\n                      var operation = getOperation(loadedNode);\n                      var batchAsyncModuleUpdatesFN = RelayFeatureFlags.BATCH_ASYNC_MODULE_UPDATES_FN;\n                      var shouldScheduleAsyncStoreUpdate = batchAsyncModuleUpdatesFN != null && _this10._pendingModulePayloadsCount > 1;\n                      var _withDuration3 = withDuration(function () {\n                          _this10._handleFollowupPayload(followupPayload, operation);\n                          // OK: always have to run after an async module import resolves\n                          if (shouldScheduleAsyncStoreUpdate) {\n                            _this10._scheduleAsyncStoreUpdate(\n                            // $FlowFixMe[incompatible-call] `shouldScheduleAsyncStoreUpdate` check should cover `null` case\n                            batchAsyncModuleUpdatesFN, sink.complete);\n                          } else {\n                            var updatedOwners = _this10._runPublishQueue();\n                            _this10._updateOperationTracker(updatedOwners);\n                          }\n                        }),\n                        duration = _withDuration3[0];\n                      _this10._log({\n                        name: 'execute.async.module',\n                        executeId: _this10._executeId,\n                        operationName: operation.name,\n                        duration: duration\n                      });\n                      if (!shouldScheduleAsyncStoreUpdate) {\n                        sink.complete();\n                      }\n                    } catch (error) {\n                      sink.error(error);\n                    }\n                  };\n                  var scheduler = _this10._scheduler;\n                  if (scheduler == null) {\n                    publishModuleImportPayload();\n                  } else {\n                    cancellationToken = scheduler.schedule(publishModuleImportPayload);\n                  }\n                } else {\n                  sink.complete();\n                }\n              },\n              error: sink.error\n            });\n            return function () {\n              subscription.unsubscribe();\n              if (_this10._scheduler != null && cancellationToken != null) {\n                _this10._scheduler.cancel(cancellationToken);\n              }\n            };\n          }).subscribe({\n            complete: function complete() {\n              _this10._complete(id);\n              decrementPendingCount();\n            },\n            error: function error(_error4) {\n              _this10._error(_error4);\n              decrementPendingCount();\n            },\n            start: function start(subscription) {\n              return _this10._start(id, subscription);\n            }\n          });\n        }\n        break;\n      case 'ActorPayload':\n        this._processFollowupPayloadWithNormalizationNode(followupPayload, followupPayload.node);\n        break;\n      default:\n        followupPayload;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Unexpected followup kind `%s`.', followupPayload.kind) : invariant(false) : void 0;\n    }\n  };\n  _proto._processFollowupPayloadWithNormalizationNode = function _processFollowupPayloadWithNormalizationNode(followupPayload, normalizationNode) {\n    this._handleFollowupPayload(followupPayload, normalizationNode);\n    this._maybeCompleteSubscriptionOperationTracking();\n  };\n  _proto._handleFollowupPayload = function _handleFollowupPayload(followupPayload, normalizationNode) {\n    var relayPayload = this._normalizeFollowupPayload(followupPayload, normalizationNode);\n    this._getPublishQueueAndSaveActor().commitPayload(this._operation, relayPayload);\n    this._processPayloadFollowups([relayPayload]);\n  }\n\n  /**\n   * The executor now knows that GraphQL responses are expected for a given\n   * label/path:\n   * - Store the placeholder in order to process any future responses that may\n   *   arrive.\n   * - Then process any responses that had already arrived.\n   *\n   * The placeholder contains the normalization selector, path (for nested\n   * defer/stream), and other metadata used to normalize the incremental\n   * response(s).\n   */;\n  _proto._processIncrementalPlaceholder = function _processIncrementalPlaceholder(relayPayload, placeholder) {\n    var _relayPayload$fieldPa;\n    // Update the label => path => placeholder map\n    var label = placeholder.label,\n      path = placeholder.path;\n    var pathKey = path.map(String).join('.');\n    var resultForLabel = this._incrementalResults.get(label);\n    if (resultForLabel == null) {\n      resultForLabel = new Map();\n      this._incrementalResults.set(label, resultForLabel);\n    }\n    var resultForPath = resultForLabel.get(pathKey);\n    var pendingResponses = resultForPath != null && resultForPath.kind === 'response' ? resultForPath.responses : null;\n    resultForLabel.set(pathKey, {\n      kind: 'placeholder',\n      placeholder: placeholder\n    });\n\n    // Store references to the parent node to allow detecting concurrent\n    // modifications to the parent before items arrive and to replay\n    // handle field payloads to account for new information on source records.\n    var parentID;\n    if (placeholder.kind === 'stream') {\n      parentID = placeholder.parentID;\n    } else if (placeholder.kind === 'defer') {\n      parentID = placeholder.selector.dataID;\n    } else {\n      placeholder;\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Unsupported incremental placeholder kind `%s`.', placeholder.kind) : invariant(false) : void 0;\n    }\n    var parentRecord = relayPayload.source.get(parentID);\n    var parentPayloads = ((_relayPayload$fieldPa = relayPayload.fieldPayloads) !== null && _relayPayload$fieldPa !== void 0 ? _relayPayload$fieldPa : []).filter(function (fieldPayload) {\n      var fieldID = generateClientID(fieldPayload.dataID, fieldPayload.fieldKey);\n      return (\n        // handlers applied to the streamed field itself\n        fieldPayload.dataID === parentID ||\n        // handlers applied to a field on an ancestor object, where\n        // ancestor.field links to the parent record (example: connections)\n        fieldID === parentID\n      );\n    });\n    // If an incremental payload exists for some id that record should also\n    // exist.\n    !(parentRecord != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected record `%s` to exist.', parentID) : invariant(false) : void 0;\n    var nextParentRecord;\n    var nextParentPayloads;\n    var previousParentEntry = this._source.get(parentID);\n    if (previousParentEntry != null) {\n      // If a previous entry exists, merge the previous/next records and\n      // payloads together.\n      nextParentRecord = RelayModernRecord.update(previousParentEntry.record, parentRecord);\n      var handlePayloads = new Map();\n      var dedupePayload = function dedupePayload(payload) {\n        var key = stableStringify(payload);\n        handlePayloads.set(key, payload);\n      };\n      previousParentEntry.fieldPayloads.forEach(dedupePayload);\n      parentPayloads.forEach(dedupePayload);\n      nextParentPayloads = Array.from(handlePayloads.values());\n    } else {\n      nextParentRecord = parentRecord;\n      nextParentPayloads = parentPayloads;\n    }\n    this._source.set(parentID, {\n      record: nextParentRecord,\n      fieldPayloads: nextParentPayloads\n    });\n\n    // If there were any queued responses, process them now that placeholders\n    // are in place\n    if (pendingResponses != null) {\n      var payloadFollowups = this._processIncrementalResponses(pendingResponses);\n      this._processPayloadFollowups(payloadFollowups);\n    }\n  }\n\n  /**\n   * Lookup the placeholder the describes how to process an incremental\n   * response, normalize/publish it, and process any nested defer/match/stream\n   * metadata.\n   */;\n  _proto._processIncrementalResponses = function _processIncrementalResponses(incrementalResponses) {\n    var _this11 = this;\n    var relayPayloads = [];\n    incrementalResponses.forEach(function (incrementalResponse) {\n      var label = incrementalResponse.label,\n        path = incrementalResponse.path,\n        response = incrementalResponse.response;\n      var resultForLabel = _this11._incrementalResults.get(label);\n      if (resultForLabel == null) {\n        resultForLabel = new Map();\n        _this11._incrementalResults.set(label, resultForLabel);\n      }\n      if (label.indexOf('$defer$') !== -1) {\n        var pathKey = path.map(String).join('.');\n        var resultForPath = resultForLabel.get(pathKey);\n        if (resultForPath == null) {\n          resultForPath = {\n            kind: 'response',\n            responses: [incrementalResponse]\n          };\n          resultForLabel.set(pathKey, resultForPath);\n          return;\n        } else if (resultForPath.kind === 'response') {\n          resultForPath.responses.push(incrementalResponse);\n          return;\n        }\n        var placeholder = resultForPath.placeholder;\n        !(placeholder.kind === 'defer') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected data for path `%s` for label `%s` ' + 'to be data for @defer, was `@%s`.', pathKey, label, placeholder.kind) : invariant(false) : void 0;\n        relayPayloads.push(_this11._processDeferResponse(label, path, placeholder, response));\n      } else {\n        // @stream payload path values end in the field name and item index,\n        // but Relay records paths relative to the parent of the stream node:\n        // therefore we strip the last two elements just to lookup the path\n        // (the item index is used later to insert the element in the list)\n        var _pathKey = path.slice(0, -2).map(String).join('.');\n        var _resultForPath = resultForLabel.get(_pathKey);\n        if (_resultForPath == null) {\n          _resultForPath = {\n            kind: 'response',\n            responses: [incrementalResponse]\n          };\n          resultForLabel.set(_pathKey, _resultForPath);\n          return;\n        } else if (_resultForPath.kind === 'response') {\n          _resultForPath.responses.push(incrementalResponse);\n          return;\n        }\n        var _placeholder = _resultForPath.placeholder;\n        !(_placeholder.kind === 'stream') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected data for path `%s` for label `%s` ' + 'to be data for @stream, was `@%s`.', _pathKey, label, _placeholder.kind) : invariant(false) : void 0;\n        relayPayloads.push(_this11._processStreamResponse(label, path, _placeholder, response));\n      }\n    });\n    return relayPayloads;\n  };\n  _proto._processDeferResponse = function _processDeferResponse(label, path, placeholder, response) {\n    var _placeholder$actorIde;\n    var parentID = placeholder.selector.dataID;\n    var prevActorIdentifier = this._actorIdentifier;\n    this._actorIdentifier = (_placeholder$actorIde = placeholder.actorIdentifier) !== null && _placeholder$actorIde !== void 0 ? _placeholder$actorIde : this._actorIdentifier;\n    var relayPayload = normalizeResponse(response, placeholder.selector, placeholder.typeName, {\n      actorIdentifier: this._actorIdentifier,\n      getDataID: this._getDataID,\n      path: placeholder.path,\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer != null ? this._deserializeReactFlightPayloadWithLogging : null,\n      reactFlightServerErrorHandler: this._reactFlightServerErrorHandler,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull,\n      shouldProcessClientComponents: this._shouldProcessClientComponents\n    });\n    this._getPublishQueueAndSaveActor().commitPayload(this._operation, relayPayload);\n\n    // Load the version of the parent record from which this incremental data\n    // was derived\n    var parentEntry = this._source.get(parentID);\n    !(parentEntry != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected the parent record `%s` for @defer ' + 'data to exist.', parentID) : invariant(false) : void 0;\n    var fieldPayloads = parentEntry.fieldPayloads;\n    if (fieldPayloads.length !== 0) {\n      var _response$extensions2;\n      var handleFieldsRelayPayload = {\n        errors: null,\n        fieldPayloads: fieldPayloads,\n        incrementalPlaceholders: null,\n        followupPayloads: null,\n        source: RelayRecordSource.create(),\n        isFinal: ((_response$extensions2 = response.extensions) === null || _response$extensions2 === void 0 ? void 0 : _response$extensions2.is_final) === true\n      };\n      this._getPublishQueueAndSaveActor().commitPayload(this._operation, handleFieldsRelayPayload);\n    }\n    this._actorIdentifier = prevActorIdentifier;\n    return relayPayload;\n  }\n\n  /**\n   * Process the data for one item in a @stream field.\n   */;\n  _proto._processStreamResponse = function _processStreamResponse(label, path, placeholder, response) {\n    var parentID = placeholder.parentID,\n      node = placeholder.node,\n      variables = placeholder.variables,\n      actorIdentifier = placeholder.actorIdentifier;\n    var prevActorIdentifier = this._actorIdentifier;\n    this._actorIdentifier = actorIdentifier !== null && actorIdentifier !== void 0 ? actorIdentifier : this._actorIdentifier;\n    // Find the LinkedField where @stream was applied\n    var field = node.selections[0];\n    !(field != null && field.kind === 'LinkedField' && field.plural === true) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected @stream to be used on a plural field.') : invariant(false) : void 0;\n    var _this$_normalizeStrea = this._normalizeStreamItem(response, parentID, field, variables, path, placeholder.path),\n      fieldPayloads = _this$_normalizeStrea.fieldPayloads,\n      itemID = _this$_normalizeStrea.itemID,\n      itemIndex = _this$_normalizeStrea.itemIndex,\n      prevIDs = _this$_normalizeStrea.prevIDs,\n      relayPayload = _this$_normalizeStrea.relayPayload,\n      storageKey = _this$_normalizeStrea.storageKey;\n    // Publish the new item and update the parent record to set\n    // field[index] = item *if* the parent record hasn't been concurrently\n    // modified.\n    this._getPublishQueueAndSaveActor().commitPayload(this._operation, relayPayload, function (store) {\n      var currentParentRecord = store.get(parentID);\n      if (currentParentRecord == null) {\n        // parent has since been deleted, stream data is stale\n        return;\n      }\n      var currentItems = currentParentRecord.getLinkedRecords(storageKey);\n      if (currentItems == null) {\n        // field has since been deleted, stream data is stale\n        return;\n      }\n      if (currentItems.length !== prevIDs.length || currentItems.some(function (currentItem, index) {\n        return prevIDs[index] !== (currentItem && currentItem.getDataID());\n      })) {\n        // field has been modified by something other than this query,\n        // stream data is stale\n        return;\n      }\n      // parent.field has not been concurrently modified:\n      // update `parent.field[index] = item`\n      var nextItems = (0, _toConsumableArray2[\"default\"])(currentItems);\n      nextItems[itemIndex] = store.get(itemID);\n      currentParentRecord.setLinkedRecords(nextItems, storageKey);\n    });\n\n    // Now that the parent record has been updated to include the new item,\n    // also update any handle fields that are derived from the parent record.\n    if (fieldPayloads.length !== 0) {\n      var handleFieldsRelayPayload = {\n        errors: null,\n        fieldPayloads: fieldPayloads,\n        incrementalPlaceholders: null,\n        followupPayloads: null,\n        source: RelayRecordSource.create(),\n        isFinal: false\n      };\n      this._getPublishQueueAndSaveActor().commitPayload(this._operation, handleFieldsRelayPayload);\n    }\n    this._actorIdentifier = prevActorIdentifier;\n    return relayPayload;\n  };\n  _proto._normalizeStreamItem = function _normalizeStreamItem(response, parentID, field, variables, path, normalizationPath) {\n    var _field$alias, _field$concreteType, _ref, _this$_getDataID;\n    var data = response.data;\n    !(typeof data === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected the GraphQL @stream payload `data` ' + 'value to be an object.') : invariant(false) : void 0;\n    var responseKey = (_field$alias = field.alias) !== null && _field$alias !== void 0 ? _field$alias : field.name;\n    var storageKey = getStorageKey(field, variables);\n\n    // Load the version of the parent record from which this incremental data\n    // was derived\n    var parentEntry = this._source.get(parentID);\n    !(parentEntry != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected the parent record `%s` for @stream ' + 'data to exist.', parentID) : invariant(false) : void 0;\n    var parentRecord = parentEntry.record,\n      fieldPayloads = parentEntry.fieldPayloads;\n\n    // Load the field value (items) that were created by *this* query executor\n    // in order to check if there has been any concurrent modifications by some\n    // other operation.\n    var prevIDs = RelayModernRecord.getLinkedRecordIDs(parentRecord, storageKey);\n    !(prevIDs != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected record `%s` to have fetched field ' + '`%s` with @stream.', parentID, field.name) : invariant(false) : void 0;\n\n    // Determine the index in the field of the new item\n    var finalPathEntry = path[path.length - 1];\n    var itemIndex = parseInt(finalPathEntry, 10);\n    !(itemIndex === finalPathEntry && itemIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected path for @stream to end in a ' + 'positive integer index, got `%s`', finalPathEntry) : invariant(false) : void 0;\n    var typeName = (_field$concreteType = field.concreteType) !== null && _field$concreteType !== void 0 ? _field$concreteType : data[TYPENAME_KEY];\n    !(typeof typeName === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected @stream field `%s` to have a ' + '__typename.', field.name) : invariant(false) : void 0;\n\n    // Determine the __id of the new item: this must equal the value that would\n    // be assigned had the item not been streamed\n    var itemID = (_ref = (_this$_getDataID = this._getDataID(data, typeName)) !== null && _this$_getDataID !== void 0 ? _this$_getDataID : prevIDs === null || prevIDs === void 0 ? void 0 : prevIDs[itemIndex]) !== null && _ref !== void 0 ? _ref :\n    // Reuse previously generated client IDs\n    generateClientID(parentID, storageKey, itemIndex);\n    !(typeof itemID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected id of elements of field `%s` to ' + 'be strings.', storageKey) : invariant(false) : void 0;\n\n    // Build a selector to normalize the item data with\n    var selector = createNormalizationSelector(field, itemID, variables);\n\n    // Update the cached version of the parent record to reflect the new item:\n    // this is used when subsequent stream payloads arrive to see if there\n    // have been concurrent modifications to the list\n    var nextParentRecord = RelayModernRecord.clone(parentRecord);\n    var nextIDs = (0, _toConsumableArray2[\"default\"])(prevIDs);\n    nextIDs[itemIndex] = itemID;\n    RelayModernRecord.setLinkedRecordIDs(nextParentRecord, storageKey, nextIDs);\n    this._source.set(parentID, {\n      record: nextParentRecord,\n      fieldPayloads: fieldPayloads\n    });\n    var relayPayload = normalizeResponse(response, selector, typeName, {\n      actorIdentifier: this._actorIdentifier,\n      getDataID: this._getDataID,\n      path: [].concat((0, _toConsumableArray2[\"default\"])(normalizationPath), [responseKey, String(itemIndex)]),\n      reactFlightPayloadDeserializer: this._reactFlightPayloadDeserializer != null ? this._deserializeReactFlightPayloadWithLogging : null,\n      reactFlightServerErrorHandler: this._reactFlightServerErrorHandler,\n      treatMissingFieldsAsNull: this._treatMissingFieldsAsNull,\n      shouldProcessClientComponents: this._shouldProcessClientComponents\n    });\n    return {\n      fieldPayloads: fieldPayloads,\n      itemID: itemID,\n      itemIndex: itemIndex,\n      prevIDs: prevIDs,\n      relayPayload: relayPayload,\n      storageKey: storageKey\n    };\n  };\n  _proto._scheduleAsyncStoreUpdate = function _scheduleAsyncStoreUpdate(scheduleFn, completeFn) {\n    var _this12 = this;\n    this._completeFns.push(completeFn);\n    if (this._asyncStoreUpdateDisposable != null) {\n      return;\n    }\n    this._asyncStoreUpdateDisposable = scheduleFn(function () {\n      _this12._asyncStoreUpdateDisposable = null;\n      var updatedOwners = _this12._runPublishQueue();\n      _this12._updateOperationTracker(updatedOwners);\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(_this12._completeFns),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var complete = _step2.value;\n          complete();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      _this12._completeFns = [];\n    });\n  };\n  _proto._updateOperationTracker = function _updateOperationTracker(updatedOwners) {\n    if (updatedOwners != null && updatedOwners.length > 0) {\n      this._operationTracker.update(this._operation.request, new Set(updatedOwners));\n    }\n  };\n  _proto._completeOperationTracker = function _completeOperationTracker() {\n    this._operationTracker.complete(this._operation.request);\n  };\n  _proto._getPublishQueueAndSaveActor = function _getPublishQueueAndSaveActor() {\n    this._seenActors.add(this._actorIdentifier);\n    return this._getPublishQueue(this._actorIdentifier);\n  };\n  _proto._getActorsToVisit = function _getActorsToVisit() {\n    if (this._seenActors.size === 0) {\n      return new Set([this._actorIdentifier]);\n    } else {\n      return this._seenActors;\n    }\n  };\n  _proto._runPublishQueue = function _runPublishQueue(operation) {\n    var updatedOwners = new Set();\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(this._getActorsToVisit()),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var actorIdentifier = _step3.value;\n        var owners = this._getPublishQueue(actorIdentifier).run(operation);\n        owners.forEach(function (owner) {\n          return updatedOwners.add(owner);\n        });\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return Array.from(updatedOwners);\n  };\n  _proto._retainData = function _retainData() {\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(this._getActorsToVisit()),\n      _step4;\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var actorIdentifier = _step4.value;\n        if (!this._retainDisposables.has(actorIdentifier)) {\n          this._retainDisposables.set(actorIdentifier, this._getStore(actorIdentifier).retain(this._operation));\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  };\n  _proto._disposeRetainedData = function _disposeRetainedData() {\n    var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(this._retainDisposables.values()),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var disposable = _step5.value;\n        disposable.dispose();\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n    this._retainDisposables.clear();\n  };\n  _proto._expectOperationLoader = function _expectOperationLoader() {\n    var operationLoader = this._operationLoader;\n    !operationLoader ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: Expected an operationLoader to be ' + 'configured when using `@match`.') : invariant(false) : void 0;\n    return operationLoader;\n  };\n  return Executor;\n}();\nfunction partitionGraphQLResponses(responses) {\n  var nonIncrementalResponses = [];\n  var incrementalResponses = [];\n  responses.forEach(function (response) {\n    if (response.path != null || response.label != null) {\n      var label = response.label,\n        path = response.path;\n      if (label == null || path == null) {\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: invalid incremental payload, expected ' + '`path` and `label` to either both be null/undefined, or ' + '`path` to be an `Array<string | number>` and `label` to be a ' + '`string`.') : invariant(false) : void 0;\n      }\n      incrementalResponses.push({\n        label: label,\n        path: path,\n        response: response\n      });\n    } else {\n      nonIncrementalResponses.push(response);\n    }\n  });\n  return [nonIncrementalResponses, incrementalResponses];\n}\nfunction normalizeResponse(response, selector, typeName, options) {\n  var _response$extensions3;\n  var data = response.data,\n    errors = response.errors;\n  var source = RelayRecordSource.create();\n  var record = RelayModernRecord.create(selector.dataID, typeName);\n  source.set(selector.dataID, record);\n  var relayPayload = RelayResponseNormalizer.normalize(source, selector, data, options);\n  return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, relayPayload), {}, {\n    errors: errors,\n    isFinal: ((_response$extensions3 = response.extensions) === null || _response$extensions3 === void 0 ? void 0 : _response$extensions3.is_final) === true\n  });\n}\nfunction stableStringify(value) {\n  var _JSON$stringify;\n  return (_JSON$stringify = JSON.stringify(stableCopy(value))) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : ''; // null-check for flow\n}\n\nfunction validateOptimisticResponsePayload(payload) {\n  var incrementalPlaceholders = payload.incrementalPlaceholders;\n  if (incrementalPlaceholders != null && incrementalPlaceholders.length !== 0) {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'OperationExecutor: optimistic responses cannot be returned ' + 'for operations that use incremental data delivery (@defer, ' + '@stream, and @stream_connection).') : invariant(false) : void 0;\n  }\n}\nmodule.exports = {\n  execute: execute\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _require = require('./RelayStoreUtils'),\n  getArgumentValues = _require.getArgumentValues;\nvar invariant = require('invariant');\n\n/**\n * Determines the variables that are in scope for a fragment given the variables\n * in scope at the root query as well as any arguments applied at the fragment\n * spread via `@arguments`.\n *\n * Note that this is analagous to determining function arguments given a function call.\n */\nfunction getFragmentVariables(fragment, rootVariables, argumentVariables) {\n  // TODO: Support for legacy ReaderInlineDataFragmentSpread nodes.\n  // Remove this once all we've updated the ReaderInlineDataFragmentSpread\n  // type to indicate that all compiled artifacts have been updated.\n  if (fragment.argumentDefinitions == null) {\n    return argumentVariables;\n  }\n  var variables;\n  fragment.argumentDefinitions.forEach(function (definition) {\n    if (argumentVariables.hasOwnProperty(definition.name)) {\n      return;\n    }\n    variables = variables || (0, _objectSpread2[\"default\"])({}, argumentVariables);\n    switch (definition.kind) {\n      case 'LocalArgument':\n        variables[definition.name] = definition.defaultValue;\n        break;\n      case 'RootArgument':\n        if (!rootVariables.hasOwnProperty(definition.name)) {\n          /*\n           * Global variables passed as values of @arguments are not required to\n           * be declared unless they are used by the callee fragment or a\n           * descendant. In this case, the root variable may not be defined when\n           * resolving the callee's variables. The value is explicitly set to\n           * undefined to conform to the check in\n           * RelayStoreUtils.getStableVariableValue() that variable keys are all\n           * present.\n           */\n          variables[definition.name] = undefined;\n          break;\n        }\n        variables[definition.name] = rootVariables[definition.name];\n        break;\n      default:\n        definition;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayConcreteVariables: Unexpected node kind `%s` in fragment `%s`.', definition.kind, fragment.name) : invariant(false) : void 0;\n    }\n  });\n  return variables || argumentVariables;\n}\n\n/**\n * Determines the variables that are in scope for a given operation given values\n * for some/all of its arguments.\n * - extraneous input variables are filtered from the output\n * - missing variables are set to default values (if given in the\n * operation's definition).\n * - variables with provider modules are added\n */\nfunction getOperationVariables(operation, providedVariables, variables) {\n  var operationVariables = {};\n  operation.argumentDefinitions.forEach(function (def) {\n    var value = def.defaultValue;\n    if (variables[def.name] != null) {\n      value = variables[def.name];\n    }\n    operationVariables[def.name] = value;\n  });\n  if (providedVariables != null) {\n    Object.keys(providedVariables).forEach(function (varName) {\n      operationVariables[varName] = providedVariables[varName].get();\n    });\n  }\n  return operationVariables;\n}\nfunction getLocalVariables(currentVariables, argumentDefinitions, args) {\n  if (argumentDefinitions == null) {\n    return currentVariables;\n  }\n  var nextVariables = (0, _objectSpread2[\"default\"])({}, currentVariables);\n  var nextArgs = args ? getArgumentValues(args, currentVariables) : {};\n  argumentDefinitions.forEach(function (def) {\n    var _nextArgs$def$name;\n    var value = (_nextArgs$def$name = nextArgs[def.name]) !== null && _nextArgs$def$name !== void 0 ? _nextArgs$def$name : def.defaultValue;\n    nextVariables[def.name] = value;\n  });\n  return nextVariables;\n}\nmodule.exports = {\n  getLocalVariables: getLocalVariables,\n  getFragmentVariables: getFragmentVariables,\n  getOperationVariables: getOperationVariables\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar RelayDefaultHandlerProvider = require('../handlers/RelayDefaultHandlerProvider');\nvar _require = require('../multi-actor-environment/ActorIdentifier'),\n  INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE = _require.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,\n  assertInternalActorIdentifier = _require.assertInternalActorIdentifier;\nvar RelayObservable = require('../network/RelayObservable');\nvar wrapNetworkWithLogObserver = require('../network/wrapNetworkWithLogObserver');\nvar RelayOperationTracker = require('../store/RelayOperationTracker');\nvar registerEnvironmentWithDevTools = require('../util/registerEnvironmentWithDevTools');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar defaultGetDataID = require('./defaultGetDataID');\nvar defaultRequiredFieldLogger = require('./defaultRequiredFieldLogger');\nvar OperationExecutor = require('./OperationExecutor');\nvar RelayPublishQueue = require('./RelayPublishQueue');\nvar RelayRecordSource = require('./RelayRecordSource');\nvar invariant = require('invariant');\nvar RelayModernEnvironment = /*#__PURE__*/function () {\n  function RelayModernEnvironment(config) {\n    var _this = this;\n    var _config$log, _config$requiredField, _config$UNSTABLE_defa, _config$getDataID, _config$missingFieldH, _config$handlerProvid, _config$scheduler, _config$isServer, _config$operationTrac;\n    this.configName = config.configName;\n    this._treatMissingFieldsAsNull = config.treatMissingFieldsAsNull === true;\n    var operationLoader = config.operationLoader;\n    var reactFlightPayloadDeserializer = config.reactFlightPayloadDeserializer;\n    var reactFlightServerErrorHandler = config.reactFlightServerErrorHandler;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (operationLoader != null) {\n        !(typeof operationLoader === 'object' && typeof operationLoader.get === 'function' && typeof operationLoader.load === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected `operationLoader` to be an object ' + 'with get() and load() functions, got `%s`.', operationLoader) : invariant(false) : void 0;\n      }\n      if (reactFlightPayloadDeserializer != null) {\n        !(typeof reactFlightPayloadDeserializer === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected `reactFlightPayloadDeserializer` ' + ' to be a function, got `%s`.', reactFlightPayloadDeserializer) : invariant(false) : void 0;\n      }\n    }\n    this.__log = (_config$log = config.log) !== null && _config$log !== void 0 ? _config$log : emptyFunction;\n    this.requiredFieldLogger = (_config$requiredField = config.requiredFieldLogger) !== null && _config$requiredField !== void 0 ? _config$requiredField : defaultRequiredFieldLogger;\n    this._defaultRenderPolicy = ((_config$UNSTABLE_defa = config.UNSTABLE_defaultRenderPolicy) !== null && _config$UNSTABLE_defa !== void 0 ? _config$UNSTABLE_defa : RelayFeatureFlags.ENABLE_PARTIAL_RENDERING_DEFAULT === true) ? 'partial' : 'full';\n    this._operationLoader = operationLoader;\n    this._operationExecutions = new Map();\n    this._network = wrapNetworkWithLogObserver(this, config.network);\n    this._getDataID = (_config$getDataID = config.getDataID) !== null && _config$getDataID !== void 0 ? _config$getDataID : defaultGetDataID;\n    this._missingFieldHandlers = (_config$missingFieldH = config.missingFieldHandlers) !== null && _config$missingFieldH !== void 0 ? _config$missingFieldH : [];\n    this._publishQueue = new RelayPublishQueue(config.store, (_config$handlerProvid = config.handlerProvider) !== null && _config$handlerProvid !== void 0 ? _config$handlerProvid : RelayDefaultHandlerProvider, this._getDataID, this._missingFieldHandlers);\n    this._scheduler = (_config$scheduler = config.scheduler) !== null && _config$scheduler !== void 0 ? _config$scheduler : null;\n    this._store = config.store;\n    this.options = config.options;\n    this._isServer = (_config$isServer = config.isServer) !== null && _config$isServer !== void 0 ? _config$isServer : false;\n    this.__setNet = function (newNet) {\n      return _this._network = wrapNetworkWithLogObserver(_this, newNet);\n    };\n    if (process.env.NODE_ENV !== \"production\") {\n      var _require2 = require('./StoreInspector'),\n        inspect = _require2.inspect;\n      this.DEBUG_inspect = function (dataID) {\n        return inspect(_this, dataID);\n      };\n    }\n    this._operationTracker = (_config$operationTrac = config.operationTracker) !== null && _config$operationTrac !== void 0 ? _config$operationTrac : new RelayOperationTracker();\n    this._reactFlightPayloadDeserializer = reactFlightPayloadDeserializer;\n    this._reactFlightServerErrorHandler = reactFlightServerErrorHandler;\n    this._shouldProcessClientComponents = config.shouldProcessClientComponents;\n\n    // Register this Relay Environment with Relay DevTools if it exists.\n    // Note: this must always be the last step in the constructor.\n    registerEnvironmentWithDevTools(this);\n  }\n  var _proto = RelayModernEnvironment.prototype;\n  _proto.getStore = function getStore() {\n    return this._store;\n  };\n  _proto.getNetwork = function getNetwork() {\n    return this._network;\n  };\n  _proto.getOperationTracker = function getOperationTracker() {\n    return this._operationTracker;\n  };\n  _proto.getScheduler = function getScheduler() {\n    return this._scheduler;\n  };\n  _proto.isRequestActive = function isRequestActive(requestIdentifier) {\n    var activeState = this._operationExecutions.get(requestIdentifier);\n    return activeState === 'active';\n  };\n  _proto.UNSTABLE_getDefaultRenderPolicy = function UNSTABLE_getDefaultRenderPolicy() {\n    return this._defaultRenderPolicy;\n  };\n  _proto.applyUpdate = function applyUpdate(optimisticUpdate) {\n    var _this2 = this;\n    var dispose = function dispose() {\n      _this2._scheduleUpdates(function () {\n        _this2._publishQueue.revertUpdate(optimisticUpdate);\n        _this2._publishQueue.run();\n      });\n    };\n    this._scheduleUpdates(function () {\n      _this2._publishQueue.applyUpdate(optimisticUpdate);\n      _this2._publishQueue.run();\n    });\n    return {\n      dispose: dispose\n    };\n  };\n  _proto.revertUpdate = function revertUpdate(update) {\n    var _this3 = this;\n    this._scheduleUpdates(function () {\n      _this3._publishQueue.revertUpdate(update);\n      _this3._publishQueue.run();\n    });\n  };\n  _proto.replaceUpdate = function replaceUpdate(update, newUpdate) {\n    var _this4 = this;\n    this._scheduleUpdates(function () {\n      _this4._publishQueue.revertUpdate(update);\n      _this4._publishQueue.applyUpdate(newUpdate);\n      _this4._publishQueue.run();\n    });\n  };\n  _proto.applyMutation = function applyMutation(optimisticConfig) {\n    var subscription = this._execute({\n      createSource: function createSource() {\n        return RelayObservable.create(function (_sink) {});\n      },\n      isClientPayload: false,\n      operation: optimisticConfig.operation,\n      optimisticConfig: optimisticConfig,\n      updater: null\n    }).subscribe({});\n    return {\n      dispose: function dispose() {\n        return subscription.unsubscribe();\n      }\n    };\n  };\n  _proto.check = function check(operation) {\n    if (this._missingFieldHandlers.length === 0 && !operationHasClientAbstractTypes(operation)) {\n      return this._store.check(operation);\n    }\n    return this._checkSelectorAndHandleMissingFields(operation, this._missingFieldHandlers);\n  };\n  _proto.commitPayload = function commitPayload(operation, payload) {\n    this._execute({\n      createSource: function createSource() {\n        return RelayObservable.from({\n          data: payload\n        });\n      },\n      isClientPayload: true,\n      operation: operation,\n      optimisticConfig: null,\n      updater: null\n    }).subscribe({});\n  };\n  _proto.commitUpdate = function commitUpdate(updater) {\n    var _this5 = this;\n    this._scheduleUpdates(function () {\n      _this5._publishQueue.commitUpdate(updater);\n      _this5._publishQueue.run();\n    });\n  };\n  _proto.lookup = function lookup(readSelector) {\n    return this._store.lookup(readSelector);\n  };\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    return this._store.subscribe(snapshot, callback);\n  };\n  _proto.retain = function retain(operation) {\n    return this._store.retain(operation);\n  };\n  _proto.isServer = function isServer() {\n    return this._isServer;\n  };\n  _proto._checkSelectorAndHandleMissingFields = function _checkSelectorAndHandleMissingFields(operation, handlers) {\n    var _this6 = this;\n    var target = RelayRecordSource.create();\n    var source = this._store.getSource();\n    var result = this._store.check(operation, {\n      handlers: handlers,\n      defaultActorIdentifier: INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,\n      getSourceForActor: function getSourceForActor(actorIdentifier) {\n        assertInternalActorIdentifier(actorIdentifier);\n        return source;\n      },\n      getTargetForActor: function getTargetForActor(actorIdentifier) {\n        assertInternalActorIdentifier(actorIdentifier);\n        return target;\n      }\n    });\n    if (target.size() > 0) {\n      this._scheduleUpdates(function () {\n        _this6._publishQueue.commitSource(target);\n        _this6._publishQueue.run();\n      });\n    }\n    return result;\n  };\n  _proto._scheduleUpdates = function _scheduleUpdates(task) {\n    var scheduler = this._scheduler;\n    if (scheduler != null) {\n      scheduler.schedule(task);\n    } else {\n      task();\n    }\n  }\n\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Query operation, each result of which is then\n   * normalized and committed to the publish queue.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to: environment.execute({...}).subscribe({...}).\n   */;\n  _proto.execute = function execute(_ref) {\n    var _this7 = this;\n    var operation = _ref.operation;\n    return this._execute({\n      createSource: function createSource() {\n        return _this7.getNetwork().execute(operation.request.node.params, operation.request.variables, operation.request.cacheConfig || {}, null);\n      },\n      isClientPayload: false,\n      operation: operation,\n      optimisticConfig: null,\n      updater: null\n    });\n  }\n\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Subscription operation, each result of which is then\n   * normalized and committed to the publish queue.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to: environment.execute({...}).subscribe({...}).\n   */;\n  _proto.executeSubscription = function executeSubscription(_ref2) {\n    var _this8 = this;\n    var operation = _ref2.operation,\n      updater = _ref2.updater;\n    return this._execute({\n      createSource: function createSource() {\n        return _this8.getNetwork().execute(operation.request.node.params, operation.request.variables, operation.request.cacheConfig || {}, null);\n      },\n      isClientPayload: false,\n      operation: operation,\n      optimisticConfig: null,\n      updater: updater\n    });\n  }\n\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Mutation operation, the result of which is then normalized and\n   * committed to the publish queue along with an optional optimistic response\n   * or updater.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to:\n   * environment.executeMutation({...}).subscribe({...}).\n   */;\n  _proto.executeMutation = function executeMutation(_ref3) {\n    var _this9 = this;\n    var operation = _ref3.operation,\n      optimisticResponse = _ref3.optimisticResponse,\n      optimisticUpdater = _ref3.optimisticUpdater,\n      updater = _ref3.updater,\n      uploadables = _ref3.uploadables;\n    var optimisticConfig;\n    if (optimisticResponse || optimisticUpdater) {\n      optimisticConfig = {\n        operation: operation,\n        response: optimisticResponse,\n        updater: optimisticUpdater\n      };\n    }\n    return this._execute({\n      createSource: function createSource() {\n        return _this9.getNetwork().execute(operation.request.node.params, operation.request.variables, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, operation.request.cacheConfig), {}, {\n          force: true\n        }), uploadables);\n      },\n      isClientPayload: false,\n      operation: operation,\n      optimisticConfig: optimisticConfig,\n      updater: updater\n    });\n  }\n\n  /**\n   * Returns an Observable of GraphQLResponse resulting from executing the\n   * provided Query or Subscription operation responses, the result of which is\n   * then normalized and committed to the publish queue.\n   *\n   * Note: Observables are lazy, so calling this method will do nothing until\n   * the result is subscribed to:\n   * environment.executeWithSource({...}).subscribe({...}).\n   */;\n  _proto.executeWithSource = function executeWithSource(_ref4) {\n    var operation = _ref4.operation,\n      source = _ref4.source;\n    return this._execute({\n      createSource: function createSource() {\n        return source;\n      },\n      isClientPayload: false,\n      operation: operation,\n      optimisticConfig: null,\n      updater: null\n    });\n  };\n  _proto.toJSON = function toJSON() {\n    var _this$configName;\n    return \"RelayModernEnvironment(\".concat((_this$configName = this.configName) !== null && _this$configName !== void 0 ? _this$configName : '', \")\");\n  };\n  _proto._execute = function _execute(_ref5) {\n    var _this10 = this;\n    var createSource = _ref5.createSource,\n      isClientPayload = _ref5.isClientPayload,\n      operation = _ref5.operation,\n      optimisticConfig = _ref5.optimisticConfig,\n      updater = _ref5.updater;\n    var publishQueue = this._publishQueue;\n    var store = this._store;\n    return RelayObservable.create(function (sink) {\n      var executor = OperationExecutor.execute({\n        actorIdentifier: INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,\n        getDataID: _this10._getDataID,\n        isClientPayload: isClientPayload,\n        log: _this10.__log,\n        operation: operation,\n        operationExecutions: _this10._operationExecutions,\n        operationLoader: _this10._operationLoader,\n        operationTracker: _this10._operationTracker,\n        optimisticConfig: optimisticConfig,\n        getPublishQueue: function getPublishQueue(actorIdentifier) {\n          assertInternalActorIdentifier(actorIdentifier);\n          return publishQueue;\n        },\n        reactFlightPayloadDeserializer: _this10._reactFlightPayloadDeserializer,\n        reactFlightServerErrorHandler: _this10._reactFlightServerErrorHandler,\n        scheduler: _this10._scheduler,\n        shouldProcessClientComponents: _this10._shouldProcessClientComponents,\n        sink: sink,\n        // NOTE: Some product tests expect `Network.execute` to be called only\n        //       when the Observable is executed.\n        source: createSource(),\n        getStore: function getStore(actorIdentifier) {\n          assertInternalActorIdentifier(actorIdentifier);\n          return store;\n        },\n        treatMissingFieldsAsNull: _this10._treatMissingFieldsAsNull,\n        updater: updater\n      });\n      return function () {\n        return executor.cancel();\n      };\n    });\n  };\n  return RelayModernEnvironment;\n}();\nfunction operationHasClientAbstractTypes(operation) {\n  return operation.root.node.kind === 'Operation' && operation.root.node.clientAbstractTypes != null;\n}\n\n// Add a sigil for detection by `isRelayModernEnvironment()` to avoid a\n// realm-specific instanceof check, and to aid in module tree-shaking to\n// avoid requiring all of RelayRuntime just to detect its environment.\nRelayModernEnvironment.prototype['@@RelayModernEnvironment'] = true;\nfunction emptyFunction() {}\nmodule.exports = RelayModernEnvironment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar getPendingOperationsForFragment = require('../util/getPendingOperationsForFragment');\nvar handlePotentialSnapshotErrors = require('../util/handlePotentialSnapshotErrors');\nvar isScalarAndEqual = require('../util/isScalarAndEqual');\nvar recycleNodesInto = require('../util/recycleNodesInto');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar _require = require('./RelayModernOperationDescriptor'),\n  createRequestDescriptor = _require.createRequestDescriptor;\nvar _require2 = require('./RelayModernSelector'),\n  areEqualSelectors = _require2.areEqualSelectors,\n  createReaderSelector = _require2.createReaderSelector,\n  getSelectorsFromObject = _require2.getSelectorsFromObject;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * A utility for resolving and subscribing to the results of a fragment spec\n * (key -> fragment mapping) given some \"props\" that determine the root ID\n * and variables to use when reading each fragment. When props are changed via\n * `setProps()`, the resolver will update its results and subscriptions\n * accordingly. Internally, the resolver:\n * - Converts the fragment map & props map into a map of `Selector`s.\n * - Removes any resolvers for any props that became null.\n * - Creates resolvers for any props that became non-null.\n * - Updates resolvers with the latest props.\n *\n * This utility is implemented as an imperative, stateful API for performance\n * reasons: reusing previous resolvers, callback functions, and subscriptions\n * all helps to reduce object allocation and thereby decrease GC time.\n *\n * The `resolve()` function is also lazy and memoized: changes in the store mark\n * the resolver as stale and notify the caller, and the actual results are\n * recomputed the first time `resolve()` is called.\n */\nvar RelayModernFragmentSpecResolver = /*#__PURE__*/function () {\n  function RelayModernFragmentSpecResolver(context, fragments, props, callback, rootIsQueryRenderer) {\n    var _this = this;\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function () {\n      _this._stale = true;\n      if (typeof _this._callback === 'function') {\n        _this._callback();\n      }\n    });\n    this._callback = callback;\n    this._context = context;\n    this._data = {};\n    this._fragments = fragments;\n    this._props = {};\n    this._resolvers = {};\n    this._stale = false;\n    this._rootIsQueryRenderer = rootIsQueryRenderer;\n    this.setProps(props);\n  }\n  var _proto = RelayModernFragmentSpecResolver.prototype;\n  _proto.dispose = function dispose() {\n    for (var key in this._resolvers) {\n      if (this._resolvers.hasOwnProperty(key)) {\n        disposeCallback(this._resolvers[key]);\n      }\n    }\n  };\n  _proto.resolve = function resolve() {\n    if (this._stale) {\n      // Avoid mapping the object multiple times, which could occur if data for\n      // multiple keys changes in the same event loop.\n      var prevData = this._data;\n      var nextData;\n      for (var key in this._resolvers) {\n        if (this._resolvers.hasOwnProperty(key)) {\n          var resolver = this._resolvers[key];\n          var prevItem = prevData[key];\n          if (resolver) {\n            var nextItem = resolver.resolve();\n            if (nextData || nextItem !== prevItem) {\n              nextData = nextData || (0, _objectSpread2[\"default\"])({}, prevData);\n              nextData[key] = nextItem;\n            }\n          } else {\n            var prop = this._props[key];\n            var _nextItem = prop !== undefined ? prop : null;\n            if (nextData || !isScalarAndEqual(_nextItem, prevItem)) {\n              nextData = nextData || (0, _objectSpread2[\"default\"])({}, prevData);\n              nextData[key] = _nextItem;\n            }\n          }\n        }\n      }\n      this._data = nextData || prevData;\n      this._stale = false;\n    }\n    return this._data;\n  };\n  _proto.setCallback = function setCallback(props, callback) {\n    this._callback = callback;\n    if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n      this.setProps(props);\n    }\n  };\n  _proto.setProps = function setProps(props) {\n    this._props = {};\n    var ownedSelectors = getSelectorsFromObject(this._fragments, props);\n    for (var key in ownedSelectors) {\n      if (ownedSelectors.hasOwnProperty(key)) {\n        var ownedSelector = ownedSelectors[key];\n        var resolver = this._resolvers[key];\n        if (ownedSelector == null) {\n          if (resolver != null) {\n            resolver.dispose();\n          }\n          resolver = null;\n        } else if (ownedSelector.kind === 'PluralReaderSelector') {\n          if (resolver == null) {\n            resolver = new SelectorListResolver(this._context.environment, this._rootIsQueryRenderer, ownedSelector, this._callback != null, this._onChange);\n          } else {\n            !(resolver instanceof SelectorListResolver) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected prop `%s` to always be an array.', key) : invariant(false) : void 0;\n            resolver.setSelector(ownedSelector);\n          }\n        } else {\n          if (resolver == null) {\n            resolver = new SelectorResolver(this._context.environment, this._rootIsQueryRenderer, ownedSelector, this._callback != null, this._onChange);\n          } else {\n            !(resolver instanceof SelectorResolver) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected prop `%s` to always be an object.', key) : invariant(false) : void 0;\n            resolver.setSelector(ownedSelector);\n          }\n        }\n        this._props[key] = props[key];\n        this._resolvers[key] = resolver;\n      }\n    }\n    this._stale = true;\n  };\n  _proto.setVariables = function setVariables(variables, request) {\n    for (var key in this._resolvers) {\n      if (this._resolvers.hasOwnProperty(key)) {\n        var resolver = this._resolvers[key];\n        if (resolver) {\n          resolver.setVariables(variables, request);\n        }\n      }\n    }\n    this._stale = true;\n  };\n  return RelayModernFragmentSpecResolver;\n}();\n/**\n * A resolver for a single Selector.\n */\nvar SelectorResolver = /*#__PURE__*/function () {\n  function SelectorResolver(environment, rootIsQueryRenderer, selector, subscribeOnConstruction, callback) {\n    var _this2 = this;\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function (snapshot) {\n      _this2._data = snapshot.data;\n      _this2._isMissingData = snapshot.isMissingData;\n      _this2._missingRequiredFields = snapshot.missingRequiredFields;\n      _this2._relayResolverErrors = snapshot.relayResolverErrors;\n      _this2._callback();\n    });\n    var _snapshot = environment.lookup(selector);\n    this._callback = callback;\n    this._data = _snapshot.data;\n    this._isMissingData = _snapshot.isMissingData;\n    this._missingRequiredFields = _snapshot.missingRequiredFields;\n    this._relayResolverErrors = _snapshot.relayResolverErrors;\n    this._environment = environment;\n    this._rootIsQueryRenderer = rootIsQueryRenderer;\n    this._selector = selector;\n    if (RelayFeatureFlags.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT === true) {\n      if (subscribeOnConstruction) {\n        this._subscription = environment.subscribe(_snapshot, this._onChange);\n      }\n    } else {\n      this._subscription = environment.subscribe(_snapshot, this._onChange);\n    }\n  }\n  var _proto2 = SelectorResolver.prototype;\n  _proto2.dispose = function dispose() {\n    if (this._subscription) {\n      this._subscription.dispose();\n      this._subscription = null;\n    }\n  };\n  _proto2.resolve = function resolve() {\n    if (this._isMissingData === true) {\n      // NOTE: This branch exists to handle the case in which:\n      // - A RelayModern container is rendered as a descendant of a Relay Hook\n      //   root using a \"partial\" renderPolicy (this means that eargerly\n      //   reading any cached data that is available instead of blocking\n      //   at the root until the whole query is fetched).\n      // - A parent Relay Hook didnt' suspend earlier on data being fetched,\n      //   either because the fragment data for the parent was available, or\n      //   the parent fragment didn't have any data dependencies.\n      // Even though our Flow types reflect the possiblity of null data, there\n      // might still be cases where it's not handled at runtime becuase the\n      // Flow types are being ignored, or simply not being used (for example,\n      // the case reported here: https://fburl.com/srnbucf8, was due to\n      // misuse of Flow types here: https://fburl.com/g3m0mqqh).\n      // Additionally, even though the null data might be handled without a\n      // runtime error, we might not suspend when we intended to if a parent\n      // Relay Hook (e.g. that is using @defer) decided not to suspend becuase\n      // it's immediate data was already available (even if it was deferred),\n      // or it didn't actually need any data (was just spreading other fragments).\n      // This should eventually go away with something like @optional, where we only\n      // suspend at specific boundaries depending on whether the boundary\n      // can be fulfilled or not.\n      var pendingOperationsResult = getPendingOperationsForFragment(this._environment, this._selector.node, this._selector.owner);\n      var promise = pendingOperationsResult === null || pendingOperationsResult === void 0 ? void 0 : pendingOperationsResult.promise;\n      if (promise != null) {\n        if (this._rootIsQueryRenderer) {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Relay Container for fragment `%s` has missing data and ' + 'would suspend. When using features such as @defer or @module, ' + 'use `useFragment` instead of a Relay Container.', this._selector.node.name) : void 0;\n        } else {\n          var _pendingOperationsRes;\n          var pendingOperations = (_pendingOperationsRes = pendingOperationsResult === null || pendingOperationsResult === void 0 ? void 0 : pendingOperationsResult.pendingOperations) !== null && _pendingOperationsRes !== void 0 ? _pendingOperationsRes : [];\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'Relay: Relay Container for fragment `%s` suspended. When using ' + 'features such as @defer or @module, use `useFragment` instead ' + 'of a Relay Container.', this._selector.node.name) : void 0;\n          this._environment.__log({\n            name: 'suspense.fragment',\n            data: this._data,\n            fragment: this._selector.node,\n            isRelayHooks: false,\n            isMissingData: this._isMissingData,\n            isPromiseCached: false,\n            pendingOperations: pendingOperations\n          });\n          throw promise;\n        }\n      }\n    }\n    handlePotentialSnapshotErrors(this._environment, this._missingRequiredFields, this._relayResolverErrors);\n    return this._data;\n  };\n  _proto2.setSelector = function setSelector(selector) {\n    if (this._subscription != null && areEqualSelectors(selector, this._selector)) {\n      return;\n    }\n    this.dispose();\n    var snapshot = this._environment.lookup(selector);\n    this._data = recycleNodesInto(this._data, snapshot.data);\n    this._isMissingData = snapshot.isMissingData;\n    this._missingRequiredFields = snapshot.missingRequiredFields;\n    this._relayResolverErrors = snapshot.relayResolverErrors;\n    this._selector = selector;\n    this._subscription = this._environment.subscribe(snapshot, this._onChange);\n  };\n  _proto2.setVariables = function setVariables(variables, request) {\n    if (areEqual(variables, this._selector.variables)) {\n      // If we're not actually setting new variables, we don't actually want\n      // to create a new fragment owner, since areEqualSelectors relies on\n      // owner identity.\n      // In fact, we don't even need to try to attempt to set a new selector.\n      // When fragment ownership is not enabled, setSelector will also bail\n      // out since the selector doesn't really change, so we're doing it here\n      // earlier.\n      return;\n    }\n    // NOTE: We manually create the request descriptor here instead of\n    // calling createOperationDescriptor() because we want to set a\n    // descriptor with *unaltered* variables as the fragment owner.\n    // This is a hack that allows us to preserve existing (broken)\n    // behavior of RelayModern containers while using fragment ownership\n    // to propagate variables instead of Context.\n    // For more details, see the summary of D13999308\n    var requestDescriptor = createRequestDescriptor(request, variables);\n    var selector = createReaderSelector(this._selector.node, this._selector.dataID, variables, requestDescriptor);\n    this.setSelector(selector);\n  };\n  return SelectorResolver;\n}();\n/**\n * A resolver for an array of Selectors.\n */\nvar SelectorListResolver = /*#__PURE__*/function () {\n  function SelectorListResolver(environment, rootIsQueryRenderer, selector, subscribeOnConstruction, callback) {\n    var _this3 = this;\n    (0, _defineProperty2[\"default\"])(this, \"_onChange\", function (data) {\n      _this3._stale = true;\n      _this3._callback();\n    });\n    this._callback = callback;\n    this._data = [];\n    this._environment = environment;\n    this._resolvers = [];\n    this._stale = true;\n    this._rootIsQueryRenderer = rootIsQueryRenderer;\n    this._subscribeOnConstruction = subscribeOnConstruction;\n    this.setSelector(selector);\n  }\n  var _proto3 = SelectorListResolver.prototype;\n  _proto3.dispose = function dispose() {\n    this._resolvers.forEach(disposeCallback);\n  };\n  _proto3.resolve = function resolve() {\n    if (this._stale) {\n      // Avoid mapping the array multiple times, which could occur if data for\n      // multiple indices changes in the same event loop.\n      var prevData = this._data;\n      var nextData;\n      for (var ii = 0; ii < this._resolvers.length; ii++) {\n        var prevItem = prevData[ii];\n        var nextItem = this._resolvers[ii].resolve();\n        if (nextData || nextItem !== prevItem) {\n          nextData = nextData || prevData.slice(0, ii);\n          nextData.push(nextItem);\n        }\n      }\n      if (!nextData && this._resolvers.length !== prevData.length) {\n        nextData = prevData.slice(0, this._resolvers.length);\n      }\n      this._data = nextData || prevData;\n      this._stale = false;\n    }\n    return this._data;\n  };\n  _proto3.setSelector = function setSelector(selector) {\n    var selectors = selector.selectors;\n    while (this._resolvers.length > selectors.length) {\n      var resolver = this._resolvers.pop();\n      resolver.dispose();\n    }\n    for (var ii = 0; ii < selectors.length; ii++) {\n      if (ii < this._resolvers.length) {\n        this._resolvers[ii].setSelector(selectors[ii]);\n      } else {\n        this._resolvers[ii] = new SelectorResolver(this._environment, this._rootIsQueryRenderer, selectors[ii], this._subscribeOnConstruction, this._onChange);\n      }\n    }\n    this._stale = true;\n  };\n  _proto3.setVariables = function setVariables(variables, request) {\n    this._resolvers.forEach(function (resolver) {\n      return resolver.setVariables(variables, request);\n    });\n    this._stale = true;\n  };\n  return SelectorListResolver;\n}();\nfunction disposeCallback(disposable) {\n  disposable && disposable.dispose();\n}\nmodule.exports = RelayModernFragmentSpecResolver;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar deepFreeze = require('../util/deepFreeze');\nvar getRequestIdentifier = require('../util/getRequestIdentifier');\nvar _require = require('./RelayConcreteVariables'),\n  getOperationVariables = _require.getOperationVariables;\nvar _require2 = require('./RelayModernSelector'),\n  createNormalizationSelector = _require2.createNormalizationSelector,\n  createReaderSelector = _require2.createReaderSelector;\nvar _require3 = require('./RelayStoreUtils'),\n  ROOT_ID = _require3.ROOT_ID;\n\n/**\n * Creates an instance of the `OperationDescriptor` type defined in\n * `RelayStoreTypes` given an operation and some variables. The input variables\n * are filtered to exclude variables that do not match defined arguments on the\n * operation, and default values are populated for null values.\n */\nfunction createOperationDescriptor(request, variables, cacheConfig) {\n  var dataID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ROOT_ID;\n  var operation = request.operation;\n  var operationVariables = getOperationVariables(operation, request.params.providedVariables, variables);\n  var requestDescriptor = createRequestDescriptor(request, operationVariables, cacheConfig);\n  var operationDescriptor = {\n    fragment: createReaderSelector(request.fragment, dataID, operationVariables, requestDescriptor),\n    request: requestDescriptor,\n    root: createNormalizationSelector(operation, dataID, operationVariables)\n  };\n  if (process.env.NODE_ENV !== \"production\") {\n    // Freezing properties short-circuits a deepFreeze of snapshots that contain\n    // an OperationDescriptor via their selector's owner, avoiding stack\n    // overflow on larger queries.\n    Object.freeze(operationDescriptor.fragment);\n    Object.freeze(operationDescriptor.root);\n    Object.freeze(operationDescriptor);\n  }\n  return operationDescriptor;\n}\nfunction createRequestDescriptor(request, variables, cacheConfig) {\n  var requestDescriptor = {\n    identifier: getRequestIdentifier(request.params, variables),\n    node: request,\n    variables: variables,\n    cacheConfig: cacheConfig\n  };\n  if (process.env.NODE_ENV !== \"production\") {\n    deepFreeze(variables);\n    Object.freeze(request);\n    Object.freeze(requestDescriptor);\n  }\n  return requestDescriptor;\n}\nmodule.exports = {\n  createOperationDescriptor: createOperationDescriptor,\n  createRequestDescriptor: createRequestDescriptor\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar deepFreeze = require('../util/deepFreeze');\nvar _require = require('./ClientID'),\n  generateClientObjectClientID = _require.generateClientObjectClientID,\n  isClientID = _require.isClientID;\nvar _require2 = require('./experimental-live-resolvers/LiveResolverSuspenseSentinel'),\n  isSuspenseSentinel = _require2.isSuspenseSentinel;\nvar _require3 = require('./RelayStoreUtils'),\n  ACTOR_IDENTIFIER_KEY = _require3.ACTOR_IDENTIFIER_KEY,\n  ID_KEY = _require3.ID_KEY,\n  INVALIDATED_AT_KEY = _require3.INVALIDATED_AT_KEY,\n  REF_KEY = _require3.REF_KEY,\n  REFS_KEY = _require3.REFS_KEY,\n  RELAY_RESOLVER_VALUE_KEY = _require3.RELAY_RESOLVER_VALUE_KEY,\n  ROOT_ID = _require3.ROOT_ID,\n  TYPENAME_KEY = _require3.TYPENAME_KEY;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n\n/**\n * @public\n *\n * Low-level record manipulation methods.\n *\n * A note about perf: we use long-hand property access rather than computed\n * properties in this file for speed ie.\n *\n *    const object = {};\n *    object[KEY] = value;\n *    record[storageKey] = object;\n *\n * instead of:\n *\n *    record[storageKey] = {\n *      [KEY]: value,\n *    };\n *\n * The latter gets transformed by Babel into something like:\n *\n *    function _defineProperty(obj, key, value) {\n *      if (key in obj) {\n *        Object.defineProperty(obj, key, {\n *          value: value,\n *          enumerable: true,\n *          configurable: true,\n *          writable: true,\n *        });\n *      } else {\n *        obj[key] = value;\n *      }\n *      return obj;\n *    }\n *\n *    record[storageKey] = _defineProperty({}, KEY, value);\n *\n * A quick benchmark shows that computed property access is an order of\n * magnitude slower (times in seconds for 100,000 iterations):\n *\n *               best     avg     sd\n *    computed 0.02175 0.02292 0.00113\n *      manual 0.00110 0.00123 0.00008\n */\n\n/**\n * @public\n *\n * Clone a record.\n */\nfunction clone(record) {\n  return (0, _objectSpread2[\"default\"])({}, record);\n}\n\n/**\n * @public\n *\n * Copies all fields from `source` to `sink`, excluding `__id` and `__typename`.\n *\n * NOTE: This function does not treat `id` specially. To preserve the id,\n * manually reset it after calling this function. Also note that values are\n * copied by reference and not value; callers should ensure that values are\n * copied on write.\n */\nfunction copyFields(source, sink) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (key !== ID_KEY && key !== TYPENAME_KEY) {\n        sink[key] = source[key];\n      }\n    }\n  }\n}\n\n/**\n * @public\n *\n * Create a new record.\n */\nfunction create(dataID, typeName) {\n  // See perf note above for why we aren't using computed property access.\n  var record = {};\n  record[ID_KEY] = dataID;\n  record[TYPENAME_KEY] = typeName;\n  return record;\n}\n\n/**\n * @public\n *\n * Get the record's `id` if available or the client-generated identifier.\n */\nfunction getDataID(record) {\n  return record[ID_KEY];\n}\n\n/**\n * @public\n *\n * Get the concrete type of the record.\n */\nfunction getType(record) {\n  return record[TYPENAME_KEY];\n}\n\n/**\n * @public\n *\n * Get a scalar (non-link) field value.\n */\nfunction getValue(record, storageKey) {\n  var value = record[storageKey];\n  if (value && typeof value === 'object') {\n    !(!value.hasOwnProperty(REF_KEY) && !value.hasOwnProperty(REFS_KEY)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getValue(): Expected a scalar (non-link) value for `%s.%s` ' + 'but found %s.', record[ID_KEY], storageKey, value.hasOwnProperty(REF_KEY) ? 'a linked record' : 'plural linked records') : invariant(false) : void 0;\n  }\n  return value;\n}\n\n/**\n * @public\n *\n * Get the value of a field as a reference to another record. Throws if the\n * field has a different type.\n */\nfunction getLinkedRecordID(record, storageKey) {\n  var maybeLink = record[storageKey];\n  if (maybeLink == null) {\n    return maybeLink;\n  }\n  // We reassign here so that the JSON.stringify call in invariant does not invalidate the\n  // non-maybe refinement from above.\n  var link = maybeLink;\n  !(typeof link === 'object' && link && typeof link[REF_KEY] === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getLinkedRecordID(): Expected `%s.%s` to be a linked ID, ' + 'was `%s`.%s', record[ID_KEY], storageKey, JSON.stringify(link), typeof link === 'object' && link[REFS_KEY] !== undefined ? ' It appears to be a plural linked record: did you mean to call ' + 'getLinkedRecords() instead of getLinkedRecord()?' : '') : invariant(false) : void 0;\n  // $FlowFixMe[incompatible-return]\n  return link[REF_KEY];\n}\n\n/**\n * @public\n *\n * Get the value of a field as a list of references to other records. Throws if\n * the field has a different type.\n */\nfunction getLinkedRecordIDs(record, storageKey) {\n  var links = record[storageKey];\n  if (links == null) {\n    return links;\n  }\n  !(typeof links === 'object' && Array.isArray(links[REFS_KEY])) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getLinkedRecordIDs(): Expected `%s.%s` to contain an array ' + 'of linked IDs, got `%s`.%s', record[ID_KEY], storageKey, JSON.stringify(links), typeof links === 'object' && links[REF_KEY] !== undefined ? ' It appears to be a singular linked record: did you mean to call ' + 'getLinkedRecord() instead of getLinkedRecords()?' : '') : invariant(false) : void 0;\n  // assume items of the array are ids\n  return links[REFS_KEY];\n}\n\n/**\n * @public\n *\n * Returns the epoch at which the record was invalidated, if it\n * ever was; otherwise returns null;\n */\nfunction getInvalidationEpoch(record) {\n  if (record == null) {\n    return null;\n  }\n  var invalidatedAt = record[INVALIDATED_AT_KEY];\n  if (typeof invalidatedAt !== 'number') {\n    // If the record has never been invalidated, it isn't stale.\n    return null;\n  }\n  return invalidatedAt;\n}\n\n/**\n * @public\n *\n * Compares the fields of a previous and new record, returning either the\n * previous record if all fields are equal or a new record (with merged fields)\n * if any fields have changed.\n */\nfunction update(prevRecord, nextRecord) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var _getType, _getType2;\n    var prevID = getDataID(prevRecord);\n    var nextID = getDataID(nextRecord);\n    process.env.NODE_ENV !== \"production\" ? warning(prevID === nextID, 'RelayModernRecord: Invalid record update, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, nextID) : void 0;\n    // note: coalesce null/undefined to null\n    var prevType = (_getType = getType(prevRecord)) !== null && _getType !== void 0 ? _getType : null;\n    var nextType = (_getType2 = getType(nextRecord)) !== null && _getType2 !== void 0 ? _getType2 : null;\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(nextID) && nextID !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid record update, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n  }\n  var updated = null;\n  var keys = Object.keys(nextRecord);\n  for (var ii = 0; ii < keys.length; ii++) {\n    var key = keys[ii];\n    if (updated || !areEqual(prevRecord[key], nextRecord[key])) {\n      updated = updated !== null ? updated : (0, _objectSpread2[\"default\"])({}, prevRecord);\n      updated[key] = nextRecord[key];\n    }\n  }\n  return updated !== null ? updated : prevRecord;\n}\n\n/**\n * @public\n *\n * Returns a new record with the contents of the given records. Fields in the\n * second record will overwrite identical fields in the first record.\n */\nfunction merge(record1, record2) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var _getType3, _getType4;\n    var prevID = getDataID(record1);\n    var nextID = getDataID(record2);\n    process.env.NODE_ENV !== \"production\" ? warning(prevID === nextID, 'RelayModernRecord: Invalid record merge, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, nextID) : void 0;\n    // note: coalesce null/undefined to null\n    var prevType = (_getType3 = getType(record1)) !== null && _getType3 !== void 0 ? _getType3 : null;\n    var nextType = (_getType4 = getType(record2)) !== null && _getType4 !== void 0 ? _getType4 : null;\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(nextID) && nextID !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid record merge, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n  }\n  return (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, record1), record2);\n}\n\n/**\n * @public\n *\n * Prevent modifications to the record. Attempts to call `set*` functions on a\n * frozen record will fatal at runtime.\n */\nfunction freeze(record) {\n  deepFreeze(record);\n}\n\n/**\n * @public\n *\n * Set the value of a storageKey to a scalar.\n */\nfunction setValue(record, storageKey, value) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var prevID = getDataID(record);\n    if (storageKey === ID_KEY) {\n      process.env.NODE_ENV !== \"production\" ? warning(prevID === value, 'RelayModernRecord: Invalid field update, expected both versions of ' + 'the record to have the same id, got `%s` and `%s`.', prevID, value) : void 0;\n    } else if (storageKey === TYPENAME_KEY) {\n      var _getType5;\n      // note: coalesce null/undefined to null\n      var prevType = (_getType5 = getType(record)) !== null && _getType5 !== void 0 ? _getType5 : null;\n      var nextType = value !== null && value !== void 0 ? value : null;\n      process.env.NODE_ENV !== \"production\" ? warning(isClientID(getDataID(record)) && getDataID(record) !== ROOT_ID || prevType === nextType, 'RelayModernRecord: Invalid field update, expected both versions of ' + 'record `%s` to have the same `%s` but got conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', prevID, TYPENAME_KEY, prevType, nextType) : void 0;\n    }\n  }\n  record[storageKey] = value;\n}\n\n/**\n * @public\n *\n * Set the value of a field to a reference to another record.\n */\nfunction setLinkedRecordID(record, storageKey, linkedID) {\n  // See perf note above for why we aren't using computed property access.\n  var link = {};\n  link[REF_KEY] = linkedID;\n  record[storageKey] = link;\n}\n\n/**\n * @public\n *\n * Set the value of a field to a list of references other records.\n */\nfunction setLinkedRecordIDs(record, storageKey, linkedIDs) {\n  // See perf note above for why we aren't using computed property access.\n  var links = {};\n  links[REFS_KEY] = linkedIDs;\n  record[storageKey] = links;\n}\n\n/**\n * @public\n *\n * Set the value of a field to a reference to another record in the actor specific store.\n */\nfunction setActorLinkedRecordID(record, storageKey, actorIdentifier, linkedID) {\n  // See perf note above for why we aren't using computed property access.\n  var link = {};\n  link[REF_KEY] = linkedID;\n  link[ACTOR_IDENTIFIER_KEY] = actorIdentifier;\n  record[storageKey] = link;\n}\n\n/**\n * @public\n *\n * Get link to a record and the actor identifier for the store.\n */\nfunction getActorLinkedRecordID(record, storageKey) {\n  var link = record[storageKey];\n  if (link == null) {\n    return link;\n  }\n  !(typeof link === 'object' && typeof link[REF_KEY] === 'string' && link[ACTOR_IDENTIFIER_KEY] != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getActorLinkedRecordID(): Expected `%s.%s` to be an actor specific linked ID, ' + 'was `%s`.', record[ID_KEY], storageKey, JSON.stringify(link)) : invariant(false) : void 0;\n  return [link[ACTOR_IDENTIFIER_KEY], link[REF_KEY]];\n}\nfunction getResolverLinkedRecordID(record, typeName) {\n  var id = getValue(record, RELAY_RESOLVER_VALUE_KEY);\n  if (id == null || isSuspenseSentinel(id)) {\n    return null;\n  }\n  // TODD: Deprecate client edges that return just id.\n  if (typeof id === 'object') {\n    id = id.id;\n  }\n  !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getResolverLinkedRecordID(): Expected value to be a linked ID, ' + 'was `%s`.', JSON.stringify(id)) : invariant(false) : void 0;\n  return generateClientObjectClientID(typeName, id);\n}\nfunction getResolverLinkedRecordIDs(record, typeName) {\n  var resolverValue = getValue(record, RELAY_RESOLVER_VALUE_KEY);\n  if (resolverValue == null || isSuspenseSentinel(resolverValue)) {\n    return null;\n  }\n  !Array.isArray(resolverValue) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getResolverLinkedRecordIDs(): Expected value to be an array of linked IDs, ' + 'was `%s`.', JSON.stringify(resolverValue)) : invariant(false) : void 0;\n  return resolverValue.map(function (id) {\n    if (id == null) {\n      return null;\n    }\n    // TODD: Deprecate client edges that return just id.\n    if (typeof id === 'object') {\n      id = id.id;\n    }\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernRecord.getResolverLinkedRecordIDs(): Expected item within resolver linked field to be a DataID, ' + 'was `%s`.', JSON.stringify(id)) : invariant(false) : void 0;\n    return generateClientObjectClientID(typeName, id);\n  });\n}\nmodule.exports = {\n  clone: clone,\n  copyFields: copyFields,\n  create: create,\n  freeze: freeze,\n  getDataID: getDataID,\n  getInvalidationEpoch: getInvalidationEpoch,\n  getLinkedRecordID: getLinkedRecordID,\n  getLinkedRecordIDs: getLinkedRecordIDs,\n  getType: getType,\n  getValue: getValue,\n  merge: merge,\n  setValue: setValue,\n  setLinkedRecordID: setLinkedRecordID,\n  setLinkedRecordIDs: setLinkedRecordIDs,\n  update: update,\n  getActorLinkedRecordID: getActorLinkedRecordID,\n  setActorLinkedRecordID: setActorLinkedRecordID,\n  getResolverLinkedRecordID: getResolverLinkedRecordID,\n  getResolverLinkedRecordIDs: getResolverLinkedRecordIDs\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./RelayConcreteVariables'),\n  getFragmentVariables = _require.getFragmentVariables;\nvar _require2 = require('./RelayStoreUtils'),\n  CLIENT_EDGE_TRAVERSAL_PATH = _require2.CLIENT_EDGE_TRAVERSAL_PATH,\n  FRAGMENT_OWNER_KEY = _require2.FRAGMENT_OWNER_KEY,\n  FRAGMENTS_KEY = _require2.FRAGMENTS_KEY,\n  ID_KEY = _require2.ID_KEY,\n  IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require2.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n\n/**\n * @public\n *\n * Given the result `item` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment for that item.\n *\n * Example:\n *\n * Given two fragments as follows:\n *\n * ```\n * fragment Parent on User {\n *   id\n *   ...Child\n * }\n * fragment Child on User {\n *   name\n * }\n * ```\n *\n * And given some object `parent` that is the results of `Parent` for id \"4\",\n * the results of `Child` can be accessed by first getting a selector and then\n * using that selector to `lookup()` the results against the environment:\n *\n * ```\n * const childSelector = getSingularSelector(queryVariables, Child, parent);\n * const childData = environment.lookup(childSelector).data;\n * ```\n */\nfunction getSingularSelector(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n  var fragments = item[FRAGMENTS_KEY];\n  var mixedOwner = item[FRAGMENT_OWNER_KEY];\n  var isWithinUnmatchedTypeRefinement = item[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] === true;\n  var mixedClientEdgeTraversalPath = item[CLIENT_EDGE_TRAVERSAL_PATH];\n  if (typeof dataID === 'string' && typeof fragments === 'object' && fragments !== null && typeof fragments[fragment.name] === 'object' && fragments[fragment.name] !== null && typeof mixedOwner === 'object' && mixedOwner !== null && (mixedClientEdgeTraversalPath == null || Array.isArray(mixedClientEdgeTraversalPath))) {\n    var owner = mixedOwner;\n    var clientEdgeTraversalPath = mixedClientEdgeTraversalPath;\n    var argumentVariables = fragments[fragment.name];\n    var fragmentVariables = getFragmentVariables(fragment, owner.variables, argumentVariables);\n    return createReaderSelector(fragment, dataID, fragmentVariables, owner, isWithinUnmatchedTypeRefinement, clientEdgeTraversalPath);\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    var stringifiedItem = JSON.stringify(item);\n    if (stringifiedItem.length > 499) {\n      stringifiedItem = stringifiedItem.substr(0, 498) + \"\\u2026\";\n    }\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`.', fragment.name, stringifiedItem, fragment.name) : void 0;\n  }\n  return null;\n}\n\n/**\n * @public\n *\n * Given the result `items` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment on those\n * items. This is similar to `getSingularSelector` but for \"plural\" fragments that\n * expect an array of results and therefore return an array of selectors.\n */\nfunction getPluralSelector(fragment, items) {\n  var selectors = null;\n  items.forEach(function (item, ii) {\n    var selector = item != null ? getSingularSelector(fragment, item) : null;\n    if (selector != null) {\n      selectors = selectors || [];\n      selectors.push(selector);\n    }\n  });\n  if (selectors == null) {\n    return null;\n  } else {\n    return {\n      kind: 'PluralReaderSelector',\n      selectors: selectors\n    };\n  }\n}\nfunction getSelector(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getPluralSelector(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getSingularSelector(fragment, item);\n  }\n}\n\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the selectors for those fragments from the results.\n *\n * The canonical use-case for this function is ReactRelayFragmentContainer, which\n * uses this function to convert (props, fragments) into selectors so that it\n * can read the results to pass to the inner component.\n */\nfunction getSelectorsFromObject(fragments, object) {\n  var selectors = {};\n  for (var key in fragments) {\n    if (fragments.hasOwnProperty(key)) {\n      var fragment = fragments[key];\n      var item = object[key];\n      selectors[key] = getSelector(fragment, item);\n    }\n  }\n  return selectors;\n}\n\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts a mapping of keys -> id(s) of the results.\n *\n * Similar to `getSelectorsFromObject()`, this function can be useful in\n * determining the \"identity\" of the props passed to a component.\n */\nfunction getDataIDsFromObject(fragments, object) {\n  var ids = {};\n  for (var key in fragments) {\n    if (fragments.hasOwnProperty(key)) {\n      var fragment = fragments[key];\n      var item = object[key];\n      ids[key] = getDataIDsFromFragment(fragment, item);\n    }\n  }\n  return ids;\n}\nfunction getDataIDsFromFragment(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataIDs(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataID(fragment, item);\n  }\n}\n\n/**\n * @internal\n */\nfunction getDataIDs(fragment, items) {\n  var ids = null;\n  items.forEach(function (item) {\n    var id = item != null ? getDataID(fragment, item) : null;\n    if (id != null) {\n      ids = ids || [];\n      ids.push(id);\n    }\n  });\n  return ids;\n}\n\n/**\n * @internal\n */\nfunction getDataID(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n  if (typeof dataID === 'string') {\n    return dataID;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`, or `null` is passed as the fragment ' + \"reference for `%s` if it's conditonally included and the condition isn't met.\", fragment.name, JSON.stringify(item), fragment.name, fragment.name) : void 0;\n  return null;\n}\n\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the merged variables that would be in scope for those\n * fragments/results.\n *\n * This can be useful in determing what varaibles were used to fetch the data\n * for a Relay container, for example.\n */\nfunction getVariablesFromObject(fragments, object) {\n  var variables = {};\n  for (var key in fragments) {\n    if (fragments.hasOwnProperty(key)) {\n      var fragment = fragments[key];\n      var item = object[key];\n      var itemVariables = getVariablesFromFragment(fragment, item);\n      Object.assign(variables, itemVariables);\n    }\n  }\n  return variables;\n}\nfunction getVariablesFromFragment(fragment, item) {\n  var _fragment$metadata;\n  if (item == null) {\n    return {};\n  } else if (((_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.plural) === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromPluralFragment(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromSingularFragment(fragment, item) || {};\n  }\n}\nfunction getVariablesFromSingularFragment(fragment, item) {\n  var selector = getSingularSelector(fragment, item);\n  if (!selector) {\n    return null;\n  }\n  return selector.variables;\n}\nfunction getVariablesFromPluralFragment(fragment, items) {\n  var variables = {};\n  items.forEach(function (value, ii) {\n    if (value != null) {\n      var itemVariables = getVariablesFromSingularFragment(fragment, value);\n      if (itemVariables != null) {\n        Object.assign(variables, itemVariables);\n      }\n    }\n  });\n  return variables;\n}\nfunction areEqualSingularSelectors(thisSelector, thatSelector) {\n  return thisSelector.owner === thatSelector.owner && thisSelector.dataID === thatSelector.dataID && thisSelector.node === thatSelector.node && areEqual(thisSelector.variables, thatSelector.variables);\n}\n\n/**\n * @public\n *\n * Determine if two selectors are equal (represent the same selection). Note\n * that this function returns `false` when the two queries/fragments are\n * different objects, even if they select the same fields.\n */\nfunction areEqualSelectors(a, b) {\n  if (a === b) {\n    return true;\n  } else if (a == null) {\n    return b == null;\n  } else if (b == null) {\n    return a == null;\n  } else if (a.kind === 'SingularReaderSelector' && b.kind === 'SingularReaderSelector') {\n    return areEqualSingularSelectors(a, b);\n  } else if (a.kind === 'PluralReaderSelector' && b.kind === 'PluralReaderSelector') {\n    return a.selectors.length === b.selectors.length && a.selectors.every(function (s, i) {\n      return areEqualSingularSelectors(s, b.selectors[i]);\n    });\n  } else {\n    return false;\n  }\n}\nfunction createReaderSelector(fragment, dataID, variables, request) {\n  var isWithinUnmatchedTypeRefinement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var clientEdgeTraversalPath = arguments.length > 5 ? arguments[5] : undefined;\n  return {\n    kind: 'SingularReaderSelector',\n    dataID: dataID,\n    isWithinUnmatchedTypeRefinement: isWithinUnmatchedTypeRefinement,\n    clientEdgeTraversalPath: clientEdgeTraversalPath !== null && clientEdgeTraversalPath !== void 0 ? clientEdgeTraversalPath : null,\n    node: fragment,\n    variables: variables,\n    owner: request\n  };\n}\nfunction createNormalizationSelector(node, dataID, variables) {\n  return {\n    dataID: dataID,\n    node: node,\n    variables: variables\n  };\n}\nmodule.exports = {\n  areEqualSelectors: areEqualSelectors,\n  createReaderSelector: createReaderSelector,\n  createNormalizationSelector: createNormalizationSelector,\n  getDataIDsFromFragment: getDataIDsFromFragment,\n  getDataIDsFromObject: getDataIDsFromObject,\n  getSingularSelector: getSingularSelector,\n  getPluralSelector: getPluralSelector,\n  getSelector: getSelector,\n  getSelectorsFromObject: getSelectorsFromObject,\n  getVariablesFromSingularFragment: getVariablesFromSingularFragment,\n  getVariablesFromPluralFragment: getVariablesFromPluralFragment,\n  getVariablesFromFragment: getVariablesFromFragment,\n  getVariablesFromObject: getVariablesFromObject\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _require = require('../multi-actor-environment/ActorIdentifier'),\n  INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE = _require.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,\n  assertInternalActorIdentifier = _require.assertInternalActorIdentifier;\nvar deepFreeze = require('../util/deepFreeze');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar resolveImmediate = require('../util/resolveImmediate');\nvar DataChecker = require('./DataChecker');\nvar defaultGetDataID = require('./defaultGetDataID');\nvar RelayModernRecord = require('./RelayModernRecord');\nvar RelayOptimisticRecordSource = require('./RelayOptimisticRecordSource');\nvar RelayReader = require('./RelayReader');\nvar RelayReferenceMarker = require('./RelayReferenceMarker');\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\nvar RelayStoreSubscriptions = require('./RelayStoreSubscriptions');\nvar RelayStoreUtils = require('./RelayStoreUtils');\nvar _require2 = require('./RelayStoreUtils'),\n  ROOT_ID = _require2.ROOT_ID,\n  ROOT_TYPE = _require2.ROOT_TYPE;\nvar _require3 = require('./ResolverCache'),\n  RecordResolverCache = _require3.RecordResolverCache;\nvar invariant = require('invariant');\nvar DEFAULT_RELEASE_BUFFER_SIZE = 10;\n\n/**\n * @public\n *\n * An implementation of the `Store` interface defined in `RelayStoreTypes`.\n *\n * Note that a Store takes ownership of all records provided to it: other\n * objects may continue to hold a reference to such records but may not mutate\n * them. The static Relay core is architected to avoid mutating records that may have been\n * passed to a store: operations that mutate records will either create fresh\n * records or clone existing records and modify the clones. Record immutability\n * is also enforced in development mode by freezing all records passed to a store.\n */\nvar RelayModernStore = /*#__PURE__*/function () {\n  function RelayModernStore(source, options) {\n    var _this = this;\n    var _options$gcReleaseBuf, _options$gcScheduler, _options$getDataID, _options$log, _options$operationLoa;\n    (0, _defineProperty2[\"default\"])(this, \"_gcStep\", function () {\n      if (_this._gcRun) {\n        if (_this._gcRun.next().done) {\n          _this._gcRun = null;\n        } else {\n          _this._gcScheduler(_this._gcStep);\n        }\n      }\n    });\n    // Prevent mutation of a record from outside the store.\n    if (process.env.NODE_ENV !== \"production\") {\n      var storeIDs = source.getRecordIDs();\n      for (var ii = 0; ii < storeIDs.length; ii++) {\n        var record = source.get(storeIDs[ii]);\n        if (record) {\n          RelayModernRecord.freeze(record);\n        }\n      }\n    }\n    this._currentWriteEpoch = 0;\n    this._gcHoldCounter = 0;\n    this._gcReleaseBufferSize = (_options$gcReleaseBuf = options === null || options === void 0 ? void 0 : options.gcReleaseBufferSize) !== null && _options$gcReleaseBuf !== void 0 ? _options$gcReleaseBuf : DEFAULT_RELEASE_BUFFER_SIZE;\n    this._gcRun = null;\n    this._gcScheduler = (_options$gcScheduler = options === null || options === void 0 ? void 0 : options.gcScheduler) !== null && _options$gcScheduler !== void 0 ? _options$gcScheduler : resolveImmediate;\n    this._getDataID = (_options$getDataID = options === null || options === void 0 ? void 0 : options.getDataID) !== null && _options$getDataID !== void 0 ? _options$getDataID : defaultGetDataID;\n    this._globalInvalidationEpoch = null;\n    this._invalidationSubscriptions = new Set();\n    this._invalidatedRecordIDs = new Set();\n    this.__log = (_options$log = options === null || options === void 0 ? void 0 : options.log) !== null && _options$log !== void 0 ? _options$log : null;\n    this._queryCacheExpirationTime = options === null || options === void 0 ? void 0 : options.queryCacheExpirationTime;\n    this._operationLoader = (_options$operationLoa = options === null || options === void 0 ? void 0 : options.operationLoader) !== null && _options$operationLoa !== void 0 ? _options$operationLoa : null;\n    this._optimisticSource = null;\n    this._recordSource = source;\n    this._releaseBuffer = [];\n    this._roots = new Map();\n    this._shouldScheduleGC = false;\n    this._resolverCache = new RecordResolverCache(function () {\n      return _this._getMutableRecordSource();\n    });\n    this._storeSubscriptions = new RelayStoreSubscriptions(options === null || options === void 0 ? void 0 : options.log, this._resolverCache);\n    this._updatedRecordIDs = new Set();\n    this._shouldProcessClientComponents = options === null || options === void 0 ? void 0 : options.shouldProcessClientComponents;\n    initializeRecordSource(this._recordSource);\n  }\n  var _proto = RelayModernStore.prototype;\n  _proto.getSource = function getSource() {\n    var _this$_optimisticSour;\n    return (_this$_optimisticSour = this._optimisticSource) !== null && _this$_optimisticSour !== void 0 ? _this$_optimisticSour : this._recordSource;\n  };\n  _proto._getMutableRecordSource = function _getMutableRecordSource() {\n    var _this$_optimisticSour2;\n    return (_this$_optimisticSour2 = this._optimisticSource) !== null && _this$_optimisticSour2 !== void 0 ? _this$_optimisticSour2 : this._recordSource;\n  };\n  _proto.check = function check(operation, options) {\n    var _options$handlers, _options$getSourceFor, _options$getTargetFor, _options$defaultActor;\n    var selector = operation.root;\n    var source = this._getMutableRecordSource();\n    var globalInvalidationEpoch = this._globalInvalidationEpoch;\n    var rootEntry = this._roots.get(operation.request.identifier);\n    var operationLastWrittenAt = rootEntry != null ? rootEntry.epoch : null;\n\n    // Check if store has been globally invalidated\n    if (globalInvalidationEpoch != null) {\n      // If so, check if the operation we're checking was last written\n      // before or after invalidation occurred.\n      if (operationLastWrittenAt == null || operationLastWrittenAt <= globalInvalidationEpoch) {\n        // If the operation was written /before/ global invalidation occurred,\n        // or if this operation has never been written to the store before,\n        // we will consider the data for this operation to be stale\n        // (i.e. not resolvable from the store).\n        return {\n          status: 'stale'\n        };\n      }\n    }\n    var handlers = (_options$handlers = options === null || options === void 0 ? void 0 : options.handlers) !== null && _options$handlers !== void 0 ? _options$handlers : [];\n    var getSourceForActor = (_options$getSourceFor = options === null || options === void 0 ? void 0 : options.getSourceForActor) !== null && _options$getSourceFor !== void 0 ? _options$getSourceFor : function (actorIdentifier) {\n      assertInternalActorIdentifier(actorIdentifier);\n      return source;\n    };\n    var getTargetForActor = (_options$getTargetFor = options === null || options === void 0 ? void 0 : options.getTargetForActor) !== null && _options$getTargetFor !== void 0 ? _options$getTargetFor : function (actorIdentifier) {\n      assertInternalActorIdentifier(actorIdentifier);\n      return source;\n    };\n    var operationAvailability = DataChecker.check(getSourceForActor, getTargetForActor, (_options$defaultActor = options === null || options === void 0 ? void 0 : options.defaultActorIdentifier) !== null && _options$defaultActor !== void 0 ? _options$defaultActor : INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE, selector, handlers, this._operationLoader, this._getDataID, this._shouldProcessClientComponents);\n    return getAvailabilityStatus(operationAvailability, operationLastWrittenAt, rootEntry === null || rootEntry === void 0 ? void 0 : rootEntry.fetchTime, this._queryCacheExpirationTime);\n  };\n  _proto.retain = function retain(operation) {\n    var _this2 = this;\n    var id = operation.request.identifier;\n    var disposed = false;\n    var dispose = function dispose() {\n      // Ensure each retain can only dispose once\n      if (disposed) {\n        return;\n      }\n      disposed = true;\n      // For Flow: guard against the entry somehow not existing\n      var rootEntry = _this2._roots.get(id);\n      if (rootEntry == null) {\n        return;\n      }\n      // Decrement the ref count: if it becomes zero it is eligible\n      // for release.\n      rootEntry.refCount--;\n      if (rootEntry.refCount === 0) {\n        var _queryCacheExpirationTime = _this2._queryCacheExpirationTime;\n        var rootEntryIsStale = rootEntry.fetchTime != null && _queryCacheExpirationTime != null && rootEntry.fetchTime <= Date.now() - _queryCacheExpirationTime;\n        if (rootEntryIsStale) {\n          _this2._roots[\"delete\"](id);\n          _this2.scheduleGC();\n        } else {\n          _this2._releaseBuffer.push(id);\n\n          // If the release buffer is now over-full, remove the least-recently\n          // added entry and schedule a GC. Note that all items in the release\n          // buffer have a refCount of 0.\n          if (_this2._releaseBuffer.length > _this2._gcReleaseBufferSize) {\n            var _id = _this2._releaseBuffer.shift();\n            _this2._roots[\"delete\"](_id);\n            _this2.scheduleGC();\n          }\n        }\n      }\n    };\n    var rootEntry = this._roots.get(id);\n    if (rootEntry != null) {\n      if (rootEntry.refCount === 0) {\n        // This entry should be in the release buffer, but it no longer belongs\n        // there since it's retained. Remove it to maintain the invariant that\n        // all release buffer entries have a refCount of 0.\n        this._releaseBuffer = this._releaseBuffer.filter(function (_id) {\n          return _id !== id;\n        });\n      }\n      // If we've previously retained this operation, increment the refCount\n      rootEntry.refCount += 1;\n    } else {\n      // Otherwise create a new entry for the operation\n      this._roots.set(id, {\n        operation: operation,\n        refCount: 1,\n        epoch: null,\n        fetchTime: null\n      });\n    }\n    return {\n      dispose: dispose\n    };\n  };\n  _proto.lookup = function lookup(selector) {\n    var source = this.getSource();\n    var snapshot = RelayReader.read(source, selector, this._resolverCache);\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(snapshot);\n    }\n    return snapshot;\n  }\n\n  // This method will return a list of updated owners from the subscriptions\n  ;\n  _proto.notify = function notify(sourceOperation, invalidateStore) {\n    var _this3 = this;\n    var log = this.__log;\n    if (log != null) {\n      log({\n        name: 'store.notify.start',\n        sourceOperation: sourceOperation\n      });\n    }\n\n    // Increment the current write when notifying after executing\n    // a set of changes to the store.\n    this._currentWriteEpoch++;\n    if (invalidateStore === true) {\n      this._globalInvalidationEpoch = this._currentWriteEpoch;\n    }\n    if (RelayFeatureFlags.ENABLE_RELAY_RESOLVERS) {\n      // When a record is updated, we need to also handle records that depend on it,\n      // specifically Relay Resolver result records containing results based on the\n      // updated records. This both adds to updatedRecordIDs and invalidates any\n      // cached data as needed.\n      this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);\n    }\n    var source = this.getSource();\n    var updatedOwners = [];\n    this._storeSubscriptions.updateSubscriptions(source, this._updatedRecordIDs, updatedOwners, sourceOperation);\n    this._invalidationSubscriptions.forEach(function (subscription) {\n      _this3._updateInvalidationSubscription(subscription, invalidateStore === true);\n    });\n    if (log != null) {\n      log({\n        name: 'store.notify.complete',\n        sourceOperation: sourceOperation,\n        updatedRecordIDs: this._updatedRecordIDs,\n        invalidatedRecordIDs: this._invalidatedRecordIDs\n      });\n    }\n    this._updatedRecordIDs.clear();\n    this._invalidatedRecordIDs.clear();\n\n    // If a source operation was provided (indicating the operation\n    // that produced this update to the store), record the current epoch\n    // at which this operation was written.\n    if (sourceOperation != null) {\n      // We only track the epoch at which the operation was written if\n      // it was previously retained, to keep the size of our operation\n      // epoch map bounded. If a query wasn't retained, we assume it can\n      // may be deleted at any moment and thus is not relevant for us to track\n      // for the purposes of invalidation.\n      var id = sourceOperation.request.identifier;\n      var rootEntry = this._roots.get(id);\n      if (rootEntry != null) {\n        rootEntry.epoch = this._currentWriteEpoch;\n        rootEntry.fetchTime = Date.now();\n      } else if (sourceOperation.request.node.params.operationKind === 'query' && this._gcReleaseBufferSize > 0 && this._releaseBuffer.length < this._gcReleaseBufferSize) {\n        // The operation isn't retained but there is space in the release buffer:\n        // temporarily track this operation in case the data can be reused soon.\n        var temporaryRootEntry = {\n          operation: sourceOperation,\n          refCount: 0,\n          epoch: this._currentWriteEpoch,\n          fetchTime: Date.now()\n        };\n        this._releaseBuffer.push(id);\n        this._roots.set(id, temporaryRootEntry);\n      }\n    }\n    return updatedOwners;\n  };\n  _proto.publish = function publish(source, idsMarkedForInvalidation) {\n    var target = this._getMutableRecordSource();\n    updateTargetFromSource(target, source,\n    // We increment the current epoch at the end of the set of updates,\n    // in notify(). Here, we pass what will be the incremented value of\n    // the epoch to use to write to invalidated records.\n    this._currentWriteEpoch + 1, idsMarkedForInvalidation, this._updatedRecordIDs, this._invalidatedRecordIDs);\n    // NOTE: log *after* processing the source so that even if a bad log function\n    // mutates the source, it doesn't affect Relay processing of it.\n    var log = this.__log;\n    if (log != null) {\n      log({\n        name: 'store.publish',\n        source: source,\n        optimistic: target === this._optimisticSource\n      });\n    }\n  };\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    return this._storeSubscriptions.subscribe(snapshot, callback);\n  };\n  _proto.holdGC = function holdGC() {\n    var _this4 = this;\n    if (this._gcRun) {\n      this._gcRun = null;\n      this._shouldScheduleGC = true;\n    }\n    this._gcHoldCounter++;\n    var dispose = function dispose() {\n      if (_this4._gcHoldCounter > 0) {\n        _this4._gcHoldCounter--;\n        if (_this4._gcHoldCounter === 0 && _this4._shouldScheduleGC) {\n          _this4.scheduleGC();\n          _this4._shouldScheduleGC = false;\n        }\n      }\n    };\n    return {\n      dispose: dispose\n    };\n  };\n  _proto.toJSON = function toJSON() {\n    return 'RelayModernStore()';\n  };\n  _proto.getEpoch = function getEpoch() {\n    return this._currentWriteEpoch;\n  }\n\n  // Internal API\n  ;\n  _proto.__getUpdatedRecordIDs = function __getUpdatedRecordIDs() {\n    return this._updatedRecordIDs;\n  };\n  _proto.lookupInvalidationState = function lookupInvalidationState(dataIDs) {\n    var _this5 = this;\n    var invalidations = new Map();\n    dataIDs.forEach(function (dataID) {\n      var _RelayModernRecord$ge;\n      var record = _this5.getSource().get(dataID);\n      invalidations.set(dataID, (_RelayModernRecord$ge = RelayModernRecord.getInvalidationEpoch(record)) !== null && _RelayModernRecord$ge !== void 0 ? _RelayModernRecord$ge : null);\n    });\n    invalidations.set('global', this._globalInvalidationEpoch);\n    return {\n      dataIDs: dataIDs,\n      invalidations: invalidations\n    };\n  };\n  _proto.checkInvalidationState = function checkInvalidationState(prevInvalidationState) {\n    var latestInvalidationState = this.lookupInvalidationState(prevInvalidationState.dataIDs);\n    var currentInvalidations = latestInvalidationState.invalidations;\n    var prevInvalidations = prevInvalidationState.invalidations;\n\n    // Check if global invalidation has changed\n    if (currentInvalidations.get('global') !== prevInvalidations.get('global')) {\n      return true;\n    }\n\n    // Check if the invalidation state for any of the ids has changed.\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(prevInvalidationState.dataIDs),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var dataID = _step.value;\n        if (currentInvalidations.get(dataID) !== prevInvalidations.get(dataID)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return false;\n  };\n  _proto.subscribeToInvalidationState = function subscribeToInvalidationState(invalidationState, callback) {\n    var _this6 = this;\n    var subscription = {\n      callback: callback,\n      invalidationState: invalidationState\n    };\n    var dispose = function dispose() {\n      _this6._invalidationSubscriptions[\"delete\"](subscription);\n    };\n    this._invalidationSubscriptions.add(subscription);\n    return {\n      dispose: dispose\n    };\n  };\n  _proto._updateInvalidationSubscription = function _updateInvalidationSubscription(subscription, invalidatedStore) {\n    var _this7 = this;\n    var callback = subscription.callback,\n      invalidationState = subscription.invalidationState;\n    var dataIDs = invalidationState.dataIDs;\n    var isSubscribedToInvalidatedIDs = invalidatedStore || dataIDs.some(function (dataID) {\n      return _this7._invalidatedRecordIDs.has(dataID);\n    });\n    if (!isSubscribedToInvalidatedIDs) {\n      return;\n    }\n    callback();\n  };\n  _proto.snapshot = function snapshot() {\n    !(this._optimisticSource == null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernStore: Unexpected call to snapshot() while a previous ' + 'snapshot exists.') : invariant(false) : void 0;\n    var log = this.__log;\n    if (log != null) {\n      log({\n        name: 'store.snapshot'\n      });\n    }\n    this._storeSubscriptions.snapshotSubscriptions(this.getSource());\n    if (this._gcRun) {\n      this._gcRun = null;\n      this._shouldScheduleGC = true;\n    }\n    this._optimisticSource = RelayOptimisticRecordSource.create(this.getSource());\n  };\n  _proto.restore = function restore() {\n    !(this._optimisticSource != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernStore: Unexpected call to restore(), expected a snapshot ' + 'to exist (make sure to call snapshot()).') : invariant(false) : void 0;\n    var log = this.__log;\n    if (log != null) {\n      log({\n        name: 'store.restore'\n      });\n    }\n    this._optimisticSource = null;\n    if (this._shouldScheduleGC) {\n      this.scheduleGC();\n    }\n    this._storeSubscriptions.restoreSubscriptions();\n  };\n  _proto.scheduleGC = function scheduleGC() {\n    if (this._gcHoldCounter > 0) {\n      this._shouldScheduleGC = true;\n      return;\n    }\n    if (this._gcRun) {\n      return;\n    }\n    this._gcRun = this._collect();\n    this._gcScheduler(this._gcStep);\n  }\n\n  /**\n   * Run a full GC synchronously.\n   */;\n  _proto.__gc = function __gc() {\n    // Don't run GC while there are optimistic updates applied\n    if (this._optimisticSource != null) {\n      return;\n    }\n    var gcRun = this._collect();\n    while (!gcRun.next().done) {}\n  };\n  _proto._collect = function* _collect() {\n    /* eslint-disable no-labels */\n    top: while (true) {\n      var startEpoch = this._currentWriteEpoch;\n      var references = new Set();\n\n      // Mark all records that are traversable from a root\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(this._roots.values()),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var operation = _step2.value.operation;\n          var selector = operation.root;\n          RelayReferenceMarker.mark(this._recordSource, selector, references, this._operationLoader, this._shouldProcessClientComponents);\n          // Yield for other work after each operation\n          yield;\n\n          // If the store was updated, restart\n          if (startEpoch !== this._currentWriteEpoch) {\n            continue top;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var log = this.__log;\n      if (log != null) {\n        log({\n          name: 'store.gc',\n          references: references\n        });\n      }\n\n      // Sweep records without references\n      if (references.size === 0) {\n        // Short-circuit if *nothing* is referenced\n        this._recordSource.clear();\n      } else {\n        // Evict any unreferenced nodes\n        var storeIDs = this._recordSource.getRecordIDs();\n        for (var ii = 0; ii < storeIDs.length; ii++) {\n          var dataID = storeIDs[ii];\n          if (!references.has(dataID)) {\n            this._recordSource.remove(dataID);\n          }\n        }\n      }\n      return;\n    }\n  };\n  return RelayModernStore;\n}();\nfunction initializeRecordSource(target) {\n  if (!target.has(ROOT_ID)) {\n    var rootRecord = RelayModernRecord.create(ROOT_ID, ROOT_TYPE);\n    target.set(ROOT_ID, rootRecord);\n  }\n}\n\n/**\n * Updates the target with information from source, also updating a mapping of\n * which records in the target were changed as a result.\n * Additionally, will mark records as invalidated at the current write epoch\n * given the set of record ids marked as stale in this update.\n */\nfunction updateTargetFromSource(target, source, currentWriteEpoch, idsMarkedForInvalidation, updatedRecordIDs, invalidatedRecordIDs) {\n  // First, update any records that were marked for invalidation.\n  // For each provided dataID that was invalidated, we write the\n  // INVALIDATED_AT_KEY on the record, indicating\n  // the epoch at which the record was invalidated.\n  if (idsMarkedForInvalidation) {\n    idsMarkedForInvalidation.forEach(function (dataID) {\n      var targetRecord = target.get(dataID);\n      var sourceRecord = source.get(dataID);\n\n      // If record was deleted during the update (and also invalidated),\n      // we don't need to count it as an invalidated id\n      if (sourceRecord === null) {\n        return;\n      }\n      var nextRecord;\n      if (targetRecord != null) {\n        // If the target record exists, use it to set the epoch\n        // at which it was invalidated. This record will be updated with\n        // any changes from source in the section below\n        // where we update the target records based on the source.\n        nextRecord = RelayModernRecord.clone(targetRecord);\n      } else {\n        // If the target record doesn't exist, it means that a new record\n        // in the source was created (and also invalidated), so we use that\n        // record to set the epoch at which it was invalidated. This record\n        // will be updated with any changes from source in the section below\n        // where we update the target records based on the source.\n        nextRecord = sourceRecord != null ? RelayModernRecord.clone(sourceRecord) : null;\n      }\n      if (!nextRecord) {\n        return;\n      }\n      RelayModernRecord.setValue(nextRecord, RelayStoreUtils.INVALIDATED_AT_KEY, currentWriteEpoch);\n      invalidatedRecordIDs.add(dataID);\n      target.set(dataID, nextRecord);\n    });\n  }\n\n  // Update the target based on the changes present in source\n  var dataIDs = source.getRecordIDs();\n  for (var ii = 0; ii < dataIDs.length; ii++) {\n    var dataID = dataIDs[ii];\n    var sourceRecord = source.get(dataID);\n    var targetRecord = target.get(dataID);\n\n    // Prevent mutation of a record from outside the store.\n    if (process.env.NODE_ENV !== \"production\") {\n      if (sourceRecord) {\n        RelayModernRecord.freeze(sourceRecord);\n      }\n    }\n    if (sourceRecord && targetRecord) {\n      // ReactFlightClientResponses are lazy and only materialize when readRoot\n      // is called when we read the field, so if the record is a Flight field\n      // we always use the new record's data regardless of whether\n      // it actually changed. Let React take care of reconciliation instead.\n      var nextRecord = RelayModernRecord.getType(targetRecord) === RelayStoreReactFlightUtils.REACT_FLIGHT_TYPE_NAME ? sourceRecord : RelayModernRecord.update(targetRecord, sourceRecord);\n      if (nextRecord !== targetRecord) {\n        // Prevent mutation of a record from outside the store.\n        if (process.env.NODE_ENV !== \"production\") {\n          RelayModernRecord.freeze(nextRecord);\n        }\n        updatedRecordIDs.add(dataID);\n        target.set(dataID, nextRecord);\n      }\n    } else if (sourceRecord === null) {\n      target[\"delete\"](dataID);\n      if (targetRecord !== null) {\n        updatedRecordIDs.add(dataID);\n      }\n    } else if (sourceRecord) {\n      target.set(dataID, sourceRecord);\n      updatedRecordIDs.add(dataID);\n    } // don't add explicit undefined\n  }\n}\n\n/**\n * Returns an OperationAvailability given the Availability returned\n * by checking an operation, and when that operation was last written to the store.\n * Specifically, the provided Availability of an operation will contain the\n * value of when a record referenced by the operation was most recently\n * invalidated; given that value, and given when this operation was last\n * written to the store, this function will return the overall\n * OperationAvailability for the operation.\n */\nfunction getAvailabilityStatus(operationAvailability, operationLastWrittenAt, operationFetchTime, queryCacheExpirationTime) {\n  var mostRecentlyInvalidatedAt = operationAvailability.mostRecentlyInvalidatedAt,\n    status = operationAvailability.status;\n  if (typeof mostRecentlyInvalidatedAt === 'number') {\n    // If some record referenced by this operation is stale, then the operation itself is stale\n    // if either the operation itself was never written *or* the operation was last written\n    // before the most recent invalidation of its reachable records.\n    if (operationLastWrittenAt == null || mostRecentlyInvalidatedAt > operationLastWrittenAt) {\n      return {\n        status: 'stale'\n      };\n    }\n  }\n  if (status === 'missing') {\n    return {\n      status: 'missing'\n    };\n  }\n  if (operationFetchTime != null && queryCacheExpirationTime != null) {\n    var isStale = operationFetchTime <= Date.now() - queryCacheExpirationTime;\n    if (isStale) {\n      return {\n        status: 'stale'\n      };\n    }\n  }\n\n  // There were no invalidations of any reachable records *or* the operation is known to have\n  // been fetched after the most recent record invalidation.\n  return {\n    status: 'available',\n    fetchTime: operationFetchTime !== null && operationFetchTime !== void 0 ? operationFetchTime : null\n  };\n}\nmodule.exports = RelayModernStore;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar invariant = require('invariant');\nvar RelayOperationTracker = /*#__PURE__*/function () {\n  function RelayOperationTracker() {\n    this._ownersToPendingOperations = new Map();\n    this._pendingOperationsToOwners = new Map();\n    this._ownersToPendingPromise = new Map();\n  }\n\n  /**\n   * Update the map of current processing operations with the set of\n   * affected owners and notify subscribers\n   */\n  var _proto = RelayOperationTracker.prototype;\n  _proto.update = function update(pendingOperation, affectedOwners) {\n    if (affectedOwners.size === 0) {\n      return;\n    }\n    var pendingOperationIdentifier = pendingOperation.identifier;\n    var newlyAffectedOwnersIdentifier = new Set();\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(affectedOwners),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var owner = _step.value;\n        var ownerIdentifier = owner.identifier;\n        var pendingOperationsAffectingOwner = this._ownersToPendingOperations.get(ownerIdentifier);\n        if (pendingOperationsAffectingOwner != null) {\n          // In this case the `ownerIdentifier` already affected by some operations\n          // We just need to detect, is it the same operation that we already\n          // have in the list, or it's a new operation\n          if (!pendingOperationsAffectingOwner.has(pendingOperationIdentifier)) {\n            pendingOperationsAffectingOwner.set(pendingOperationIdentifier, pendingOperation);\n            newlyAffectedOwnersIdentifier.add(ownerIdentifier);\n          }\n        } else {\n          // This is a new `ownerIdentifier` that is affected by the operation\n          this._ownersToPendingOperations.set(ownerIdentifier, new Map([[pendingOperationIdentifier, pendingOperation]]));\n          newlyAffectedOwnersIdentifier.add(ownerIdentifier);\n        }\n      }\n\n      // No new owners were affected by this operation, we may stop here\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    if (newlyAffectedOwnersIdentifier.size === 0) {\n      return;\n    }\n\n    // But, if some owners were affected we need to add them to\n    // the `_pendingOperationsToOwners` set\n    var ownersAffectedByPendingOperation = this._pendingOperationsToOwners.get(pendingOperationIdentifier) || new Set();\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(newlyAffectedOwnersIdentifier),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _ownerIdentifier = _step2.value;\n        this._resolveOwnerResolvers(_ownerIdentifier);\n        ownersAffectedByPendingOperation.add(_ownerIdentifier);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    this._pendingOperationsToOwners.set(pendingOperationIdentifier, ownersAffectedByPendingOperation);\n  }\n\n  /**\n   * Once pending operation is completed we need to remove it\n   * from all tracking maps\n   */;\n  _proto.complete = function complete(pendingOperation) {\n    var pendingOperationIdentifier = pendingOperation.identifier;\n    var affectedOwnersIdentifier = this._pendingOperationsToOwners.get(pendingOperationIdentifier);\n    if (affectedOwnersIdentifier == null) {\n      return;\n    }\n    // These were the owners affected only by `pendingOperationIdentifier`\n    var completedOwnersIdentifier = new Set();\n\n    // These were the owners affected by `pendingOperationIdentifier`\n    // and some other operations\n    var updatedOwnersIdentifier = new Set();\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(affectedOwnersIdentifier),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var ownerIdentifier = _step3.value;\n        var pendingOperationsAffectingOwner = this._ownersToPendingOperations.get(ownerIdentifier);\n        if (!pendingOperationsAffectingOwner) {\n          continue;\n        }\n        pendingOperationsAffectingOwner[\"delete\"](pendingOperationIdentifier);\n        if (pendingOperationsAffectingOwner.size > 0) {\n          updatedOwnersIdentifier.add(ownerIdentifier);\n        } else {\n          completedOwnersIdentifier.add(ownerIdentifier);\n        }\n      }\n\n      // Complete subscriptions for all owners, affected by `pendingOperationIdentifier`\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(completedOwnersIdentifier),\n      _step4;\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _ownerIdentifier2 = _step4.value;\n        this._resolveOwnerResolvers(_ownerIdentifier2);\n        this._ownersToPendingOperations[\"delete\"](_ownerIdentifier2);\n      }\n\n      // Update all ownerIdentifier that were updated by `pendingOperationIdentifier` but still\n      // are affected by other operations\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n    var _iterator5 = (0, _createForOfIteratorHelper2[\"default\"])(updatedOwnersIdentifier),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var _ownerIdentifier3 = _step5.value;\n        this._resolveOwnerResolvers(_ownerIdentifier3);\n      }\n\n      // Finally, remove pending operation identifier\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n    this._pendingOperationsToOwners[\"delete\"](pendingOperationIdentifier);\n  };\n  _proto._resolveOwnerResolvers = function _resolveOwnerResolvers(ownerIdentifier) {\n    var promiseEntry = this._ownersToPendingPromise.get(ownerIdentifier);\n    if (promiseEntry != null) {\n      promiseEntry.resolve();\n    }\n    this._ownersToPendingPromise[\"delete\"](ownerIdentifier);\n  };\n  _proto.getPendingOperationsAffectingOwner = function getPendingOperationsAffectingOwner(owner) {\n    var ownerIdentifier = owner.identifier;\n    var pendingOperationsForOwner = this._ownersToPendingOperations.get(ownerIdentifier);\n    if (pendingOperationsForOwner == null || pendingOperationsForOwner.size === 0) {\n      return null;\n    }\n    var cachedPromiseEntry = this._ownersToPendingPromise.get(ownerIdentifier);\n    if (cachedPromiseEntry != null) {\n      return {\n        promise: cachedPromiseEntry.promise,\n        pendingOperations: cachedPromiseEntry.pendingOperations\n      };\n    }\n    var resolve;\n    var promise = new Promise(function (r) {\n      resolve = r;\n    });\n    !(resolve != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayOperationTracker: Expected resolver to be defined. If you' + 'are seeing this, it is likely a bug in Relay.') : invariant(false) : void 0;\n    var pendingOperations = Array.from(pendingOperationsForOwner.values());\n    this._ownersToPendingPromise.set(ownerIdentifier, {\n      promise: promise,\n      resolve: resolve,\n      pendingOperations: pendingOperations\n    });\n    return {\n      promise: promise,\n      pendingOperations: pendingOperations\n    };\n  };\n  return RelayOperationTracker;\n}();\nmodule.exports = RelayOperationTracker;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar RelayRecordSource = require('./RelayRecordSource');\nvar invariant = require('invariant');\nvar UNPUBLISH_RECORD_SENTINEL = Object.freeze({\n  __UNPUBLISH_RECORD_SENTINEL: true\n});\n\n/**\n * An implementation of MutableRecordSource that represents a base RecordSource\n * with optimistic updates stacked on top: records with optimistic updates\n * shadow the base version of the record rather than updating/replacing them.\n */\nvar RelayOptimisticRecordSource = /*#__PURE__*/function () {\n  function RelayOptimisticRecordSource(base) {\n    this._base = base;\n    this._sink = RelayRecordSource.create();\n  }\n  var _proto = RelayOptimisticRecordSource.prototype;\n  _proto.has = function has(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      return sinkRecord !== UNPUBLISH_RECORD_SENTINEL;\n    } else {\n      return this._base.has(dataID);\n    }\n  };\n  _proto.get = function get(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      if (sinkRecord === UNPUBLISH_RECORD_SENTINEL) {\n        return undefined;\n      } else {\n        return sinkRecord;\n      }\n    } else {\n      return this._base.get(dataID);\n    }\n  };\n  _proto.getStatus = function getStatus(dataID) {\n    var record = this.get(dataID);\n    if (record === undefined) {\n      return 'UNKNOWN';\n    } else if (record === null) {\n      return 'NONEXISTENT';\n    } else {\n      return 'EXISTENT';\n    }\n  };\n  _proto.clear = function clear() {\n    this._base = RelayRecordSource.create();\n    this._sink.clear();\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n  _proto.remove = function remove(dataID) {\n    this._sink.set(dataID, UNPUBLISH_RECORD_SENTINEL);\n  };\n  _proto.set = function set(dataID, record) {\n    this._sink.set(dataID, record);\n  };\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Object.keys(this.toJSON());\n  };\n  _proto.size = function size() {\n    return Object.keys(this.toJSON()).length;\n  };\n  _proto.toJSON = function toJSON() {\n    var _this = this;\n    var merged = (0, _objectSpread2[\"default\"])({}, this._base.toJSON());\n    this._sink.getRecordIDs().forEach(function (dataID) {\n      var record = _this.get(dataID);\n      if (record === undefined) {\n        delete merged[dataID];\n      } else {\n        merged[dataID] = record;\n      }\n    });\n    return merged;\n  };\n  _proto.getOptimisticRecordIDs = function getOptimisticRecordIDs() {\n    return new Set(this._sink.getRecordIDs());\n  };\n  return RelayOptimisticRecordSource;\n}();\nfunction create(base) {\n  return new RelayOptimisticRecordSource(base);\n}\nfunction getOptimisticRecordIDs(source) {\n  !(source instanceof RelayOptimisticRecordSource) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getOptimisticRecordIDs: Instance of RelayOptimisticRecordSource is expected') : invariant(false) : void 0;\n  return source.getOptimisticRecordIDs();\n}\nmodule.exports = {\n  create: create,\n  getOptimisticRecordIDs: getOptimisticRecordIDs\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _global$ErrorUtils$ap, _global$ErrorUtils;\nvar RelayRecordSourceMutator = require('../mutations/RelayRecordSourceMutator');\nvar RelayRecordSourceProxy = require('../mutations/RelayRecordSourceProxy');\nvar RelayRecordSourceSelectorProxy = require('../mutations/RelayRecordSourceSelectorProxy');\nvar RelayReader = require('./RelayReader');\nvar RelayRecordSource = require('./RelayRecordSource');\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\nvar _global = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : undefined;\nvar applyWithGuard = (_global$ErrorUtils$ap = _global === null || _global === void 0 ? void 0 : (_global$ErrorUtils = _global.ErrorUtils) === null || _global$ErrorUtils === void 0 ? void 0 : _global$ErrorUtils.applyWithGuard) !== null && _global$ErrorUtils$ap !== void 0 ? _global$ErrorUtils$ap : function (callback, context, args, onError, name) {\n  return callback.apply(context, args);\n};\n\n/**\n * Coordinates the concurrent modification of a `Store` due to optimistic and\n * non-revertable client updates and server payloads:\n * - Applies optimistic updates.\n * - Reverts optimistic updates, rebasing any subsequent updates.\n * - Commits client updates (typically for client schema extensions).\n * - Commits server updates:\n *   - Normalizes query/mutation/subscription responses.\n *   - Executes handlers for \"handle\" fields.\n *   - Reverts and reapplies pending optimistic updates.\n */\nvar RelayPublishQueue = /*#__PURE__*/function () {\n  // True if the next `run()` should apply the backup and rerun all optimistic\n  // updates performing a rebase.\n\n  // Payloads to apply or Sources to publish to the store with the next `run()`.\n  // $FlowFixMe[unclear-type] See explanation below.\n\n  // Optimistic updaters to add with the next `run()`.\n  // $FlowFixMe[unclear-type] See explanation below.\n\n  // Optimistic updaters that are already added and might be rerun in order to\n  // rebase them.\n  // $FlowFixMe[unclear-type] See explanation below.\n\n  // For _pendingOptimisticUpdates, _appliedOptimisticUpdates, and _pendingData,\n  // we want to parametrize by \"any\" since the type is effectively\n  // \"the union of all T's that PublishQueue's methods were called with\".\n\n  // Garbage collection hold, should rerun gc on dispose\n\n  function RelayPublishQueue(store, handlerProvider, getDataID, missingFieldHandlers) {\n    this._hasStoreSnapshot = false;\n    this._handlerProvider = handlerProvider || null;\n    this._pendingBackupRebase = false;\n    this._pendingData = new Set();\n    this._pendingOptimisticUpdates = new Set();\n    this._store = store;\n    this._appliedOptimisticUpdates = new Set();\n    this._gcHold = null;\n    this._getDataID = getDataID;\n    this._missingFieldHandlers = missingFieldHandlers;\n  }\n\n  /**\n   * Schedule applying an optimistic updates on the next `run()`.\n   */\n  var _proto = RelayPublishQueue.prototype;\n  _proto.applyUpdate = function applyUpdate(updater) {\n    !(!this._appliedOptimisticUpdates.has(updater) && !this._pendingOptimisticUpdates.has(updater)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayPublishQueue: Cannot apply the same update function more than ' + 'once concurrently.') : invariant(false) : void 0;\n    this._pendingOptimisticUpdates.add(updater);\n  }\n\n  /**\n   * Schedule reverting an optimistic updates on the next `run()`.\n   */;\n  _proto.revertUpdate = function revertUpdate(updater) {\n    if (this._pendingOptimisticUpdates.has(updater)) {\n      // Reverted before it was applied\n      this._pendingOptimisticUpdates[\"delete\"](updater);\n    } else if (this._appliedOptimisticUpdates.has(updater)) {\n      this._pendingBackupRebase = true;\n      this._appliedOptimisticUpdates[\"delete\"](updater);\n    }\n  }\n\n  /**\n   * Schedule a revert of all optimistic updates on the next `run()`.\n   */;\n  _proto.revertAll = function revertAll() {\n    this._pendingBackupRebase = true;\n    this._pendingOptimisticUpdates.clear();\n    this._appliedOptimisticUpdates.clear();\n  }\n\n  /**\n   * Schedule applying a payload to the store on the next `run()`.\n   */;\n  _proto.commitPayload = function commitPayload(operation, payload, updater) {\n    this._pendingBackupRebase = true;\n    this._pendingData.add({\n      kind: 'payload',\n      operation: operation,\n      payload: payload,\n      updater: updater\n    });\n  }\n\n  /**\n   * Schedule an updater to mutate the store on the next `run()` typically to\n   * update client schema fields.\n   */;\n  _proto.commitUpdate = function commitUpdate(updater) {\n    this._pendingBackupRebase = true;\n    this._pendingData.add({\n      kind: 'updater',\n      updater: updater\n    });\n  }\n\n  /**\n   * Schedule a publish to the store from the provided source on the next\n   * `run()`. As an example, to update the store with substituted fields that\n   * are missing in the store.\n   */;\n  _proto.commitSource = function commitSource(source) {\n    this._pendingBackupRebase = true;\n    this._pendingData.add({\n      kind: 'source',\n      source: source\n    });\n  }\n\n  /**\n   * Execute all queued up operations from the other public methods.\n   */;\n  _proto.run = function run(sourceOperation) {\n    var runWillClearGcHold = this._appliedOptimisticUpdates === 0 && !!this._gcHold;\n    var runIsANoop =\n    // this._pendingBackupRebase is true if an applied optimistic\n    // update has potentially been reverted or if this._pendingData is not empty.\n    !this._pendingBackupRebase && this._pendingOptimisticUpdates.size === 0 && !runWillClearGcHold;\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(!runIsANoop, 'RelayPublishQueue.run was called, but the call would have been a noop.') : void 0;\n      process.env.NODE_ENV !== \"production\" ? warning(this._isRunning !== true, 'A store update was detected within another store update. Please ' + \"make sure new store updates aren't being executed within an \" + 'updater function for a different update.') : void 0;\n      this._isRunning = true;\n    }\n    if (runIsANoop) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this._isRunning = false;\n      }\n      return [];\n    }\n    if (this._pendingBackupRebase) {\n      if (this._hasStoreSnapshot) {\n        this._store.restore();\n        this._hasStoreSnapshot = false;\n      }\n    }\n    var invalidatedStore = this._commitData();\n    if (this._pendingOptimisticUpdates.size || this._pendingBackupRebase && this._appliedOptimisticUpdates.size) {\n      if (!this._hasStoreSnapshot) {\n        this._store.snapshot();\n        this._hasStoreSnapshot = true;\n      }\n      this._applyUpdates();\n    }\n    this._pendingBackupRebase = false;\n    if (this._appliedOptimisticUpdates.size > 0) {\n      if (!this._gcHold) {\n        this._gcHold = this._store.holdGC();\n      }\n    } else {\n      if (this._gcHold) {\n        this._gcHold.dispose();\n        this._gcHold = null;\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      this._isRunning = false;\n    }\n    return this._store.notify(sourceOperation, invalidatedStore);\n  }\n\n  /**\n   * _publishSourceFromPayload will return a boolean indicating if the\n   * publish caused the store to be globally invalidated.\n   */;\n  _proto._publishSourceFromPayload = function _publishSourceFromPayload(pendingPayload) {\n    var _this = this;\n    var payload = pendingPayload.payload,\n      operation = pendingPayload.operation,\n      updater = pendingPayload.updater;\n    var source = payload.source,\n      fieldPayloads = payload.fieldPayloads;\n    var mutator = new RelayRecordSourceMutator(this._store.getSource(), source);\n    var recordSourceProxy = new RelayRecordSourceProxy(mutator, this._getDataID, this._handlerProvider, this._missingFieldHandlers);\n    if (fieldPayloads && fieldPayloads.length) {\n      fieldPayloads.forEach(function (fieldPayload) {\n        var handler = _this._handlerProvider && _this._handlerProvider(fieldPayload.handle);\n        !handler ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a handler to be provided for ' + 'handle `%s`.', fieldPayload.handle) : invariant(false) : void 0;\n        handler.update(recordSourceProxy, fieldPayload);\n      });\n    }\n    if (updater) {\n      var selector = operation.fragment;\n      !(selector != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernEnvironment: Expected a selector to be provided with updater function.') : invariant(false) : void 0;\n      var recordSourceSelectorProxy = new RelayRecordSourceSelectorProxy(mutator, recordSourceProxy, selector, this._missingFieldHandlers);\n      var selectorData = lookupSelector(source, selector);\n      updater(recordSourceSelectorProxy, selectorData);\n    }\n    var idsMarkedForInvalidation = recordSourceProxy.getIDsMarkedForInvalidation();\n    this._store.publish(source, idsMarkedForInvalidation);\n    return recordSourceProxy.isStoreMarkedForInvalidation();\n  }\n\n  /**\n   * _commitData will return a boolean indicating if any of\n   * the pending commits caused the store to be globally invalidated.\n   */;\n  _proto._commitData = function _commitData() {\n    var _this2 = this;\n    if (!this._pendingData.size) {\n      return false;\n    }\n    var invalidatedStore = false;\n    this._pendingData.forEach(function (data) {\n      if (data.kind === 'payload') {\n        var payloadInvalidatedStore = _this2._publishSourceFromPayload(data);\n        invalidatedStore = invalidatedStore || payloadInvalidatedStore;\n      } else if (data.kind === 'source') {\n        var source = data.source;\n        _this2._store.publish(source);\n      } else {\n        var updater = data.updater;\n        var sink = RelayRecordSource.create();\n        var mutator = new RelayRecordSourceMutator(_this2._store.getSource(), sink);\n        var recordSourceProxy = new RelayRecordSourceProxy(mutator, _this2._getDataID, _this2._handlerProvider, _this2._missingFieldHandlers);\n        applyWithGuard(updater, null, [recordSourceProxy], null, 'RelayPublishQueue:commitData');\n        invalidatedStore = invalidatedStore || recordSourceProxy.isStoreMarkedForInvalidation();\n        var idsMarkedForInvalidation = recordSourceProxy.getIDsMarkedForInvalidation();\n        _this2._store.publish(sink, idsMarkedForInvalidation);\n      }\n    });\n    this._pendingData.clear();\n    return invalidatedStore;\n  }\n\n  /**\n   * Note that unlike _commitData, _applyUpdates will NOT return a boolean\n   * indicating if the store was globally invalidated, since invalidating the\n   * store during an optimistic update is a no-op.\n   */;\n  _proto._applyUpdates = function _applyUpdates() {\n    var _this3 = this;\n    var sink = RelayRecordSource.create();\n    var mutator = new RelayRecordSourceMutator(this._store.getSource(), sink);\n    var recordSourceProxy = new RelayRecordSourceProxy(mutator, this._getDataID, this._handlerProvider, this._missingFieldHandlers);\n\n    // $FlowFixMe[unclear-type] see explanation above.\n    var processUpdate = function processUpdate(optimisticUpdate) {\n      if (optimisticUpdate.storeUpdater) {\n        var storeUpdater = optimisticUpdate.storeUpdater;\n        applyWithGuard(storeUpdater, null, [recordSourceProxy], null, 'RelayPublishQueue:applyUpdates');\n      } else {\n        var operation = optimisticUpdate.operation,\n          payload = optimisticUpdate.payload,\n          updater = optimisticUpdate.updater;\n        var source = payload.source,\n          fieldPayloads = payload.fieldPayloads;\n        if (source) {\n          recordSourceProxy.publishSource(source, fieldPayloads);\n        }\n        if (updater) {\n          var selectorData;\n          if (source) {\n            selectorData = lookupSelector(source, operation.fragment);\n          }\n          var recordSourceSelectorProxy = new RelayRecordSourceSelectorProxy(mutator, recordSourceProxy, operation.fragment, _this3._missingFieldHandlers);\n          applyWithGuard(updater, null, [recordSourceSelectorProxy, selectorData], null, 'RelayPublishQueue:applyUpdates');\n        }\n      }\n    };\n\n    // rerun all updaters in case we are running a rebase\n    if (this._pendingBackupRebase && this._appliedOptimisticUpdates.size) {\n      this._appliedOptimisticUpdates.forEach(processUpdate);\n    }\n\n    // apply any new updaters\n    if (this._pendingOptimisticUpdates.size) {\n      this._pendingOptimisticUpdates.forEach(function (optimisticUpdate) {\n        processUpdate(optimisticUpdate);\n        _this3._appliedOptimisticUpdates.add(optimisticUpdate);\n      });\n      this._pendingOptimisticUpdates.clear();\n    }\n    this._store.publish(sink);\n  };\n  return RelayPublishQueue;\n}();\nfunction lookupSelector(source, selector) {\n  var selectorData = RelayReader.read(source, selector).data;\n  if (process.env.NODE_ENV !== \"production\") {\n    var deepFreeze = require('../util/deepFreeze');\n    if (selectorData) {\n      deepFreeze(selectorData);\n    }\n  }\n  return selectorData;\n}\nmodule.exports = RelayPublishQueue;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _require = require('../util/RelayConcreteNode'),\n  ACTOR_CHANGE = _require.ACTOR_CHANGE,\n  ALIASED_FRAGMENT_SPREAD = _require.ALIASED_FRAGMENT_SPREAD,\n  ALIASED_INLINE_FRAGMENT_SPREAD = _require.ALIASED_INLINE_FRAGMENT_SPREAD,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = _require.CLIENT_EDGE_TO_CLIENT_OBJECT,\n  CLIENT_EDGE_TO_SERVER_OBJECT = _require.CLIENT_EDGE_TO_SERVER_OBJECT,\n  CLIENT_EXTENSION = _require.CLIENT_EXTENSION,\n  CONDITION = _require.CONDITION,\n  DEFER = _require.DEFER,\n  FLIGHT_FIELD = _require.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = _require.FRAGMENT_SPREAD,\n  INLINE_DATA_FRAGMENT_SPREAD = _require.INLINE_DATA_FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = _require.INLINE_FRAGMENT,\n  LINKED_FIELD = _require.LINKED_FIELD,\n  MODULE_IMPORT = _require.MODULE_IMPORT,\n  RELAY_LIVE_RESOLVER = _require.RELAY_LIVE_RESOLVER,\n  RELAY_RESOLVER = _require.RELAY_RESOLVER,\n  REQUIRED_FIELD = _require.REQUIRED_FIELD,\n  SCALAR_FIELD = _require.SCALAR_FIELD,\n  STREAM = _require.STREAM;\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar _require2 = require('./experimental-live-resolvers/LiveResolverSuspenseSentinel'),\n  isSuspenseSentinel = _require2.isSuspenseSentinel;\nvar RelayConcreteVariables = require('./RelayConcreteVariables');\nvar RelayModernRecord = require('./RelayModernRecord');\nvar _require3 = require('./RelayStoreReactFlightUtils'),\n  getReactFlightClientResponse = _require3.getReactFlightClientResponse;\nvar _require4 = require('./RelayStoreUtils'),\n  CLIENT_EDGE_TRAVERSAL_PATH = _require4.CLIENT_EDGE_TRAVERSAL_PATH,\n  FRAGMENT_OWNER_KEY = _require4.FRAGMENT_OWNER_KEY,\n  FRAGMENT_PROP_NAME_KEY = _require4.FRAGMENT_PROP_NAME_KEY,\n  FRAGMENTS_KEY = _require4.FRAGMENTS_KEY,\n  ID_KEY = _require4.ID_KEY,\n  IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require4.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,\n  MODULE_COMPONENT_KEY = _require4.MODULE_COMPONENT_KEY,\n  ROOT_ID = _require4.ROOT_ID,\n  getArgumentValues = _require4.getArgumentValues,\n  getModuleComponentKey = _require4.getModuleComponentKey,\n  getStorageKey = _require4.getStorageKey;\nvar _require5 = require('./ResolverCache'),\n  NoopResolverCache = _require5.NoopResolverCache;\nvar _require6 = require('./ResolverFragments'),\n  RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL = _require6.RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL,\n  withResolverContext = _require6.withResolverContext;\nvar _require7 = require('./TypeID'),\n  generateTypeID = _require7.generateTypeID;\nvar invariant = require('invariant');\nfunction read(recordSource, selector, resolverCache) {\n  var reader = new RelayReader(recordSource, selector, resolverCache !== null && resolverCache !== void 0 ? resolverCache : new NoopResolverCache());\n  return reader.read();\n}\n\n/**\n * @private\n */\nvar RelayReader = /*#__PURE__*/function () {\n  function RelayReader(recordSource, selector, resolverCache) {\n    var _selector$clientEdgeT;\n    this._clientEdgeTraversalPath = RelayFeatureFlags.ENABLE_CLIENT_EDGES && (_selector$clientEdgeT = selector.clientEdgeTraversalPath) !== null && _selector$clientEdgeT !== void 0 && _selector$clientEdgeT.length ? (0, _toConsumableArray2[\"default\"])(selector.clientEdgeTraversalPath) : [];\n    this._missingClientEdges = [];\n    this._missingLiveResolverFields = [];\n    this._isMissingData = false;\n    this._isWithinUnmatchedTypeRefinement = false;\n    this._missingRequiredFields = null;\n    this._owner = selector.owner;\n    this._recordSource = recordSource;\n    this._seenRecords = new Set();\n    this._selector = selector;\n    this._variables = selector.variables;\n    this._resolverCache = resolverCache;\n    this._resolverErrors = [];\n    this._fragmentName = selector.node.name;\n    this._updatedDataIDs = new Set();\n  }\n  var _proto = RelayReader.prototype;\n  _proto.read = function read() {\n    var _this$_selector = this._selector,\n      node = _this$_selector.node,\n      dataID = _this$_selector.dataID,\n      isWithinUnmatchedTypeRefinement = _this$_selector.isWithinUnmatchedTypeRefinement;\n    var abstractKey = node.abstractKey;\n    var record = this._recordSource.get(dataID);\n\n    // Relay historically allowed child fragments to be read even if the root object\n    // did not match the type of the fragment: either the root object has a different\n    // concrete type than the fragment (for concrete fragments) or the root object does\n    // not conform to the interface/union for abstract fragments.\n    // For suspense purposes, however, we want to accurately compute whether any data\n    // is missing: but if the fragment type doesn't match (or a parent type didn't\n    // match), then no data is expected to be present.\n\n    // By default data is expected to be present unless this selector was read out\n    // from within a non-matching type refinement in a parent fragment:\n    var isDataExpectedToBePresent = !isWithinUnmatchedTypeRefinement;\n\n    // If this is a concrete fragment and the concrete type of the record does not\n    // match, then no data is expected to be present.\n    if (isDataExpectedToBePresent && abstractKey == null && record != null) {\n      var recordType = RelayModernRecord.getType(record);\n      if (recordType !== node.type &&\n      // The root record type is a special `__Root` type and may not match the\n      // type on the ast, so ignore type mismatches at the root.\n      // We currently detect whether we're at the root by checking against ROOT_ID,\n      // but this does not work for mutations/subscriptions which generate unique\n      // root ids. This is acceptable in practice as we don't read data for mutations/\n      // subscriptions in a situation where we would use isMissingData to decide whether\n      // to suspend or not.\n      // TODO T96653810: Correctly detect reading from root of mutation/subscription\n      dataID !== ROOT_ID) {\n        isDataExpectedToBePresent = false;\n      }\n    }\n\n    // If this is an abstract fragment (and the precise refinement GK is enabled)\n    // then data is only expected to be present if the record type is known to\n    // implement the interface. If we aren't sure whether the record implements\n    // the interface, that itself constitutes \"expected\" data being missing.\n    if (isDataExpectedToBePresent && abstractKey != null && record != null) {\n      var implementsInterface = this._implementsInterface(record, abstractKey);\n      if (implementsInterface === false) {\n        // Type known to not implement the interface\n        isDataExpectedToBePresent = false;\n      } else if (implementsInterface == null) {\n        // Don't know if the type implements the interface or not\n        this._isMissingData = true;\n      }\n    }\n    this._isWithinUnmatchedTypeRefinement = !isDataExpectedToBePresent;\n    var data = this._traverse(node, dataID, null);\n    if (this._updatedDataIDs.size > 0) {\n      this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs);\n      this._updatedDataIDs.clear();\n    }\n    return {\n      data: data,\n      isMissingData: this._isMissingData && isDataExpectedToBePresent,\n      missingClientEdges: RelayFeatureFlags.ENABLE_CLIENT_EDGES && this._missingClientEdges.length ? this._missingClientEdges : null,\n      missingLiveResolverFields: this._missingLiveResolverFields,\n      seenRecords: this._seenRecords,\n      selector: this._selector,\n      missingRequiredFields: this._missingRequiredFields,\n      relayResolverErrors: this._resolverErrors\n    };\n  };\n  _proto._markDataAsMissing = function _markDataAsMissing() {\n    this._isMissingData = true;\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES && this._clientEdgeTraversalPath.length) {\n      var top = this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length - 1];\n      // Top can be null if we've traversed past a client edge into an ordinary\n      // client extension field; we never want to fetch in response to missing\n      // data off of a client extension field.\n      if (top !== null) {\n        this._missingClientEdges.push({\n          request: top.readerClientEdge.operation,\n          clientEdgeDestinationID: top.clientEdgeDestinationID\n        });\n      }\n    }\n  };\n  _proto._traverse = function _traverse(node, dataID, prevData) {\n    var record = this._recordSource.get(dataID);\n    this._seenRecords.add(dataID);\n    if (record == null) {\n      if (record === undefined) {\n        this._markDataAsMissing();\n      }\n      return record;\n    }\n    var data = prevData || {};\n    var hadRequiredData = this._traverseSelections(node.selections, record, data);\n    return hadRequiredData ? data : null;\n  };\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n  _proto._maybeReportUnexpectedNull = function _maybeReportUnexpectedNull(fieldPath, action, _record) {\n    var _this$_missingRequire;\n    if (((_this$_missingRequire = this._missingRequiredFields) === null || _this$_missingRequire === void 0 ? void 0 : _this$_missingRequire.action) === 'THROW') {\n      // Chained @required directives may cause a parent `@required(action:\n      // THROW)` field to become null, so the first missing field we\n      // encounter is likely to be the root cause of the error.\n      return;\n    }\n    var owner = this._fragmentName;\n    switch (action) {\n      case 'THROW':\n        this._missingRequiredFields = {\n          action: action,\n          field: {\n            path: fieldPath,\n            owner: owner\n          }\n        };\n        return;\n      case 'LOG':\n        if (this._missingRequiredFields == null) {\n          this._missingRequiredFields = {\n            action: action,\n            fields: [{\n              path: fieldPath,\n              owner: owner\n            }]\n          };\n        } else {\n          this._missingRequiredFields = {\n            action: action,\n            fields: [].concat((0, _toConsumableArray2[\"default\"])(this._missingRequiredFields.fields), [{\n              path: fieldPath,\n              owner: owner\n            }])\n          };\n        }\n        return;\n      default:\n        action;\n    }\n  };\n  _proto._traverseSelections = function _traverseSelections(selections, record, data) /* had all expected data */{\n    for (var i = 0; i < selections.length; i++) {\n      var selection = selections[i];\n      switch (selection.kind) {\n        case REQUIRED_FIELD:\n          {\n            var fieldValue = this._readRequiredField(selection, record, data);\n            if (fieldValue == null) {\n              var action = selection.action;\n              if (action !== 'NONE') {\n                this._maybeReportUnexpectedNull(selection.path, action, record);\n              }\n              // We are going to throw, or our parent is going to get nulled out.\n              // Either way, sibling values are going to be ignored, so we can\n              // bail early here as an optimization.\n              return false;\n            }\n            break;\n          }\n        case SCALAR_FIELD:\n          this._readScalar(selection, record, data);\n          break;\n        case LINKED_FIELD:\n          if (selection.plural) {\n            this._readPluralLink(selection, record, data);\n          } else {\n            this._readLink(selection, record, data);\n          }\n          break;\n        case CONDITION:\n          var conditionValue = Boolean(this._getVariableValue(selection.condition));\n          if (conditionValue === selection.passingValue) {\n            var hasExpectedData = this._traverseSelections(selection.selections, record, data);\n            if (!hasExpectedData) {\n              return false;\n            }\n          }\n          break;\n        case INLINE_FRAGMENT:\n          {\n            if (this._readInlineFragment(selection, record, data) === false) {\n              return false;\n            }\n            break;\n          }\n        case RELAY_LIVE_RESOLVER:\n        case RELAY_RESOLVER:\n          {\n            if (!RelayFeatureFlags.ENABLE_RELAY_RESOLVERS) {\n              throw new Error('Relay Resolver fields are not yet supported.');\n            }\n            this._readResolverField(selection, record, data);\n            break;\n          }\n        case FRAGMENT_SPREAD:\n          this._createFragmentPointer(selection, record, data);\n          break;\n        case ALIASED_FRAGMENT_SPREAD:\n          data[selection.name] = this._createAliasedFragmentSpread(selection, record);\n          break;\n        case ALIASED_INLINE_FRAGMENT_SPREAD:\n          {\n            var _fieldValue = this._readInlineFragment(selection.fragment, record, {});\n            if (_fieldValue === false) {\n              _fieldValue = null;\n            }\n            data[selection.name] = _fieldValue;\n            break;\n          }\n        case MODULE_IMPORT:\n          this._readModuleImport(selection, record, data);\n          break;\n        case INLINE_DATA_FRAGMENT_SPREAD:\n          this._createInlineDataOrResolverFragmentPointer(selection, record, data);\n          break;\n        case DEFER:\n        case CLIENT_EXTENSION:\n          {\n            var isMissingData = this._isMissingData;\n            var alreadyMissingClientEdges = this._missingClientEdges.length;\n            if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n              this._clientEdgeTraversalPath.push(null);\n            }\n            var _hasExpectedData = this._traverseSelections(selection.selections, record, data);\n            // The only case where we want to suspend due to missing data off of\n            // a client extension is if we reached a client edge that we might be\n            // able to fetch, or there is a missing data in one of the live resolvers.\n            this._isMissingData = isMissingData || this._missingClientEdges.length > alreadyMissingClientEdges || this._missingLiveResolverFields.length > 0;\n            if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n              this._clientEdgeTraversalPath.pop();\n            }\n            if (!_hasExpectedData) {\n              return false;\n            }\n            break;\n          }\n        case STREAM:\n          {\n            var _hasExpectedData2 = this._traverseSelections(selection.selections, record, data);\n            if (!_hasExpectedData2) {\n              return false;\n            }\n            break;\n          }\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            this._readFlightField(selection, record, data);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n          break;\n        case ACTOR_CHANGE:\n          this._readActorChange(selection, record, data);\n          break;\n        case CLIENT_EDGE_TO_CLIENT_OBJECT:\n        case CLIENT_EDGE_TO_SERVER_OBJECT:\n          if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n            this._readClientEdge(selection, record, data);\n          } else {\n            throw new Error('Client edges are not yet supported.');\n          }\n          break;\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    }\n    return true;\n  };\n  _proto._readRequiredField = function _readRequiredField(selection, record, data) {\n    switch (selection.field.kind) {\n      case SCALAR_FIELD:\n        return this._readScalar(selection.field, record, data);\n      case LINKED_FIELD:\n        if (selection.field.plural) {\n          return this._readPluralLink(selection.field, record, data);\n        } else {\n          return this._readLink(selection.field, record, data);\n        }\n      case RELAY_RESOLVER:\n        if (!RelayFeatureFlags.ENABLE_RELAY_RESOLVERS) {\n          throw new Error('Relay Resolver fields are not yet supported.');\n        }\n        return this._readResolverField(selection.field, record, data);\n      case RELAY_LIVE_RESOLVER:\n        if (!RelayFeatureFlags.ENABLE_RELAY_RESOLVERS) {\n          throw new Error('Relay Resolver fields are not yet supported.');\n        }\n        return this._readResolverField(selection.field, record, data);\n      case CLIENT_EDGE_TO_CLIENT_OBJECT:\n      case CLIENT_EDGE_TO_SERVER_OBJECT:\n        if (!RelayFeatureFlags.ENABLE_RELAY_RESOLVERS) {\n          throw new Error('Relay Resolver fields are not yet supported.');\n        }\n        return this._readClientEdge(selection.field, record, data);\n      default:\n        selection.field.kind;\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n    }\n  };\n  _proto._readResolverField = function _readResolverField(field, record, data) {\n    var _this = this;\n    var _field$alias;\n    var fragment = field.fragment;\n    var parentRecordID = RelayModernRecord.getDataID(record);\n\n    // Found when reading the resolver fragment, which can happen either when\n    // evaluating the resolver and it calls readFragment, or when checking if the\n    // inputs have changed since a previous evaluation:\n    var snapshot;\n\n    // The function `getDataForResolverFragment` serves two purposes:\n    // 1. To memoize reads of the resolver's root fragment. This is important\n    //    because we may read it twice. Once to check if the results have changed\n    //    since last read, and once when we actually evaluate.\n    // 2. To intercept the snapshot so that it can be cached by the resolver\n    //    cache. This is what enables the change detection described in #1.\n    //\n    // Note: In the future this can be moved into the ResolverCache.\n    var getDataForResolverFragment = function getDataForResolverFragment(singularReaderSelector) {\n      if (snapshot != null) {\n        // It was already read when checking for input staleness; no need to read it again.\n        // Note that the variables like fragmentSeenRecordIDs in the outer closure will have\n        // already been set and will still be used in this case.\n        return {\n          data: snapshot.data,\n          isMissingData: snapshot.isMissingData\n        };\n      }\n      snapshot = read(_this._recordSource, singularReaderSelector, _this._resolverCache);\n      return {\n        data: snapshot.data,\n        isMissingData: snapshot.isMissingData\n      };\n    };\n\n    // This function `evaluate` tells the resolver cache how to read this\n    // resolver. It returns an `EvaluationResult` which gives the resolver cache:\n    // * `resolverResult` The value returned by the resolver function\n    // * `snapshot` The snapshot returned when reading the resolver's root fragment (if it has one)\n    // * `error` If the resolver throws, its error is caught (inside\n    //   `getResolverValue`) and converted into an error object.\n    var evaluate = function evaluate() {\n      if (fragment != null) {\n        var key = {\n          __id: parentRecordID,\n          __fragmentOwner: _this._owner,\n          __fragments: (0, _defineProperty2[\"default\"])({}, fragment.name, fragment.args ? getArgumentValues(fragment.args, _this._variables) : {})\n        };\n        var resolverContext = {\n          getDataForResolverFragment: getDataForResolverFragment\n        };\n        return withResolverContext(resolverContext, function () {\n          var _getResolverValue = getResolverValue(field, _this._variables, key, _this._fragmentName),\n            resolverResult = _getResolverValue[0],\n            resolverError = _getResolverValue[1];\n          return {\n            resolverResult: resolverResult,\n            snapshot: snapshot,\n            error: resolverError\n          };\n        });\n      } else {\n        var _getResolverValue2 = getResolverValue(field, _this._variables, null, _this._fragmentName),\n          resolverResult = _getResolverValue2[0],\n          _resolverError = _getResolverValue2[1];\n        return {\n          resolverResult: resolverResult,\n          snapshot: undefined,\n          error: _resolverError\n        };\n      }\n    };\n    var _this$_resolverCache$ = this._resolverCache.readFromCacheOrEvaluate(parentRecordID, field, this._variables, evaluate, getDataForResolverFragment),\n      result = _this$_resolverCache$[0],\n      seenRecord = _this$_resolverCache$[1],\n      resolverError = _this$_resolverCache$[2],\n      cachedSnapshot = _this$_resolverCache$[3],\n      suspenseID = _this$_resolverCache$[4],\n      updatedDataIDs = _this$_resolverCache$[5];\n\n    // The resolver's root fragment (if there is one) may be missing data, have\n    // errors, or be in a suspended state. Here we propagate those cases\n    // upwards to mimic the behavior of having traversed into that fragment directly.\n    if (cachedSnapshot != null) {\n      if (cachedSnapshot.missingRequiredFields != null) {\n        this._addMissingRequiredFields(cachedSnapshot.missingRequiredFields);\n      }\n      if (cachedSnapshot.missingClientEdges != null) {\n        var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(cachedSnapshot.missingClientEdges),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var missing = _step.value;\n            this._missingClientEdges.push(missing);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (cachedSnapshot.missingLiveResolverFields != null) {\n        this._isMissingData = this._isMissingData || cachedSnapshot.missingLiveResolverFields.length > 0;\n        var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(cachedSnapshot.missingLiveResolverFields),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var missingResolverField = _step2.value;\n            this._missingLiveResolverFields.push(missingResolverField);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(cachedSnapshot.relayResolverErrors),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var error = _step3.value;\n          this._resolverErrors.push(error);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      this._isMissingData = this._isMissingData || cachedSnapshot.isMissingData;\n    }\n\n    // If the resolver errored, we track that as part of our traversal so that\n    // the errors can be attached to this read's snapshot. This allows the error\n    // to be logged.\n    if (resolverError) {\n      this._resolverErrors.push(resolverError);\n    }\n\n    // The resolver itself creates a record in the store. We record that we've\n    // read this record so that subscribers to this snapshot also subscribe to\n    // this resolver.\n    if (seenRecord != null) {\n      this._seenRecords.add(seenRecord);\n    }\n\n    // If this resolver, or a dependency of this resolver, has suspended, we\n    // need to report that in our snapshot. The `suspenseID` is the key in to\n    // store where the suspended LiveState value lives. This ID allows readers\n    // of the snapshot to subscribe to updates on that live resolver so that\n    // they know when to unsuspend.\n    if (suspenseID != null) {\n      this._isMissingData = true;\n      this._missingLiveResolverFields.push({\n        path: \"\".concat(this._fragmentName, \".\").concat(field.path),\n        liveStateID: suspenseID\n      });\n    }\n    if (updatedDataIDs != null) {\n      var _iterator4 = (0, _createForOfIteratorHelper2[\"default\"])(updatedDataIDs),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var recordID = _step4.value;\n          this._updatedDataIDs.add(recordID);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n    var applicationName = (_field$alias = field.alias) !== null && _field$alias !== void 0 ? _field$alias : field.name;\n    data[applicationName] = result;\n    return result;\n  };\n  _proto._readClientEdge = function _readClientEdge(field, record, data) {\n    var _backingField$alias;\n    var backingField = field.backingField;\n\n    // Because ReaderClientExtension doesn't have `alias` or `name` and so I don't know\n    // how to get its applicationName or storageKey yet:\n    !(backingField.kind !== 'ClientExtension') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Client extension client edges are not yet implemented.') : invariant(false) : void 0;\n    var applicationName = (_backingField$alias = backingField.alias) !== null && _backingField$alias !== void 0 ? _backingField$alias : backingField.name;\n    var backingFieldData = {};\n    this._traverseSelections([backingField], record, backingFieldData);\n    // At this point, backingFieldData is an object with a single key (applicationName)\n    // whose value is the value returned from the resolver, or a suspense sentinel.\n\n    var clientEdgeResolverResponse = backingFieldData[applicationName];\n    if (clientEdgeResolverResponse == null || isSuspenseSentinel(clientEdgeResolverResponse)) {\n      data[applicationName] = clientEdgeResolverResponse;\n      return;\n    }\n    var validClientEdgeResolverResponse = assertValidClientEdgeResolverResponse(field, clientEdgeResolverResponse);\n    switch (validClientEdgeResolverResponse.kind) {\n      case 'PluralConcrete':\n        var storeIDs = getStoreIDsForPluralClientEdgeResolver(field, validClientEdgeResolverResponse.ids, this._resolverCache);\n        this._clientEdgeTraversalPath.push(null);\n        data[applicationName] = this._readLinkedIds(field.linkedField, storeIDs, record, data);\n        this._clientEdgeTraversalPath.pop();\n        break;\n      case 'SingularConcrete':\n        var _getStoreIDAndTravers = getStoreIDAndTraversalPathSegmentForSingularClientEdgeResolver(field, validClientEdgeResolverResponse.id, this._resolverCache),\n          storeID = _getStoreIDAndTravers[0],\n          traversalPathSegment = _getStoreIDAndTravers[1];\n        this._clientEdgeTraversalPath.push(traversalPathSegment);\n        var prevData = data[applicationName];\n        !(prevData == null || typeof prevData === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an object, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevData) : invariant(false) : void 0;\n        data[applicationName] = this._traverse(field.linkedField, storeID,\n        // $FlowFixMe[incompatible-variance]\n        prevData);\n        this._clientEdgeTraversalPath.pop();\n        break;\n      default:\n        validClientEdgeResolverResponse.kind;\n    }\n  };\n  _proto._readFlightField = function _readFlightField(field, record, data) {\n    var _field$alias2;\n    var applicationName = (_field$alias2 = field.alias) !== null && _field$alias2 !== void 0 ? _field$alias2 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var reactFlightClientResponseRecordID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n    if (reactFlightClientResponseRecordID == null) {\n      data[applicationName] = reactFlightClientResponseRecordID;\n      if (reactFlightClientResponseRecordID === undefined) {\n        this._markDataAsMissing();\n      }\n      return reactFlightClientResponseRecordID;\n    }\n    var reactFlightClientResponseRecord = this._recordSource.get(reactFlightClientResponseRecordID);\n    this._seenRecords.add(reactFlightClientResponseRecordID);\n    if (reactFlightClientResponseRecord == null) {\n      data[applicationName] = reactFlightClientResponseRecord;\n      if (reactFlightClientResponseRecord === undefined) {\n        this._markDataAsMissing();\n      }\n      return reactFlightClientResponseRecord;\n    }\n    var clientResponse = getReactFlightClientResponse(reactFlightClientResponseRecord);\n    data[applicationName] = clientResponse;\n    return clientResponse;\n  };\n  _proto._readScalar = function _readScalar(field, record, data) {\n    var _field$alias3;\n    var applicationName = (_field$alias3 = field.alias) !== null && _field$alias3 !== void 0 ? _field$alias3 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var value = RelayModernRecord.getValue(record, storageKey);\n    if (value === undefined) {\n      this._markDataAsMissing();\n    }\n    data[applicationName] = value;\n    return value;\n  };\n  _proto._readLink = function _readLink(field, record, data) {\n    var _field$alias4;\n    var applicationName = (_field$alias4 = field.alias) !== null && _field$alias4 !== void 0 ? _field$alias4 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n    if (linkedID == null) {\n      data[applicationName] = linkedID;\n      if (linkedID === undefined) {\n        this._markDataAsMissing();\n      }\n      return linkedID;\n    }\n    var prevData = data[applicationName];\n    !(prevData == null || typeof prevData === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an object, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevData) : invariant(false) : void 0;\n    // $FlowFixMe[incompatible-variance]\n    var value = this._traverse(field, linkedID, prevData);\n    data[applicationName] = value;\n    return value;\n  };\n  _proto._readActorChange = function _readActorChange(field, record, data) {\n    var _field$alias5;\n    var applicationName = (_field$alias5 = field.alias) !== null && _field$alias5 !== void 0 ? _field$alias5 : field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var externalRef = RelayModernRecord.getActorLinkedRecordID(record, storageKey);\n    if (externalRef == null) {\n      data[applicationName] = externalRef;\n      if (externalRef === undefined) {\n        this._markDataAsMissing();\n      }\n      return data[applicationName];\n    }\n    var actorIdentifier = externalRef[0],\n      dataID = externalRef[1];\n    var fragmentRef = {};\n    this._createFragmentPointer(field.fragmentSpread, {\n      __id: dataID\n    }, fragmentRef);\n    data[applicationName] = {\n      __fragmentRef: fragmentRef,\n      __viewer: actorIdentifier\n    };\n    return data[applicationName];\n  };\n  _proto._readPluralLink = function _readPluralLink(field, record, data) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n    return this._readLinkedIds(field, linkedIDs, record, data);\n  };\n  _proto._readLinkedIds = function _readLinkedIds(field, linkedIDs, record, data) {\n    var _this2 = this;\n    var _field$alias6;\n    var applicationName = (_field$alias6 = field.alias) !== null && _field$alias6 !== void 0 ? _field$alias6 : field.name;\n    if (linkedIDs == null) {\n      data[applicationName] = linkedIDs;\n      if (linkedIDs === undefined) {\n        this._markDataAsMissing();\n      }\n      return linkedIDs;\n    }\n    var prevData = data[applicationName];\n    !(prevData == null || Array.isArray(prevData)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an array, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevData) : invariant(false) : void 0;\n    var linkedArray = prevData || [];\n    linkedIDs.forEach(function (linkedID, nextIndex) {\n      if (linkedID == null) {\n        if (linkedID === undefined) {\n          _this2._markDataAsMissing();\n        }\n        // $FlowFixMe[cannot-write]\n        linkedArray[nextIndex] = linkedID;\n        return;\n      }\n      var prevItem = linkedArray[nextIndex];\n      !(prevItem == null || typeof prevItem === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader(): Expected data for field `%s` on record `%s` ' + 'to be an object, got `%s`.', applicationName, RelayModernRecord.getDataID(record), prevItem) : invariant(false) : void 0;\n      // $FlowFixMe[cannot-write]\n      // $FlowFixMe[incompatible-variance]\n      linkedArray[nextIndex] = _this2._traverse(field, linkedID, prevItem);\n    });\n    data[applicationName] = linkedArray;\n    return linkedArray;\n  }\n\n  /**\n   * Reads a ReaderModuleImport, which was generated from using the @module\n   * directive.\n   */;\n  _proto._readModuleImport = function _readModuleImport(moduleImport, record, data) {\n    // Determine the component module from the store: if the field is missing\n    // it means we don't know what component to render the match with.\n    var componentKey = getModuleComponentKey(moduleImport.documentName);\n    var component = RelayModernRecord.getValue(record, componentKey);\n    if (component == null) {\n      if (component === undefined) {\n        this._markDataAsMissing();\n      }\n      return;\n    }\n\n    // Otherwise, read the fragment and module associated to the concrete\n    // type, and put that data with the result:\n    // - For the matched fragment, create the relevant fragment pointer and add\n    //   the expected fragmentPropName\n    // - For the matched module, create a reference to the module\n    this._createFragmentPointer({\n      kind: 'FragmentSpread',\n      name: moduleImport.fragmentName,\n      args: moduleImport.args\n    }, record, data);\n    data[FRAGMENT_PROP_NAME_KEY] = moduleImport.fragmentPropName;\n    data[MODULE_COMPONENT_KEY] = component;\n  };\n  _proto._createAliasedFragmentSpread = function _createAliasedFragmentSpread(namedFragmentSpread, record) {\n    var abstractKey = namedFragmentSpread.abstractKey;\n    if (abstractKey == null) {\n      // concrete type refinement: only read data if the type exactly matches\n      var typeName = RelayModernRecord.getType(record);\n      if (typeName == null || typeName !== namedFragmentSpread.type) {\n        // This selection does not match the fragment spread. Do nothing.\n        return null;\n      }\n    } else {\n      var implementsInterface = this._implementsInterface(record, abstractKey);\n      if (implementsInterface === false) {\n        // Type known to not implement the interface, no data expected\n        return null;\n      } else if (implementsInterface == null) {\n        // Don't know if the type implements the interface or not\n        this._markDataAsMissing();\n        // Judgement call here. In some cases this will cause us to hide data that is actually valid.\n        return undefined;\n      }\n    }\n    var fieldData = {};\n    this._createFragmentPointer(namedFragmentSpread.fragment, record, fieldData);\n    return fieldData;\n  }\n\n  // Has three possible return values:\n  // * null: The type condition did not match\n  // * undefined: We are missing data\n  // * false: The selection contained missing @required fields\n  // * data: The successfully populated SelectorData object\n  ;\n  _proto._readInlineFragment = function _readInlineFragment(inlineFragment, record, data) {\n    var abstractKey = inlineFragment.abstractKey;\n    if (abstractKey == null) {\n      // concrete type refinement: only read data if the type exactly matches\n      var typeName = RelayModernRecord.getType(record);\n      if (typeName == null || typeName !== inlineFragment.type) {\n        // This selection does not match the fragment spread. Do nothing.\n        return null;\n      } else {\n        var hasExpectedData = this._traverseSelections(inlineFragment.selections, record, data);\n        if (!hasExpectedData) {\n          // Bubble up null due to a missing @required field\n          return false;\n        }\n      }\n    } else {\n      var implementsInterface = this._implementsInterface(record, abstractKey);\n\n      // store flags to reset after reading\n      var parentIsMissingData = this._isMissingData;\n      var parentIsWithinUnmatchedTypeRefinement = this._isWithinUnmatchedTypeRefinement;\n      this._isWithinUnmatchedTypeRefinement = parentIsWithinUnmatchedTypeRefinement || implementsInterface === false;\n\n      // @required is not allowed within inline fragments on abstract types, so\n      // we can ignore the `hasMissingData` result of `_traverseSelections`.\n      this._traverseSelections(inlineFragment.selections, record, data);\n\n      // Reset\n      this._isWithinUnmatchedTypeRefinement = parentIsWithinUnmatchedTypeRefinement;\n      if (implementsInterface === false) {\n        // Type known to not implement the interface, no data expected\n        this._isMissingData = parentIsMissingData;\n        return undefined;\n      } else if (implementsInterface == null) {\n        // Don't know if the type implements the interface or not\n        this._markDataAsMissing();\n        return null;\n      }\n    }\n    return data;\n  };\n  _proto._createFragmentPointer = function _createFragmentPointer(fragmentSpread, record, data) {\n    var fragmentPointers = data[FRAGMENTS_KEY];\n    if (fragmentPointers == null) {\n      fragmentPointers = data[FRAGMENTS_KEY] = {};\n    }\n    !(typeof fragmentPointers === 'object' && fragmentPointers != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader: Expected fragment spread data to be an object, got `%s`.', fragmentPointers) : invariant(false) : void 0;\n    if (data[ID_KEY] == null) {\n      data[ID_KEY] = RelayModernRecord.getDataID(record);\n    }\n    // $FlowFixMe[cannot-write] - writing into read-only field\n    fragmentPointers[fragmentSpread.name] = fragmentSpread.args ? getArgumentValues(fragmentSpread.args, this._variables) : {};\n    data[FRAGMENT_OWNER_KEY] = this._owner;\n    data[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] = this._isWithinUnmatchedTypeRefinement;\n    if (RelayFeatureFlags.ENABLE_CLIENT_EDGES) {\n      if (this._clientEdgeTraversalPath.length > 0 && this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length - 1] !== null) {\n        data[CLIENT_EDGE_TRAVERSAL_PATH] = (0, _toConsumableArray2[\"default\"])(this._clientEdgeTraversalPath);\n      }\n    }\n  };\n  _proto._createInlineDataOrResolverFragmentPointer = function _createInlineDataOrResolverFragmentPointer(fragmentSpreadOrFragment, record, data) {\n    var fragmentPointers = data[FRAGMENTS_KEY];\n    if (fragmentPointers == null) {\n      fragmentPointers = data[FRAGMENTS_KEY] = {};\n    }\n    !(typeof fragmentPointers === 'object' && fragmentPointers != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReader: Expected fragment spread data to be an object, got `%s`.', fragmentPointers) : invariant(false) : void 0;\n    if (data[ID_KEY] == null) {\n      data[ID_KEY] = RelayModernRecord.getDataID(record);\n    }\n    var inlineData = {};\n    var parentFragmentName = this._fragmentName;\n    this._fragmentName = fragmentSpreadOrFragment.name;\n    var parentVariables = this._variables;\n\n    // If the inline fragment spread has arguments, we need to temporarily\n    // switch this._variables to include the fragment spread's arguments\n    // for the duration of its traversal.\n    var argumentVariables = fragmentSpreadOrFragment.args ? getArgumentValues(fragmentSpreadOrFragment.args, this._variables) : {};\n    this._variables = RelayConcreteVariables.getFragmentVariables(fragmentSpreadOrFragment, this._owner.variables, argumentVariables);\n    this._traverseSelections(fragmentSpreadOrFragment.selections, record, inlineData);\n\n    // Put the parent variables back\n    this._variables = parentVariables;\n    this._fragmentName = parentFragmentName;\n    // $FlowFixMe[cannot-write] - writing into read-only field\n    fragmentPointers[fragmentSpreadOrFragment.name] = inlineData;\n  };\n  _proto._addMissingRequiredFields = function _addMissingRequiredFields(additional) {\n    if (this._missingRequiredFields == null) {\n      this._missingRequiredFields = additional;\n      return;\n    }\n    if (this._missingRequiredFields.action === 'THROW') {\n      return;\n    }\n    if (additional.action === 'THROW') {\n      this._missingRequiredFields = additional;\n      return;\n    }\n    this._missingRequiredFields = {\n      action: 'LOG',\n      fields: [].concat((0, _toConsumableArray2[\"default\"])(this._missingRequiredFields.fields), (0, _toConsumableArray2[\"default\"])(additional.fields))\n    };\n  };\n  _proto._implementsInterface = function _implementsInterface(record, abstractKey) {\n    var typeName = RelayModernRecord.getType(record);\n    var typeRecord = this._recordSource.get(generateTypeID(typeName));\n    var implementsInterface = typeRecord != null ? RelayModernRecord.getValue(typeRecord, abstractKey) : null;\n    // $FlowFixMe Casting record value\n    return implementsInterface;\n  };\n  return RelayReader;\n}(); // Constructs the arguments for a resolver function and then evaluates it.\n//\n// If the resolver's fragment is missing data (query is in-flight, a dependency\n// field is suspending, or is missing required fields) then `readFragment` will\n// throw `RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL`. This function ensures that\n// we catch that error and instead create an error object which can be\n// propagated to the reader snapshot.\nfunction getResolverValue(field, variables, fragmentKey, ownerName) {\n  // Support for languages that work (best) with ES6 modules, such as TypeScript.\n  var resolverFunction = typeof field.resolverModule === 'function' ? field.resolverModule : field.resolverModule[\"default\"];\n  var resolverResult = null;\n  var resolverError = null;\n  try {\n    var resolverFunctionArgs = [];\n    if (field.fragment != null) {\n      resolverFunctionArgs.push(fragmentKey);\n    }\n    var args = field.args ? getArgumentValues(field.args, variables) : undefined;\n    resolverFunctionArgs.push(args);\n    resolverResult = resolverFunction.apply(null, resolverFunctionArgs);\n  } catch (e) {\n    if (e === RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL) {\n      resolverResult = undefined;\n    } else {\n      var _field$path;\n      // `field.path` is typed as nullable while we rollout compiler changes.\n      var path = (_field$path = field.path) !== null && _field$path !== void 0 ? _field$path : '[UNKNOWN]';\n      resolverError = {\n        field: {\n          path: path,\n          owner: ownerName\n        },\n        error: e\n      };\n    }\n  }\n  return [resolverResult, resolverError];\n}\nfunction assertValidClientEdgeResolverResponse(field, clientEdgeResolverResponse) {\n  if (field.linkedField.plural) {\n    !Array.isArray(clientEdgeResolverResponse) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected plural Client Edge Relay Resolver to return an array containing IDs or objects with shape {id}.') : invariant(false) : void 0;\n    return {\n      kind: 'PluralConcrete',\n      ids: clientEdgeResolverResponse.map(function (response) {\n        return extractIdFromResponse(response, 'Expected this plural Client Edge Relay Resolver to return an array containing IDs or objects with shape {id}.');\n      })\n    };\n  } else {\n    return {\n      kind: 'SingularConcrete',\n      id: extractIdFromResponse(clientEdgeResolverResponse, 'Expected this Client Edge Relay Resolver to return an ID of type `string` or an object with shape {id}.')\n    };\n  }\n}\n\n// For weak objects:\n// The return value of a client edge resolver is the entire object (though,\n// strong objects become DataIDs or arrays thereof). However, when being read\n// out, these raw objects are turned into DataIDs or arrays thereof.\n//\n// For strong objects:\n// For a singular field, the return value of a client edge resolver is a DataID\n// (i.e. a string). If the edge points to a client type, we namespace the\n// ID with the typename by calling resolverCache.ensureClientRecord.\nfunction getStoreIDAndTraversalPathSegmentForSingularClientEdgeResolver(field, clientEdgeResolverResponse, resolverCache) {\n  if (field.kind === CLIENT_EDGE_TO_CLIENT_OBJECT) {\n    if (field.backingField.normalizationInfo == null) {\n      var concreteType = field.concreteType;\n      !(concreteType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected at least one of backingField.normalizationInfo or field.concreteType to be non-null. ' + 'This indicates a bug in Relay.') : invariant(false) : void 0;\n      // @edgeTo case where we need to ensure that the record has `id` field\n      return [resolverCache.ensureClientRecord(clientEdgeResolverResponse, concreteType), null];\n    } else {\n      // The normalization process in LiveResolverCache should take care of generating the correct ID.\n      return [clientEdgeResolverResponse, null];\n    }\n  } else {\n    return [clientEdgeResolverResponse, {\n      readerClientEdge: field,\n      clientEdgeDestinationID: clientEdgeResolverResponse\n    }];\n  }\n}\n\n// For weak objects:\n// The return value of a client edge resolver is the entire object (though,\n// strong objects become DataIDs or arrays thereof). However, when being read\n// out, these raw objects are turned into DataIDs or arrays thereof.\n//\n// For strong objects:\n// For a plural field, the return value of a client edge resolver is an\n// array of DataID's. If the edge points to a client type, we namespace the\n// IDs with the typename by calling resolverCache.ensureClientRecord.\nfunction getStoreIDsForPluralClientEdgeResolver(field, clientEdgeResolverResponse, resolverCache) {\n  if (field.kind === CLIENT_EDGE_TO_CLIENT_OBJECT) {\n    if (field.backingField.normalizationInfo == null) {\n      var concreteType = field.concreteType;\n      !(concreteType != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected at least one of backingField.normalizationInfo or field.concreteType to be non-null. ' + 'This indicates a bug in Relay.') : invariant(false) : void 0;\n      // @edgeTo case where we need to ensure that the record has `id` field\n      return clientEdgeResolverResponse.map(function (id) {\n        return resolverCache.ensureClientRecord(id, concreteType);\n      });\n    } else {\n      // The normalization process in LiveResolverCache should take care of generating the correct ID.\n      return clientEdgeResolverResponse;\n    }\n  } else {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected Client Edge to plural server type. This should be prevented by the compiler.') : invariant(false) : void 0;\n  }\n}\nfunction extractIdFromResponse(individualResponse, errorMessage) {\n  if (typeof individualResponse === 'string') {\n    return individualResponse;\n  } else if (typeof individualResponse === 'object' && individualResponse != null && typeof individualResponse.id === 'string') {\n    return individualResponse.id;\n  }\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, errorMessage) : invariant(false) : void 0;\n}\nmodule.exports = {\n  read: read\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar RelayRecordState = require('./RelayRecordState');\nvar EXISTENT = RelayRecordState.EXISTENT,\n  NONEXISTENT = RelayRecordState.NONEXISTENT,\n  UNKNOWN = RelayRecordState.UNKNOWN;\n\n/**\n * An implementation of the `MutableRecordSource` interface (defined in\n * `RelayStoreTypes`) that holds all records in memory (JS Map).\n */\nvar RelayRecordSource = /*#__PURE__*/function () {\n  function RelayRecordSource(records) {\n    var _this = this;\n    this._records = new Map();\n    if (records != null) {\n      Object.keys(records).forEach(function (key) {\n        _this._records.set(key, records[key]);\n      });\n    }\n  }\n  RelayRecordSource.create = function create(records) {\n    return new RelayRecordSource(records);\n  };\n  var _proto = RelayRecordSource.prototype;\n  _proto.clear = function clear() {\n    this._records = new Map();\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._records.set(dataID, null);\n  };\n  _proto.get = function get(dataID) {\n    return this._records.get(dataID);\n  };\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Array.from(this._records.keys());\n  };\n  _proto.getStatus = function getStatus(dataID) {\n    if (!this._records.has(dataID)) {\n      return UNKNOWN;\n    }\n    return this._records.get(dataID) == null ? NONEXISTENT : EXISTENT;\n  };\n  _proto.has = function has(dataID) {\n    return this._records.has(dataID);\n  };\n  _proto.remove = function remove(dataID) {\n    this._records[\"delete\"](dataID);\n  };\n  _proto.set = function set(dataID, record) {\n    this._records.set(dataID, record);\n  };\n  _proto.size = function size() {\n    return this._records.size;\n  };\n  _proto.toJSON = function toJSON() {\n    var obj = {};\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._records),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _step.value,\n          key = _step$value[0],\n          value = _step$value[1];\n        obj[key] = value;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return obj;\n  };\n  return RelayRecordSource;\n}();\nmodule.exports = RelayRecordSource;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayRecordState = {\n  /**\n   * Record exists (either fetched from the server or produced by a local,\n   * optimistic update).\n   */\n  EXISTENT: 'EXISTENT',\n  /**\n   * Record is known not to exist (either as the result of a mutation, or\n   * because the server returned `null` when queried for the record).\n   */\n  NONEXISTENT: 'NONEXISTENT',\n  /**\n   * Record State is unknown because it has not yet been fetched from the\n   * server.\n   */\n  UNKNOWN: 'UNKNOWN'\n};\nmodule.exports = RelayRecordState;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar getOperation = require('../util/getOperation');\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar cloneRelayHandleSourceField = require('./cloneRelayHandleSourceField');\nvar getOutputTypeRecordIDs = require('./experimental-live-resolvers/getOutputTypeRecordIDs');\nvar _require = require('./RelayConcreteVariables'),\n  getLocalVariables = _require.getLocalVariables;\nvar RelayModernRecord = require('./RelayModernRecord');\nvar RelayStoreReactFlightUtils = require('./RelayStoreReactFlightUtils');\nvar RelayStoreUtils = require('./RelayStoreUtils');\nvar _require2 = require('./TypeID'),\n  generateTypeID = _require2.generateTypeID;\nvar invariant = require('invariant');\nvar ACTOR_CHANGE = RelayConcreteNode.ACTOR_CHANGE,\n  CONDITION = RelayConcreteNode.CONDITION,\n  CLIENT_COMPONENT = RelayConcreteNode.CLIENT_COMPONENT,\n  CLIENT_EXTENSION = RelayConcreteNode.CLIENT_EXTENSION,\n  DEFER = RelayConcreteNode.DEFER,\n  FLIGHT_FIELD = RelayConcreteNode.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = RelayConcreteNode.FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = RelayConcreteNode.INLINE_FRAGMENT,\n  LINKED_FIELD = RelayConcreteNode.LINKED_FIELD,\n  MODULE_IMPORT = RelayConcreteNode.MODULE_IMPORT,\n  LINKED_HANDLE = RelayConcreteNode.LINKED_HANDLE,\n  SCALAR_FIELD = RelayConcreteNode.SCALAR_FIELD,\n  SCALAR_HANDLE = RelayConcreteNode.SCALAR_HANDLE,\n  STREAM = RelayConcreteNode.STREAM,\n  TYPE_DISCRIMINATOR = RelayConcreteNode.TYPE_DISCRIMINATOR,\n  RELAY_RESOLVER = RelayConcreteNode.RELAY_RESOLVER,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = RelayConcreteNode.CLIENT_EDGE_TO_CLIENT_OBJECT;\nvar ROOT_ID = RelayStoreUtils.ROOT_ID,\n  getStorageKey = RelayStoreUtils.getStorageKey,\n  getModuleOperationKey = RelayStoreUtils.getModuleOperationKey;\nfunction mark(recordSource, selector, references, operationLoader, shouldProcessClientComponents) {\n  var dataID = selector.dataID,\n    node = selector.node,\n    variables = selector.variables;\n  var marker = new RelayReferenceMarker(recordSource, variables, references, operationLoader, shouldProcessClientComponents);\n  marker.mark(node, dataID);\n}\n\n/**\n * @private\n */\nvar RelayReferenceMarker = /*#__PURE__*/function () {\n  function RelayReferenceMarker(recordSource, variables, references, operationLoader, shouldProcessClientComponents) {\n    this._operationLoader = operationLoader !== null && operationLoader !== void 0 ? operationLoader : null;\n    this._operationName = null;\n    this._recordSource = recordSource;\n    this._references = references;\n    this._variables = variables;\n    this._shouldProcessClientComponents = shouldProcessClientComponents;\n  }\n  var _proto = RelayReferenceMarker.prototype;\n  _proto.mark = function mark(node, dataID) {\n    if (node.kind === 'Operation' || node.kind === 'SplitOperation') {\n      this._operationName = node.name;\n    }\n    this._traverse(node, dataID);\n  };\n  _proto._traverse = function _traverse(node, dataID) {\n    this._references.add(dataID);\n    var record = this._recordSource.get(dataID);\n    if (record == null) {\n      return;\n    }\n    this._traverseSelections(node.selections, record);\n  };\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n  _proto._traverseSelections = function _traverseSelections(selections, record) {\n    var _this = this;\n    selections.forEach(function (selection) {\n      /* eslint-disable no-fallthrough */\n      switch (selection.kind) {\n        case ACTOR_CHANGE:\n          // TODO: T89695151 Support multi-actor record sources in RelayReferenceMarker.js\n          _this._traverseLink(selection.linkedField, record);\n          break;\n        case LINKED_FIELD:\n          if (selection.plural) {\n            _this._traversePluralLink(selection, record);\n          } else {\n            _this._traverseLink(selection, record);\n          }\n          break;\n        case CONDITION:\n          var conditionValue = Boolean(_this._getVariableValue(selection.condition));\n          if (conditionValue === selection.passingValue) {\n            _this._traverseSelections(selection.selections, record);\n          }\n          break;\n        case INLINE_FRAGMENT:\n          if (selection.abstractKey == null) {\n            var typeName = RelayModernRecord.getType(record);\n            if (typeName != null && typeName === selection.type ||\n            // Our root record has a special type of `__Root` which may not\n            // match the schema type of Query/Mutation or whatever the schema\n            // specifies.\n            //\n            // If we have an inline fragment on a concrete type within an\n            // operation root, and our query has been validated, we know that\n            // concrete type must match, since the operation selection must be\n            // on a concrete type.\n            typeName === RelayStoreUtils.ROOT_TYPE) {\n              _this._traverseSelections(selection.selections, record);\n            }\n          } else {\n            var _typeName = RelayModernRecord.getType(record);\n            var typeID = generateTypeID(_typeName);\n            _this._references.add(typeID);\n            _this._traverseSelections(selection.selections, record);\n          }\n          break;\n        case FRAGMENT_SPREAD:\n          var prevVariables = _this._variables;\n          _this._variables = getLocalVariables(_this._variables, selection.fragment.argumentDefinitions, selection.args);\n          _this._traverseSelections(selection.fragment.selections, record);\n          _this._variables = prevVariables;\n          break;\n        case LINKED_HANDLE:\n          // The selections for a \"handle\" field are the same as those of the\n          // original linked field where the handle was applied. Reference marking\n          // therefore requires traversing the original field selections against\n          // the synthesized client field.\n          //\n          // TODO: Instead of finding the source field in `selections`, change\n          // the concrete structure to allow shared subtrees, and have the linked\n          // handle directly refer to the same selections as the LinkedField that\n          // it was split from.\n          var handleField = cloneRelayHandleSourceField(selection, selections, _this._variables);\n          if (handleField.plural) {\n            _this._traversePluralLink(handleField, record);\n          } else {\n            _this._traverseLink(handleField, record);\n          }\n          break;\n        case DEFER:\n        case STREAM:\n          _this._traverseSelections(selection.selections, record);\n          break;\n        case SCALAR_FIELD:\n        case SCALAR_HANDLE:\n          break;\n        case TYPE_DISCRIMINATOR:\n          {\n            var _typeName2 = RelayModernRecord.getType(record);\n            var _typeID = generateTypeID(_typeName2);\n            _this._references.add(_typeID);\n            break;\n          }\n        case MODULE_IMPORT:\n          _this._traverseModuleImport(selection, record);\n          break;\n        case CLIENT_EXTENSION:\n          _this._traverseSelections(selection.selections, record);\n          break;\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            _this._traverseFlightField(selection, record);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n          break;\n        case CLIENT_COMPONENT:\n          if (_this._shouldProcessClientComponents === false) {\n            break;\n          }\n          _this._traverseSelections(selection.fragment.selections, record);\n          break;\n        case RELAY_RESOLVER:\n          _this._traverseResolverField(selection, record);\n          break;\n        case CLIENT_EDGE_TO_CLIENT_OBJECT:\n          _this._traverseClientEdgeToClientObject(selection, record);\n          break;\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker: Unknown AST node `%s`.', selection) : invariant(false) : void 0;\n      }\n    });\n  };\n  _proto._traverseClientEdgeToClientObject = function _traverseClientEdgeToClientObject(field, record) {\n    var dataID = this._traverseResolverField(field.backingField, record);\n    if (dataID == null) {\n      return;\n    }\n    var resolverRecord = this._recordSource.get(dataID);\n    if (resolverRecord == null) {\n      return;\n    }\n    if (field.backingField.isOutputType) {\n      // Mark all @outputType record IDs\n      var outputTypeRecordIDs = getOutputTypeRecordIDs(resolverRecord);\n      if (outputTypeRecordIDs != null) {\n        var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(outputTypeRecordIDs),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _dataID = _step.value;\n            this._references.add(_dataID);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    } else {\n      var linkedField = field.linkedField;\n      var concreteType = linkedField.concreteType;\n      if (concreteType == null) {\n        // TODO: Handle retaining abstract client edges to client types.\n        return;\n      }\n      if (linkedField.plural) {\n        var dataIDs = RelayModernRecord.getResolverLinkedRecordIDs(resolverRecord, concreteType);\n        if (dataIDs != null) {\n          var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(dataIDs),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _dataID2 = _step2.value;\n              if (_dataID2 != null) {\n                this._traverse(linkedField, _dataID2);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } else {\n        var _dataID3 = RelayModernRecord.getResolverLinkedRecordID(resolverRecord, concreteType);\n        if (_dataID3 != null) {\n          this._traverse(linkedField, _dataID3);\n        }\n      }\n    }\n  };\n  _proto._traverseResolverField = function _traverseResolverField(field, record) {\n    var storageKey = getStorageKey(field, this._variables);\n    var dataID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n\n    // If the resolver value has been created, we should retain it.\n    // This record contains our cached resolver value, and potential Live\n    // Resolver subscription.\n    if (dataID != null) {\n      this._references.add(dataID);\n    }\n    var fragment = field.fragment;\n    if (fragment != null) {\n      // Mark the contents of the resolver's data dependencies.\n      this._traverseSelections([fragment], record);\n    }\n    return dataID;\n  };\n  _proto._traverseModuleImport = function _traverseModuleImport(moduleImport, record) {\n    var _this$_operationName;\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReferenceMarker: Expected an operationLoader to be configured when using `@module`. ' + 'Could not load fragment `%s` in operation `%s`.', moduleImport.fragmentName, (_this$_operationName = this._operationName) !== null && _this$_operationName !== void 0 ? _this$_operationName : '(unknown)') : invariant(false) : void 0;\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n    var operationReference = RelayModernRecord.getValue(record, operationKey);\n    if (operationReference == null) {\n      return;\n    }\n    var normalizationRootNode = operationLoader.get(operationReference);\n    if (normalizationRootNode != null) {\n      var operation = getOperation(normalizationRootNode);\n      var prevVariables = this._variables;\n      this._variables = getLocalVariables(this._variables, operation.argumentDefinitions, moduleImport.args);\n      this._traverseSelections(operation.selections, record);\n      this._variables = prevVariables;\n    }\n    // Otherwise, if the operation is not available, we assume that the data\n    // cannot have been processed yet and therefore isn't in the store to\n    // begin with.\n  };\n  _proto._traverseLink = function _traverseLink(field, record) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n    if (linkedID == null) {\n      return;\n    }\n    this._traverse(field, linkedID);\n  };\n  _proto._traversePluralLink = function _traversePluralLink(field, record) {\n    var _this2 = this;\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n    if (linkedIDs == null) {\n      return;\n    }\n    linkedIDs.forEach(function (linkedID) {\n      if (linkedID != null) {\n        _this2._traverse(field, linkedID);\n      }\n    });\n  };\n  _proto._traverseFlightField = function _traverseFlightField(field, record) {\n    var storageKey = getStorageKey(field, this._variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n    if (linkedID == null) {\n      return;\n    }\n    this._references.add(linkedID);\n    var reactFlightClientResponseRecord = this._recordSource.get(linkedID);\n    if (reactFlightClientResponseRecord == null) {\n      return;\n    }\n    var reachableExecutableDefinitions = RelayModernRecord.getValue(reactFlightClientResponseRecord, RelayStoreReactFlightUtils.REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY);\n    if (!Array.isArray(reachableExecutableDefinitions)) {\n      return;\n    }\n    var operationLoader = this._operationLoader;\n    !(operationLoader !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DataChecker: Expected an operationLoader to be configured when using ' + 'React Flight') : invariant(false) : void 0;\n    // In Flight, the variables that are in scope for reachable executable\n    // definitions aren't the same as what's in scope for the outer query.\n    var prevVariables = this._variables;\n    // $FlowFixMe[incompatible-cast]\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(reachableExecutableDefinitions),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var definition = _step3.value;\n        this._variables = definition.variables;\n        var operationReference = definition.module;\n        var normalizationRootNode = operationLoader.get(operationReference);\n        if (normalizationRootNode != null) {\n          var operation = getOperation(normalizationRootNode);\n          this._traverse(operation, ROOT_ID);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    this._variables = prevVariables;\n  };\n  return RelayReferenceMarker;\n}();\nmodule.exports = {\n  mark: mark\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _require = require('../multi-actor-environment/ActorUtils'),\n  ACTOR_IDENTIFIER_FIELD_NAME = _require.ACTOR_IDENTIFIER_FIELD_NAME,\n  getActorIdentifierFromPayload = _require.getActorIdentifierFromPayload;\nvar _require2 = require('../util/RelayConcreteNode'),\n  ACTOR_CHANGE = _require2.ACTOR_CHANGE,\n  CLIENT_COMPONENT = _require2.CLIENT_COMPONENT,\n  CLIENT_EDGE_TO_CLIENT_OBJECT = _require2.CLIENT_EDGE_TO_CLIENT_OBJECT,\n  CLIENT_EXTENSION = _require2.CLIENT_EXTENSION,\n  CONDITION = _require2.CONDITION,\n  DEFER = _require2.DEFER,\n  FLIGHT_FIELD = _require2.FLIGHT_FIELD,\n  FRAGMENT_SPREAD = _require2.FRAGMENT_SPREAD,\n  INLINE_FRAGMENT = _require2.INLINE_FRAGMENT,\n  LINKED_FIELD = _require2.LINKED_FIELD,\n  LINKED_HANDLE = _require2.LINKED_HANDLE,\n  MODULE_IMPORT = _require2.MODULE_IMPORT,\n  RELAY_RESOLVER = _require2.RELAY_RESOLVER,\n  SCALAR_FIELD = _require2.SCALAR_FIELD,\n  SCALAR_HANDLE = _require2.SCALAR_HANDLE,\n  STREAM = _require2.STREAM,\n  TYPE_DISCRIMINATOR = _require2.TYPE_DISCRIMINATOR;\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar _require3 = require('./ClientID'),\n  generateClientID = _require3.generateClientID,\n  isClientID = _require3.isClientID;\nvar _require4 = require('./RelayConcreteVariables'),\n  getLocalVariables = _require4.getLocalVariables;\nvar RelayModernRecord = require('./RelayModernRecord');\nvar _require5 = require('./RelayModernSelector'),\n  createNormalizationSelector = _require5.createNormalizationSelector;\nvar _require6 = require('./RelayStoreReactFlightUtils'),\n  REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY = _require6.REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY,\n  REACT_FLIGHT_TREE_STORAGE_KEY = _require6.REACT_FLIGHT_TREE_STORAGE_KEY,\n  REACT_FLIGHT_TYPE_NAME = _require6.REACT_FLIGHT_TYPE_NAME,\n  refineToReactFlightPayloadData = _require6.refineToReactFlightPayloadData;\nvar _require7 = require('./RelayStoreUtils'),\n  ROOT_ID = _require7.ROOT_ID,\n  ROOT_TYPE = _require7.ROOT_TYPE,\n  TYPENAME_KEY = _require7.TYPENAME_KEY,\n  getArgumentValues = _require7.getArgumentValues,\n  getHandleStorageKey = _require7.getHandleStorageKey,\n  getModuleComponentKey = _require7.getModuleComponentKey,\n  getModuleOperationKey = _require7.getModuleOperationKey,\n  getStorageKey = _require7.getStorageKey;\nvar _require8 = require('./TypeID'),\n  TYPE_SCHEMA_TYPE = _require8.TYPE_SCHEMA_TYPE,\n  generateTypeID = _require8.generateTypeID;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Normalizes the results of a query and standard GraphQL response, writing the\n * normalized records/fields into the given MutableRecordSource.\n */\nfunction normalize(recordSource, selector, response, options) {\n  var dataID = selector.dataID,\n    node = selector.node,\n    variables = selector.variables;\n  var normalizer = new RelayResponseNormalizer(recordSource, variables, options);\n  return normalizer.normalizeResponse(node, dataID, response);\n}\n\n/**\n * @private\n *\n * Helper for handling payloads.\n */\nvar RelayResponseNormalizer = /*#__PURE__*/function () {\n  function RelayResponseNormalizer(recordSource, variables, options) {\n    this._actorIdentifier = options.actorIdentifier;\n    this._getDataId = options.getDataID;\n    this._handleFieldPayloads = [];\n    this._treatMissingFieldsAsNull = options.treatMissingFieldsAsNull;\n    this._incrementalPlaceholders = [];\n    this._isClientExtension = false;\n    this._isUnmatchedAbstractType = false;\n    this._followupPayloads = [];\n    this._path = options.path ? (0, _toConsumableArray2[\"default\"])(options.path) : [];\n    this._recordSource = recordSource;\n    this._variables = variables;\n    this._reactFlightPayloadDeserializer = options.reactFlightPayloadDeserializer;\n    this._reactFlightServerErrorHandler = options.reactFlightServerErrorHandler;\n    this._shouldProcessClientComponents = options.shouldProcessClientComponents;\n  }\n  var _proto = RelayResponseNormalizer.prototype;\n  _proto.normalizeResponse = function normalizeResponse(node, dataID, data) {\n    var record = this._recordSource.get(dataID);\n    !record ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Expected root record `%s` to exist.', dataID) : invariant(false) : void 0;\n    this._assignClientAbstractTypes(node);\n    this._traverseSelections(node, record, data);\n    return {\n      errors: null,\n      fieldPayloads: this._handleFieldPayloads,\n      incrementalPlaceholders: this._incrementalPlaceholders,\n      followupPayloads: this._followupPayloads,\n      source: this._recordSource,\n      isFinal: false\n    };\n  }\n\n  // For abstract types defined in the client schema extension, we won't be\n  // getting `__is<AbstractType>` hints from the server. To handle this, the\n  // compiler attaches additional metadata on the normalization artifact,\n  // which we need to record into the store.\n  ;\n  _proto._assignClientAbstractTypes = function _assignClientAbstractTypes(node) {\n    var clientAbstractTypes = node.clientAbstractTypes;\n    if (clientAbstractTypes != null) {\n      for (var _i = 0, _Object$keys = Object.keys(clientAbstractTypes); _i < _Object$keys.length; _i++) {\n        var abstractType = _Object$keys[_i];\n        var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(clientAbstractTypes[abstractType]),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var concreteType = _step.value;\n            var typeID = generateTypeID(concreteType);\n            var typeRecord = this._recordSource.get(typeID);\n            if (typeRecord == null) {\n              typeRecord = RelayModernRecord.create(typeID, TYPE_SCHEMA_TYPE);\n              this._recordSource.set(typeID, typeRecord);\n            }\n            RelayModernRecord.setValue(typeRecord, abstractType, true);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n  };\n  _proto._getVariableValue = function _getVariableValue(name) {\n    !this._variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n    return this._variables[name];\n  };\n  _proto._getRecordType = function _getRecordType(data) {\n    var typeName = data[TYPENAME_KEY];\n    !(typeName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Expected a typename for record `%s`.', JSON.stringify(data, null, 2)) : invariant(false) : void 0;\n    return typeName;\n  };\n  _proto._traverseSelections = function _traverseSelections(node, record, data) {\n    for (var i = 0; i < node.selections.length; i++) {\n      var selection = node.selections[i];\n      switch (selection.kind) {\n        case SCALAR_FIELD:\n        case LINKED_FIELD:\n          this._normalizeField(node, selection, record, data);\n          break;\n        case CONDITION:\n          var conditionValue = Boolean(this._getVariableValue(selection.condition));\n          if (conditionValue === selection.passingValue) {\n            this._traverseSelections(selection, record, data);\n          }\n          break;\n        case FRAGMENT_SPREAD:\n          {\n            var prevVariables = this._variables;\n            this._variables = getLocalVariables(this._variables, selection.fragment.argumentDefinitions, selection.args);\n            this._traverseSelections(selection.fragment, record, data);\n            this._variables = prevVariables;\n            break;\n          }\n        case INLINE_FRAGMENT:\n          {\n            var abstractKey = selection.abstractKey;\n            if (abstractKey == null) {\n              var typeName = RelayModernRecord.getType(record);\n              if (typeName === selection.type) {\n                this._traverseSelections(selection, record, data);\n              }\n            } else {\n              var implementsInterface = data.hasOwnProperty(abstractKey);\n              var _typeName = RelayModernRecord.getType(record);\n              var typeID = generateTypeID(_typeName);\n              var typeRecord = this._recordSource.get(typeID);\n              if (typeRecord == null) {\n                typeRecord = RelayModernRecord.create(typeID, TYPE_SCHEMA_TYPE);\n                this._recordSource.set(typeID, typeRecord);\n              }\n              RelayModernRecord.setValue(typeRecord, abstractKey, implementsInterface);\n              if (implementsInterface) {\n                this._traverseSelections(selection, record, data);\n              }\n            }\n            break;\n          }\n        case TYPE_DISCRIMINATOR:\n          {\n            var _abstractKey = selection.abstractKey;\n            var _implementsInterface = data.hasOwnProperty(_abstractKey);\n            var _typeName2 = RelayModernRecord.getType(record);\n            var _typeID = generateTypeID(_typeName2);\n            var _typeRecord = this._recordSource.get(_typeID);\n            if (_typeRecord == null) {\n              _typeRecord = RelayModernRecord.create(_typeID, TYPE_SCHEMA_TYPE);\n              this._recordSource.set(_typeID, _typeRecord);\n            }\n            RelayModernRecord.setValue(_typeRecord, _abstractKey, _implementsInterface);\n            break;\n          }\n        case LINKED_HANDLE:\n        case SCALAR_HANDLE:\n          var args = selection.args ? getArgumentValues(selection.args, this._variables) : {};\n          var fieldKey = getStorageKey(selection, this._variables);\n          var handleKey = getHandleStorageKey(selection, this._variables);\n          this._handleFieldPayloads.push({\n            args: args,\n            dataID: RelayModernRecord.getDataID(record),\n            fieldKey: fieldKey,\n            handle: selection.handle,\n            handleKey: handleKey,\n            handleArgs: selection.handleArgs ? getArgumentValues(selection.handleArgs, this._variables) : {}\n          });\n          break;\n        case MODULE_IMPORT:\n          this._normalizeModuleImport(node, selection, record, data);\n          break;\n        case DEFER:\n          this._normalizeDefer(selection, record, data);\n          break;\n        case STREAM:\n          this._normalizeStream(selection, record, data);\n          break;\n        case CLIENT_EXTENSION:\n          var isClientExtension = this._isClientExtension;\n          this._isClientExtension = true;\n          this._traverseSelections(selection, record, data);\n          this._isClientExtension = isClientExtension;\n          break;\n        case CLIENT_COMPONENT:\n          if (this._shouldProcessClientComponents === false) {\n            break;\n          }\n          this._traverseSelections(selection.fragment, record, data);\n          break;\n        case FLIGHT_FIELD:\n          if (RelayFeatureFlags.ENABLE_REACT_FLIGHT_COMPONENT_FIELD) {\n            this._normalizeFlightField(node, selection, record, data);\n          } else {\n            throw new Error('Flight fields are not yet supported.');\n          }\n          break;\n        case ACTOR_CHANGE:\n          this._normalizeActorChange(node, selection, record, data);\n          break;\n        case RELAY_RESOLVER:\n          this._normalizeResolver(selection, record, data);\n          break;\n        case CLIENT_EDGE_TO_CLIENT_OBJECT:\n          this._normalizeResolver(selection.backingField, record, data);\n          break;\n        default:\n          selection;\n          !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Unexpected ast kind `%s`.', selection.kind) : invariant(false) : void 0;\n      }\n    }\n  };\n  _proto._normalizeResolver = function _normalizeResolver(resolver, record, data) {\n    if (resolver.fragment != null) {\n      this._traverseSelections(resolver.fragment, record, data);\n    }\n  };\n  _proto._normalizeDefer = function _normalizeDefer(defer, record, data) {\n    var isDeferred = defer[\"if\"] === null || this._getVariableValue(defer[\"if\"]);\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(typeof isDeferred === 'boolean', 'RelayResponseNormalizer: Expected value for @defer `if` argument to ' + 'be a boolean, got `%s`.', isDeferred) : void 0;\n    }\n    if (isDeferred === false) {\n      // If defer is disabled there will be no additional response chunk:\n      // normalize the data already present.\n      this._traverseSelections(defer, record, data);\n    } else {\n      // Otherwise data *for this selection* should not be present: enqueue\n      // metadata to process the subsequent response chunk.\n      this._incrementalPlaceholders.push({\n        kind: 'defer',\n        data: data,\n        label: defer.label,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        selector: createNormalizationSelector(defer, RelayModernRecord.getDataID(record), this._variables),\n        typeName: RelayModernRecord.getType(record),\n        actorIdentifier: this._actorIdentifier\n      });\n    }\n  };\n  _proto._normalizeStream = function _normalizeStream(stream, record, data) {\n    // Always normalize regardless of whether streaming is enabled or not,\n    // this populates the initial array value (including any items when\n    // initial_count > 0).\n    this._traverseSelections(stream, record, data);\n    var isStreamed = stream[\"if\"] === null || this._getVariableValue(stream[\"if\"]);\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(typeof isStreamed === 'boolean', 'RelayResponseNormalizer: Expected value for @stream `if` argument ' + 'to be a boolean, got `%s`.', isStreamed) : void 0;\n    }\n    if (isStreamed === true) {\n      // If streaming is enabled, *also* emit metadata to process any\n      // response chunks that may be delivered.\n      this._incrementalPlaceholders.push({\n        kind: 'stream',\n        label: stream.label,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        parentID: RelayModernRecord.getDataID(record),\n        node: stream,\n        variables: this._variables,\n        actorIdentifier: this._actorIdentifier\n      });\n    }\n  };\n  _proto._normalizeModuleImport = function _normalizeModuleImport(parent, moduleImport, record, data) {\n    !(typeof data === 'object' && data) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for @module to be an object.') : invariant(false) : void 0;\n    var typeName = RelayModernRecord.getType(record);\n    var componentKey = getModuleComponentKey(moduleImport.documentName);\n    var componentReference = moduleImport.componentModuleProvider || data[componentKey];\n    RelayModernRecord.setValue(record, componentKey, componentReference !== null && componentReference !== void 0 ? componentReference : null);\n    var operationKey = getModuleOperationKey(moduleImport.documentName);\n    var operationReference = moduleImport.operationModuleProvider || data[operationKey];\n    RelayModernRecord.setValue(record, operationKey, operationReference !== null && operationReference !== void 0 ? operationReference : null);\n    if (operationReference != null) {\n      this._followupPayloads.push({\n        kind: 'ModuleImportPayload',\n        args: moduleImport.args,\n        data: data,\n        dataID: RelayModernRecord.getDataID(record),\n        operationReference: operationReference,\n        path: (0, _toConsumableArray2[\"default\"])(this._path),\n        typeName: typeName,\n        variables: this._variables,\n        actorIdentifier: this._actorIdentifier\n      });\n    }\n  };\n  _proto._normalizeField = function _normalizeField(parent, selection, record, data) {\n    !(typeof data === 'object' && data) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'writeField(): Expected data for field `%s` to be an object.', selection.name) : invariant(false) : void 0;\n    var responseKey = selection.alias || selection.name;\n    var storageKey = getStorageKey(selection, this._variables);\n    var fieldValue = data[responseKey];\n    if (fieldValue == null) {\n      if (fieldValue === undefined) {\n        // Fields may be missing in the response in two main cases:\n        // - Inside a client extension: the server will not generally return\n        //   values for these fields, but a local update may provide them.\n        // - Inside an abstract type refinement where the concrete type does\n        //   not conform to the interface/union.\n        // However an otherwise-required field may also be missing if the server\n        // is configured to skip fields with `null` values, in which case the\n        // client is assumed to be correctly configured with\n        // treatMissingFieldsAsNull=true.\n        var isOptionalField = this._isClientExtension || this._isUnmatchedAbstractType;\n        if (isOptionalField) {\n          // Field not expected to exist regardless of whether the server is pruning null\n          // fields or not.\n          return;\n        } else if (!this._treatMissingFieldsAsNull) {\n          // Not optional and the server is not pruning null fields: field is expected\n          // to be present\n          if (process.env.NODE_ENV !== \"production\") {\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Payload did not contain a value ' + 'for field `%s: %s`. Check that you are parsing with the same ' + 'query that was used to fetch the payload.', responseKey, storageKey) : void 0;\n          }\n          return;\n        }\n      }\n      if (process.env.NODE_ENV !== \"production\") {\n        if (selection.kind === SCALAR_FIELD) {\n          this._validateConflictingFieldsWithIdenticalId(record, storageKey,\n          // When using `treatMissingFieldsAsNull` the conflicting validation raises a false positive\n          // because the value is set using `null` but validated using `fieldValue` which at this point\n          // will be `undefined`.\n          // Setting this to `null` matches the value that we actually set to the `fieldValue`.\n          null);\n        }\n      }\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n    if (selection.kind === SCALAR_FIELD) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this._validateConflictingFieldsWithIdenticalId(record, storageKey, fieldValue);\n      }\n      RelayModernRecord.setValue(record, storageKey, fieldValue);\n    } else if (selection.kind === LINKED_FIELD) {\n      this._path.push(responseKey);\n      if (selection.plural) {\n        this._normalizePluralLink(selection, record, storageKey, fieldValue);\n      } else {\n        this._normalizeLink(selection, record, storageKey, fieldValue);\n      }\n      this._path.pop();\n    } else {\n      selection;\n      !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer(): Unexpected ast kind `%s` during normalization.', selection.kind) : invariant(false) : void 0;\n    }\n  };\n  _proto._normalizeActorChange = function _normalizeActorChange(parent, selection, record, data) {\n    var _field$concreteType;\n    var field = selection.linkedField;\n    !(typeof data === 'object' && data) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '_normalizeActorChange(): Expected data for field `%s` to be an object.', field.name) : invariant(false) : void 0;\n    var responseKey = field.alias || field.name;\n    var storageKey = getStorageKey(field, this._variables);\n    var fieldValue = data[responseKey];\n    if (fieldValue == null) {\n      if (fieldValue === undefined) {\n        var isOptionalField = this._isClientExtension || this._isUnmatchedAbstractType;\n        if (isOptionalField) {\n          return;\n        } else if (!this._treatMissingFieldsAsNull) {\n          if (process.env.NODE_ENV !== \"production\") {\n            process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Payload did not contain a value ' + 'for field `%s: %s`. Check that you are parsing with the same ' + 'query that was used to fetch the payload.', responseKey, storageKey) : void 0;\n          }\n          return;\n        }\n      }\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n    var actorIdentifier = getActorIdentifierFromPayload(fieldValue);\n    if (actorIdentifier == null) {\n      if (process.env.NODE_ENV !== \"production\") {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Payload did not contain a value ' + 'for field `%s`. Check that you are parsing with the same ' + 'query that was used to fetch the payload. Payload is `%s`.', ACTOR_IDENTIFIER_FIELD_NAME, JSON.stringify(fieldValue, null, 2)) : void 0;\n      }\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n\n    // $FlowFixMe[incompatible-call]\n    var typeName = (_field$concreteType = field.concreteType) !== null && _field$concreteType !== void 0 ? _field$concreteType : this._getRecordType(fieldValue);\n    var nextID = this._getDataId(\n    // $FlowFixMe[incompatible-call]\n    fieldValue, typeName) || RelayModernRecord.getLinkedRecordID(record, storageKey) || generateClientID(RelayModernRecord.getDataID(record), storageKey);\n    !(typeof nextID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected id on field `%s` to be a string.', storageKey) : invariant(false) : void 0;\n    RelayModernRecord.setActorLinkedRecordID(record, storageKey, actorIdentifier, nextID);\n    this._followupPayloads.push({\n      kind: 'ActorPayload',\n      data: fieldValue,\n      dataID: nextID,\n      path: [].concat((0, _toConsumableArray2[\"default\"])(this._path), [responseKey]),\n      typeName: typeName,\n      variables: this._variables,\n      node: field,\n      actorIdentifier: actorIdentifier\n    });\n  };\n  _proto._normalizeFlightField = function _normalizeFlightField(parent, selection, record, data) {\n    var responseKey = selection.alias || selection.name;\n    var storageKey = getStorageKey(selection, this._variables);\n    var fieldValue = data[responseKey];\n    if (fieldValue == null) {\n      if (fieldValue === undefined) {\n        // Flight field may be missing in the response if:\n        // - It is inside an abstract type refinement where the concrete type does\n        //   not conform to the interface/union.\n        // However an otherwise-required field may also be missing if the server\n        // is configured to skip fields with `null` values, in which case the\n        // client is assumed to be correctly configured with\n        // treatMissingFieldsAsNull=true.\n        if (this._isUnmatchedAbstractType) {\n          // Field not expected to exist regardless of whether the server is pruning null\n          // fields or not.\n          return;\n        } else {\n          // Not optional and the server is not pruning null fields: field is expected\n          // to be present\n          !this._treatMissingFieldsAsNull ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Payload did not contain a value for ' + 'field `%s: %s`. Check that you are parsing with the same ' + 'query that was used to fetch the payload.', responseKey, storageKey) : invariant(false) : void 0;\n        }\n      }\n      RelayModernRecord.setValue(record, storageKey, null);\n      return;\n    }\n    var reactFlightPayload = refineToReactFlightPayloadData(fieldValue);\n    var reactFlightPayloadDeserializer = this._reactFlightPayloadDeserializer;\n    !(reactFlightPayload != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected React Flight payload data to be an ' + 'object with `status`, tree`, `queries` and `errors` properties, got ' + '`%s`.', fieldValue) : invariant(false) : void 0;\n    !(typeof reactFlightPayloadDeserializer === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected reactFlightPayloadDeserializer to ' + 'be a function, got `%s`.', reactFlightPayloadDeserializer) : invariant(false) : void 0;\n    if (reactFlightPayload.errors.length > 0) {\n      if (typeof this._reactFlightServerErrorHandler === 'function') {\n        this._reactFlightServerErrorHandler(reactFlightPayload.status, reactFlightPayload.errors);\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Received server errors for field `%s`.\\n\\n' + '%s\\n%s', responseKey, reactFlightPayload.errors[0].message, reactFlightPayload.errors[0].stack) : void 0;\n      }\n    }\n    var reactFlightID = generateClientID(RelayModernRecord.getDataID(record), getStorageKey(selection, this._variables));\n    var reactFlightClientResponseRecord = this._recordSource.get(reactFlightID);\n    if (reactFlightClientResponseRecord == null) {\n      reactFlightClientResponseRecord = RelayModernRecord.create(reactFlightID, REACT_FLIGHT_TYPE_NAME);\n      this._recordSource.set(reactFlightID, reactFlightClientResponseRecord);\n    }\n    if (reactFlightPayload.tree == null) {\n      // This typically indicates that a fatal server error prevented rows from\n      // being written. When this occurs, we should not continue normalization of\n      // the Flight field because the row response is malformed.\n      //\n      // Receiving empty rows is OK because it can indicate the start of a stream.\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayResponseNormalizer: Expected `tree` not to be null. This ' + 'typically indicates that a fatal server error prevented any Server ' + 'Component rows from being written.') : void 0;\n      // We create the flight record with a null value for the tree\n      // and empty reachable definitions\n      RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_TREE_STORAGE_KEY, null);\n      RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY, []);\n      RelayModernRecord.setLinkedRecordID(record, storageKey, reactFlightID);\n      return;\n    }\n\n    // We store the deserialized reactFlightClientResponse in a separate\n    // record and link it to the parent record. This is so we can GC the Flight\n    // tree later even if the parent record is still reachable.\n    var reactFlightClientResponse = reactFlightPayloadDeserializer(reactFlightPayload.tree);\n    RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_TREE_STORAGE_KEY, reactFlightClientResponse);\n    var reachableExecutableDefinitions = [];\n    var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(reactFlightPayload.queries),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var query = _step2.value;\n        if (query.response.data != null) {\n          this._followupPayloads.push({\n            kind: 'ModuleImportPayload',\n            args: null,\n            data: query.response.data,\n            dataID: ROOT_ID,\n            operationReference: query.module,\n            path: [],\n            typeName: ROOT_TYPE,\n            variables: query.variables,\n            actorIdentifier: this._actorIdentifier\n          });\n        }\n        reachableExecutableDefinitions.push({\n          module: query.module,\n          variables: query.variables\n        });\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])(reactFlightPayload.fragments),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var fragment = _step3.value;\n        if (fragment.response.data != null) {\n          this._followupPayloads.push({\n            kind: 'ModuleImportPayload',\n            args: null,\n            data: fragment.response.data,\n            dataID: fragment.__id,\n            operationReference: fragment.module,\n            path: [],\n            typeName: fragment.__typename,\n            variables: fragment.variables,\n            actorIdentifier: this._actorIdentifier\n          });\n        }\n        reachableExecutableDefinitions.push({\n          module: fragment.module,\n          variables: fragment.variables\n        });\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    RelayModernRecord.setValue(reactFlightClientResponseRecord, REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY, reachableExecutableDefinitions);\n    RelayModernRecord.setLinkedRecordID(record, storageKey, reactFlightID);\n  };\n  _proto._normalizeLink = function _normalizeLink(field, record, storageKey, fieldValue) {\n    var _field$concreteType2;\n    !(typeof fieldValue === 'object' && fieldValue) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for field `%s` to be an object.', storageKey) : invariant(false) : void 0;\n    var nextID = this._getDataId(\n    // $FlowFixMe[incompatible-variance]\n    fieldValue, // $FlowFixMe[incompatible-variance]\n    (_field$concreteType2 = field.concreteType) !== null && _field$concreteType2 !== void 0 ? _field$concreteType2 : this._getRecordType(fieldValue)) ||\n    // Reuse previously generated client IDs\n    RelayModernRecord.getLinkedRecordID(record, storageKey) || generateClientID(RelayModernRecord.getDataID(record), storageKey);\n    !(typeof nextID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected id on field `%s` to be a string.', storageKey) : invariant(false) : void 0;\n    if (process.env.NODE_ENV !== \"production\") {\n      this._validateConflictingLinkedFieldsWithIdenticalId(record, RelayModernRecord.getLinkedRecordID(record, storageKey), nextID, storageKey);\n    }\n    RelayModernRecord.setLinkedRecordID(record, storageKey, nextID);\n    var nextRecord = this._recordSource.get(nextID);\n    if (!nextRecord) {\n      // $FlowFixMe[incompatible-variance]\n      var typeName = field.concreteType || this._getRecordType(fieldValue);\n      nextRecord = RelayModernRecord.create(nextID, typeName);\n      this._recordSource.set(nextID, nextRecord);\n    } else if (process.env.NODE_ENV !== \"production\") {\n      this._validateRecordType(nextRecord, field, fieldValue);\n    }\n    // $FlowFixMe[incompatible-variance]\n    this._traverseSelections(field, nextRecord, fieldValue);\n  };\n  _proto._normalizePluralLink = function _normalizePluralLink(field, record, storageKey, fieldValue) {\n    var _this = this;\n    !Array.isArray(fieldValue) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected data for field `%s` to be an array ' + 'of objects.', storageKey) : invariant(false) : void 0;\n    var prevIDs = RelayModernRecord.getLinkedRecordIDs(record, storageKey);\n    var nextIDs = [];\n    fieldValue.forEach(function (item, nextIndex) {\n      var _field$concreteType3;\n      // validate response data\n      if (item == null) {\n        nextIDs.push(item);\n        return;\n      }\n      _this._path.push(String(nextIndex));\n      !(typeof item === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected elements for field `%s` to be ' + 'objects.', storageKey) : invariant(false) : void 0;\n      var nextID = _this._getDataId(\n      // $FlowFixMe[incompatible-variance]\n      item, // $FlowFixMe[incompatible-variance]\n      (_field$concreteType3 = field.concreteType) !== null && _field$concreteType3 !== void 0 ? _field$concreteType3 : _this._getRecordType(item)) || prevIDs && prevIDs[nextIndex] ||\n      // Reuse previously generated client IDs:\n      generateClientID(RelayModernRecord.getDataID(record), storageKey, nextIndex);\n      !(typeof nextID === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayResponseNormalizer: Expected id of elements of field `%s` to ' + 'be strings.', storageKey) : invariant(false) : void 0;\n      nextIDs.push(nextID);\n      var nextRecord = _this._recordSource.get(nextID);\n      if (!nextRecord) {\n        // $FlowFixMe[incompatible-variance]\n        var typeName = field.concreteType || _this._getRecordType(item);\n        nextRecord = RelayModernRecord.create(nextID, typeName);\n        _this._recordSource.set(nextID, nextRecord);\n      } else if (process.env.NODE_ENV !== \"production\") {\n        _this._validateRecordType(nextRecord, field, item);\n      }\n      // NOTE: the check to strip __DEV__ code only works for simple\n      // `if (__DEV__)`\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevIDs) {\n          _this._validateConflictingLinkedFieldsWithIdenticalId(record, prevIDs[nextIndex], nextID, storageKey);\n        }\n      }\n      // $FlowFixMe[incompatible-variance]\n      _this._traverseSelections(field, nextRecord, item);\n      _this._path.pop();\n    });\n    RelayModernRecord.setLinkedRecordIDs(record, storageKey, nextIDs);\n  }\n\n  /**\n   * Warns if the type of the record does not match the type of the field/payload.\n   */;\n  _proto._validateRecordType = function _validateRecordType(record, field, payload) {\n    var _field$concreteType4;\n    var typeName = (_field$concreteType4 = field.concreteType) !== null && _field$concreteType4 !== void 0 ? _field$concreteType4 : this._getRecordType(payload);\n    var dataID = RelayModernRecord.getDataID(record);\n    process.env.NODE_ENV !== \"production\" ? warning(isClientID(dataID) && dataID !== ROOT_ID || RelayModernRecord.getType(record) === typeName, 'RelayResponseNormalizer: Invalid record `%s`. Expected %s to be ' + 'consistent, but the record was assigned conflicting types `%s` ' + 'and `%s`. The GraphQL server likely violated the globally unique ' + 'id requirement by returning the same id for different objects.', dataID, TYPENAME_KEY, RelayModernRecord.getType(record), typeName) : void 0;\n  }\n\n  /**\n   * Warns if a single response contains conflicting fields with the same id\n   */;\n  _proto._validateConflictingFieldsWithIdenticalId = function _validateConflictingFieldsWithIdenticalId(record, storageKey, fieldValue) {\n    // NOTE: Only call this function in DEV\n    if (process.env.NODE_ENV !== \"production\") {\n      var dataID = RelayModernRecord.getDataID(record);\n      var previousValue = RelayModernRecord.getValue(record, storageKey);\n      process.env.NODE_ENV !== \"production\" ? warning(storageKey === TYPENAME_KEY || previousValue === undefined || areEqual(previousValue, fieldValue), 'RelayResponseNormalizer: Invalid record. The record contains two ' + 'instances of the same id: `%s` with conflicting field, %s and its values: %s and %s. ' + 'If two fields are different but share ' + 'the same id, one field will overwrite the other.', dataID, storageKey, previousValue, fieldValue) : void 0;\n    }\n  }\n\n  /**\n   * Warns if a single response contains conflicting fields with the same id\n   */;\n  _proto._validateConflictingLinkedFieldsWithIdenticalId = function _validateConflictingLinkedFieldsWithIdenticalId(record, prevID, nextID, storageKey) {\n    // NOTE: Only call this function in DEV\n    if (process.env.NODE_ENV !== \"production\") {\n      process.env.NODE_ENV !== \"production\" ? warning(prevID === undefined || prevID === nextID, 'RelayResponseNormalizer: Invalid record. The record contains ' + 'references to the conflicting field, %s and its id values: %s and %s. ' + 'We need to make sure that the record the field points ' + 'to remains consistent or one field will overwrite the other.', storageKey, prevID, nextID) : void 0;\n    }\n  };\n  return RelayResponseNormalizer;\n}();\nmodule.exports = {\n  normalize: normalize\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./RelayModernRecord'),\n  getType = _require.getType;\nvar invariant = require('invariant');\n\n// Reachable (client) executable definitions encountered while server component\n// rendering\nvar REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY = 'executableDefinitions';\nvar REACT_FLIGHT_TREE_STORAGE_KEY = 'tree';\nvar REACT_FLIGHT_TYPE_NAME = 'ReactFlightComponent';\nfunction refineToReactFlightPayloadData(payload) {\n  if (payload == null || typeof payload !== 'object' || typeof payload.status !== 'string' || !Array.isArray(payload.tree) && payload.tree !== null || !Array.isArray(payload.queries) || !Array.isArray(payload.fragments) || !Array.isArray(payload.errors)) {\n    return null;\n  }\n  return payload;\n}\nfunction getReactFlightClientResponse(record) {\n  !(getType(record) === REACT_FLIGHT_TYPE_NAME) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getReactFlightClientResponse(): Expected a ReactFlightComponentRecord, ' + 'got %s.', record) : invariant(false) : void 0;\n  return record[REACT_FLIGHT_TREE_STORAGE_KEY];\n}\nmodule.exports = {\n  REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY: REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY,\n  REACT_FLIGHT_TREE_STORAGE_KEY: REACT_FLIGHT_TREE_STORAGE_KEY,\n  REACT_FLIGHT_TYPE_NAME: REACT_FLIGHT_TYPE_NAME,\n  getReactFlightClientResponse: getReactFlightClientResponse,\n  refineToReactFlightPayloadData: refineToReactFlightPayloadData\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar deepFreeze = require('../util/deepFreeze');\nvar recycleNodesInto = require('../util/recycleNodesInto');\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar hasOverlappingIDs = require('./hasOverlappingIDs');\nvar RelayReader = require('./RelayReader');\nvar RelayStoreSubscriptions = /*#__PURE__*/function () {\n  function RelayStoreSubscriptions(log, resolverCache) {\n    this._subscriptions = new Set();\n    this.__log = log;\n    this._resolverCache = resolverCache;\n  }\n  var _proto = RelayStoreSubscriptions.prototype;\n  _proto.subscribe = function subscribe(snapshot, callback) {\n    var _this = this;\n    var subscription = {\n      backup: null,\n      callback: callback,\n      snapshot: snapshot,\n      stale: false\n    };\n    var dispose = function dispose() {\n      _this._subscriptions[\"delete\"](subscription);\n    };\n    this._subscriptions.add(subscription);\n    return {\n      dispose: dispose\n    };\n  };\n  _proto.snapshotSubscriptions = function snapshotSubscriptions(source) {\n    var _this2 = this;\n    this._subscriptions.forEach(function (subscription) {\n      // Backup occurs after writing a new \"final\" payload(s) and before (re)applying\n      // optimistic changes. Each subscription's `snapshot` represents what was *last\n      // published to the subscriber*, which notably may include previous optimistic\n      // updates. Therefore a subscription can be in any of the following states:\n      // - stale=true: This subscription was restored to a different value than\n      //   `snapshot`. That means this subscription has changes relative to its base,\n      //   but its base has changed (we just applied a final payload): recompute\n      //   a backup so that we can later restore to the state the subscription\n      //   should be in.\n      // - stale=false: This subscription was restored to the same value as\n      //   `snapshot`. That means this subscription does *not* have changes relative\n      //   to its base, so the current `snapshot` is valid to use as a backup.\n      if (!subscription.stale) {\n        subscription.backup = subscription.snapshot;\n        return;\n      }\n      var snapshot = subscription.snapshot;\n      var backup = RelayReader.read(source, snapshot.selector, _this2._resolverCache);\n      var nextData = recycleNodesInto(snapshot.data, backup.data);\n      backup.data = nextData; // backup owns the snapshot and can safely mutate\n      subscription.backup = backup;\n    });\n  };\n  _proto.restoreSubscriptions = function restoreSubscriptions() {\n    this._subscriptions.forEach(function (subscription) {\n      var backup = subscription.backup;\n      subscription.backup = null;\n      if (backup) {\n        if (backup.data !== subscription.snapshot.data) {\n          subscription.stale = true;\n        }\n        subscription.snapshot = {\n          data: subscription.snapshot.data,\n          isMissingData: backup.isMissingData,\n          missingClientEdges: backup.missingClientEdges,\n          missingLiveResolverFields: backup.missingLiveResolverFields,\n          seenRecords: backup.seenRecords,\n          selector: backup.selector,\n          missingRequiredFields: backup.missingRequiredFields,\n          relayResolverErrors: backup.relayResolverErrors\n        };\n      } else {\n        subscription.stale = true;\n      }\n    });\n  };\n  _proto.updateSubscriptions = function updateSubscriptions(source, updatedRecordIDs, updatedOwners, sourceOperation) {\n    var _this3 = this;\n    var hasUpdatedRecords = updatedRecordIDs.size !== 0;\n    this._subscriptions.forEach(function (subscription) {\n      var owner = _this3._updateSubscription(source, subscription, updatedRecordIDs, hasUpdatedRecords, sourceOperation);\n      if (owner != null) {\n        updatedOwners.push(owner);\n      }\n    });\n  }\n\n  /**\n   * Notifies the callback for the subscription if the data for the associated\n   * snapshot has changed.\n   * Additionally, updates the subscription snapshot with the latest snapshot,\n   * and marks it as not stale.\n   * Returns the owner (RequestDescriptor) if the subscription was affected by the\n   * latest update, or null if it was not affected.\n   */;\n  _proto._updateSubscription = function _updateSubscription(source, subscription, updatedRecordIDs, hasUpdatedRecords, sourceOperation) {\n    var backup = subscription.backup,\n      callback = subscription.callback,\n      snapshot = subscription.snapshot,\n      stale = subscription.stale;\n    var hasOverlappingUpdates = hasUpdatedRecords && hasOverlappingIDs(snapshot.seenRecords, updatedRecordIDs);\n    if (!stale && !hasOverlappingUpdates) {\n      return;\n    }\n    var nextSnapshot = hasOverlappingUpdates || !backup ? RelayReader.read(source, snapshot.selector, this._resolverCache) : backup;\n    var nextData = recycleNodesInto(snapshot.data, nextSnapshot.data);\n    nextSnapshot = {\n      data: nextData,\n      isMissingData: nextSnapshot.isMissingData,\n      missingClientEdges: nextSnapshot.missingClientEdges,\n      missingLiveResolverFields: nextSnapshot.missingLiveResolverFields,\n      seenRecords: nextSnapshot.seenRecords,\n      selector: nextSnapshot.selector,\n      missingRequiredFields: nextSnapshot.missingRequiredFields,\n      relayResolverErrors: nextSnapshot.relayResolverErrors\n    };\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(nextSnapshot);\n    }\n    subscription.snapshot = nextSnapshot;\n    subscription.stale = false;\n    if (nextSnapshot.data !== snapshot.data) {\n      if (this.__log && RelayFeatureFlags.ENABLE_NOTIFY_SUBSCRIPTION) {\n        this.__log({\n          name: 'store.notify.subscription',\n          sourceOperation: sourceOperation,\n          snapshot: snapshot,\n          nextSnapshot: nextSnapshot\n        });\n      }\n      callback(nextSnapshot);\n      return snapshot.selector.owner;\n    }\n  };\n  return RelayStoreSubscriptions;\n}();\nmodule.exports = RelayStoreSubscriptions;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar getRelayHandleKey = require('../util/getRelayHandleKey');\nvar RelayConcreteNode = require('../util/RelayConcreteNode');\nvar stableCopy = require('../util/stableCopy');\nvar invariant = require('invariant');\nvar VARIABLE = RelayConcreteNode.VARIABLE,\n  LITERAL = RelayConcreteNode.LITERAL,\n  OBJECT_VALUE = RelayConcreteNode.OBJECT_VALUE,\n  LIST_VALUE = RelayConcreteNode.LIST_VALUE;\nvar MODULE_COMPONENT_KEY_PREFIX = '__module_component_';\nvar MODULE_OPERATION_KEY_PREFIX = '__module_operation_';\nfunction getArgumentValue(arg, variables) {\n  if (arg.kind === VARIABLE) {\n    // Variables are provided at runtime and are not guaranteed to be stable.\n    return getStableVariableValue(arg.variableName, variables);\n  } else if (arg.kind === LITERAL) {\n    // The Relay compiler generates stable ConcreteArgument values.\n    return arg.value;\n  } else if (arg.kind === OBJECT_VALUE) {\n    var value = {};\n    arg.fields.forEach(function (field) {\n      value[field.name] = getArgumentValue(field, variables);\n    });\n    return value;\n  } else if (arg.kind === LIST_VALUE) {\n    var _value = [];\n    arg.items.forEach(function (item) {\n      item != null ? _value.push(getArgumentValue(item, variables)) : null;\n    });\n    return _value;\n  }\n}\n\n/**\n * Returns the values of field/fragment arguments as an object keyed by argument\n * names. Guaranteed to return a result with stable ordered nested values.\n */\nfunction getArgumentValues(args, variables) {\n  var values = {};\n  args.forEach(function (arg) {\n    values[arg.name] = getArgumentValue(arg, variables);\n  });\n  return values;\n}\n\n/**\n * Given a handle field and variable values, returns a key that can be used to\n * uniquely identify the combination of the handle name and argument values.\n *\n * Note: the word \"storage\" here refers to the fact this key is primarily used\n * when writing the results of a key in a normalized graph or \"store\". This\n * name was used in previous implementations of Relay internals and is also\n * used here for consistency.\n */\nfunction getHandleStorageKey(handleField, variables) {\n  var dynamicKey = handleField.dynamicKey,\n    handle = handleField.handle,\n    key = handleField.key,\n    name = handleField.name,\n    args = handleField.args,\n    filters = handleField.filters;\n  var handleName = getRelayHandleKey(handle, key, name);\n  var filterArgs = null;\n  if (args && filters && args.length !== 0 && filters.length !== 0) {\n    filterArgs = args.filter(function (arg) {\n      return filters.indexOf(arg.name) > -1;\n    });\n  }\n  if (dynamicKey) {\n    // \"Sort\" the arguments by argument name: this is done by the compiler for\n    // user-supplied arguments but the dynamic argument must also be in sorted\n    // order.  Note that dynamic key argument name is double-underscore-\n    // -prefixed, and a double-underscore prefix is disallowed for user-supplied\n    // argument names, so there's no need to actually sort.\n    filterArgs = filterArgs != null ? [dynamicKey].concat((0, _toConsumableArray2[\"default\"])(filterArgs)) : [dynamicKey];\n  }\n  if (filterArgs === null) {\n    return handleName;\n  } else {\n    return formatStorageKey(handleName, getArgumentValues(filterArgs, variables));\n  }\n}\n\n/**\n * Given a field and variable values, returns a key that can be used to\n * uniquely identify the combination of the field name and argument values.\n *\n * Note: the word \"storage\" here refers to the fact this key is primarily used\n * when writing the results of a key in a normalized graph or \"store\". This\n * name was used in previous implementations of Relay internals and is also\n * used here for consistency.\n */\nfunction getStorageKey(field, variables) {\n  if (field.storageKey) {\n    // TODO T23663664: Handle nodes do not yet define a static storageKey.\n    return field.storageKey;\n  }\n  var args = getArguments(field);\n  var name = field.name;\n  return args && args.length !== 0 ? formatStorageKey(name, getArgumentValues(args, variables)) : name;\n}\n\n/**\n * Given a field the method returns an array of arguments.\n * For Relay resolver fields, we store arguments on the field and fragment\n * and this method return combined list of arguments.\n */\nfunction getArguments(field) {\n  if (field.kind === 'RelayResolver' || field.kind === 'RelayLiveResolver') {\n    var _field$fragment2;\n    if (field.args == null) {\n      var _field$fragment;\n      return (_field$fragment = field.fragment) === null || _field$fragment === void 0 ? void 0 : _field$fragment.args;\n    }\n    if (((_field$fragment2 = field.fragment) === null || _field$fragment2 === void 0 ? void 0 : _field$fragment2.args) == null) {\n      return field.args;\n    }\n    return field.args.concat(field.fragment.args);\n  }\n  var args = typeof field.args === 'undefined' ? undefined : field.args;\n  return args;\n}\n\n/**\n * Given a `name` (eg. \"foo\") and an object representing argument values\n * (eg. `{orberBy: \"name\", first: 10}`) returns a unique storage key\n * (ie. `foo{\"first\":10,\"orderBy\":\"name\"}`).\n *\n * This differs from getStorageKey which requires a ConcreteNode where arguments\n * are assumed to already be sorted into a stable order.\n */\nfunction getStableStorageKey(name, args) {\n  return formatStorageKey(name, stableCopy(args));\n}\n\n/**\n * Given a name and argument values, format a storage key.\n *\n * Arguments and the values within them are expected to be ordered in a stable\n * alphabetical ordering.\n */\nfunction formatStorageKey(name, argValues) {\n  if (!argValues) {\n    return name;\n  }\n  var values = [];\n  for (var argName in argValues) {\n    if (argValues.hasOwnProperty(argName)) {\n      var value = argValues[argName];\n      if (value != null) {\n        var _JSON$stringify;\n        values.push(argName + ':' + ((_JSON$stringify = JSON.stringify(value)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'undefined'));\n      }\n    }\n  }\n  return values.length === 0 ? name : name + \"(\".concat(values.join(','), \")\");\n}\n\n/**\n * Given Variables and a variable name, return a variable value with\n * all values in a stable order.\n */\nfunction getStableVariableValue(name, variables) {\n  !variables.hasOwnProperty(name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getVariableValue(): Undefined variable `%s`.', name) : invariant(false) : void 0;\n  return stableCopy(variables[name]);\n}\nfunction getModuleComponentKey(documentName) {\n  return \"\".concat(MODULE_COMPONENT_KEY_PREFIX).concat(documentName);\n}\nfunction getModuleOperationKey(documentName) {\n  return \"\".concat(MODULE_OPERATION_KEY_PREFIX).concat(documentName);\n}\n\n/**\n * Constants shared by all implementations of RecordSource/MutableRecordSource/etc.\n */\nvar RelayStoreUtils = {\n  ACTOR_IDENTIFIER_KEY: '__actorIdentifier',\n  CLIENT_EDGE_TRAVERSAL_PATH: '__clientEdgeTraversalPath',\n  FRAGMENTS_KEY: '__fragments',\n  FRAGMENT_OWNER_KEY: '__fragmentOwner',\n  FRAGMENT_PROP_NAME_KEY: '__fragmentPropName',\n  MODULE_COMPONENT_KEY: '__module_component',\n  // alias returned by Reader\n  ID_KEY: '__id',\n  REF_KEY: '__ref',\n  REFS_KEY: '__refs',\n  ROOT_ID: 'client:root',\n  ROOT_TYPE: '__Root',\n  TYPENAME_KEY: '__typename',\n  INVALIDATED_AT_KEY: '__invalidated_at',\n  IS_WITHIN_UNMATCHED_TYPE_REFINEMENT: '__isWithinUnmatchedTypeRefinement',\n  RELAY_RESOLVER_VALUE_KEY: '__resolverValue',\n  RELAY_RESOLVER_INVALIDATION_KEY: '__resolverValueMayBeInvalid',\n  RELAY_RESOLVER_SNAPSHOT_KEY: '__resolverSnapshot',\n  RELAY_RESOLVER_ERROR_KEY: '__resolverError',\n  RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS: '__resolverOutputTypeRecordIDs',\n  formatStorageKey: formatStorageKey,\n  getArgumentValue: getArgumentValue,\n  getArgumentValues: getArgumentValues,\n  getHandleStorageKey: getHandleStorageKey,\n  getStorageKey: getStorageKey,\n  getStableStorageKey: getStableStorageKey,\n  getModuleComponentKey: getModuleComponentKey,\n  getModuleOperationKey: getModuleOperationKey\n};\nmodule.exports = RelayStoreUtils;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar recycleNodesInto = require('../util/recycleNodesInto');\nvar _require = require('../util/RelayConcreteNode'),\n  RELAY_LIVE_RESOLVER = _require.RELAY_LIVE_RESOLVER;\nvar _require2 = require('./ClientID'),\n  generateClientID = _require2.generateClientID;\nvar RelayModernRecord = require('./RelayModernRecord');\nvar _require3 = require('./RelayStoreUtils'),\n  RELAY_RESOLVER_ERROR_KEY = _require3.RELAY_RESOLVER_ERROR_KEY,\n  RELAY_RESOLVER_INVALIDATION_KEY = _require3.RELAY_RESOLVER_INVALIDATION_KEY,\n  RELAY_RESOLVER_SNAPSHOT_KEY = _require3.RELAY_RESOLVER_SNAPSHOT_KEY,\n  RELAY_RESOLVER_VALUE_KEY = _require3.RELAY_RESOLVER_VALUE_KEY,\n  getStorageKey = _require3.getStorageKey;\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\n// $FlowFixMe[unclear-type] - will always be empty\nvar emptySet = new Set();\nvar NoopResolverCache = /*#__PURE__*/function () {\n  function NoopResolverCache() {}\n  var _proto = NoopResolverCache.prototype;\n  _proto.readFromCacheOrEvaluate = function readFromCacheOrEvaluate(recordID, field, variables, evaluate, getDataForResolverFragment) {\n    !(field.kind !== RELAY_LIVE_RESOLVER) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'This store does not support Live Resolvers') : invariant(false) : void 0;\n    var _evaluate = evaluate(),\n      resolverResult = _evaluate.resolverResult,\n      snapshot = _evaluate.snapshot,\n      error = _evaluate.error;\n    return [resolverResult, undefined, error, snapshot, undefined, undefined];\n  };\n  _proto.invalidateDataIDs = function invalidateDataIDs(updatedDataIDs) {};\n  _proto.ensureClientRecord = function ensureClientRecord(id, typeName) {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Client Edges to Client Objects are not supported in this version of Relay Store') : invariant(false) : void 0;\n  };\n  _proto.notifyUpdatedSubscribers = function notifyUpdatedSubscribers(updatedDataIDs) {};\n  return NoopResolverCache;\n}();\nfunction addDependencyEdge(edges, from, to) {\n  var set = edges.get(from);\n  if (!set) {\n    set = new Set();\n    edges.set(from, set);\n  }\n  set.add(to);\n}\nvar RecordResolverCache = /*#__PURE__*/function () {\n  function RecordResolverCache(getRecordSource) {\n    this._resolverIDToRecordIDs = new Map();\n    this._recordIDToResolverIDs = new Map();\n    this._getRecordSource = getRecordSource;\n  }\n  var _proto2 = RecordResolverCache.prototype;\n  _proto2.readFromCacheOrEvaluate = function readFromCacheOrEvaluate(recordID, field, variables, evaluate, getDataForResolverFragment) {\n    var recordSource = this._getRecordSource();\n\n    // NOTE: Be very careful with `record` in this scope. After `evaluate` has\n    // been called, the `record` we have here may have been replaced in the\n    // Relay store with a new record containing new information about nested\n    // resolvers on this parent record.\n    var record = recordSource.get(recordID);\n    !(record != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'We expect record to exist in the store.') : invariant(false) : void 0;\n    var storageKey = getStorageKey(field, variables);\n    var linkedID = RelayModernRecord.getLinkedRecordID(record, storageKey);\n    var linkedRecord = linkedID == null ? null : recordSource.get(linkedID);\n    if (linkedRecord == null || this._isInvalid(linkedRecord, getDataForResolverFragment)) {\n      var _linkedID;\n      // Cache miss; evaluate the selector and store the result in a new record:\n      linkedID = (_linkedID = linkedID) !== null && _linkedID !== void 0 ? _linkedID : generateClientID(recordID, storageKey);\n      linkedRecord = RelayModernRecord.create(linkedID, '__RELAY_RESOLVER__');\n      var evaluationResult = evaluate();\n      RelayModernRecord.setValue(linkedRecord, RELAY_RESOLVER_VALUE_KEY, evaluationResult.resolverResult);\n      RelayModernRecord.setValue(linkedRecord, RELAY_RESOLVER_SNAPSHOT_KEY, evaluationResult.snapshot);\n      RelayModernRecord.setValue(linkedRecord, RELAY_RESOLVER_ERROR_KEY, evaluationResult.error);\n      recordSource.set(linkedID, linkedRecord);\n\n      // Link the resolver value record to the resolver field of the record being read:\n\n      // Note: We get a fresh instance of the parent record from the record\n      // source, because it may have been updated when we traversed into child\n      // resolvers.\n      var currentRecord = recordSource.get(recordID);\n      !(currentRecord != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected the parent record to still be in the record source.') : invariant(false) : void 0;\n      var nextRecord = RelayModernRecord.clone(currentRecord);\n      RelayModernRecord.setLinkedRecordID(nextRecord, storageKey, linkedID);\n      recordSource.set(recordID, nextRecord);\n      if (field.fragment != null) {\n        var _evaluationResult$sna;\n        // Put records observed by the resolver into the dependency graph:\n        var fragmentStorageKey = getStorageKey(field.fragment, variables);\n        var resolverID = generateClientID(recordID, fragmentStorageKey);\n        addDependencyEdge(this._resolverIDToRecordIDs, resolverID, linkedID);\n        addDependencyEdge(this._recordIDToResolverIDs, recordID, resolverID);\n        var seenRecordIds = (_evaluationResult$sna = evaluationResult.snapshot) === null || _evaluationResult$sna === void 0 ? void 0 : _evaluationResult$sna.seenRecords;\n        if (seenRecordIds != null) {\n          var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(seenRecordIds),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var seenRecordID = _step.value;\n              addDependencyEdge(this._recordIDToResolverIDs, seenRecordID, resolverID);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n      }\n    }\n\n    // $FlowFixMe[incompatible-type] - will always be empty\n    var answer = linkedRecord[RELAY_RESOLVER_VALUE_KEY];\n    // $FlowFixMe[incompatible-type] - casting mixed\n    var snapshot = linkedRecord[RELAY_RESOLVER_SNAPSHOT_KEY];\n    // $FlowFixMe[incompatible-type] - casting mixed\n    var error = linkedRecord[RELAY_RESOLVER_ERROR_KEY];\n    return [answer, linkedID, error, snapshot, undefined, undefined];\n  };\n  _proto2.invalidateDataIDs = function invalidateDataIDs(updatedDataIDs // Mutated in place\n  ) {\n    var recordSource = this._getRecordSource();\n    var visited = new Set();\n    var recordsToVisit = Array.from(updatedDataIDs);\n    while (recordsToVisit.length) {\n      var recordID = recordsToVisit.pop();\n      updatedDataIDs.add(recordID);\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])((_this$_recordIDToReso = this._recordIDToResolverIDs.get(recordID)) !== null && _this$_recordIDToReso !== void 0 ? _this$_recordIDToReso : emptySet),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _this$_recordIDToReso;\n          var fragment = _step2.value;\n          if (!visited.has(fragment)) {\n            var _iterator3 = (0, _createForOfIteratorHelper2[\"default\"])((_this$_resolverIDToRe = this._resolverIDToRecordIDs.get(fragment)) !== null && _this$_resolverIDToRe !== void 0 ? _this$_resolverIDToRe : emptySet),\n              _step3;\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var _this$_resolverIDToRe;\n                var anotherRecordID = _step3.value;\n                this._markInvalidatedResolverRecord(anotherRecordID, recordSource, updatedDataIDs);\n                if (!visited.has(anotherRecordID)) {\n                  recordsToVisit.push(anotherRecordID);\n                }\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  };\n  _proto2._markInvalidatedResolverRecord = function _markInvalidatedResolverRecord(dataID, recordSource,\n  // Written to\n  updatedDataIDs // Mutated in place\n  ) {\n    var record = recordSource.get(dataID);\n    if (!record) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Expected a resolver record with ID %s, but it was missing.', dataID) : void 0;\n      return;\n    }\n    var nextRecord = RelayModernRecord.clone(record);\n    RelayModernRecord.setValue(nextRecord, RELAY_RESOLVER_INVALIDATION_KEY, true);\n    recordSource.set(dataID, nextRecord);\n  };\n  _proto2._isInvalid = function _isInvalid(record, getDataForResolverFragment) {\n    if (!RelayModernRecord.getValue(record, RELAY_RESOLVER_INVALIDATION_KEY)) {\n      return false;\n    }\n    // $FlowFixMe[incompatible-type] - storing values in records is not typed\n    var snapshot = RelayModernRecord.getValue(record, RELAY_RESOLVER_SNAPSHOT_KEY);\n    var originalInputs = snapshot === null || snapshot === void 0 ? void 0 : snapshot.data;\n    var readerSelector = snapshot === null || snapshot === void 0 ? void 0 : snapshot.selector;\n    if (originalInputs == null || readerSelector == null) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'Expected previous inputs and reader selector on resolver record with ID %s, but they were missing.', RelayModernRecord.getDataID(record)) : void 0;\n      return true;\n    }\n    var _getDataForResolverFr = getDataForResolverFragment(readerSelector),\n      latestValues = _getDataForResolverFr.data;\n    var recycled = recycleNodesInto(originalInputs, latestValues);\n    if (recycled !== originalInputs) {\n      return true;\n    }\n    return false;\n  };\n  _proto2.ensureClientRecord = function ensureClientRecord(id, typename) {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Client Edges to Client Objects are not supported in this version of Relay Store') : invariant(false) : void 0;\n  };\n  _proto2.notifyUpdatedSubscribers = function notifyUpdatedSubscribers(updatedDataIDs) {\n    !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Processing @outputType records is not supported in this version of Relay Store') : invariant(false) : void 0;\n  };\n  return RecordResolverCache;\n}();\nmodule.exports = {\n  NoopResolverCache: NoopResolverCache,\n  RecordResolverCache: RecordResolverCache\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/GraphQLTag'),\n  getFragment = _require.getFragment;\nvar _require2 = require('./RelayModernSelector'),\n  getSelector = _require2.getSelector;\nvar invariant = require('invariant');\n\n// When we call the user-supplied resolver function, it will in turn call\n// `readFragment`, but that's a global function -- it needs information\n// about what resolver is being executed, which is supplied by putting the\n// info on this stack before we call the resolver function.\n\nvar contextStack = [];\nfunction withResolverContext(context, cb) {\n  contextStack.push(context);\n  try {\n    return cb();\n  } finally {\n    contextStack.pop();\n  }\n}\n\n// NOTE: these declarations are copied from 'useFragment'; it would be good\n// to figure out how to share the same type signature between the two functions.\n// The declarations ensure that the type of the returned data is:\n//   - non-nullable if the provided ref type is non-nullable\n//   - nullable if the provided ref type is nullable\n//   - array of non-nullable if the provided ref type is an array of\n//     non-nullable refs\n//   - array of nullable if the provided ref type is an array of nullable refs\n\nfunction readFragment(fragmentInput, fragmentKey) {\n  if (!contextStack.length) {\n    throw new Error('readFragment should be called only from within a Relay Resolver function.');\n  }\n  var context = contextStack[contextStack.length - 1];\n  var fragmentNode = getFragment(fragmentInput);\n  var fragmentSelector = getSelector(fragmentNode, fragmentKey);\n  !(fragmentSelector != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Expected a selector for the fragment of the resolver \".concat(fragmentNode.name, \", but got null.\")) : invariant(false) : void 0;\n  !(fragmentSelector.kind === 'SingularReaderSelector') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Expected a singular reader selector for the fragment of the resolver \".concat(fragmentNode.name, \", but it was plural.\")) : invariant(false) : void 0;\n  var _context$getDataForRe = context.getDataForResolverFragment(fragmentSelector, fragmentKey),\n    data = _context$getDataForRe.data,\n    isMissingData = _context$getDataForRe.isMissingData;\n  if (isMissingData) {\n    throw RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL;\n  }\n  return data;\n}\nvar RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL = {};\nmodule.exports = {\n  readFragment: readFragment,\n  withResolverContext: withResolverContext,\n  RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL: RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar PREFIX = 'client:__type:';\nvar TYPE_SCHEMA_TYPE = '__TypeSchema';\nfunction generateTypeID(typeName) {\n  return PREFIX + typeName;\n}\nfunction isTypeID(id) {\n  return id.indexOf(PREFIX) === 0;\n}\nmodule.exports = {\n  generateTypeID: generateTypeID,\n  isTypeID: isTypeID,\n  TYPE_SCHEMA_TYPE: TYPE_SCHEMA_TYPE\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./ClientID'),\n  generateClientID = _require.generateClientID;\nvar _require2 = require('./RelayStoreUtils'),\n  ROOT_ID = _require2.ROOT_ID;\nvar VIEWER_ID = generateClientID(ROOT_ID, 'viewer');\nvar VIEWER_TYPE = 'Viewer';\nmodule.exports = {\n  VIEWER_ID: VIEWER_ID,\n  VIEWER_TYPE: VIEWER_TYPE\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../util/RelayConcreteNode'),\n  LINKED_FIELD = _require.LINKED_FIELD;\nvar _require2 = require('./RelayStoreUtils'),\n  getHandleStorageKey = _require2.getHandleStorageKey;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\n\n/**\n * @private\n *\n * Creates a clone of the supplied `handleField` by finding the original linked\n * field (on which the handle was declared) among the sibling `selections`, and\n * copying its selections into the clone.\n */\nfunction cloneRelayHandleSourceField(handleField, selections, variables) {\n  var sourceField = selections.find(function (source) {\n    return source.kind === LINKED_FIELD && source.name === handleField.name && source.alias === handleField.alias && areEqual(source.args, handleField.args);\n  });\n  !(sourceField && sourceField.kind === LINKED_FIELD) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'cloneRelayHandleSourceField: Expected a corresponding source field for ' + 'handle `%s`.', handleField.handle) : invariant(false) : void 0;\n  var handleKey = getHandleStorageKey(handleField, variables);\n  return {\n    kind: 'LinkedField',\n    alias: sourceField.alias,\n    name: handleKey,\n    storageKey: handleKey,\n    args: null,\n    concreteType: sourceField.concreteType,\n    plural: sourceField.plural,\n    selections: sourceField.selections\n  };\n}\nmodule.exports = cloneRelayHandleSourceField;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../util/RelayConcreteNode'),\n  SCALAR_FIELD = _require.SCALAR_FIELD;\nvar _require2 = require('./RelayStoreUtils'),\n  getHandleStorageKey = _require2.getHandleStorageKey;\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar invariant = require('invariant');\n\n/**\n * @private\n *\n * Creates a clone of the supplied `handleField` by finding the original scalar\n * field (on which the handle was declared) among the sibling `selections`.\n */\nfunction cloneRelayScalarHandleSourceField(handleField, selections, variables) {\n  var sourceField = selections.find(function (source) {\n    return source.kind === SCALAR_FIELD && source.name === handleField.name && source.alias === handleField.alias && areEqual(source.args, handleField.args);\n  });\n  !(sourceField && sourceField.kind === SCALAR_FIELD) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'cloneRelayScalarHandleSourceField: Expected a corresponding source field for ' + 'handle `%s`.', handleField.handle) : invariant(false) : void 0;\n  var handleKey = getHandleStorageKey(handleField, variables);\n  return {\n    kind: 'ScalarField',\n    alias: sourceField.alias,\n    name: handleKey,\n    storageKey: handleKey,\n    args: null\n  };\n}\nmodule.exports = cloneRelayScalarHandleSourceField;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayModernFragmentSpecResolver = require('./RelayModernFragmentSpecResolver');\nvar warning = require(\"fbjs/lib/warning\");\nfunction createFragmentSpecResolver(context, containerName, fragments, props, rootIsQueryRenderer, callback) {\n  if (process.env.NODE_ENV !== \"production\") {\n    var fragmentNames = Object.keys(fragments);\n    fragmentNames.forEach(function (fragmentName) {\n      var propValue = props[fragmentName];\n      process.env.NODE_ENV !== \"production\" ? warning(propValue !== undefined, 'createFragmentSpecResolver: Expected prop `%s` to be supplied to `%s`, but ' + 'got `undefined`. Pass an explicit `null` if this is intentional.', fragmentName, containerName) : void 0;\n    });\n  }\n  return new RelayModernFragmentSpecResolver(context, fragments, props, callback, rootIsQueryRenderer);\n}\nmodule.exports = createFragmentSpecResolver;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar invariant = require('invariant');\n\n// Ideally, we'd just import the type of the react module, but this causes Flow\n// problems.\n\nvar relayContext;\nvar firstReact;\nfunction createRelayContext(react) {\n  if (!relayContext) {\n    relayContext = react.createContext(null);\n    if (process.env.NODE_ENV !== \"production\") {\n      relayContext.displayName = 'RelayContext';\n    }\n    firstReact = react;\n  }\n  !(react === firstReact) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[createRelayContext]: You are passing a different instance of React', react.version) : invariant(false) : void 0;\n  return relayContext;\n}\nmodule.exports = createRelayContext;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./ViewerPattern'),\n  VIEWER_ID = _require.VIEWER_ID,\n  VIEWER_TYPE = _require.VIEWER_TYPE;\nfunction defaultGetDataID(fieldValue, typeName) {\n  if (typeName === VIEWER_TYPE) {\n    return fieldValue.id == null ? VIEWER_ID : fieldValue.id;\n  }\n  return fieldValue.id;\n}\nmodule.exports = defaultGetDataID;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar defaultRequiredFieldLogger = function defaultRequiredFieldLogger(event) {\n  if (process.env.NODE_ENV !== \"production\" && event.kind === 'missing_field.log') {\n    throw new Error('Relay Environment Configuration Error (dev only): `@required(action: LOG)` requires that the Relay Environment be configured with a `requiredFieldLogger`.');\n  }\n};\nmodule.exports = defaultRequiredFieldLogger;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar LIVE_RESOLVER_SUSPENSE_SENTINEL = Object.freeze({\n  __LIVE_RESOLVER_SUSPENSE_SENTINEL: true\n});\nfunction suspenseSentinel() {\n  // $FlowFixMe[incompatible-return]\n  return LIVE_RESOLVER_SUSPENSE_SENTINEL;\n}\nfunction isSuspenseSentinel(value) {\n  return value === LIVE_RESOLVER_SUSPENSE_SENTINEL;\n}\nmodule.exports = {\n  isSuspenseSentinel: isSuspenseSentinel,\n  suspenseSentinel: suspenseSentinel\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayModernRecord = require('../RelayModernRecord');\nvar _require = require('../RelayStoreUtils'),\n  RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS = _require.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS;\nvar invariant = require('invariant');\nfunction getOutputTypeRecordIDs(record) {\n  var maybeOutputTypeRecordIDs = RelayModernRecord.getValue(record, RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS);\n  if (maybeOutputTypeRecordIDs == null) {\n    return null;\n  }\n  !(maybeOutputTypeRecordIDs instanceof Set) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getOutputTypeRecordIDs: Expected the `%s` field on record `%s` to be of type Set. Instead, it is a %s.', RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS, typeof maybeOutputTypeRecordIDs) : invariant(false) : void 0;\n  return maybeOutputTypeRecordIDs;\n}\nmodule.exports = getOutputTypeRecordIDs;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar ITERATOR_KEY = Symbol.iterator;\nfunction hasOverlappingIDs(seenRecords, updatedRecordIDs) {\n  // $FlowFixMe[incompatible-use]: Set is an iterable type, accessing its iterator is allowed.\n  var iterator = seenRecords[ITERATOR_KEY]();\n  var next = iterator.next();\n  while (!next.done) {\n    var key = next.value;\n    if (updatedRecordIDs.has(key)) {\n      return true;\n    }\n    next = iterator.next();\n  }\n  return false;\n}\nmodule.exports = hasOverlappingIDs;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * Determine if a given value is an object that implements the `Environment`\n * interface defined in `RelayStoreTypes`.\n *\n * Use a sigil for detection to avoid a realm-specific instanceof check, and to\n * aid in module tree-shaking to avoid requiring all of RelayRuntime just to\n * detect its environment.\n */\nfunction isRelayModernEnvironment(environment) {\n  return Boolean(environment && environment['@@RelayModernEnvironment']);\n}\nmodule.exports = isRelayModernEnvironment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/GraphQLTag'),\n  getInlineDataFragment = _require.getInlineDataFragment;\nvar _require2 = require('./RelayStoreUtils'),\n  FRAGMENTS_KEY = _require2.FRAGMENTS_KEY;\nvar invariant = require('invariant');\nfunction readInlineData(fragment, fragmentRef) {\n  var _fragmentRef$FRAGMENT;\n  var inlineDataFragment = getInlineDataFragment(fragment);\n  if (fragmentRef == null) {\n    return fragmentRef;\n  }\n  !(typeof fragmentRef === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'readInlineData(): Expected an object, got `%s`.', typeof fragmentRef) : invariant(false) : void 0;\n  // $FlowFixMe[incompatible-use]\n  var inlineData = (_fragmentRef$FRAGMENT = fragmentRef[FRAGMENTS_KEY]) === null || _fragmentRef$FRAGMENT === void 0 ? void 0 : _fragmentRef$FRAGMENT[inlineDataFragment.name];\n  !(inlineData != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'readInlineData(): Expected fragment `%s` to be spread in the parent ' + 'fragment.', inlineDataFragment.name) : invariant(false) : void 0;\n  return inlineData;\n}\nmodule.exports = readInlineData;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayDeclarativeMutationConfig = require('../mutations/RelayDeclarativeMutationConfig');\nvar _require = require('../query/GraphQLTag'),\n  getRequest = _require.getRequest;\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require2.createOperationDescriptor;\nvar _require3 = require('../store/RelayModernSelector'),\n  createReaderSelector = _require3.createReaderSelector;\nvar warning = require(\"fbjs/lib/warning\");\nfunction requestSubscription(environment, config) {\n  var subscription = getRequest(config.subscription);\n  if (subscription.params.operationKind !== 'subscription') {\n    throw new Error('requestSubscription: Must use Subscription operation');\n  }\n  var configs = config.configs,\n    onCompleted = config.onCompleted,\n    onError = config.onError,\n    onNext = config.onNext,\n    variables = config.variables,\n    cacheConfig = config.cacheConfig;\n  var operation = createOperationDescriptor(subscription, variables, cacheConfig);\n  process.env.NODE_ENV !== \"production\" ? warning(!(config.updater && configs), 'requestSubscription: Expected only one of `updater` and `configs` to be provided') : void 0;\n  var _ref = configs ? RelayDeclarativeMutationConfig.convert(configs, subscription, null /* optimisticUpdater */, config.updater) : config,\n    updater = _ref.updater;\n  var sub = environment.executeSubscription({\n    operation: operation,\n    updater: updater\n  }).subscribe({\n    next: function next(responses) {\n      if (onNext != null) {\n        var selector = operation.fragment;\n        var nextID;\n        if (Array.isArray(responses)) {\n          var _responses$, _responses$$extension;\n          nextID = (_responses$ = responses[0]) === null || _responses$ === void 0 ? void 0 : (_responses$$extension = _responses$.extensions) === null || _responses$$extension === void 0 ? void 0 : _responses$$extension.__relay_subscription_root_id;\n        } else {\n          var _responses$extensions;\n          nextID = (_responses$extensions = responses.extensions) === null || _responses$extensions === void 0 ? void 0 : _responses$extensions.__relay_subscription_root_id;\n        }\n        if (typeof nextID === 'string') {\n          selector = createReaderSelector(selector.node, nextID, selector.variables, selector.owner);\n        }\n        var data = environment.lookup(selector).data;\n        // $FlowFixMe[incompatible-cast]\n        onNext(data);\n      }\n    },\n    error: onError,\n    complete: onCompleted\n  });\n  return {\n    dispose: sub.unsubscribe\n  };\n}\nmodule.exports = requestSubscription;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * Represents a common GraphQL request that can be executed, an `operation`\n * containing information to normalize the results, and a `fragment` derived\n * from that operation to read the response data (masking data from child\n * fragments).\n */\n\n/**\n * Contains the parameters required for executing a GraphQL request.\n * The operation can either be provided as a persisted `id` or `text`. If given\n * in `text` format, a `cacheID` as a hash of the text should be set to be used\n * for local caching.\n */\n\nvar RelayConcreteNode = {\n  ACTOR_CHANGE: 'ActorChange',\n  CONDITION: 'Condition',\n  CLIENT_COMPONENT: 'ClientComponent',\n  CLIENT_EDGE_TO_SERVER_OBJECT: 'ClientEdgeToServerObject',\n  CLIENT_EDGE_TO_CLIENT_OBJECT: 'ClientEdgeToClientObject',\n  CLIENT_EXTENSION: 'ClientExtension',\n  DEFER: 'Defer',\n  CONNECTION: 'Connection',\n  FLIGHT_FIELD: 'FlightField',\n  FRAGMENT: 'Fragment',\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_DATA_FRAGMENT_SPREAD: 'InlineDataFragmentSpread',\n  INLINE_DATA_FRAGMENT: 'InlineDataFragment',\n  INLINE_FRAGMENT: 'InlineFragment',\n  LINKED_FIELD: 'LinkedField',\n  LINKED_HANDLE: 'LinkedHandle',\n  LITERAL: 'Literal',\n  LIST_VALUE: 'ListValue',\n  LOCAL_ARGUMENT: 'LocalArgument',\n  MODULE_IMPORT: 'ModuleImport',\n  ALIASED_FRAGMENT_SPREAD: 'AliasedFragmentSpread',\n  ALIASED_INLINE_FRAGMENT_SPREAD: 'AliasedInlineFragmentSpread',\n  RELAY_RESOLVER: 'RelayResolver',\n  RELAY_LIVE_RESOLVER: 'RelayLiveResolver',\n  REQUIRED_FIELD: 'RequiredField',\n  OBJECT_VALUE: 'ObjectValue',\n  OPERATION: 'Operation',\n  REQUEST: 'Request',\n  ROOT_ARGUMENT: 'RootArgument',\n  SCALAR_FIELD: 'ScalarField',\n  SCALAR_HANDLE: 'ScalarHandle',\n  SPLIT_OPERATION: 'SplitOperation',\n  STREAM: 'Stream',\n  TYPE_DISCRIMINATOR: 'TypeDiscriminator',\n  UPDATABLE_QUERY: 'UpdatableQuery',\n  VARIABLE: 'Variable'\n};\nmodule.exports = RelayConcreteNode;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nmodule.exports = {\n  DEFAULT_HANDLE_KEY: ''\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * @private\n */\nfunction createError(type, name, messageFormat) {\n  for (var _len = arguments.length, messageParams = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    messageParams[_key - 3] = arguments[_key];\n  }\n  var index = 0;\n  var message = messageFormat.replace(/%s/g, function () {\n    return String(messageParams[index++]);\n  });\n  var err = new Error(message);\n  var error = Object.assign(err, {\n    name: name,\n    messageFormat: messageFormat,\n    messageParams: messageParams,\n    type: type,\n    taalOpcodes: [2, 2] // skip frame (code=2) twice\n  });\n  // In V8, Error objects keep the closure scope chain alive until the\n  // err.stack property is accessed.\n  if (error.stack === undefined) {\n    // IE sets the stack only if error is thrown\n    try {\n      throw error;\n    } catch (_unused) {}\n  }\n  return error;\n}\nmodule.exports = {\n  create: function create(name, messageFormat) {\n    for (var _len2 = arguments.length, messageParams = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      messageParams[_key2 - 2] = arguments[_key2];\n    }\n    return createError.apply(void 0, ['error', name, messageFormat].concat(messageParams));\n  },\n  createWarning: function createWarning(name, messageFormat) {\n    for (var _len3 = arguments.length, messageParams = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      messageParams[_key3 - 2] = arguments[_key3];\n    }\n    return createError.apply(void 0, ['warn', name, messageFormat].concat(messageParams));\n  }\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar RelayFeatureFlags = {\n  ENABLE_CLIENT_EDGES: false,\n  ENABLE_VARIABLE_CONNECTION_KEY: false,\n  ENABLE_PARTIAL_RENDERING_DEFAULT: true,\n  ENABLE_REACT_FLIGHT_COMPONENT_FIELD: false,\n  ENABLE_RELAY_RESOLVERS: false,\n  ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION: false,\n  ENABLE_FRIENDLY_QUERY_NAME_GQL_URL: false,\n  ENABLE_LOAD_QUERY_REQUEST_DEDUPING: true,\n  ENABLE_DO_NOT_WRAP_LIVE_QUERY: false,\n  ENABLE_NOTIFY_SUBSCRIPTION: false,\n  BATCH_ASYNC_MODULE_UPDATES_FN: null,\n  ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT: false,\n  MAX_DATA_ID_LENGTH: null,\n  STRING_INTERN_LEVEL: 0,\n  USE_REACT_CACHE: false,\n  USE_REACT_CACHE_LEGACY_TIMEOUTS: true,\n  ENABLE_QUERY_RENDERER_SET_STATE_PREVENTION: false\n};\nmodule.exports = RelayFeatureFlags;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar profileHandlersByName = {};\nvar defaultProfiler = {\n  stop: function stop() {}\n};\n\n/**\n * @public\n *\n * Instruments methods to allow profiling various parts of Relay. Profiling code\n * in Relay consists of three steps:\n *\n *  - Instrument the function to be profiled.\n *  - Attach handlers to the instrumented function.\n *  - Run the code which triggers the handlers.\n *\n * Handlers attached to instrumented methods are called with an instrumentation\n * name and a callback that must be synchronously executed:\n *\n *   instrumentedMethod.attachHandler(function(name, callback) {\n *     const start = performance.now();\n *     callback();\n *     console.log('Duration', performance.now() - start);\n *   });\n *\n * Handlers for profiles are callbacks that return a stop method:\n *\n *   RelayProfiler.attachProfileHandler('profileName', (name, state) => {\n *     const start = performance.now();\n *     return function stop(name, state) {\n *       console.log(`Duration (${name})`, performance.now() - start);\n *     }\n *   });\n */\nvar RelayProfiler = {\n  /**\n   * Instruments profiling for arbitrarily asynchronous code by a name.\n   *\n   *   const timerProfiler = RelayProfiler.profile('timeout');\n   *   setTimeout(function() {\n   *     timerProfiler.stop();\n   *   }, 1000);\n   *\n   *   RelayProfiler.attachProfileHandler('timeout', ...);\n   *\n   * Arbitrary state can also be passed into `profile` as a second argument. The\n   * attached profile handlers will receive this as the second argument.\n   */\n  profile: function profile(name, state) {\n    var handlers = profileHandlersByName[name];\n    if (handlers && handlers.length > 0) {\n      var stopHandlers = [];\n      for (var ii = handlers.length - 1; ii >= 0; ii--) {\n        var stopHandler = handlers[ii](name, state);\n        stopHandlers.unshift(stopHandler);\n      }\n      return {\n        stop: function stop(error) {\n          stopHandlers.forEach(function (stopHandler) {\n            return stopHandler(error);\n          });\n        }\n      };\n    }\n    return defaultProfiler;\n  },\n  /**\n   * Attaches a handler to profiles with the supplied name.\n   */\n  attachProfileHandler: function attachProfileHandler(name, handler) {\n    if (!profileHandlersByName.hasOwnProperty(name)) {\n      profileHandlersByName[name] = [];\n    }\n    profileHandlersByName[name].push(handler);\n  },\n  /**\n   * Detaches a handler attached via `attachProfileHandler`.\n   */\n  detachProfileHandler: function detachProfileHandler(name, handler) {\n    if (profileHandlersByName.hasOwnProperty(name)) {\n      removeFromArray(profileHandlersByName[name], handler);\n    }\n  }\n};\nfunction removeFromArray(array, element) {\n  var index = array.indexOf(element);\n  if (index !== -1) {\n    array.splice(index, 1);\n  }\n}\nmodule.exports = RelayProfiler;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar RelayObservable = require('../network/RelayObservable');\nvar invariant = require('invariant');\n/**\n * An implementation of a `ReplaySubject` for Relay Observables.\n *\n * Records events provided and synchronously plays them back to new subscribers,\n * as well as forwarding new asynchronous events.\n */\nvar RelayReplaySubject = /*#__PURE__*/function () {\n  function RelayReplaySubject() {\n    var _this = this;\n    (0, _defineProperty2[\"default\"])(this, \"_complete\", false);\n    (0, _defineProperty2[\"default\"])(this, \"_events\", []);\n    (0, _defineProperty2[\"default\"])(this, \"_sinks\", new Set());\n    (0, _defineProperty2[\"default\"])(this, \"_subscription\", []);\n    this._observable = RelayObservable.create(function (sink) {\n      _this._sinks.add(sink);\n      var events = _this._events;\n      for (var i = 0; i < events.length; i++) {\n        if (sink.closed) {\n          // Bail if an event made the observer unsubscribe.\n          break;\n        }\n        var event = events[i];\n        switch (event.kind) {\n          case 'complete':\n            sink.complete();\n            break;\n          case 'error':\n            sink.error(event.error);\n            break;\n          case 'next':\n            sink.next(event.data);\n            break;\n          default:\n            event.kind;\n            !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayReplaySubject: Unknown event kind `%s`.', event.kind) : invariant(false) : void 0;\n        }\n      }\n      return function () {\n        _this._sinks[\"delete\"](sink);\n      };\n    });\n  }\n  var _proto = RelayReplaySubject.prototype;\n  _proto.complete = function complete() {\n    if (this._complete === true) {\n      return;\n    }\n    this._complete = true;\n    this._events.push({\n      kind: 'complete'\n    });\n    this._sinks.forEach(function (sink) {\n      return sink.complete();\n    });\n  };\n  _proto.error = function error(_error) {\n    if (this._complete === true) {\n      return;\n    }\n    this._complete = true;\n    this._events.push({\n      kind: 'error',\n      error: _error\n    });\n    this._sinks.forEach(function (sink) {\n      return sink.error(_error);\n    });\n  };\n  _proto.next = function next(data) {\n    if (this._complete === true) {\n      return;\n    }\n    this._events.push({\n      kind: 'next',\n      data: data\n    });\n    this._sinks.forEach(function (sink) {\n      return sink.next(data);\n    });\n  };\n  _proto.subscribe = function subscribe(observer) {\n    var subscription = this._observable.subscribe(observer);\n    this._subscription.push(subscription);\n    return subscription;\n  };\n  _proto.unsubscribe = function unsubscribe() {\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._subscription),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var subscription = _step.value;\n        subscription.unsubscribe();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    this._subscription = [];\n  };\n  _proto.getObserverCount = function getObserverCount() {\n    return this._sinks.size;\n  };\n  return RelayReplaySubject;\n}();\nmodule.exports = RelayReplaySubject;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar internTable = new Map();\nvar nextIndex = 1;\nvar digits = initDigitTable();\n\n// Character used as the prefix for interned strings. The specific character is\n// chosen to reduce the likelihood that non-interned input strings need to be\n// escaped (choosing eg a-Z would increase the likelihood we need to escape)\nvar INTERN_PREFIX = '\\t';\n// Character used as the prefix of escaped strings. As above, this is also\n// chosen to be unlikely in normal input strings.\nvar ESCAPE_PREFIX = '\\v';\nfunction initDigitTable() {\n  // disable lint because digits isn't defined when this function is called\n  // eslint-disable-next-line no-shadow\n  var digits = new Set();\n  for (var i = 0; i < 10; ++i) {\n    digits.add(i.toString());\n  }\n  return digits;\n}\n\n// Escape a string so that it cannot conflict with an interned string\nfunction escape(str) {\n  if (\n  // \"\\t<digit>...\" -> \"\\v\\t<digit>...\"\n  str[0] === INTERN_PREFIX && digits.has(str[1]) ||\n  // \"\\v...\" -> \"\\v\\v...\"\n  str[0] === ESCAPE_PREFIX) {\n    return ESCAPE_PREFIX + str;\n  }\n  return str;\n}\n\n// Interns the input string if its length equals or exceeds the given `limit`,\n// returning a shorter replacement string that is uniquely associated with the\n// input: multiple calls to intern() for the equivalent input strings (and limit)\n// will always return the exact same string.\n// Strings shorter than the limit are not interned but are escaped if they\n// could conflict with interned strings.\nfunction intern(str, limit) {\n  if (limit == null || str.length < limit) {\n    return escape(str);\n  }\n  var internedString = internTable.get(str);\n  if (internedString != null) {\n    return internedString;\n  }\n  internedString = INTERN_PREFIX + nextIndex++;\n  internTable.set(str, internedString);\n  return internedString;\n}\nmodule.exports = {\n  intern: intern\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _require = require('../store/RelayStoreUtils'),\n  getModuleComponentKey = _require.getModuleComponentKey,\n  getModuleOperationKey = _require.getModuleOperationKey;\nfunction createPayloadFor3DField(name, operation, component, response) {\n  var data = (0, _objectSpread2[\"default\"])({}, response);\n  // $FlowFixMe[prop-missing]\n  data[getModuleComponentKey(name)] = component;\n  // $FlowFixMe[prop-missing]\n  data[getModuleOperationKey(name)] = operation;\n  return data;\n}\nmodule.exports = createPayloadFor3DField;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * Recursively \"deep\" freezes the supplied object.\n *\n * For convenience, and for consistency with the behavior of `Object.freeze`,\n * returns the now-frozen original object.\n */\nfunction deepFreeze(object) {\n  Object.freeze(object);\n  Object.getOwnPropertyNames(object).forEach(function (name) {\n    var property = object[name];\n    if (property && typeof property === 'object' && !Object.isFrozen(property)) {\n      deepFreeze(property);\n    }\n  });\n  return object;\n}\nmodule.exports = deepFreeze;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar id = 100000;\nfunction generateID() {\n  return id++;\n}\nmodule.exports = generateID;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../store/RelayModernSelector'),\n  getDataIDsFromFragment = _require.getDataIDsFromFragment,\n  getSelector = _require.getSelector,\n  getVariablesFromFragment = _require.getVariablesFromFragment;\nvar isEmptyObject = require('./isEmptyObject');\nvar RelayFeatureFlags = require('./RelayFeatureFlags');\nvar stableCopy = require('./stableCopy');\nvar _require2 = require('./StringInterner'),\n  intern = _require2.intern;\nfunction getFragmentIdentifier(fragmentNode, fragmentRef) {\n  var selector = getSelector(fragmentNode, fragmentRef);\n  var fragmentOwnerIdentifier = selector == null ? 'null' : selector.kind === 'SingularReaderSelector' ? selector.owner.identifier : '[' + selector.selectors.map(function (sel) {\n    return sel.owner.identifier;\n  }).join(',') + ']';\n  var fragmentVariables = getVariablesFromFragment(fragmentNode, fragmentRef);\n  var dataIDs = getDataIDsFromFragment(fragmentNode, fragmentRef);\n  if (RelayFeatureFlags.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION) {\n    var ids = typeof dataIDs === 'undefined' ? 'missing' : dataIDs == null ? 'null' : Array.isArray(dataIDs) ? '[' + dataIDs.join(',') + ']' : dataIDs;\n    ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? ids : intern(ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + (fragmentVariables == null || isEmptyObject(fragmentVariables) ? '{}' : JSON.stringify(stableCopy(fragmentVariables))) + '/' + ids;\n  } else {\n    var _JSON$stringify;\n    var _ids = (_JSON$stringify = JSON.stringify(dataIDs)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'missing';\n    _ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? _ids : intern(_ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + JSON.stringify(stableCopy(fragmentVariables)) + '/' + _ids;\n  }\n}\nmodule.exports = getFragmentIdentifier;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./RelayConcreteNode'),\n  REQUEST = _require.REQUEST,\n  SPLIT_OPERATION = _require.SPLIT_OPERATION;\n\n/**\n * OperationLoaders can return either a NormalizationSplitOperation or\n * ConcreteRequest.\n */\nfunction getOperation(node) {\n  switch (node.kind) {\n    case REQUEST:\n      return node.operation;\n    case SPLIT_OPERATION:\n    default:\n      return node;\n  }\n}\nmodule.exports = getOperation;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar getRefetchMetadata = require('./getRefetchMetadata');\nvar invariant = require('invariant');\nfunction getPaginationMetadata(fragmentNode, componentDisplayName) {\n  var _fragmentNode$metadat, _fragmentNode$metadat2;\n  var _getRefetchMetadata = getRefetchMetadata(fragmentNode, componentDisplayName),\n    paginationRequest = _getRefetchMetadata.refetchableRequest,\n    refetchMetadata = _getRefetchMetadata.refetchMetadata;\n  var paginationMetadata = refetchMetadata.connection;\n  !(paginationMetadata != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getPaginationMetadata(): Expected fragment `%s` to include a ' + 'connection when using `%s`. Did you forget to add a @connection ' + 'directive to the connection field in the fragment?', componentDisplayName, fragmentNode.name) : invariant(false) : void 0;\n  var connectionPathInFragmentData = paginationMetadata.path;\n  var connectionMetadata = ((_fragmentNode$metadat = (_fragmentNode$metadat2 = fragmentNode.metadata) === null || _fragmentNode$metadat2 === void 0 ? void 0 : _fragmentNode$metadat2.connection) !== null && _fragmentNode$metadat !== void 0 ? _fragmentNode$metadat : [])[0];\n  !(connectionMetadata != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getPaginationMetadata(): Expected fragment `%s` to include a ' + 'connection when using `%s`. Did you forget to add a @connection ' + 'directive to the connection field in the fragment?', componentDisplayName, fragmentNode.name) : invariant(false) : void 0;\n  var identifierField = refetchMetadata.identifierField;\n  !(identifierField == null || typeof identifierField === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getRefetchMetadata(): Expected `identifierField` to be a string.') : invariant(false) : void 0;\n  return {\n    connectionPathInFragmentData: connectionPathInFragmentData,\n    identifierField: identifierField,\n    paginationRequest: paginationRequest,\n    paginationMetadata: paginationMetadata,\n    stream: connectionMetadata.stream === true\n  };\n}\nmodule.exports = getPaginationMetadata;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectSpread4 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar invariant = require('invariant');\nvar warning = require(\"fbjs/lib/warning\");\nfunction getPaginationVariables(direction, count, cursor, baseVariables, extraVariables, paginationMetadata) {\n  var _objectSpread3;\n  var backwardMetadata = paginationMetadata.backward,\n    forwardMetadata = paginationMetadata.forward;\n  if (direction === 'backward') {\n    var _objectSpread2;\n    !(backwardMetadata != null && backwardMetadata.count != null && backwardMetadata.cursor != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected backward pagination metadata to be available. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!extraVariables.hasOwnProperty(backwardMetadata.cursor), 'Relay: `UNSTABLE_extraVariables` provided by caller should not ' + 'contain cursor variable `%s`. This variable is automatically ' + 'determined by Relay.', backwardMetadata.cursor) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!extraVariables.hasOwnProperty(backwardMetadata.count), 'Relay: `UNSTABLE_extraVariables` provided by caller should not ' + 'contain count variable `%s`. This variable is automatically ' + 'determined by Relay.', backwardMetadata.count) : void 0;\n    var _paginationVariables = (0, _objectSpread4[\"default\"])((0, _objectSpread4[\"default\"])((0, _objectSpread4[\"default\"])({}, baseVariables), extraVariables), {}, (_objectSpread2 = {}, (0, _defineProperty2[\"default\"])(_objectSpread2, backwardMetadata.cursor, cursor), (0, _defineProperty2[\"default\"])(_objectSpread2, backwardMetadata.count, count), _objectSpread2));\n    if (forwardMetadata && forwardMetadata.cursor) {\n      _paginationVariables[forwardMetadata.cursor] = null;\n    }\n    if (forwardMetadata && forwardMetadata.count) {\n      _paginationVariables[forwardMetadata.count] = null;\n    }\n    return _paginationVariables;\n  }\n  !(forwardMetadata != null && forwardMetadata.count != null && forwardMetadata.cursor != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected forward pagination metadata to be available. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n  process.env.NODE_ENV !== \"production\" ? warning(!extraVariables.hasOwnProperty(forwardMetadata.cursor), 'Relay: `UNSTABLE_extraVariables` provided by caller should not ' + 'contain cursor variable `%s`. This variable is automatically ' + 'determined by Relay.', forwardMetadata.cursor) : void 0;\n  process.env.NODE_ENV !== \"production\" ? warning(!extraVariables.hasOwnProperty(forwardMetadata.count), 'Relay: `UNSTABLE_extraVariables` provided by caller should not ' + 'contain count variable `%s`. This variable is automatically ' + 'determined by Relay.', forwardMetadata.count) : void 0;\n  var paginationVariables = (0, _objectSpread4[\"default\"])((0, _objectSpread4[\"default\"])((0, _objectSpread4[\"default\"])({}, baseVariables), extraVariables), {}, (_objectSpread3 = {}, (0, _defineProperty2[\"default\"])(_objectSpread3, forwardMetadata.cursor, cursor), (0, _defineProperty2[\"default\"])(_objectSpread3, forwardMetadata.count, count), _objectSpread3));\n  if (backwardMetadata && backwardMetadata.cursor) {\n    paginationVariables[backwardMetadata.cursor] = null;\n  }\n  if (backwardMetadata && backwardMetadata.count) {\n    paginationVariables[backwardMetadata.count] = null;\n  }\n  return paginationVariables;\n}\nmodule.exports = getPaginationVariables;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('../query/fetchQueryInternal'),\n  getPromiseForActiveRequest = _require.getPromiseForActiveRequest;\nfunction getPendingOperationsForFragment(environment, fragmentNode, fragmentOwner) {\n  var _pendingOperations$ma, _pendingOperations;\n  var pendingOperations = [];\n  var promise = getPromiseForActiveRequest(environment, fragmentOwner);\n  if (promise != null) {\n    pendingOperations = [fragmentOwner];\n  } else {\n    var _result$pendingOperat, _result$promise;\n    var result = environment.getOperationTracker().getPendingOperationsAffectingOwner(fragmentOwner);\n    pendingOperations = (_result$pendingOperat = result === null || result === void 0 ? void 0 : result.pendingOperations) !== null && _result$pendingOperat !== void 0 ? _result$pendingOperat : [];\n    promise = (_result$promise = result === null || result === void 0 ? void 0 : result.promise) !== null && _result$promise !== void 0 ? _result$promise : null;\n  }\n  if (!promise) {\n    return null;\n  }\n  var pendingOperationName = (_pendingOperations$ma = (_pendingOperations = pendingOperations) === null || _pendingOperations === void 0 ? void 0 : _pendingOperations.map(function (op) {\n    return op.node.params.name;\n  }).join(',')) !== null && _pendingOperations$ma !== void 0 ? _pendingOperations$ma : null;\n  if (pendingOperationName == null || pendingOperationName.length === 0) {\n    pendingOperationName = 'Unknown pending operation';\n  }\n  var fragmentName = fragmentNode.name;\n  var promiseDisplayName = pendingOperationName === fragmentName ? \"Relay(\".concat(pendingOperationName, \")\") : \"Relay(\".concat(pendingOperationName, \":\").concat(fragmentName, \")\");\n  // $FlowExpectedError[prop-missing] Expando to annotate Promises.\n  promise.displayName = promiseDisplayName;\n\n  // In order to monitor the efficacy of RelayOperationTracker, we log\n  // enough information to track whether we are suspending on the fragment\n  // owner's operation, or some other operation.\n  environment.__log({\n    name: 'pendingoperation.found',\n    fragment: fragmentNode,\n    fragmentOwner: fragmentOwner,\n    pendingOperations: pendingOperations\n  });\n  return {\n    promise: promise,\n    pendingOperations: pendingOperations\n  };\n}\nmodule.exports = getPendingOperationsForFragment;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar invariant = require('invariant');\nfunction getRefetchMetadata(fragmentNode, componentDisplayName) {\n  var _fragmentNode$metadat, _fragmentNode$metadat2;\n  !(((_fragmentNode$metadat = fragmentNode.metadata) === null || _fragmentNode$metadat === void 0 ? void 0 : _fragmentNode$metadat.plural) !== true) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getRefetchMetadata(): Expected fragment `%s` not to be plural when using ' + '`%s`. Remove `@relay(plural: true)` from fragment `%s` ' + 'in order to use it with `%s`.', fragmentNode.name, componentDisplayName, fragmentNode.name, componentDisplayName) : invariant(false) : void 0;\n  var refetchMetadata = (_fragmentNode$metadat2 = fragmentNode.metadata) === null || _fragmentNode$metadat2 === void 0 ? void 0 : _fragmentNode$metadat2.refetch;\n  !(refetchMetadata != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getRefetchMetadata(): Expected fragment `%s` to be refetchable when using `%s`. ' + 'Did you forget to add a @refetchable directive to the fragment?', componentDisplayName, fragmentNode.name) : invariant(false) : void 0;\n\n  // handle both commonjs and es modules\n  var refetchableRequest = refetchMetadata.operation[\"default\"] ? refetchMetadata.operation[\"default\"] : refetchMetadata.operation;\n  var fragmentRefPathInResponse = refetchMetadata.fragmentPathInResult;\n  !(typeof refetchableRequest !== 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getRefetchMetadata(): Expected refetch query to be an ' + \"operation and not a string when using `%s`. If you're seeing this, \" + 'this is likely a bug in Relay.', componentDisplayName) : invariant(false) : void 0;\n  var identifierField = refetchMetadata.identifierField;\n  !(identifierField == null || typeof identifierField === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: getRefetchMetadata(): Expected `identifierField` to be a string.') : invariant(false) : void 0;\n  return {\n    fragmentRefPathInResponse: fragmentRefPathInResponse,\n    identifierField: identifierField,\n    refetchableRequest: refetchableRequest,\n    refetchMetadata: refetchMetadata\n  };\n}\nmodule.exports = getRefetchMetadata;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _require = require('./RelayDefaultHandleKey'),\n  DEFAULT_HANDLE_KEY = _require.DEFAULT_HANDLE_KEY;\nvar invariant = require('invariant');\n\n/**\n * @internal\n *\n * Helper to create a unique name for a handle field based on the handle name, handle key and\n * source field.\n */\nfunction getRelayHandleKey(handleName, key, fieldName) {\n  if (key && key !== DEFAULT_HANDLE_KEY) {\n    return \"__\".concat(key, \"_\").concat(handleName);\n  }\n  !(fieldName != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getRelayHandleKey: Expected either `fieldName` or `key` in `handle` to be provided') : invariant(false) : void 0;\n  return \"__\".concat(fieldName, \"_\").concat(handleName);\n}\nmodule.exports = getRelayHandleKey;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar stableCopy = require('./stableCopy');\nvar invariant = require('invariant');\n/**\n * Returns a stable identifier for the given pair of `RequestParameters` +\n * variables.\n */\nfunction getRequestIdentifier(parameters, variables) {\n  var requestID = parameters.cacheID != null ? parameters.cacheID : parameters.id;\n  !(requestID != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getRequestIdentifier: Expected request `%s` to have either a ' + 'valid `id` or `cacheID` property', parameters.name) : invariant(false) : void 0;\n  return requestID + JSON.stringify(stableCopy(variables));\n}\nmodule.exports = getRequestIdentifier;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar invariant = require('invariant');\nfunction getValueAtPath(data, path) {\n  var result = data;\n  var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(path),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      if (result == null) {\n        return null;\n      }\n      if (typeof key === 'number') {\n        !Array.isArray(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected an array when extracting value at path. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n        result = result[key];\n      } else {\n        !(typeof result === 'object' && !Array.isArray(result)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected an object when extracting value at path. ' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n        result = result[key];\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return result;\n}\nmodule.exports = getValueAtPath;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nfunction handlePotentialSnapshotErrors(environment, missingRequiredFields, relayResolverErrors) {\n  var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(relayResolverErrors),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var resolverError = _step.value;\n      environment.requiredFieldLogger({\n        kind: 'relay_resolver.error',\n        owner: resolverError.field.owner,\n        fieldPath: resolverError.field.path,\n        error: resolverError.error\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (missingRequiredFields != null) {\n    switch (missingRequiredFields.action) {\n      case 'THROW':\n        {\n          var _missingRequiredField = missingRequiredFields.field,\n            path = _missingRequiredField.path,\n            owner = _missingRequiredField.owner;\n          // This gives the consumer the chance to throw their own error if they so wish.\n          environment.requiredFieldLogger({\n            kind: 'missing_field.throw',\n            owner: owner,\n            fieldPath: path\n          });\n          throw new Error(\"Relay: Missing @required value at path '\".concat(path, \"' in '\").concat(owner, \"'.\"));\n        }\n      case 'LOG':\n        missingRequiredFields.fields.forEach(function (_ref) {\n          var path = _ref.path,\n            owner = _ref.owner;\n          environment.requiredFieldLogger({\n            kind: 'missing_field.log',\n            owner: owner,\n            fieldPath: path\n          });\n        });\n        break;\n      default:\n        {\n          missingRequiredFields.action;\n        }\n    }\n  }\n}\nmodule.exports = handlePotentialSnapshotErrors;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n// $FlowFixMe[method-unbinding] added when improving typing for this parameters\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmptyObject(obj) {\n  for (var _key in obj) {\n    if (hasOwnProperty.call(obj, _key)) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = isEmptyObject;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nfunction isPromise(p) {\n  return !!p && typeof p.then === 'function';\n}\nmodule.exports = isPromise;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * A fast test to determine if two values are equal scalars:\n * - compares scalars such as booleans, strings, numbers by value\n * - compares functions by identity\n * - returns false for complex values, since these cannot be cheaply tested for\n *   equality (use `areEquals` instead)\n */\nfunction isScalarAndEqual(valueA, valueB) {\n  return valueA === valueB && (valueA === null || typeof valueA !== 'object');\n}\nmodule.exports = isScalarAndEqual;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar hasWeakSetDefined = typeof WeakSet !== 'undefined';\nvar hasWeakMapDefined = typeof WeakMap !== 'undefined';\n\n/**\n * Recycles subtrees from `prevData` by replacing equal subtrees in `nextData`.\n */\nfunction recycleNodesInto(prevData, nextData) {\n  if (prevData === nextData || typeof prevData !== 'object' || prevData instanceof Set || prevData instanceof Map || hasWeakSetDefined && prevData instanceof WeakSet || hasWeakMapDefined && prevData instanceof WeakMap || !prevData || typeof nextData !== 'object' || nextData instanceof Set || nextData instanceof Map || hasWeakSetDefined && nextData instanceof WeakSet || hasWeakMapDefined && nextData instanceof WeakMap || !nextData) {\n    return nextData;\n  }\n  var canRecycle = false;\n\n  // Assign local variables to preserve Flow type refinement.\n  var prevArray = Array.isArray(prevData) ? prevData : null;\n  var nextArray = Array.isArray(nextData) ? nextData : null;\n  if (prevArray && nextArray) {\n    canRecycle = nextArray.reduce(function (wasEqual, nextItem, ii) {\n      var prevValue = prevArray[ii];\n      var nextValue = recycleNodesInto(prevValue, nextItem);\n      if (nextValue !== nextArray[ii]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextArray)) {\n            nextArray[ii] = nextValue;\n          }\n        } else {\n          nextArray[ii] = nextValue;\n        }\n      }\n      return wasEqual && nextValue === prevArray[ii];\n    }, true) && prevArray.length === nextArray.length;\n  } else if (!prevArray && !nextArray) {\n    // Assign local variables to preserve Flow type refinement.\n    var prevObject = prevData;\n    var nextObject = nextData;\n    var prevKeys = Object.keys(prevObject);\n    var nextKeys = Object.keys(nextObject);\n    canRecycle = nextKeys.reduce(function (wasEqual, key) {\n      var prevValue = prevObject[key];\n      var nextValue = recycleNodesInto(prevValue, nextObject[key]);\n      if (nextValue !== nextObject[key]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextObject)) {\n            // $FlowFixMe[cannot-write]\n            nextObject[key] = nextValue;\n          }\n        } else {\n          // $FlowFixMe[cannot-write]\n          nextObject[key] = nextValue;\n        }\n      }\n      return wasEqual && nextValue === prevObject[key];\n    }, true) && prevKeys.length === nextKeys.length;\n  }\n  return canRecycle ? prevData : nextData;\n}\nmodule.exports = recycleNodesInto;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nfunction registerEnvironmentWithDevTools(environment) {\n  // Register this Relay Environment with Relay DevTools if it exists.\n  // Note: this must always be the last step in the constructor.\n  var _global = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : undefined;\n  var devToolsHook = _global && _global.__RELAY_DEVTOOLS_HOOK__;\n  if (devToolsHook) {\n    devToolsHook.registerEnvironment(environment);\n  }\n}\nmodule.exports = registerEnvironmentWithDevTools;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar resolvedPromise = Promise.resolve();\n\n/**\n * An alternative to setImmediate based on Promise.\n */\nfunction resolveImmediate(callback) {\n  resolvedPromise.then(callback)[\"catch\"](throwNext);\n}\nfunction throwNext(error) {\n  setTimeout(function () {\n    throw error;\n  }, 0);\n}\nmodule.exports = resolveImmediate;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\n/**\n * Creates a copy of the provided value, ensuring any nested objects have their\n * keys sorted such that equivalent values would have identical JSON.stringify\n * results.\n */\nfunction stableCopy(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map(stableCopy);\n  }\n  var keys = Object.keys(value).sort();\n  var stable = {};\n  for (var i = 0; i < keys.length; i++) {\n    stable[keys[i]] = stableCopy(value[keys[i]]);\n  }\n  return stable;\n}\nmodule.exports = stableCopy;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar _window, _window$performance;\nvar isPerformanceNowAvailable = typeof window !== 'undefined' && typeof ((_window = window) === null || _window === void 0 ? void 0 : (_window$performance = _window.performance) === null || _window$performance === void 0 ? void 0 : _window$performance.now) === 'function';\nfunction currentTimestamp() {\n  if (isPerformanceNowAvailable) {\n    return window.performance.now();\n  }\n  return Date.now();\n}\nfunction withDuration(cb) {\n  var startTime = currentTimestamp();\n  var result = cb();\n  return [currentTimestamp() - startTime, result];\n}\nmodule.exports = withDuration;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall relay\n */\n\n'use strict';\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar warning = require(\"fbjs/lib/warning\");\nvar WEAKMAP_SUPPORTED = typeof WeakMap === 'function';\nvar debugCache = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\nfunction withProvidedVariables(userSuppliedVariables, providedVariables) {\n  if (providedVariables != null) {\n    var operationVariables = {};\n    Object.assign(operationVariables, userSuppliedVariables);\n    Object.keys(providedVariables).forEach(function (varName) {\n      var providerFunction = providedVariables[varName].get;\n      var providerResult = providerFunction();\n\n      // people like to ignore these warnings, so use the cache to\n      // enforce that we only compute the value the first time\n      if (!debugCache.has(providerFunction)) {\n        debugCache.set(providerFunction, providerResult);\n        operationVariables[varName] = providerResult;\n      } else {\n        var cachedResult = debugCache.get(providerFunction);\n        if (process.env.NODE_ENV !== \"production\") {\n          process.env.NODE_ENV !== \"production\" ? warning(areEqual(providerResult, cachedResult), 'Relay: Expected function `%s` for provider `%s` to be a pure function, ' + 'but got conflicting return values `%s` and `%s`', providerFunction.name, varName, providerResult, cachedResult) : void 0;\n        }\n        operationVariables[varName] = cachedResult;\n      }\n    });\n    return operationVariables;\n  } else {\n    return userSuppliedVariables;\n  }\n}\nwithProvidedVariables.tests_only_resetDebugCache = process.env.NODE_ENV !== \"production\" ? function () {\n  debugCache = WEAKMAP_SUPPORTED ? new WeakMap() : new Map();\n} : undefined;\nmodule.exports = withProvidedVariables;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inheritsLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nexport function defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nexport function hasXMLHttpRequest() {\n  return typeof XMLHttpRequest === 'function' || (typeof XMLHttpRequest === \"undefined\" ? \"undefined\" : _typeof(XMLHttpRequest)) === 'object';\n}\nfunction isPromise(maybePromise) {\n  return !!maybePromise && typeof maybePromise.then === 'function';\n}\nexport function makePromise(maybePromise) {\n  if (isPromise(maybePromise)) {\n    return maybePromise;\n  }\n  return Promise.resolve(maybePromise);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { defaults, hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  } else {\n    fetchApi = fetch;\n  }\n}\nvar XmlHttpRequestApi;\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\nvar ActiveXObjectApi;\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n  return url;\n};\nvar fetchIt = function fetchIt(url, fetchOptions, callback) {\n  fetchApi(url, fetchOptions).then(function (response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  }).catch(callback);\n};\nvar omitFetchOptions = false;\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  var headers = defaults({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = defaults({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n  try {\n    fetchIt(url, fetchOptions, callback);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  try {\n    var x;\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n    x.open(payload ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n  callback = callback || function () {};\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\nexport default request;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { defaults, makePromise } from './utils.js';\nimport request from './request.js';\nvar getDefaults = function getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: function parse(data) {\n      return JSON.parse(data);\n    },\n    stringify: JSON.stringify,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    parseLoadPayload: function parseLoadPayload(languages, namespaces) {\n      return undefined;\n    },\n    request: request,\n    reloadInterval: typeof window !== 'undefined' ? false : 60 * 60 * 1000,\n    customHeaders: {},\n    queryStringParams: {},\n    crossDomain: false,\n    withCredentials: false,\n    overrideMimeType: false,\n    requestOptions: {\n      mode: 'cors',\n      credentials: 'same-origin',\n      cache: 'default'\n    }\n  };\n};\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, Backend);\n    this.services = services;\n    this.options = options;\n    this.allOptions = allOptions;\n    this.type = 'backend';\n    this.init(services, options, allOptions);\n  }\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n      this.allOptions = allOptions;\n      if (this.services && this.options.reloadInterval) {\n        setInterval(function () {\n          return _this.reload();\n        }, this.options.reloadInterval);\n      }\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      this._readAny(languages, languages, namespaces, namespaces, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      this._readAny([language], language, [namespace], namespace, callback);\n    }\n  }, {\n    key: \"_readAny\",\n    value: function _readAny(languages, loadUrlLanguages, namespaces, loadUrlNamespaces, callback) {\n      var _this2 = this;\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n      loadPath = makePromise(loadPath);\n      loadPath.then(function (resolvedLoadPath) {\n        if (!resolvedLoadPath) return callback(null, {});\n        var url = _this2.services.interpolator.interpolate(resolvedLoadPath, {\n          lng: languages.join('+'),\n          ns: namespaces.join('+')\n        });\n        _this2.loadUrl(url, callback, loadUrlLanguages, loadUrlNamespaces);\n      });\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback, languages, namespaces) {\n      var _this3 = this;\n      var lng = typeof languages === 'string' ? [languages] : languages;\n      var ns = typeof namespaces === 'string' ? [namespaces] : namespaces;\n      var payload = this.options.parseLoadPayload(lng, ns);\n      this.options.request(this.options, url, payload, function (err, res) {\n        if (res && (res.status >= 500 && res.status < 600 || !res.status)) return callback('failed loading ' + url + '; status code: ' + res.status, true);\n        if (res && res.status >= 400 && res.status < 500) return callback('failed loading ' + url + '; status code: ' + res.status, false);\n        if (!res && err && err.message && err.message.indexOf('Failed to fetch') > -1) return callback('failed loading ' + url + ': ' + err.message, true);\n        if (err) return callback(err, false);\n        var ret, parseErr;\n        try {\n          if (typeof res.data === 'string') {\n            ret = _this3.options.parse(res.data, languages, namespaces);\n          } else {\n            ret = res.data;\n          }\n        } catch (e) {\n          parseErr = 'failed parsing ' + url + ' to json';\n        }\n        if (parseErr) return callback(parseErr, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue, callback) {\n      var _this4 = this;\n      if (!this.options.addPath) return;\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      var finished = 0;\n      var dataArray = [];\n      var resArray = [];\n      languages.forEach(function (lng) {\n        var addPath = _this4.options.addPath;\n        if (typeof _this4.options.addPath === 'function') {\n          addPath = _this4.options.addPath(lng, namespace);\n        }\n        var url = _this4.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n        _this4.options.request(_this4.options, url, payload, function (data, res) {\n          finished += 1;\n          dataArray.push(data);\n          resArray.push(res);\n          if (finished === languages.length) {\n            if (typeof callback === 'function') callback(dataArray, resArray);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this5 = this;\n      var _this$services = this.services,\n        backendConnector = _this$services.backendConnector,\n        languageUtils = _this$services.languageUtils,\n        logger = _this$services.logger;\n      var currentLanguage = backendConnector.language;\n      if (currentLanguage && currentLanguage.toLowerCase() === 'cimode') return;\n      var toLoad = [];\n      var append = function append(lng) {\n        var lngs = languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      append(currentLanguage);\n      if (this.allOptions.preload) this.allOptions.preload.forEach(function (l) {\n        return append(l);\n      });\n      toLoad.forEach(function (lng) {\n        _this5.allOptions.ns.forEach(function (ns) {\n          backendConnector.read(lng, ns, 'read', null, null, function (err, data) {\n            if (err) logger.warn(\"loading namespace \".concat(ns, \" for language \").concat(lng, \" failed\"), err);\n            if (!err && data) logger.log(\"loaded namespace \".concat(ns, \" for language \").concat(lng), data);\n            backendConnector.loaded(\"\".concat(lng, \"|\").concat(ns), err, data);\n          });\n        });\n      });\n    }\n  }]);\n  return Backend;\n}();\nBackend.type = 'backend';\nexport default Backend;","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _toArray from '@babel/runtime/helpers/esm/toArray';\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Logger);\n    this.init(concreteLogger, options);\n  }\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread$6(_objectSpread$6({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }), this.options));\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(options) {\n      options = options || this.options;\n      options.prefix = options.prefix || this.prefix;\n      return new Logger(this.logger, options);\n    }\n  }]);\n  return Logger;\n}();\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n    this.observers = {};\n  }\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n    obj = _getLastOfPath.obj,\n    k = _getLastOfPath.k;\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n    obj = _getLastOfPath2.obj,\n    k = _getLastOfPath2.k;\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n    obj = _getLastOfPath3.obj,\n    k = _getLastOfPath3.k;\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && typeof window.navigator.userAgentData === 'undefined' && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\nvar chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  var possibleChars = chars.filter(function (c) {\n    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;\n  });\n  if (possibleChars.length === 0) return true;\n  var r = new RegExp(\"(\".concat(possibleChars.map(function (c) {\n    return c === '?' ? '\\\\?' : c;\n  }).join('|'), \")\"));\n  var matched = !r.test(key);\n  if (!matched) {\n    var ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n  for (var i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n  var _super = _createSuper$3(ResourceStore);\n  function ResourceStore(data) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    _classCallCheck(this, ResourceStore);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.data = data || {};\n    _this.options = options;\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n    return _this;\n  }\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread$5(_objectSpread$5({}, pack), resources);\n      }\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread$5(_objectSpread$5({}, {}), this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"hasLanguageSomeTranslations\",\n    value: function hasLanguageSomeTranslations(lng) {\n      var data = this.getDataByLanguage(lng);\n      var n = data && Object.keys(data) || [];\n      return !!n.find(function (v) {\n        return data[v] && Object.keys(data[v]).length > 0;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar checkedLoadedFor = {};\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n  var _super = _createSuper$2(Translator);\n  function Translator(services) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Translator);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      if (key === undefined || key === null) {\n        return false;\n      }\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS || [];\n      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        var m = key.match(this.interpolator.nestingRegexp);\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n        key = _this$extractFromKey.key,\n        namespaces = _this$extractFromKey.namespaces;\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          if (returnDetails) {\n            return {\n              res: \"\".concat(namespace).concat(nsSeparator).concat(key),\n              usedKey: key,\n              exactUsedKey: key,\n              usedLng: lng,\n              usedNS: namespace\n            };\n          }\n          return \"\".concat(namespace).concat(nsSeparator).concat(key);\n        }\n        if (returnDetails) {\n          return {\n            res: key,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace\n          };\n        }\n        return key;\n      }\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n          var r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread$4(_objectSpread$4({}, options), {}, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n          if (returnDetails) {\n            resolved.res = r;\n            return resolved;\n          }\n          return r;\n        }\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread$4(_objectSpread$4({}, options), {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread$4(_objectSpread$4({}, options), {}, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n          var send = function send(l, k, specificDefaultValue) {\n            var defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n            }\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language, options).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n          if (this.options.compatibilityAPI !== 'v1') {\n            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? \"\".concat(namespace, \":\").concat(key) : key, usedDefault ? res : undefined);\n          } else {\n            res = this.options.parseMissingKeyHandler(res);\n          }\n        }\n      }\n      if (returnDetails) {\n        resolved.res = res;\n        return resolved;\n      }\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, _objectSpread$4(_objectSpread$4({}, this.options.interpolation.defaultVariables), options), resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread$4(_objectSpread$4({}, options), {\n          interpolation: _objectSpread$4(_objectSpread$4({}, this.options.interpolation), options.interpolation)\n        }));\n        var skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n        var nestBef;\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread$4(_objectSpread$4({}, this.options.interpolation.defaultVariables), data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n        if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n            return null;\n          }\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread$4({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n        var extracted = _this4.extractFromKey(k, options);\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && _this4.pluralResolver.shouldUseIntlApi();\n        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKeys = [key];\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);\n              var zeroSuffix = \"\".concat(_this4.options.pluralSeparator, \"zero\");\n              if (needsPluralHandling) {\n                finalKeys.push(key + pluralSuffix);\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(key + zeroSuffix);\n                }\n              }\n              if (needsContextHandling) {\n                var contextKey = \"\".concat(key).concat(_this4.options.contextSeparator).concat(options.context);\n                finalKeys.push(contextKey);\n                if (needsPluralHandling) {\n                  finalKeys.push(contextKey + pluralSuffix);\n                  if (needsZeroSuffixLookup) {\n                    finalKeys.push(contextKey + zeroSuffix);\n                  }\n                }\n              }\n            }\n            var possibleKey;\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n        return p.join('-');\n      }\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n        var cleanedLng = _this.formatLanguageCode(code);\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n          var lngOnly = _this.getLanguagePartFromCode(code);\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng === lngOnly) return supportedLng;\n            if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n      var addCode = function addCode(c) {\n        if (!c) return;\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nvar deprecatedJsonVersions = ['v1', 'v2', 'v3'];\nvar suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, PluralResolver);\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this.shouldUseIntlApi()) {\n        try {\n          return new Intl.PluralRules(code, {\n            type: options.ordinal ? 'ordinal' : 'cardinal'\n          });\n        } catch (_unused) {\n          return;\n        }\n      }\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(function (suffix) {\n        return \"\".concat(key).concat(suffix);\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n      if (!rule) {\n        return [];\n      }\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {\n          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];\n        }).map(function (pluralCategory) {\n          return \"\".concat(_this.options.prepend).concat(pluralCategory);\n        });\n      }\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number, options);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var rule = this.getRule(code, options);\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return \"\".concat(this.options.prepend).concat(rule.select(count));\n        }\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }, {\n    key: \"getSuffixRetroCompatible\",\n    value: function getSuffixRetroCompatible(rule, count) {\n      var _this2 = this;\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n  }, {\n    key: \"shouldUseIntlApi\",\n    value: function shouldUseIntlApi() {\n      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);\n    }\n  }]);\n  return PluralResolver;\n}();\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction deepFindWithDefaults(data, defaultData, key) {\n  var keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  var ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Interpolator);\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n    this.init(options);\n  }\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = deepFindWithDefaults(data, defaultData, key, _this.options.keySeparator, _this.options.ignoreJSONStructure);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n            interpolationkey: key\n          })) : path;\n        }\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(deepFindWithDefaults(data, defaultData, k, _this.options.keySeparator, _this.options.ignoreJSONStructure), f, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n          interpolationkey: k\n        }));\n      };\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n        while (match = todo.regex.exec(str)) {\n          var matchedVar = match[1].trim();\n          value = handleFormat(matchedVar);\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n              value = '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(matchedVar, \" for interpolating \").concat(str));\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n          if (skipOnVariables) {\n            todo.regex.lastIndex += value.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n          replaces++;\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n      var clonedOptions;\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        var matchedSingleQuotes = optionsString.match(/'/g);\n        var matchedDoubleQuotes = optionsString.match(/\"/g);\n        if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n          optionsString = optionsString.replace(/'/g, '\"');\n        }\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread$3(_objectSpread$3({}, inheritedOptions), clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        clonedOptions = _objectSpread$3({}, options);\n        clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n        clonedOptions.applyPostProcessor = false;\n        delete clonedOptions.defaultValue;\n        var doReduce = false;\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread$3(_objectSpread$3({}, options), {}, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n      return str;\n    }\n  }]);\n  return Interpolator;\n}();\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction parseFormatStr(formatStr) {\n  var formatName = formatStr.toLowerCase().trim();\n  var formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    var p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    var optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      var opts = optStr.split(';');\n      opts.forEach(function (opt) {\n        if (!opt) return;\n        var _opt$split = opt.split(':'),\n          _opt$split2 = _toArray(_opt$split),\n          key = _opt$split2[0],\n          rest = _opt$split2.slice(1);\n        var val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName: formatName,\n    formatOptions: formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  var cache = {};\n  return function invokeFormatter(val, lng, options) {\n    var key = lng + JSON.stringify(options);\n    var formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(lng, options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nvar Formatter = function () {\n  function Formatter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Formatter);\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.NumberFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      currency: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.NumberFormat(lng, _objectSpread$2(_objectSpread$2({}, opt), {}, {\n          style: 'currency'\n        }));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      datetime: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.DateTimeFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      relativetime: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.RelativeTimeFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val, opt.range || 'day');\n        };\n      }),\n      list: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.ListFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      })\n    };\n    this.init(options);\n  }\n  _createClass(Formatter, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var iOpts = options.interpolation;\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    }\n  }, {\n    key: \"add\",\n    value: function add(name, fc) {\n      this.formats[name.toLowerCase().trim()] = fc;\n    }\n  }, {\n    key: \"addCached\",\n    value: function addCached(name, fc) {\n      this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n    }\n  }, {\n    key: \"format\",\n    value: function format(value, _format, lng) {\n      var _this = this;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var formats = _format.split(this.formatSeparator);\n      var result = formats.reduce(function (mem, f) {\n        var _parseFormatStr = parseFormatStr(f),\n          formatName = _parseFormatStr.formatName,\n          formatOptions = _parseFormatStr.formatOptions;\n        if (_this.formats[formatName]) {\n          var formatted = mem;\n          try {\n            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = _this.formats[formatName](mem, l, _objectSpread$2(_objectSpread$2(_objectSpread$2({}, formatOptions), options), valOptions));\n          } catch (error) {\n            _this.logger.warn(error);\n          }\n          return formatted;\n        } else {\n          _this.logger.warn(\"there was no format function for \".concat(formatName));\n        }\n        return mem;\n      }, value);\n      return result;\n    }\n  }]);\n  return Formatter;\n}();\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n  var _super = _createSuper$1(Connector);\n  function Connector(backend, store, services) {\n    var _this;\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    _classCallCheck(this, Connector);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.waitingReads = [];\n    _this.maxParallelReads = options.maxParallelReads || 10;\n    _this.readingCalls = 0;\n    _this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    _this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    _this.state = {};\n    _this.queue = [];\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n      var toLoad = {};\n      var pending = {};\n      var toLoadLanguages = {};\n      var toLoadNamespaces = {};\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending[name] === undefined) pending[name] = true;\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending[name] === undefined) pending[name] = true;\n            if (toLoad[name] === undefined) toLoad[name] = true;\n            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n      });\n      if (Object.keys(toLoad).length || Object.keys(pending).length) {\n        this.queue.push({\n          pending: pending,\n          pendingCount: Object.keys(pending).length,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n      return {\n        toLoad: Object.keys(toLoad),\n        pending: Object.keys(pending),\n        toLoadLanguages: Object.keys(toLoadLanguages),\n        toLoadNamespaces: Object.keys(toLoadNamespaces)\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        removePending(q, name);\n        if (err) q.errors.push(err);\n        if (q.pendingCount === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = {};\n            var loadedKeys = q.loaded[l];\n            if (loadedKeys.length) {\n              loadedKeys.forEach(function (n) {\n                if (loaded[l][n] === undefined) loaded[l][n] = true;\n              });\n            }\n          });\n          q.done = true;\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      if (this.readingCalls >= this.maxParallelReads) {\n        this.waitingReads.push({\n          lng: lng,\n          ns: ns,\n          fcName: fcName,\n          tried: tried,\n          wait: wait,\n          callback: callback\n        });\n        return;\n      }\n      this.readingCalls++;\n      var resolver = function resolver(err, data) {\n        _this3.readingCalls--;\n        if (_this3.waitingReads.length > 0) {\n          var next = _this3.waitingReads.shift();\n          _this3.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n        }\n        if (err && data && tried < _this3.maxRetries) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n        callback(err, data);\n      };\n      var fc = this.backend[fcName].bind(this.backend);\n      if (fc.length === 2) {\n        try {\n          var r = fc(lng, ns);\n          if (r && typeof r.then === 'function') {\n            r.then(function (data) {\n              return resolver(null, data);\n            })[\"catch\"](resolver);\n          } else {\n            resolver(null, r);\n          }\n        } catch (err) {\n          resolver(err);\n        }\n        return;\n      }\n      return fc(lng, ns, resolver);\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n      var clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : function () {};\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n      if (key === undefined || key === null || key === '') return;\n      if (this.backend && this.backend.create) {\n        var opts = _objectSpread$1(_objectSpread$1({}, options), {}, {\n          isUpdate: isUpdate\n        });\n        var fc = this.backend.create.bind(this.backend);\n        if (fc.length < 6) {\n          try {\n            var r;\n            if (fc.length === 5) {\n              r = fc(languages, namespace, key, fallbackValue, opts);\n            } else {\n              r = fc(languages, namespace, key, fallbackValue);\n            }\n            if (r && typeof r.then === 'function') {\n              r.then(function (data) {\n                return clb(null, data);\n              })[\"catch\"](clb);\n            } else {\n              clb(null, r);\n            }\n          } catch (err) {\n            clb(err);\n          }\n        } else {\n          fc(languages, namespace, key, fallbackValue, clb, opts);\n        }\n      }\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  var mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(function (mem) {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n  var _super = _createSuper(I18n);\n  function I18n() {\n    var _this;\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n    _classCallCheck(this, I18n);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n    bindMemberFunctions(_assertThisInitialized(_this));\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n      if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n        if (typeof options.ns === 'string') {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n      var defOpts = get();\n      this.options = _objectSpread(_objectSpread(_objectSpread({}, defOpts), this.options), transformOptions(options));\n      if (this.options.compatibilityAPI !== 'v1') {\n        this.options.interpolation = _objectSpread(_objectSpread({}, defOpts.interpolation), this.options.interpolation);\n      }\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n        var formatter;\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n        }\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n          return _this2;\n        };\n      });\n      var deferred = defer();\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n          _this2.emit('initialized', _this2.options);\n          deferred.resolve(t);\n          callback(err, t);\n        };\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n        var append = function append(lng) {\n          if (!lng) return;\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n        this.services.backendConnector.load(toLoad, this.options.ns, function (e) {\n          if (!e && !_this3.resolvedLanguage && _this3.language) _this3.setResolvedLanguage(_this3.language);\n          usedCallback(e);\n        });\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n      return this;\n    }\n  }, {\n    key: \"setResolvedLanguage\",\n    value: function setResolvedLanguage(l) {\n      if (!l || !this.languages) return;\n      if (['cimode', 'dev'].indexOf(l) > -1) return;\n      for (var li = 0; li < this.languages.length; li++) {\n        var lngInLngs = this.languages[li];\n        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n          this.resolvedLanguage = lngInLngs;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n      var setLngProps = function setLngProps(l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        _this4.resolvedLanguage = undefined;\n        _this4.setResolvedLanguage(l);\n      };\n      var done = function done(err, l) {\n        if (l) {\n          setLngProps(l);\n          _this4.translator.changeLanguage(l);\n          _this4.isLanguageChangingTo = undefined;\n          _this4.emit('languageChanged', l);\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n        if (l) {\n          if (!_this4.language) {\n            setLngProps(l);\n          }\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector && _this4.services.languageDetector.cacheUserLanguage) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        if (this.services.languageDetector.detect.length === 0) {\n          this.services.languageDetector.detect().then(setLng);\n        } else {\n          this.services.languageDetector.detect(setLng);\n        }\n      } else {\n        setLng(lng);\n      }\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns, keyPrefix) {\n      var _this5 = this;\n      var fixedT = function fixedT(key, opts) {\n        var options;\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n        var keySeparator = _this5.options.keySeparator || '.';\n        var resultKey;\n        if (options.keyPrefix && Array.isArray(key)) {\n          resultKey = key.map(function (k) {\n            return \"\".concat(options.keyPrefix).concat(keySeparator).concat(k);\n          });\n        } else {\n          resultKey = options.keyPrefix ? \"\".concat(options.keyPrefix).concat(keySeparator).concat(key) : key;\n        }\n        return _this5.t(resultKey, options);\n      };\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n      var lng = this.resolvedLanguage || this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n        return loadState === -1 || loadState === 2;\n      };\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n      var deferred = defer();\n      if (!this.options.ns) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      var languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n      return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var mergedOptions = _objectSpread(_objectSpread(_objectSpread({}, this.options), options), {\n        isClone: true\n      });\n      var clone = new I18n(mergedOptions);\n      if (options.debug !== undefined || options.prefix !== undefined) {\n        clone.logger = clone.logger.clone(options);\n      }\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }]);\n  return I18n;\n}(EventEmitter);\n_defineProperty(I18n, \"createInstance\", function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new I18n(options, callback);\n});\nvar instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nvar createInstance = instance.createInstance;\nvar dir = instance.dir;\nvar init = instance.init;\nvar loadResources = instance.loadResources;\nvar reloadResources = instance.reloadResources;\nvar use = instance.use;\nvar changeLanguage = instance.changeLanguage;\nvar getFixedT = instance.getFixedT;\nvar t = instance.t;\nvar exists = instance.exists;\nvar setDefaultNamespace = instance.setDefaultNamespace;\nvar hasLoadedNamespace = instance.hasLoadedNamespace;\nvar loadNamespaces = instance.loadNamespaces;\nvar loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n"],"names":["props","_props$locale","locale","children","_ANT_MARK__","React","changeConfirmLocale","Modal","getMemoizedContextValue","Object","assign","exist","LocaleContext","value","dynamicStyleMark","concat","Date","now","Math","random","registerTheme","globalPrefixCls","theme","style","variables","formatColor","color","updater","clone","toRgbString","fillColor","colorVal","type","baseColor","TinyColor","colorPalettes","generate","setAlpha","primaryColor","primaryColors","forEach","index","c","lighten","tint","getAlpha","primaryActiveColor","darken","successColor","warningColor","errorColor","infoColor","cssList","keys","map","key","join","trim","getStyle","canUseDom","updateCSS","componentDisabled","useContext","DisabledContext","componentSize","SizeContext","MotionWrapper","_useToken","useToken","motion","_slicedToArray","needWrapMotionProviderRef","current","MotionProvider","globalIconPrefixCls","globalTheme","iconPrefixCls","csp","_useToken2","token","useStyleRegister","hashId","path","nonce","_defineProperty","resetIcon","display","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","PASSED_PROPS","getGlobalPrefixCls","getGlobalIconPrefixCls","defaultIconPrefixCls","globalConfig","getPrefixCls","suffixCls","customizePrefixCls","getIconPrefixCls","getRootPrefixCls","getTheme","ProviderChildren","customCsp","autoInsertSpaceInButton","form","direction","space","virtual","dropdownMatchSelectWidth","popupMatchSelectWidth","popupOverflow","legacyLocale","parentContext","customIconPrefixCls","prefixCls","mergedPrefixCls","shouldWrapSSR","wrapSSR","useStyle","mergedTheme","parentTheme","themeConfig","parentThemeConfig","inherit","defaultConfig","useMemo","mergedComponents","components","componentName","prev","next","some","prevTheme","nextTheme","isEqual","useTheme","baseConfig","config","undefined","propName","propValue","memoedConfig","prevConfig","currentConfig","prevKeys","currentKeys","memoIconContextValue","childNode","validateMessages","_a","_b","_c","merge","defaultLocale","defaultValidateMessages","Form","ValidateMessagesContext","LocaleProvider","IconContext","SizeContextProvider","size","memoTheme","algorithm","rest","themeObj","Array","isArray","createTheme","defaultSeedToken","DesignTokenContext","DisabledContextProvider","disabled","ConfigContext","ConfigProvider","context","antLocale","_ref","endsWith","isLegacyTheme","useConfig","defineProperty","get","createContext","runtimeLocale","newLocale","getConfirmLocale","_interopRequireDefault","require","exports","_default","default","_en_US","_en_US2","lang","placeholder","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","rangePlaceholder","rangeYearPlaceholder","rangeQuarterPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","timePickerLocale","_ko_KR","_ko_KR2","_en_US3","_en_US4","typeTemplate","Pagination","DatePicker","TimePicker","Calendar","global","Table","filterTitle","filterConfirm","filterReset","filterEmptyText","filterCheckall","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","Tour","Next","Previous","Finish","okText","cancelText","justOkText","Popconfirm","Transfer","titles","searchPlaceholder","itemUnit","itemsUnit","remove","selectCurrent","removeCurrent","removeAll","Upload","uploading","removeFile","uploadError","previewFile","downloadFile","Empty","description","Icon","icon","Text","edit","copy","copied","PageHeader","back","optional","required","enum","whitespace","date","format","parse","invalid","types","string","method","array","object","number","boolean","integer","float","regexp","email","url","hex","len","min","max","range","pattern","mismatch","Image","preview","QRCode","expired","refresh","ColorPicker","presetEmpty","_ko_KR3","_ko_KR4","aStackPool","bStackPool","eq","a","b","aStack","bStack","objToStr","toString","className","String","isNaN","Number","source","multiline","ignoreCase","push","constructor","valueOf","pop","module","result","makeEmptyFunction","arg","emptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","this","thatReturnsArgument","warning","condition","d","f","error","Error","args","argIndex","replace","name","framesToPop","items_per_page","jump_to","jump_to_confirm","page","prev_page","next_page","prev_5","next_5","prev_3","next_3","page_size","today","backToToday","ok","clear","month","year","timeSelect","dateSelect","weekSelect","monthSelect","yearSelect","decadeSelect","yearFormat","dateFormat","dayFormat","dateTimeFormat","monthBeforeYear","previousMonth","nextMonth","previousYear","nextYear","previousDecade","nextDecade","previousCentury","nextCentury","getComponentName","component","displayName","getContainerName","Component","createRelayContext","__internal","_objectSpread2","_objectWithoutPropertiesLoose2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","_excluded","buildReactRelayContainer","assertRelayContext","areEqual","_require3","createFragmentSpecResolver","getDataIDsFromObject","isScalarAndEqual","createContainerWithFragments","fragments","_class","containerName","_React$Component","_props$__rootIsQueryR","_this","resolverFromThisUpdate","state","resolver","setState","updatedState","data","resolve","relayProp","getRelayProp","environment","relayContext","__relayContext","rootIsQueryRenderer","__rootIsQueryRenderer","prevProps","prevPropsContext","getDerivedStateFromProps","nextProps","prevState","_nextProps$__rootIsQu","prevIDs","nextIDs","setProps","_proto","componentDidMount","_subscribeToNewResolverAndRerenderIfStoreHasChanged","componentDidUpdate","dispose","_rerenderIfStoreHasChanged","componentWillUnmount","shouldComponentUpdate","nextState","ii","_this$state","maybeNewData","_this$state2","setCallback","_handleFragmentDataUpdate","render","_this$props","componentRef","createElement","ref","relay","createContainer","fragmentSpec","ReactRelayContext","ReactRelayQueryRendererContext","_require","createOperationDescriptor","getRequest","deepFreeze","useLayoutEffect","useState","useRef","queryRendererContext","query","latestVariables","latestValue","useDeepCompare","operation","request","dataRef","forceUpdate","cleanupFnRef","snapshot","check","res","lookup","fragment","retainDisposable","retain","subscribeDisposable","subscribe","newSnapshot","disposed","cleanupFn","Provider","_extends2","_objectSpread3","_excluded2","_excluded3","getRootVariablesForFragments","ReactRelayQueryFetcher","invariant","ConnectionInterface","Observable","RelayFeatureFlags","getVariablesFromObject","FORWARD","toObserver","observerOrCallback","complete","unsubscribe","subscription","connectionConfig","metadata","foundConnectionMetadata","isRelayModern","fragmentName","connectionMetadata","connection","findConnectionMetadata","getConnectionFromProps","createGetConnectionFromProps","getFragmentVariables","countVariable","count","prevVars","totalCount","createGetFragmentVariables","_resolver","connectionData","_getConnectionData","hasMore","cursor","_refetchSubscription","refetchVariables","_canFetchPage","_refetchVariables","paginatingVariables","_fetchPage","force","pageSize","options","observer","create","sink","edgeCount","_refetchConnection","_ConnectionInterface$","END_CURSOR","START_CURSOR","_isARequestInFlight","ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT","prevContext","contextForChildren","_buildRelayProp","resolverGeneration","_isUnmounted","_hasFetched","UNSAFE_componentWillReceiveProps","_this2","prevRootVariables","nextRootVariables","_cleanup","_hasMore","isLoading","_isLoading","loadMore","_loadMore","refetchConnection","restProps","_ConnectionInterface$2","EDGES","PAGE_INFO","HAS_NEXT_PAGE","HAS_PREV_PAGE","edges","pageInfo","_getQueryFetcher","_queryFetcher","fragmentVariables","_this3","_this$props2","rootVariables","fetchVariables","getVariables","cacheConfig","refetchSubscription","cleanup","execute","preservePreviousReferences","mergeMap","payload","prevData","setVariables","node","nextData","onNext","_this$props3","ComponentClass","fetchQuery","isRelayModernEnvironment","_cacheSelectionReference","cacheSelectionReference","_selectionReferences","selectionReferences","getSelectionReferences","lookupInStore","fetchPolicy","status","_retainCachedOperation","getFetchResult","_didFetchFinish","_error","_snapshot","_ref$preservePrevious","reference","disposeSelectionReferences","setOnDataChange","onDataChange","_fetchOptions","onDataChangeCallbacks","fetch","fetchOptions","cacheConfigOverride","fetchHasReturned","disposeRequest","oldOnDataChangeCallbacks","operationOverride","_pendingRequest","_onQueryDataAvailable","notifyFirstResult","err","retry","_rootSubscription","_disposeCacheSelectionReference","r","_ref2","_this$_fetchOptions","maybeNewOnDataChangeCallbacks","_require2","requestCache","ReactRelayQueryRenderer","params","prevRequestCacheKey","requestCacheKey","renderProps","getRenderProps","queryFetcher","retryCallbacks","handleDataChange","handleRetryAfterError","getRequestCacheKey","_maybeHiddenOrFastRefresh","prevPropsEnvironment","prevPropsVariables","prevQuery","fetchQueryAndComputeStateFromProps","resetQueryStateForUpdate","newState","ENABLE_QUERY_RENDERER_SET_STATE_PREVENTION","fetchResult","_fetchResult$snapshot","_fetchResult$error","_handleDataChange","_prevProps","_this$state3","syncSnapshot","JSON","stringify","id","cacheID","prevSelectionReferences","genericEnvironment","storeSnapshot","refetch","taggedNode","renderVariables","_getFragmentVariables","localVariables","latestState","response","start","_refetch","isRelayEnvironment","isRelayContext","assertFragmentMap","getFragment","Container","forwardRef","_queryRendererContext","getSelector","_selector$selectors$","_selector$selectors$2","_selector$owner$varia","fragmentNode","fragmentRef","selector","fragmentOwnerVariables","kind","selectors","owner","ReactRelayFragmentContainer","ReactRelayLocalQueryRenderer","ReactRelayPaginationContainer","ReactRelayRefetchContainer","EntryPointContainer","loadEntryPoint","loadQuery","ProfilerContext","RelayEnvironmentProvider","useClientQuery","useEntryPointLoader","useFragment","useLazyLoadQuery","useMutation","usePaginationFragment","usePreloadedQuery","useQueryLoader","useRefetchableFragment","useRelayEnvironment","useSubscribeToInvalidationState","useSubscription","RelayRuntime","ConnectionHandler","QueryRenderer","LocalQueryRenderer","MutationTypes","RangeOperations","applyOptimisticMutation","commitLocalUpdate","commitMutation","createFragmentContainer","createPaginationContainer","createRefetchContainer","fetchQuery_DEPRECATED","graphql","readInlineData","requestSubscription","useEffect","entryPointReference","getComponent","queries","entryPoints","extraProps","rootModuleID","profilerContext","__log","_toConsumableArray2","LRUCache","getQueryResourceForEnvironment","SuspenseResource","_require2$__internal","getPromiseForActiveRequest","getFragmentIdentifier","getPendingOperationsForFragment","getVariablesFromFragment","handlePotentialSnapshotErrors","isPromise","recycleNodesInto","WEAKMAP_SUPPORTED","WeakMap","CONSTANT_READONLY_EMPTY_ARRAY","freeze","isMissingData","missingLiveResolverFields","filter","Boolean","flat","getFragmentResult","cacheKey","storeEpoch","ClientEdgeQueryResultsCache","Map","_environment","fragmentIdentifier","_this$_cache$get$","_this$_cache$get","_cache","recordQueryResults","existing","existingResults","_suspenseResource","queryResult","temporaryRetain","suspenseResource","_retain","set","_this$_retainCounts$g","retainCount","_retainCounts","_this$_retainCounts$g2","newRetainCount","FragmentResourceImpl","ENABLE_CLIENT_EDGES","_clientEdgeQueryResultsCache","_proto2","read","componentDisplayName","fragmentKey","readWithIdentifier","_fragmentNode$metadat","_fragmentNode$metadat2","_missingLiveResolverF2","_missingLiveResolverF3","getStore","getEpoch","plural","cachedValue","_missingLiveResolverF","promise","isRelayHooks","isPromiseCached","pendingOperations","_throwOrLogErrorsInSnapshot","cached","fragmentSelector","fragmentResult","clientEdgeRequests","hasClientEdges","_snapshot$missingClie","_snapshot$missingClie2","_s$missingClientEdges","_s$missingClientEdges2","missingClientEdges","hasMissingClientEdges","queryResource","queryResults","singularOrPluralForEach","snap","_snap$missingClientEd","_clientEdgeRequests","clientEdgeDestinationID","_this3$_performClient","_performClientEdgeQuery","requestDescriptor","clientEdgePromises","fragmentOwner","parentQueryPromiseResult","_getAndSavePromiseForFragmentRequestInFlight","parentQueryPromiseResultPromise","missingResolverFieldPromises","liveStateID","getLiveResolverPromise","_parentQueryPromiseRe","_clientEdgeRequests2","promises","Promise","all","originalVariables","fetchObservable","prepare","_this4","missingRequiredFields","relayResolverErrors","readSpec","fragmentNodes","fragmentRefs","callback","_this5","renderedSnapshot","_this$checkMissedUpda","checkMissedUpdates","didMissUpdates","currentSnapshot","disposables","idx","latestSnapshot","_updatePluralSnapshot","_this$_clientEdgeQuer","_this$_clientEdgeQuer2","clientEdgeQueryResults","subscribeSpec","fragmentResults","_this6","disposable","currentSnapshots","renderData","currentData","updatedData","updatedCurrentSnapshot","seenRecords","checkMissedUpdatesSpec","_this7","_this8","pendingOperationsResult","networkPromise","then","baseSnapshots","_currentFragmentResul","currentFragmentResult","reportInvalidCachedData","nextSnapshots","nodeName","createFragmentResource","dataResources","getFragmentResourceForEnvironment","newDataResource","implementation","inject","impl","capacity","_capacity","_map","firstKey","done","has","wrapPrepareQueryResource","cb","DEFAULT_FETCH_POLICY","DEFAULT_LIVE_FETCH_POLICY","operationIsLiveQuery","live","getQueryCacheIdentifier","maybeFetchPolicy","maybeRenderPolicy","cacheBreaker","renderPolicy","UNSTABLE_getDefaultRenderPolicy","cacheIdentifier","identifier","getQueryResult","rootFragmentRef","__id","dataID","__fragments","__fragmentOwner","nextID","createCacheEntry","operationAvailability","networkSubscription","onDispose","isLiveQuery","currentValue","currentNetworkSubscription","retention","cacheEntry","processedPayloadsCount","getValue","setValue","val","setNetworkSubscription","permanentRetain","releaseTemporaryRetain","QueryResourceImpl","prepareWithIdentifier","temporaryRetainDisposable","entryWasCached","_fetchAndSaveQuery","observerUnsubscribe","queryAvailability","_getOrCreateCacheEntry","resourceID","TESTS_ONLY__getCacheEntry","_clearCacheEntry","shouldFetch","shouldAllowRender","queryStatus","hasFullQuery","canPartialRender","resolveNetworkPromise","_cacheEntry","_queryResult","observerStart","observerNext","observerError","observerComplete","_cacheEntry2","createQueryResource","getEnvironmentForActor","_retainCount","_retainDisposable","_this$_releaseTempora","isServer","releaseQueryTimeout","clearTimeout","_releaseTemporaryRetain","setTimeout","_this$_releaseTempora2","_this$_releaseTempora3","getRetainCount","environmentProvider","entryPoint","entryPointParams","loadingPromise","root","getModuleIfRequired","load","preloadProps","getPreloadProps","preloadedQueries","preloadedEntryPoints","queryPropName","_queries$queryPropNam","environmentProviderOptions","parameters","getEnvironment","networkCacheConfig","__nameForWarning","entryPointPropName","entryPointDescription","nestedEntryPoint","nestedParams","isDisposed","values","innerDispose","_loadingPromise","componentModule","getModuleId","fetchQueryDeduped","PreloadableQueryRegistry","ReplaySubject","getRequestIdentifier","RenderDispatcher","fetchKey","preloadableRequest","_React$__SECRET_INTER3","_React$__SECRET_INTER4","_options$fetchPolicy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","retainReference","unsubscribeFromNetworkRequest","unsubscribeFromExecution","cancelOnLoadCallback","queryId","didExecuteNetworkSource","executeWithNetworkSource","networkObservable","executeWithSource","executionSubject","returnedObservable","networkError","didMakeNetworkRequest","makeNetworkRequest","observable","subject","ENABLE_LOAD_QUERY_REQUEST_DEDUPING","getNetwork","subjectSubscription","executeDeduped","fetchFn","_fetchQueryDeduped$su","checkAvailabilityAndExecute","concreteRequest","_module","_PreloadableQueryRegi","onLoad","preloadedModule","isReleased","isNetworkRequestCancelled","releaseQuery","cancelNetworkRequest","useTrackLoadQueryInRender","_React$__SECRET_INTER","_React$__SECRET_INTER2","gqlQuery","_createForOfIteratorHelper2","useIsMountedRef","useCallback","initialNullEntryPointReferenceState","_options$TEST_ONLY__i","_options$TEST_ONLY__i2","_options$TEST_ONLY__i3","_options$TEST_ONLY__i4","initialEntryPointReferenceInternal","TEST_ONLY__initialEntryPointData","initialEntryPointParamsInternal","isMountedRef","undisposedEntryPointReferencesRef","Set","_useState","setEntryPointReference","_useState2","setEntryPointParams","disposeEntryPoint","nullEntryPointReference","add","entryPointLoaderCallback","updatedEntryPointReference","maybeHiddenOrFastRefresh","undisposedEntryPointReferences","_step","_iterator","n","undisposedEntryPointReference","_step2","_iterator2","unhandledStateChange","useUnsafeRef_DEPRECATED","subscriptionRef","isFetchingRef","disposeFetch","startFetch","completeFetch","HooksImplementation","useFragmentNode","useStaticFragmentNodeWarning","useDebugValue","useFragment_LEGACY","FragmentResource","isListeningForUpdatesRef","handleDataUpdate","disableStoreUpdates","enableStoreUpdates","getObservableForActiveRequest","isActive","setIsActive","onCompleteOrError","useLazyLoadQueryNode","useMemoOperationDescriptor","UNSTABLE_renderPolicy","useFetchTrackingRef","QueryResource","forceUpdateKey","_useFetchTrackingRef","preparedQueryResult","useIsOperationNodeActive","getPaginationVariables","getValueAtPath","fragmentData","connectionPathInFragmentData","paginationRequest","paginationMetadata","onReset","identifierField","identifierValue","mirroredEnvironment","setMirroredEnvironment","mirroredFragmentIdentifier","setMirroredFragmentIdentifier","isParentQueryActive","_getConnectionState","_pageInfo$END_CURSOR","_pageInfo$START_CURSO","getConnectionState","onComplete","parentVariables","extraVariables","UNSTABLE_extraVariables","baseVariables","paginationVariables","paginationQuery","useMemoVariables","memoVariables","memoCacheConfig","mirroredVariables","setMirroredVariables","defaultCommitMutation","mutation","commitMutationFn","arguments","environmentRef","mutationRef","inFlightMutationsRef","isMutationInFlight","setMutationInFlight","onCompleted","errors","_config$onCompleted","onError","_config$onError","onUnsubscribe","_config$onUnsubscribe","_config$onNext","useLoadMoreFunction","useRefetchableFragmentNode","getPaginationMetadata","useLoadMore","isLoadingMore","setIsLoadingMore","_useLoadMoreFunction","fragmentInput","parentFragmentRef","_getPaginationMetadat","_useRefetchableFragme","_useLoadMore","loadPrevious","hasPrevious","isLoadingPrevious","disposeFetchPrevious","_useLoadMore2","loadNext","hasNext","isLoadingNext","disposeFetchNext","__environment","usePaginationFragment_LEGACY","_require3$__internal","preloadedQuery","useLazyLoadQueryNodeParams","fallbackFetchObservable","ifEmpty","initialNullQueryReferenceState","requestIsLiveQuery","initialQueryReference","initialQueryReferenceInternal","undisposedQueryReferencesRef","queryReference","setQueryReference","previousInitialQueryReference","setPreviousInitialQueryReference","disposeQuery","queryLoaderCallback","mergedOptions","_options$__environmen","updatedQueryReference","undisposedQueryReferences","undisposedQueryReference","useRefetchableFragment_LEGACY","useReducer","_require4","getRefetchMetadata","reducer","action","_action$refetchEnviro","refetchEnvironment","refetchQuery","parentEnvironment","_getRefetchMetadata","refetchableRequest","fragmentRefPathInResponse","_useReducer","refetchState","dispatch","shouldReset","_useQueryLoader","queryRef","process","handleQueryCompleted","maybeError","queryData","_useFragmentNode","providedRefetchVariables","_fragmentSelector$sel","_fragmentSelector$sel2","_fragmentSelector$sel3","_fragmentSelector$sel4","useRefetchFunction","warningContext","dataIDs","disposableRef","stableDataIDs","from","sort","store","invalidationState","lookupInvalidationState","subscribeToInvalidationState","requestSubscriptionFn","actualRequestSubscription","init","Action","ResultType","PopStateEventType","message","getHistoryState","location","usr","createLocation","to","_extends","pathname","search","hash","parsePath","substr","createPath","_ref$pathname","_ref$search","_ref$hash","charAt","parsedPath","hashIndex","searchIndex","getUrlBasedHistory","getLocation","createHref","validateLocation","_options2","_options2$window","window","document","defaultView","_options2$v5Compat","v5Compat","globalHistory","history","Pop","listener","getIndex","handlePop","nextIndex","delta","createURL","base","origin","href","URL","replaceState","listen","fn","addEventListener","removeEventListener","encodeLocation","Push","historyState","pushState","DOMException","Replace","go","stripBasename","basename","toLowerCase","startsWith","startIndex","nextChar","slice","AbortedDeferredError","_Error","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","_wrapNativeSuper","validMutationMethodsArr","validRequestMethodsArr","Symbol","startTransitionImpl","AwaitContext","NavigationContext","LocationContext","RouteContext","outlet","matches","isDataRoute","RouteErrorContext","useInRouterContext","DataRouterHook","DataRouterStateHook","AwaitRenderStatus","Router","_ref5","_ref5$basename","basenameProp","_ref5$children","locationProp","_ref5$navigationType","navigationType","navigator","_ref5$static","static","staticProp","UNSAFE_invariant","navigationContext","_locationProp","_locationProp$pathnam","_locationProp$search","_locationProp$hash","_locationProp$state","_locationProp$key","locationContext","trailingPathname","neverSettledPromise","BrowserRouter","future","historyRef","_window$location","_React$useState","_React$useState2","setStateImpl","v7_startTransition","UNSAFE_startTransitionImpl","MutationHandlers","handle","DeleteRecordHandler","DeleteEdgeHandler","AppendEdgeHandler","PrependEdgeHandler","AppendNodeHandler","PrependNodeHandler","generateClientID","getStableStorageKey","getRelayHandleKey","CONNECTION","NEXT_EDGE_INDEX","buildConnectionEdge","edge","edgeIndex","edgeID","getDataID","connectionEdge","getType","copyFieldsFrom","mergeEdges","sourceEdges","targetEdges","nodeIDs","NODE","getLinkedRecord","nodeID","createEdge","record","edgeType","setLinkedRecord","deleteNode","_ConnectionInterface$5","getLinkedRecords","nextEdges","setLinkedRecords","getConnection","filters","handleKey","getConnectionID","recordID","storageKey","insertEdgeAfter","newEdge","CURSOR","foundCursor","insertEdgeBefore","_ConnectionInterface$4","unshift","update","PAGE_INFO_TYPE","serverConnection","fieldKey","serverPageInfo","clientConnectionID","clientConnectionField","clientConnection","clientPageInfo","_connection","_serverEdges","prevEdges","prevPageInfo","after","before","_nodeIDs","last","startCursor","first","endCursor","serverEdges","CONNECTION_CALLS","find","surrounds","newConfig","isConnectionCall","idOrIds","connections","handleArgs","connectionID","edgeUpdater","nodeUpdater","insertFn","singleServerEdge","_unused","_unused2","serverEdgeList","_loop","serverEdge","serverNode","_step3","serverNodeId","_iterator3","_connection$getLinked","_edge$getLinkedRecord","clientEdge","_serverNodes","singleServerNode","serverNodes","_payload$handleArgs","edgeTypeName","_unused3","_unused4","_step4","serverNodeList","_iterator4","_loop2","_step5","_iterator5","_connection$getLinked2","_edge$getLinkedRecord2","RelayDefaultHandlerProvider","RelayDeclarativeMutationConfig","RelayNetwork","RelayObservable","RelayQueryResponseCache","fetchQueryInternal","GraphQLTag","generateUniqueClientID","isClientID","RelayConcreteVariables","RelayModernEnvironment","RelayModernOperationDescriptor","RelayModernRecord","RelayModernSelector","RelayModernStore","RelayOperationTracker","RelayRecordSource","RelayStoreUtils","ResolverFragments","ViewerPattern","createPayloadFor3DField","RelayConcreteNode","RelayDefaultHandleKey","RelayError","RelayProfiler","RelayReplaySubject","stableCopy","withProvidedVariables","Environment","Network","QueryResponseCache","RecordSource","Record","Store","areEqualSelectors","createNormalizationSelector","createReaderSelector","createRequestDescriptor","getArgumentValues","getDataIDsFromFragment","getNode","getInlineDataFragment","getModuleComponentKey","getModuleOperationKey","getPaginationFragment","getPluralSelector","getRefetchableFragment","getSelectorsFromObject","getSingularSelector","getStorageKey","getVariablesFromPluralFragment","getVariablesFromSingularFragment","isFragment","isInlineDataFragment","isRequest","DefaultHandlerProvider","VIEWER_ID","VIEWER_TYPE","DEFAULT_HANDLE_KEY","FRAGMENTS_KEY","FRAGMENT_OWNER_KEY","ID_KEY","REF_KEY","REFS_KEY","ROOT_ID","ROOT_TYPE","TYPENAME_KEY","OperationTracker","getOperationVariables","INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE","assertInternalActorIdentifier","actorIdentifier","getActorIdentifier","actorID","getDefaultActorIdentifier","ACTOR_IDENTIFIER_FIELD_NAME","getActorIdentifierFromPayload","RANGE_ADD","RANGE_DELETE","NODE_DELETE","APPEND","PREPEND","getRootField","selections","convert","configs","optimisticUpdater","configOptimisticUpdates","configUpdates","nodeDeleteResult","deletedIDFieldName","rootField","deleteID","nodeDelete","rangeAddResult","parentID","connectionInfo","edgeName","parent","info","rangeBehavior","rangeAdd","rangeDeleteResult","connectionKeys","pathToConnection","deleteIDs","deletedIDField","eachField","idObject","recordProxy","rangeDelete","eachOptimisticUpdater","eachUpdater","RelayRecordProxy","mutator","_dataID","_mutator","_source","copyFields","isValidLeafValue","setValue__UNSAFE","linkedID","getLinkedRecordID","setLinkedRecordID","getOrCreateLinkedRecord","typeName","linkedRecord","_this$_source$get","clientID","linkedIDs","getLinkedRecordIDs","records","setLinkedRecordIDs","invalidateRecord","markIDForInvalidation","every","EXISTENT","RelayRecordSourceMutator","__sources","_base","_sink","unstable_getRawRecordWithChanges","baseRecord","sinkRecord","_getSinkRecord","sourceID","sinkID","sinkSource","baseSource","copyFieldsFromRecord","getStatus","NONEXISTENT","_readUpdatableFragment","readUpdatableFragment","_readUpdatableQuery","readUpdatableQuery","RelayRecordSourceProxy","handlerProvider","missingFieldHandlers","__mutator","_handlerProvider","_proxies","_getDataID","_invalidatedStore","_idsMarkedForInvalidation","_missingFieldHandlers","publishSource","fieldPayloads","getRecordIDs","sourceRecord","fieldPayload","handler","getRoot","invalidateStore","isStoreMarkedForInvalidation","getIDsMarkedForInvalidation","fragmentReference","RelayRecordSourceSelectorProxy","recordSource","readSelector","__recordSource","_readSelector","getOperationRoot","_getRootField","fieldName","field","selection","getPluralRootField","operationKind","optimisticResponse","applyMutation","commitUpdate","uploadables","_RelayDeclarativeMuta","executeMutation","item","ACTOR_CHANGE","ALIASED_FRAGMENT_SPREAD","ALIASED_INLINE_FRAGMENT_SPREAD","CLIENT_EDGE_TO_CLIENT_OBJECT","CLIENT_EDGE_TO_SERVER_OBJECT","CLIENT_EXTENSION","CONDITION","DEFER","FLIGHT_FIELD","FRAGMENT_SPREAD","INLINE_DATA_FRAGMENT_SPREAD","INLINE_FRAGMENT","LINKED_FIELD","MODULE_IMPORT","RELAY_LIVE_RESOLVER","RELAY_RESOLVER","REQUIRED_FIELD","SCALAR_FIELD","STREAM","nonUpdatableKeys","updateProxyFromSelections","mutableUpdatableProxy","updatableProxyRootRecord","recordSourceProxy","_selection$alias3","_selection$alias","alias","createGetterForPluralLinkedField","createSetterForPluralLinkedField","_selection$alias2","createGetterForSingularLinkedField","createSetterForSingularLinkedField","scalarFieldName","_selection$args","newVariables","getScalarUsingMissingFieldHandlers","includes","newValue","_selection$args2","_selection$args3","recordProxies","newValueRecord","_selection$args4","_selection$args5","linkedRecords","newIds","newId","getPluralLinkedRecordUsingMissingFieldHandlers","updatableProxy","_selection$args6","getLinkedRecordUsingMissingFieldHandlers","createUpdatableProxy","proxy","updatableFragment","fragmentRoot","updatableData","getUpdatableQuery","updatableQuery","CLIENT_COMPONENT","LINKED_HANDLE","SCALAR_HANDLE","TYPE_DISCRIMINATOR","convertFetch","logRequestInfo","observeFetch","operationVariables","providedVariables","pollInterval","poll","hostReportError","_isUncaughtThrownError","onUnhandledError","obj","isObservable","fromObservable","fromPromise","fromValue","sub","_error2","error2","both","alternate","hasValue","closed","withClosed","doCleanup","_error3","isUncaughtThrownError","_subscribe","mapValue","subscriptions","_sub","splice","timeout","toPromise","_this9","reject","resolved","ttl","_responses","_size","_ttl","queryID","getCacheKey","fetchTime","extensions","cacheTimestamp","generateID","env","network","networkRequestId","logObserver","FRAGMENT","REQUEST","isUpdatableQuery","UPDATABLE_QUERY","INLINE_DATA_FRAGMENT","_fragment$metadata","_fragment$metadata2","strings","preloadableQueryRegistry","_preloadableQueries","_callbacks","callbacks","_this$_callbacks$get","getNetworkObservable","queryNode","readData","requestCachesByEnvironment","getRequestCache","cachedRequest","subjectForInFlightStatus","cachedReq","getCachedRequest","cachedRequestInstance","getObserverCount","getObservableForCachedRequest","getActiveStatusObservableForCachedRequest","isRequestActive","USE_REACT_CACHE","resolveOnNext","intern","PREFIX","localID","STRING_INTERN_LEVEL","MAX_DATA_ID_LENGTH","generateClientObjectClientID","typename","localId","getOperation","cloneRelayHandleSourceField","cloneRelayScalarHandleSourceField","getLocalVariables","UNKNOWN","RelayStoreReactFlightUtils","TYPE_SCHEMA_TYPE","generateTypeID","DataChecker","getSourceForActor","getTargetForActor","defaultActorIdentifier","handlers","operationLoader","shouldProcessClientComponents","_getSourceForActor","_getTargetForActor","_mutatorRecordSourceProxyCache","_this$_getMutatorAndR","_getMutatorAndRecordProxyForActor","_mostRecentlyInvalidatedAt","_handlers","_operationLoader","_recordSourceProxy","_recordWasMissing","_variables","_shouldProcessClientComponents","tuple","target","_assignClientAbstractTypes","_traverse","mostRecentlyInvalidatedAt","_getVariableValue","_handleMissing","_handleMissingScalarField","_handleMissingLinkField","_handleMissingPluralLinkField","invalidatedAt","getInvalidationEpoch","_traverseSelections","_checkScalar","_checkPluralLink","_checkLink","_checkActorChange","linkedField","passingValue","_abstractKey","abstractKey","_recordType","_typeID","_implementsInterface","handleField","_handleField","_checkModuleImport","prevVariables","argumentDefinitions","recordWasMissing","recordType","typeID","ENABLE_REACT_FLIGHT_COMPONENT_FIELD","_checkFlightField","_checkResolver","backingField","moduleImport","operationKey","documentName","operationReference","normalizationRootNode","fieldValue","getActorLinkedRecordID","prevSource","prevMutator","prevRecordSourceProxy","_this$_getMutatorAndR2","tree","REACT_FLIGHT_TREE_STORAGE_KEY","reachableExecutableDefinitions","REACT_FLIGHT_EXECUTABLE_DEFINITIONS_STORAGE_KEY","definition","clientAbstractTypes","_i","_Object$keys","abstractType","concreteType","withDuration","RelayResponseNormalizer","Executor","getPublishQueue","isClientPayload","operationExecutions","operationTracker","optimisticConfig","_reactFlightPayloadDeserializer","reactFlightPayloadDeserializer","reactFlightServerErrorHandler","scheduler","treatMissingFieldsAsNull","log","_withDuration","duration","_log","executeId","_executeId","operationName","_operation","_actorIdentifier","_treatMissingFieldsAsNull","_incrementalPayloadsPending","_incrementalResults","_nextSubscriptionId","_operationExecutions","_operationTracker","_operationUpdateEpochs","_optimisticUpdates","_pendingModulePayloadsCount","_getPublishQueue","_scheduler","_state","_getStore","_subscriptions","_updater","_isClientPayload","_reactFlightServerErrorHandler","_isSubscriptionOperation","_retainDisposables","_seenActors","_completeFns","_complete","_next","_this$_operation$requ","_start","_processOptimisticResponse","cancel","optimisticUpdates","_getPublishQueueAndSaveActor","revertUpdate","_runPublishQueue","_asyncStoreUpdateDisposable","_completeOperationTracker","_disposeRetainedData","_updateActiveState","activeState","_schedule","task","cancellationToken","schedule","_id","_handleNext","_maybeCompleteSubscriptionOperationTracking","_handleErrorResponse","responses","results","messages","_ref3","stack","responseWithData","_handleOptimisticResponses","_response$extensions","responsePart","_responsePart$extensi","isOptimistic","responsesWithData","x","_x$extensions","is_final","_partitionGraphQLResp","nonIncrementalResponses","incrementalResponses","label","partitionGraphQLResponses","hasNonIncrementalResponses","payloadFollowups","_processResponses","_processPayloadFollowups","_payloadFollowups","_processIncrementalResponses","__relay_subscription_root_id","updatedOwners","_retainData","_updateOperationTracker","normalizeResponse","_deserializeReactFlightPayloadWithLogging","validateOptimisticResponsePayload","_processOptimisticFollowups","incrementalPlaceholders","followupPayloads","isFinal","applyUpdate","followupPayload","_expectOperationLoader","_processAsyncOptimisticModuleImport","moduleImportOptimisticUpdates","_processOptimisticModuleImport","_normalizeFollowupPayload","normalizationNode","moduleImportPayload","modulePayload","_this$_optimisticUpda","payloadPart","relayPayload","commitPayload","payloads","_followupPayload$acto","prevActorIdentifier","_processFollowupPayload","incrementalPlaceholder","_incrementalPlacehold","_processIncrementalPlaceholder","relayPayloads","_processDeferResponse","_this10","_processFollowupPayloadWithNormalizationNode","decrementPendingCount","loadedNode","publishModuleImportPayload","batchAsyncModuleUpdatesFN","BATCH_ASYNC_MODULE_UPDATES_FN","shouldScheduleAsyncStoreUpdate","_handleFollowupPayload","_scheduleAsyncStoreUpdate","_error4","_relayPayload$fieldPa","pathKey","resultForLabel","resultForPath","pendingResponses","nextParentRecord","nextParentPayloads","parentRecord","parentPayloads","fieldID","previousParentEntry","handlePayloads","dedupePayload","_JSON$stringify","stableStringify","_this11","incrementalResponse","_pathKey","_resultForPath","_placeholder","_processStreamResponse","_placeholder$actorIde","parentEntry","_response$extensions2","handleFieldsRelayPayload","_this$_normalizeStrea","_normalizeStreamItem","itemID","itemIndex","currentParentRecord","currentItems","currentItem","nextItems","normalizationPath","_field$alias","_field$concreteType","_this$_getDataID","responseKey","finalPathEntry","parseInt","scheduleFn","completeFn","_this12","_getActorsToVisit","run","_response$extensions3","normalize","currentVariables","nextVariables","nextArgs","def","_nextArgs$def$name","defaultValue","argumentVariables","varName","wrapNetworkWithLogObserver","registerEnvironmentWithDevTools","defaultGetDataID","defaultRequiredFieldLogger","OperationExecutor","RelayPublishQueue","_config$log","_config$requiredField","_config$UNSTABLE_defa","_config$getDataID","_config$missingFieldH","_config$handlerProvid","_config$scheduler","_config$isServer","_config$operationTrac","configName","requiredFieldLogger","_defaultRenderPolicy","UNSTABLE_defaultRenderPolicy","ENABLE_PARTIAL_RENDERING_DEFAULT","_network","_publishQueue","_store","_isServer","__setNet","newNet","getOperationTracker","getScheduler","requestIdentifier","optimisticUpdate","_scheduleUpdates","replaceUpdate","newUpdate","_execute","createSource","operationHasClientAbstractTypes","_checkSelectorAndHandleMissingFields","getSource","commitSource","executeSubscription","_ref4","toJSON","_this$configName","publishQueue","executor","RelayModernFragmentSpecResolver","_stale","_callback","_context","_data","_fragments","_props","_resolvers","_rootIsQueryRenderer","disposeCallback","prevItem","nextItem","prop","_nextItem","ownedSelectors","ownedSelector","SelectorListResolver","_onChange","setSelector","SelectorResolver","subscribeOnConstruction","_isMissingData","_missingRequiredFields","_relayResolverErrors","_selector","_subscription","_pendingOperationsRes","_subscribeOnConstruction","_proto3","isSuspenseSentinel","ACTOR_IDENTIFIER_KEY","INVALIDATED_AT_KEY","RELAY_RESOLVER_VALUE_KEY","maybeLink","link","links","record1","record2","prevRecord","nextRecord","updated","setActorLinkedRecordID","getResolverLinkedRecordID","getResolverLinkedRecordIDs","resolverValue","CLIENT_EDGE_TRAVERSAL_PATH","IS_WITHIN_UNMATCHED_TYPE_REFINEMENT","mixedOwner","isWithinUnmatchedTypeRefinement","mixedClientEdgeTraversalPath","clientEdgeTraversalPath","items","ids","getDataIDs","itemVariables","areEqualSingularSelectors","thisSelector","thatSelector","_regeneratorRuntime","resolveImmediate","RelayOptimisticRecordSource","RelayReader","RelayReferenceMarker","RelayStoreSubscriptions","RecordResolverCache","_options$gcReleaseBuf","_options$gcScheduler","_options$getDataID","_options$log","_options$operationLoa","_gcRun","_gcScheduler","_gcStep","_currentWriteEpoch","_gcHoldCounter","_gcReleaseBufferSize","gcReleaseBufferSize","gcScheduler","_globalInvalidationEpoch","_invalidationSubscriptions","_invalidatedRecordIDs","_queryCacheExpirationTime","queryCacheExpirationTime","_optimisticSource","_recordSource","_releaseBuffer","_roots","_shouldScheduleGC","_resolverCache","_getMutableRecordSource","_storeSubscriptions","_updatedRecordIDs","rootRecord","initializeRecordSource","_this$_optimisticSour","_this$_optimisticSour2","_options$handlers","_options$getSourceFor","_options$getTargetFor","_options$defaultActor","globalInvalidationEpoch","rootEntry","operationLastWrittenAt","epoch","operationFetchTime","getAvailabilityStatus","refCount","scheduleGC","shift","notify","sourceOperation","ENABLE_RELAY_RESOLVERS","invalidateDataIDs","updateSubscriptions","_updateInvalidationSubscription","updatedRecordIDs","invalidatedRecordIDs","temporaryRootEntry","publish","idsMarkedForInvalidation","currentWriteEpoch","targetRecord","REACT_FLIGHT_TYPE_NAME","updateTargetFromSource","optimistic","holdGC","__getUpdatedRecordIDs","invalidations","_RelayModernRecord$ge","checkInvalidationState","prevInvalidationState","currentInvalidations","prevInvalidations","invalidatedStore","snapshotSubscriptions","restore","restoreSubscriptions","_collect","__gc","gcRun","mark","startEpoch","references","storeIDs","wrap","abrupt","t0","finish","stop","_ownersToPendingOperations","_pendingOperationsToOwners","_ownersToPendingPromise","pendingOperation","affectedOwners","pendingOperationIdentifier","newlyAffectedOwnersIdentifier","ownerIdentifier","pendingOperationsAffectingOwner","ownersAffectedByPendingOperation","_ownerIdentifier","_resolveOwnerResolvers","affectedOwnersIdentifier","completedOwnersIdentifier","updatedOwnersIdentifier","_ownerIdentifier2","_ownerIdentifier3","promiseEntry","getPendingOperationsAffectingOwner","pendingOperationsForOwner","cachedPromiseEntry","UNPUBLISH_RECORD_SENTINEL","__UNPUBLISH_RECORD_SENTINEL","merged","getOptimisticRecordIDs","_global$ErrorUtils$ap","_global$ErrorUtils","_global","applyWithGuard","ErrorUtils","_hasStoreSnapshot","_pendingBackupRebase","_pendingData","_pendingOptimisticUpdates","_appliedOptimisticUpdates","_gcHold","revertAll","runWillClearGcHold","_commitData","_applyUpdates","_publishSourceFromPayload","pendingPayload","lookupSelector","payloadInvalidatedStore","processUpdate","storeUpdater","selectorData","recordSourceSelectorProxy","getReactFlightClientResponse","FRAGMENT_PROP_NAME_KEY","MODULE_COMPONENT_KEY","NoopResolverCache","_require6","RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL","withResolverContext","resolverCache","_selector$clientEdgeT","_clientEdgeTraversalPath","_missingClientEdges","_missingLiveResolverFields","_isWithinUnmatchedTypeRefinement","_owner","_seenRecords","_resolverErrors","_fragmentName","_updatedDataIDs","_this$_selector","isDataExpectedToBePresent","implementsInterface","notifyUpdatedSubscribers","_markDataAsMissing","top","readerClientEdge","_maybeReportUnexpectedNull","fieldPath","_record","_this$_missingRequire","fields","_readRequiredField","_readScalar","_readPluralLink","_readLink","_readInlineFragment","_readResolverField","_createFragmentPointer","_createAliasedFragmentSpread","_fieldValue","_readModuleImport","_createInlineDataOrResolverFragmentPointer","alreadyMissingClientEdges","_hasExpectedData","_readFlightField","_readActorChange","_readClientEdge","parentRecordID","getDataForResolverFragment","singularReaderSelector","_this$_resolverCache$","readFromCacheOrEvaluate","_getResolverValue","getResolverValue","resolverResult","resolverError","_getResolverValue2","seenRecord","cachedSnapshot","suspenseID","updatedDataIDs","_addMissingRequiredFields","missing","missingResolverField","_backingField$alias","applicationName","backingFieldData","clientEdgeResolverResponse","validClientEdgeResolverResponse","extractIdFromResponse","assertValidClientEdgeResolverResponse","normalizationInfo","ensureClientRecord","getStoreIDsForPluralClientEdgeResolver","_readLinkedIds","_getStoreIDAndTravers","getStoreIDAndTraversalPathSegmentForSingularClientEdgeResolver","storeID","traversalPathSegment","_field$alias2","reactFlightClientResponseRecordID","reactFlightClientResponseRecord","clientResponse","_field$alias3","_field$alias4","_field$alias5","externalRef","fragmentSpread","__fragmentRef","__viewer","_field$alias6","linkedArray","componentKey","fragmentPropName","namedFragmentSpread","fieldData","inlineFragment","parentIsMissingData","parentIsWithinUnmatchedTypeRefinement","fragmentPointers","fragmentSpreadOrFragment","inlineData","parentFragmentName","additional","typeRecord","ownerName","resolverFunction","resolverModule","resolverFunctionArgs","_field$path","individualResponse","errorMessage","RelayRecordState","_records","_step$value","getOutputTypeRecordIDs","_operationName","_references","_traverseLink","_traversePluralLink","_typeName","_typeName2","_traverseModuleImport","_traverseFlightField","_traverseResolverField","_traverseClientEdgeToClientObject","resolverRecord","isOutputType","outputTypeRecordIDs","_dataID2","_dataID3","refineToReactFlightPayloadData","_require7","getHandleStorageKey","_require8","_getDataId","_handleFieldPayloads","_incrementalPlaceholders","_isClientExtension","_isUnmatchedAbstractType","_followupPayloads","_path","_getRecordType","_normalizeField","_typeRecord","_normalizeModuleImport","_normalizeDefer","_normalizeStream","isClientExtension","_normalizeFlightField","_normalizeActorChange","_normalizeResolver","defer","stream","componentReference","componentModuleProvider","operationModuleProvider","_normalizePluralLink","_normalizeLink","reactFlightPayload","reactFlightID","reactFlightClientResponse","__typename","_field$concreteType2","_field$concreteType3","_validateRecordType","_field$concreteType4","_validateConflictingFieldsWithIdenticalId","_validateConflictingLinkedFieldsWithIdenticalId","prevID","hasOverlappingIDs","backup","stale","hasUpdatedRecords","_updateSubscription","hasOverlappingUpdates","nextSnapshot","ENABLE_NOTIFY_SUBSCRIPTION","VARIABLE","LITERAL","OBJECT_VALUE","LIST_VALUE","getArgumentValue","getStableVariableValue","variableName","_value","formatStorageKey","argValues","argName","RELAY_RESOLVER_INVALIDATION_KEY","RELAY_RESOLVER_SNAPSHOT_KEY","RELAY_RESOLVER_ERROR_KEY","RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS","dynamicKey","handleName","filterArgs","_field$fragment2","_field$fragment","getArguments","emptySet","evaluate","_evaluate","addDependencyEdge","getRecordSource","_resolverIDToRecordIDs","_recordIDToResolverIDs","_getRecordSource","_isInvalid","_linkedID","evaluationResult","currentRecord","_evaluationResult$sna","fragmentStorageKey","resolverID","seenRecordIds","seenRecordID","answer","visited","recordsToVisit","_this$_recordIDToReso","_this$_resolverIDToRe","anotherRecordID","_markInvalidatedResolverRecord","originalInputs","readerSelector","latestValues","contextStack","readFragment","_context$getDataForRe","isTypeID","sourceField","firstReact","react","event","LIVE_RESOLVER_SUSPENSE_SENTINEL","__LIVE_RESOLVER_SUSPENSE_SENTINEL","suspenseSentinel","maybeOutputTypeRecordIDs","ITERATOR_KEY","iterator","_fragmentRef$FRAGMENT","inlineDataFragment","_responses$","_responses$$extension","_responses$extensions","LOCAL_ARGUMENT","OPERATION","ROOT_ARGUMENT","SPLIT_OPERATION","createError","messageFormat","_len","messageParams","_key","taalOpcodes","_len2","_key2","createWarning","_len3","_key3","ENABLE_VARIABLE_CONNECTION_KEY","ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION","ENABLE_FRIENDLY_QUERY_NAME_GQL_URL","ENABLE_DO_NOT_WRAP_LIVE_QUERY","USE_REACT_CACHE_LEGACY_TIMEOUTS","profileHandlersByName","defaultProfiler","profile","stopHandlers","stopHandler","attachProfileHandler","detachProfileHandler","element","removeFromArray","_observable","_sinks","events","_events","internTable","digits","initDigitTable","INTERN_PREFIX","ESCAPE_PREFIX","str","limit","escape","internedString","getOwnPropertyNames","property","isFrozen","isEmptyObject","fragmentOwnerIdentifier","sel","_ids","refetchMetadata","_objectSpread4","backwardMetadata","backward","forwardMetadata","forward","_paginationVariables","_pendingOperations$ma","_pendingOperations","_result$pendingOperat","_result$promise","pendingOperationName","op","promiseDisplayName","fragmentPathInResult","requestID","_missingRequiredField","valueA","valueB","hasWeakSetDefined","WeakSet","hasWeakMapDefined","canRecycle","prevArray","nextArray","reduce","wasEqual","nextValue","prevObject","nextObject","nextKeys","devToolsHook","__RELAY_DEVTOOLS_HOOK__","registerEnvironment","resolvedPromise","throwNext","stable","_window","_window$performance","isPerformanceNowAvailable","performance","currentTimestamp","startTime","debugCache","userSuppliedVariables","providerFunction","providerResult","cachedResult","tests_only_resetDebugCache","arr","arr2","__esModule","arrayLikeToArray","self","ReferenceError","unsupportedIterableToArray","o","allowArrayLike","it","F","_e","TypeError","normalCompletion","didErr","step","_e2","toPropertyKey","enumerable","configurable","writable","bind","setPrototypeOf","subClass","superClass","iter","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","excluded","sourceKeys","_typeof","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","__proto__","awrap","async","reverse","skipTempReset","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","_setPrototypeOf","arrayWithoutHoles","iterableToArray","nonIterableSpread","input","hint","prim","toPrimitive","minLen","test","each","defaults","hasXMLHttpRequest","XMLHttpRequest","fetchApi","XmlHttpRequestApi","ActiveXObjectApi","ActiveXObject","fetchNode","addQueryString","queryString","paramName","encodeURIComponent","fetchIt","statusText","text","catch","omitFetchOptions","queryStringParams","headers","customHeaders","reqOptions","requestOptions","body","opt","requestWithFetch","open","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","onreadystatechange","readyState","responseText","send","console","requestWithXmlHttpRequest","_defineProperties","descriptor","_toPropertyKey","_toPrimitive","getDefaults","loadPath","addPath","allowMultiLoading","parsePayload","namespace","fallbackValue","parseLoadPayload","languages","namespaces","reloadInterval","mode","credentials","cache","Backend","services","allOptions","instance","Constructor","protoProps","staticProps","setInterval","reload","_readAny","language","loadUrlLanguages","loadUrlNamespaces","maybePromise","resolvedLoadPath","interpolator","interpolate","lng","ns","loadUrl","ret","parseErr","finished","dataArray","resArray","_this$services","backendConnector","languageUtils","logger","currentLanguage","toLoad","append","toResolveHierarchy","l","preload","warn","loaded","ownKeys$6","_objectSpread$6","consoleLogger","output","Logger","concreteLogger","prefix","debug","bool","_len4","_key4","lvl","debugOnly","moduleName","baseLogger","EventEmitter","observers","split","rej","makeString","getLastOfPath","cleanKey","canNotTraverseDeeper","k","setPath","_getLastOfPath","getPath","_getLastOfPath3","deepExtend","overwrite","regexEscape","_entityMap","isIE10","userAgentData","userAgent","chars","deepFind","keySeparator","paths","j","mix","joinedPath","ownKeys$5","_objectSpread$5","_createSuper$3","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct$3","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","ResourceStore","_EventEmitter","defaultNS","_assertThisInitialized","ignoreJSONStructure","silent","addNamespaces","emit","resources","m","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","getDataByLanguage","v","postProcessor","processors","addPostProcessor","translator","processor","ownKeys$4","_objectSpread$4","_createSuper$2","_isNativeReflectConstruct$2","checkedLoadedFor","Translator","interpolation","nsSeparator","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","RegExp","matched","ki","substring","looksLikeObjectPath","match","nestingRegexp","parts","lastKey","overloadTranslationOptionHandler","returnDetails","_this$extractFromKey","extractFromKey","appendNamespaceToCIMode","usedKey","exactUsedKey","usedLng","usedNS","resUsedKey","resExactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","needsPluralHandling","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","getFallbackCodes","fallbackLng","saveMissingTo","specificDefaultValue","defaultForMissing","missingKeyHandler","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","defaultVariables","skipInterpolation","nestBef","skipOnVariables","nb","na","nest","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsZeroSuffixLookup","ordinal","shouldUseIntlApi","needsContextHandling","codes","utils","hasLoadedNamespace","code","possibleKey","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","pluralSeparator","contextKey","contextSeparator","returnNull","returnEmptyString","resourceStore","option","capitalize","toUpperCase","LanguageUtil","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","isSupportedCode","lngOnly","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","deprecatedJsonVersions","suffixesOrder","zero","one","two","few","many","other","PluralResolver","compatibilityJSON","Intl","PluralRules","rules","numbers","plurals","createRules","rule","getRule","resolvedOptions","pluralCategories","pluralCategory1","pluralCategory2","pluralCategory","prepend","select","getSuffixRetroCompatible","noAbs","abs","simplifyPluralSuffix","returnSuffix","ownKeys$3","_objectSpread$3","deepFindWithDefaults","defaultData","getPathWithDefaults","Interpolator","escapeValue","iOpts","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","handleFormat","interpolationkey","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","ownKeys$2","_objectSpread$2","createCachedFormatter","formatter","Formatter","formats","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","list","ListFormat","_format","mem","_parseFormatStr","formatStr","formatName","formatOptions","optStr","_opt$split","_opt$split2","_toArray","parseFormatStr","formatted","valOptions","formatParams","ownKeys$1","_objectSpread$1","_createSuper$1","_isNativeReflectConstruct$1","Connector","backend","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","pendingCount","addResourceBundle","q","_getLastOfPath2","pushPath","removePending","loadedKeys","fcName","tried","wait","queueLoad","loadOne","prepareLoading","isUpdate","clb","opts","initImmediate","partialBundledLanguages","tDescription","transformOptions","_objectSpread","_isNativeReflectConstruct","noop","I18n","inst","modules","external","isInitialized","isClone","defOpts","createClassOnDemand","ClassOrObject","lu","on","languageDetector","detection","_this2$store","_this2$store2","deferred","initializedStoreOnce","changeLanguage","usedCallback","resolvedLanguage","setResolvedLanguage","li","lngInLngs","hasLanguageSomeTranslations","isLanguageChangingTo","setLngProps","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","detect","keyPrefix","fixedT","resultKey","_this$translator","_this$translator2","exists","lastLng","loadNotPending","loadState","precheck","preResult","preloaded","newLngs","createInstance","dir","reloadResources","use","getFixedT","setDefaultNamespace","loadNamespaces","loadLanguages"],"sourceRoot":""}