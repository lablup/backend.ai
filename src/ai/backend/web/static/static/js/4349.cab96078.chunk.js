/*! For license information please see 4349.cab96078.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4349],{72456:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AgentDetailModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"available_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cpu_cur_pct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mem_cur_bytes",storageKey:null}],type:"Agent",abstractKey:null,hash:"cb343a0290034803cca4c2b82a1c1b68"},i=a},73814:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"limit"},l={defaultValue:null,kind:"LocalArgument",name:"offset"},a={defaultValue:null,kind:"LocalArgument",name:"order"},i={defaultValue:null,kind:"LocalArgument",name:"status"},t=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"},{kind:"Variable",name:"status",variableName:"status"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"addr",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"compute_plugins",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"first_contact",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"lost_at",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"status_changed",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"cpu_cur_pct",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"mem_cur_bytes",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"available_slots",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"schedulable",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null};return{fragment:{argumentDefinitions:[e,n,l,a,i],kind:"Fragment",metadata:null,name:"AgentListQuery",selections:[{alias:null,args:t,concreteType:"AgentList",kind:"LinkedField",name:"agent_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Agent",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,s,u,d,c,m,g,p,v,y,x,h,b,f,A,k,{args:null,kind:"FragmentSpread",name:"AgentDetailModalFragment"},{args:null,kind:"FragmentSpread",name:"AgentSettingModalFragment"}],storageKey:null},_],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,l,e,i,a],kind:"Operation",name:"AgentListQuery",selections:[{alias:null,args:t,concreteType:"AgentList",kind:"LinkedField",name:"agent_list",plural:!1,selections:[{alias:null,args:null,concreteType:"Agent",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,s,u,d,c,m,g,p,v,y,x,h,b,f,A,k],storageKey:null},_],storageKey:null}]},params:{cacheID:"e1a551c0261ce59a4b187a3bbb29b86b",id:null,metadata:{},name:"AgentListQuery",operationKind:"query",text:"query AgentListQuery(\n  $limit: Int!\n  $offset: Int!\n  $filter: String\n  $status: String\n  $order: String\n) {\n  agent_list(limit: $limit, offset: $offset, filter: $filter, status: $status, order: $order) {\n    items {\n      id\n      status\n      version\n      addr\n      architecture\n      region\n      compute_plugins\n      first_contact\n      lost_at\n      status_changed\n      live_stat\n      cpu_cur_pct\n      mem_cur_bytes\n      available_slots\n      occupied_slots\n      scaling_group\n      schedulable\n      ...AgentDetailModalFragment\n      ...AgentSettingModalFragment\n    }\n    total_count\n  }\n}\n\nfragment AgentDetailModalFragment on Agent {\n  id\n  live_stat\n  available_slots\n  occupied_slots\n  cpu_cur_pct\n  mem_cur_bytes\n}\n\nfragment AgentSettingModalFragment on Agent {\n  id\n  schedulable\n}\n"}}}();a.hash="1d6c6a390aad71e4b7815a623ca61d86";const i=a},76611:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AgentSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schedulable",storageKey:null}],type:"Agent",abstractKey:null,hash:"303f8ee06508c3b28511ab1a24a305d5"},i=a},49216:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"props"}],n=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"props",variableName:"props"}],concreteType:"ModifyAgent",kind:"LinkedField",name:"modify_agent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AgentSettingModalMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AgentSettingModalMutation",selections:n},params:{cacheID:"1a9e43d4bc6e78f3949d1a2a397ff00e",id:null,metadata:{},name:"AgentSettingModalMutation",operationKind:"mutation",text:"mutation AgentSettingModalMutation(\n  $id: String!\n  $props: ModifyAgentInput!\n) {\n  modify_agent(id: $id, props: $props) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="13b2a6a91c7f08bbced5fde155ded60e";const i=a},53320:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e=[{alias:null,args:[{kind:"Literal",name:"is_active",value:!0}],concreteType:"Domain",kind:"LinkedField",name:"domains",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:"domains(is_active:true)"}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainSelectorQuery",selections:e,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"DomainSelectorQuery",selections:e},params:{cacheID:"9df762094b74dc3eb8079edfcc73765f",id:null,metadata:{},name:"DomainSelectorQuery",operationKind:"query",text:"query DomainSelectorQuery {\n  domains(is_active: true) {\n    name\n  }\n}\n"}}}();a.hash="c14d362fa40cf9a3cef5d1d71202cc5f";const i=a},72377:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ResourceGroupInfoModalFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"NONE"},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"driver",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"driver_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scheduler",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scheduler_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wsproxy_addr",storageKey:null}],type:"ScalingGroup",abstractKey:null,hash:"32b9c1a86a13b37cf5abb7e88f1cd969"},i=a},10656:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"}],n=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"}],concreteType:"DeleteScalingGroup",kind:"LinkedField",name:"delete_scaling_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourceGroupListDeleteMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourceGroupListDeleteMutation",selections:n},params:{cacheID:"fdcd5026b9668171b8d52998b2c16c6d",id:null,metadata:{},name:"ResourceGroupListDeleteMutation",operationKind:"mutation",text:"mutation ResourceGroupListDeleteMutation(\n  $name: String!\n) {\n  delete_scaling_group(name: $name) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="40de35d5afd64c8d906e4970b10b722d";const i=a},7300:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"is_active"}],n=[{kind:"Variable",name:"is_active",variableName:"is_active"}],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"is_public",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"driver",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"scheduler",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"wsproxy_addr",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourceGroupListQuery",selections:[{alias:null,args:n,concreteType:"ScalingGroup",kind:"LinkedField",name:"scaling_groups",plural:!0,selections:[l,a,i,t,r,o,s,{args:null,kind:"FragmentSpread",name:"ResourceGroupInfoModalFragment"},{args:null,kind:"FragmentSpread",name:"ResourceGroupSettingModalFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourceGroupListQuery",selections:[{alias:null,args:n,concreteType:"ScalingGroup",kind:"LinkedField",name:"scaling_groups",plural:!0,selections:[l,a,i,t,r,o,s,{alias:null,args:null,kind:"ScalarField",name:"driver_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scheduler_opts",storageKey:null}],storageKey:null}]},params:{cacheID:"a388cfe6011c626e8a46a241d373f0cf",id:null,metadata:{},name:"ResourceGroupListQuery",operationKind:"query",text:"query ResourceGroupListQuery(\n  $is_active: Boolean\n) {\n  scaling_groups(is_active: $is_active) {\n    name\n    description\n    is_active\n    is_public\n    driver\n    scheduler\n    wsproxy_addr\n    ...ResourceGroupInfoModalFragment\n    ...ResourceGroupSettingModalFragment\n  }\n}\n\nfragment ResourceGroupInfoModalFragment on ScalingGroup {\n  name\n  description\n  is_active\n  is_public\n  driver\n  driver_opts\n  scheduler\n  scheduler_opts\n  wsproxy_addr\n}\n\nfragment ResourceGroupSettingModalFragment on ScalingGroup {\n  name\n  description\n  is_active\n  is_public\n  wsproxy_addr\n  scheduler\n  scheduler_opts\n}\n"}}}();a.hash="73ad50968ae420ea2cd912e9fa046cf8";const i=a},91514:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"input"},n={defaultValue:null,kind:"LocalArgument",name:"name"},l=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"props",variableName:"input"}],concreteType:"ModifyScalingGroup",kind:"LinkedField",name:"modify_scaling_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ResourceGroupListUpdateMutation",selections:l,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ResourceGroupListUpdateMutation",selections:l},params:{cacheID:"f2bb803220bb606aab5576ae85eed3c3",id:null,metadata:{},name:"ResourceGroupListUpdateMutation",operationKind:"mutation",text:"mutation ResourceGroupListUpdateMutation(\n  $name: String!\n  $input: ModifyScalingGroupInput!\n) {\n  modify_scaling_group(name: $name, props: $input) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="ac249dff8b2c9b629edb2ca40843c134";const i=a},93538:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain"},{defaultValue:null,kind:"LocalArgument",name:"scaling_group"}],n=[{alias:null,args:[{kind:"Variable",name:"domain",variableName:"domain"},{kind:"Variable",name:"scaling_group",variableName:"scaling_group"}],concreteType:"AssociateScalingGroupWithDomain",kind:"LinkedField",name:"associate_scaling_group_with_domain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ResourceGroupSettingModalAssociateDomainMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ResourceGroupSettingModalAssociateDomainMutation",selections:n},params:{cacheID:"72535173512804feacec89a7cabb4ac3",id:null,metadata:{},name:"ResourceGroupSettingModalAssociateDomainMutation",operationKind:"mutation",text:"mutation ResourceGroupSettingModalAssociateDomainMutation(\n  $domain: String!\n  $scaling_group: String!\n) {\n  associate_scaling_group_with_domain(domain: $domain, scaling_group: $scaling_group) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="a1253f2e15bdfc1e59cdf2b26bc0a273";const i=a},95306:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"input"},n={defaultValue:null,kind:"LocalArgument",name:"name"},l=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"props",variableName:"input"}],concreteType:"CreateScalingGroup",kind:"LinkedField",name:"create_scaling_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ResourceGroupSettingModalCreateMutation",selections:l,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ResourceGroupSettingModalCreateMutation",selections:l},params:{cacheID:"6d6716d2dedf664e623006a2315b3c66",id:null,metadata:{},name:"ResourceGroupSettingModalCreateMutation",operationKind:"mutation",text:"mutation ResourceGroupSettingModalCreateMutation(\n  $name: String!\n  $input: CreateScalingGroupInput!\n) {\n  create_scaling_group(name: $name, props: $input) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="8642e40e794eaf1f4b0a84e05104d75c";const i=a},85629:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ResourceGroupSettingModalFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"NONE"},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wsproxy_addr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scheduler",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scheduler_opts",storageKey:null}],type:"ScalingGroup",abstractKey:null,hash:"738d94e03577df0f1298c085d29dcb12"},i=a},49655:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"input"},n={defaultValue:null,kind:"LocalArgument",name:"name"},l=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"props",variableName:"input"}],concreteType:"ModifyScalingGroup",kind:"LinkedField",name:"modify_scaling_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"msg",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ResourceGroupSettingModalUpdateMutation",selections:l,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ResourceGroupSettingModalUpdateMutation",selections:l},params:{cacheID:"2352dc03b1acef2df9cf7c5f686665a3",id:null,metadata:{},name:"ResourceGroupSettingModalUpdateMutation",operationKind:"mutation",text:"mutation ResourceGroupSettingModalUpdateMutation(\n  $name: String!\n  $input: ModifyScalingGroupInput!\n) {\n  modify_scaling_group(name: $name, props: $input) {\n    ok\n    msg\n  }\n}\n"}}}();a.hash="510c22b428b17c9e16efd58a5f908c3d";const i=a},11958:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"limit"},n={defaultValue:null,kind:"LocalArgument",name:"offset"},l=[{alias:null,args:[{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"}],concreteType:"StorageVolumeList",kind:"LinkedField",name:"storage_volume_list",plural:!1,selections:[{alias:null,args:null,concreteType:"StorageVolume",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fsprefix",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"performance_metric",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"StorageProxyListQuery",selections:l,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"StorageProxyListQuery",selections:l},params:{cacheID:"00f25e00fb3163b514baaa3ef857ead0",id:null,metadata:{},name:"StorageProxyListQuery",operationKind:"query",text:"query StorageProxyListQuery(\n  $offset: Int!\n  $limit: Int!\n) {\n  storage_volume_list(limit: $limit, offset: $offset) {\n    items {\n      id\n      backend\n      capabilities\n      path\n      fsprefix\n      performance_metric\n      usage\n    }\n    total_count\n  }\n}\n"}}}();a.hash="8eea8c97cb39a266757eaa25705b6633";const i=a},18146:(e,n,l)=>{l.d(n,{A:()=>d});var a,i=l(39637),t=l(27484),r=l.n(t),o=(l(1426),l(55244)),s=l(18347),u=l(42906);const d=e=>{let{onSelectDomain:n,...t}=e;const{t:d}=(0,o.Bd)(),{domains:c}=(0,s.useLazyLoadQuery)(void 0!==a?a:a=l(53320),{},{fetchPolicy:"store-and-network"});return(0,u.jsxs)(i.A,{onChange:(e,l)=>{null===n||void 0===n||n(l)},placeholder:d("storageHost.quotaSettings.SelectDomain"),...t,children:[r().map(c,(e=>(0,u.jsx)(i.A.Option,{domainName:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.name))),";"]})}},39667:(e,n,l)=>{l.d(n,{A:()=>p});var a=l(58452),i=l(80310),t=l(87447),r=l(74400),o=l(83757),s=l(37632),u=l(27484),d=l.n(u),c=l(1426),m=l(55244),g=l(42906);const p=e=>{var n;let{open:l,onRequestClose:u,columns:p,hiddenColumnKeys:v,...y}=e;const x=(0,c.useRef)(null),{t:h}=(0,m.Bd)(),{token:b}=t.A.useToken(),f=d().map(p,(e=>{return"string"===typeof e.title?{label:e.title,value:d().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(n=e.title,c.Children.map(n.props.children,(e=>{if("string"===typeof e)return e}))),value:d().toString(e.key)}:{label:void 0,value:d().toString(e.key)};var n}));return(0,g.jsx)(a.A,{title:h("table.SettingTable"),open:l,destroyOnClose:!0,centered:!0,onOk:()=>{var e;null===(e=x.current)||void 0===e||e.validateFields().then((e=>{u(e)})).catch((()=>{}))},onCancel:()=>{u()},...y,children:(0,g.jsxs)(r.A,{ref:x,preserve:!1,initialValues:{selectedColumnKeys:null===(n=d().map(f,"value"))||void 0===n?void 0:n.filter((e=>!d().includes(v,e)))},layout:"vertical",children:[(0,g.jsx)(r.A.Item,{name:"searchInput",label:h("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,g.jsx)(o.A,{prefix:(0,g.jsx)(i.A,{}),style:{marginBottom:b.marginSM},placeholder:h("table.SearchTableColumn")})}),(0,g.jsx)(r.A.Item,{noStyle:!0,shouldUpdate:(e,n)=>e.searchInput!==n.searchInput,children:e=>{let{getFieldValue:n}=e;const l=n("searchInput")?d().toLower(n("searchInput")):void 0,a=d().map(f,(e=>d().toLower(d().toString(e.label)).includes(l||"")?e:{...e,style:{display:"none"}}));return(0,g.jsx)(r.A.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},rules:[{required:!0,message:h("general.validation.PleaseSelectOptions")}],children:(0,g.jsx)(s.A.Group,{options:a,style:{flexDirection:"column"}})})}})]})})}},50738:(e,n,l)=>{l.d(n,{a:()=>i});var a=l(46606);const i=e=>{const[n,l]=(0,a.q)(`hiddenColumnKeys.${e}`);return[n,l]}},34349:(e,n,l)=>{l.r(n),l.d(n,{default:()=>Ee});var a,i=l(14262),t=l(32967),r=l(88653),o=l(18936),s=l(50738),u=l(60081),d=l(58452),c=l(92680),m=l(90840),g=l(87447),p=l(61004),v=l(90158),y=l(40262),x=l(27484),h=l.n(x),b=l(1426),f=l(55244),A=l(18347),k=l(42906);const _=e=>{var n,t,o,s,u,x,b,_,S,j,F,G,w,T;let{agentDetailModalFrgmt:K=null,onRequestClose:D,...L}=e;const{t:M}=(0,f.Bd)(),{token:I}=g.A.useToken(),{mergedResourceSlots:R}=(0,r.Hv)(),C=(0,A.useFragment)(void 0!==a?a:a=l(72456),K),N=JSON.parse((null===C||void 0===C?void 0:C.live_stat)||"{}"),V=JSON.parse((null===C||void 0===C?void 0:C.available_slots)||"{}");return(0,k.jsx)(d.A,{...L,centered:!0,title:`${M("agent.DetailedInformation")}: ${null===C||void 0===C?void 0:C.id}`,onCancel:D,destroyOnClose:!0,footer:null,children:(0,k.jsxs)(m.A,{direction:"column",align:"stretch",gap:"md",children:[(0,k.jsxs)(p.A,{gutter:[24,24],children:[(0,k.jsx)(v.A,{xs:24,sm:12,children:null!==N&&void 0!==N&&null!==(n=N.devices)&&void 0!==n&&n.cpu_util?(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,k.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:null===R||void 0===R||null===(t=R.cpu)||void 0===t?void 0:t.human_readable_name}),h().map(null===N||void 0===N||null===(o=N.devices)||void 0===o?void 0:o.cpu_util,((e,n)=>{var l;return(0,k.jsxs)(m.A,{justify:"between",children:[(0,k.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===R||void 0===R||null===(l=R.cpu)||void 0===l?void 0:l.human_readable_name,n]},n),(0,k.jsx)(c.A,{percent:null===e||void 0===e?void 0:e.pct,valueLabel:(0,i.Z1)(null===e||void 0===e?void 0:e.pct,1)+"%"})]})}))]}):null}),(0,k.jsxs)(v.A,{xs:24,sm:12,children:[null!==V&&void 0!==V&&V.mem?(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,k.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:null===R||void 0===R||null===(s=R.mem)||void 0===s?void 0:s.human_readable_name}),(0,k.jsx)(c.A,{percent:h().toNumber(null===(u=(0,i.mv)(h().toString(null===C||void 0===C?void 0:C.mem_cur_bytes),"g"))||void 0===u?void 0:u.number)/h().toNumber(null===(x=(0,i.mv)(null===V||void 0===V?void 0:V.mem,"g"))||void 0===x?void 0:x.number)*100||0,valueLabel:`${null===(b=(0,i.mv)(h().toString(null===C||void 0===C?void 0:C.mem_cur_bytes),"g"))||void 0===b?void 0:b.displayValue} / ${null===(_=(0,i.mv)(null===V||void 0===V?void 0:V.mem,"g"))||void 0===_?void 0:_.displayValue}`})]}):null,null!==N&&void 0!==N&&N.node?(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"start",children:[(0,k.jsx)(y.A.Title,{level:5,style:{marginTop:0},children:M("session.launcher.Network")}),(0,k.jsxs)(m.A,{gap:"xl",children:[(0,k.jsx)(y.A.Text,{children:"TX:"}),(0,k.jsxs)(y.A.Text,{children:[null===(S=(0,i.Gh)(null===N||void 0===N||null===(j=N.node)||void 0===j||null===(F=j.net_tx)||void 0===F?void 0:F.current,"m",2))||void 0===S?void 0:S.displayValue,"B"]})]}),(0,k.jsxs)(m.A,{gap:"xl",children:[(0,k.jsx)(y.A.Text,{children:"RX:"}),(0,k.jsxs)(y.A.Text,{children:[null===(G=(0,i.Gh)(null===N||void 0===N||null===(w=N.node)||void 0===w||null===(T=w.net_rx)||void 0===T?void 0:T.current,"m",2))||void 0===G?void 0:G.displayValue,"B"]})]})]}):null]})]}),(0,k.jsx)(p.A,{gutter:[24,24],style:{marginBottom:I.marginSM},children:h().map(h().keys(null===N||void 0===N?void 0:N.devices),(e=>{if(["cpu_util","mem","disk","net_rx","net_tx"].includes(e))return null;if(h().includes(e,"_util")){var n;const l=h().split(e,"_")[0]+".device";return(0,k.jsx)(v.A,{xs:24,sm:12,children:(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,k.jsxs)(y.A.Title,{level:5,style:{marginTop:0},children:[null===R||void 0===R||null===(n=R[l])||void 0===n?void 0:n.human_readable_name," ",M("session.Utilization")]}),h().map(h().toPairs(null===N||void 0===N?void 0:N.devices[e]),((e,n)=>{var a,t,r;return(0,k.jsxs)(m.A,{justify:"between",children:[(0,k.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===R||void 0===R||null===(a=R[l])||void 0===a?void 0:a.human_readable_name,n]},n),(0,k.jsx)(c.A,{percent:h().toFinite(null===e||void 0===e||null===(t=e[1])||void 0===t?void 0:t.pct),valueLabel:(0,i.Z1)(null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.pct,1)+"%"})]})}))]})})}if(h().includes(e,"_mem")){var l;const n=h().split(e,"_")[0]+".device";return(0,k.jsx)(v.A,{xs:24,sm:12,children:(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"stretch",children:[(0,k.jsxs)(y.A.Title,{level:5,style:{marginTop:0},children:[null===R||void 0===R||null===(l=R[n])||void 0===l?void 0:l.human_readable_name," ",M("session.launcher.Memory")]}),h().map(h().toPairs(null===N||void 0===N?void 0:N.devices[e]),((e,l)=>{var a,t,r;return(0,k.jsxs)(m.A,{justify:"between",children:[(0,k.jsxs)(y.A.Text,{type:"secondary",style:{flex:.5},children:[null===R||void 0===R||null===(a=R[n])||void 0===a?void 0:a.human_readable_name,l]},l),(0,k.jsx)(c.A,{percent:h().toFinite(null===e||void 0===e||null===(t=e[1])||void 0===t?void 0:t.pct),valueLabel:(0,i.Z1)(null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.pct,1)+"%"})]})}))]})})}}))})]})})};var S,j,F=l(52212),G=l(74400),w=l(42489);const T=e=>{let{agentSettingModalFrgmt:n=null,onRequestClose:a,...i}=e;const{t:t}=(0,f.Bd)(),{message:r}=F.A.useApp(),o=(0,b.useRef)(null),s=(0,A.useFragment)(void 0!==S?S:S=l(76611),n),[u,c]=(0,A.useMutation)(void 0!==j?j:j=l(49216));return(0,k.jsx)(d.A,{...i,title:`${t("agent.AgentSetting")}: ${null===s||void 0===s?void 0:s.id}`,onCancel:()=>a(),destroyOnClose:!0,width:300,confirmLoading:c,onOk:()=>{var e;null===(e=o.current)||void 0===e||e.validateFields().then((e=>{u({variables:{id:(null===s||void 0===s?void 0:s.id)||"",props:{schedulable:e.schedulable}},onCompleted(e,n){var l,i;null===e||void 0===e||null===(l=e.modify_agent)||void 0===l||!l.ok||n?(r.error(null===e||void 0===e||null===(i=e.modify_agent)||void 0===i?void 0:i.msg),a()):(r.success(t("agent.AgentSettingUpdated")),a(!0))},onError(e){r.error(null===e||void 0===e?void 0:e.message)}})})).catch((()=>{}))},children:(0,k.jsx)(G.A,{ref:o,preserve:!1,initialValues:{...s},children:(0,k.jsx)(G.A.Item,{name:"schedulable",label:t("agent.Schedulable"),valuePropName:"checked",children:(0,k.jsx)(w.A,{})})})})};var K,D=l(31817),L=l(64608),M=l(96163),I=l(53318),R=l(64288),C=l(3948),N=l(39667),V=l(47348),$=l(5590),O=l(86183),z=l(59706),q=l(45554),E=l(67884),P=l(44323),B=l(20140),Q=l(8296),U=l(89762),Z=l.n(U);const J=e=>{let{tableProps:n}=e;const{t:a}=(0,f.Bd)(),{token:d}=g.A.useToken(),{isDarkMode:p}=(0,u.e)(),{mergedResourceSlots:v}=(0,r.Hv)(),[x,S]=(0,b.useState)(),[j,F]=(0,b.useState)(),[G,{toggle:w}]=(0,E.A)(),U=(0,t.CX)(),[J,W]=(0,b.useTransition)(),[X,H]=(0,b.useTransition)(),[Y,ee]=(0,b.useTransition)(),[ne,le]=(0,b.useState)("ALIVE"),[ae,ie]=(0,b.useState)(ne),[te,re]=(0,b.useTransition)(),[oe,se]=(0,b.useState)(),{baiPaginationOption:ue,tablePaginationOption:de,setTablePaginationOption:ce}=(0,o.w4)({current:1,pageSize:10}),[me,ge]=(0,b.useState)(),[pe,ve]=(0,t.Tw)("first"),ye=()=>H((()=>{ve()})),{agent_list:xe}=(0,A.useLazyLoadQuery)(void 0!==K?K:K=l(73814),{limit:ue.limit,offset:ue.offset,filter:oe,order:me,status:ne},{fetchKey:pe,fetchPolicy:"first"===pe?"store-and-network":"network-only"}),he=[{title:(0,k.jsxs)(k.Fragment,{children:["ID / ",a("agent.Endpoint")]}),key:"id",dataIndex:"id",fixed:"left",render:(e,n)=>(0,k.jsxs)(m.A,{direction:"column",align:"start",children:[(0,k.jsx)(y.A.Text,{children:e}),(0,k.jsx)(y.A.Text,{type:"secondary",children:null===n||void 0===n?void 0:n.addr})]}),sorter:!0},{title:a("agent.Region"),key:"region",dataIndex:"region",render:e=>{const n=h().split(e,"/"),l=null===n||void 0===n?void 0:n[0],a=(null===n||void 0===n?void 0:n.length)>1?n[1]:"",{color:i,icon:t}={aws:{color:"orange",icon:"aws"},amazon:{color:"orange",icon:"aws"},azure:{color:"blue",icon:"azure"},gcp:{color:"lightblue",icon:"gcp"},google:{color:"lightblue",icon:"gcp"},nbp:{color:"green",icon:"nbp"},naver:{color:"green",icon:"nbp"},openstack:{color:"red",icon:"openstack"},dgx:{color:"green",icon:"local"},local:{color:"yellow",icon:"local"}}[l]||{color:"yellow",icon:"local"};return(0,k.jsxs)(m.A,{gap:"xxs",children:[(0,k.jsx)("img",{alt:e,src:`/resources/icons/${t}.png`,style:{width:"32px",height:"32px",filter:p&&"local"===t?"invert(1)":""}}),""!==a?(0,k.jsx)(R.A,{values:[{label:a,color:i},{label:l,color:i}]}):(0,k.jsx)(P.A,{color:i,children:l})]})}},{title:a("agent.Architecture"),key:"architecture",dataIndex:"architecture"},{title:a("agent.Starts"),key:"first_contact",dataIndex:"first_contact",render:e=>(0,k.jsxs)(m.A,{direction:"column",children:[(0,k.jsx)(y.A.Text,{children:Z()(e).format("ll LTS")}),(0,k.jsx)(D.A,{callback:()=>U.utils.elapsedTime(e,Date.now()),delay:1e3,render:e=>(0,k.jsx)(R.A,{values:[{label:a("agent.Running")},{label:e}]})})]}),sorter:!0},{title:a("agent.Allocation"),key:"allocation",render:(e,n)=>{const l=JSON.parse((null===n||void 0===n?void 0:n.occupied_slots)||"{}"),a=JSON.parse((null===n||void 0===n?void 0:n.available_slots)||"{}");return(0,k.jsx)(m.A,{direction:"column",gap:"xxs",children:h().map(a,((e,n)=>{if("cpu"===n){var t;const e=h().toFinite(h().toNumber(l.cpu)/h().toNumber(a.cpu)*100);return(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:220},children:[(0,k.jsxs)(m.A,{gap:"xxs",children:[(0,k.jsx)(C.s,{type:n},n),(0,k.jsxs)(y.A.Text,{children:[(0,i.Z1)(l.cpu||0,0),"\xa0/\xa0",(0,i.Z1)(a.cpu||0,0)]}),(0,k.jsx)(y.A.Text,{type:"secondary",style:{fontSize:d.sizeXS},children:null===v||void 0===v||null===(t=v.cpu)||void 0===t?void 0:t.display_unit})]}),(0,k.jsx)(c.A,{percent:e,strokeColor:e>80?d.colorError:d.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},n)}if("mem"===n){var r,o,s,u;const e=h().toFinite(h().toNumber(l.mem)/h().toNumber(a.mem)*100);return(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:220},children:[(0,k.jsxs)(m.A,{gap:"xxs",children:[(0,k.jsx)(C.s,{type:"mem"}),(0,k.jsxs)(y.A.Text,{children:[null!==(r=null===(o=(0,i.mv)(l.mem,"g",0))||void 0===o?void 0:o.numberFixed)&&void 0!==r?r:0,"\xa0/\xa0",null!==(s=null===(u=(0,i.mv)(a.mem,"g",0))||void 0===u?void 0:u.numberFixed)&&void 0!==s?s:0]}),(0,k.jsx)(y.A.Text,{type:"secondary",style:{fontSize:d.sizeXS},children:"GiB"})]}),(0,k.jsx)(c.A,{percent:e,strokeColor:e>80?d.colorError:d.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},"mem")}if(a[n]){var g;const e=h().toFinite(h().toNumber(l[n])/h().toNumber(a[n])*100);return(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:220},gap:"xxs",children:[(0,k.jsxs)(m.A,{gap:"xxs",children:[(0,k.jsx)(C.s,{type:n},n),(0,k.jsxs)(y.A.Text,{children:[(0,i.Z1)(l[n]||0,2),"\xa0/\xa0",(0,i.Z1)(a[n],2)]}),(0,k.jsx)(y.A.Text,{type:"secondary",style:{fontSize:d.sizeXS},children:null===v||void 0===v||null===(g=v[n])||void 0===g?void 0:g.display_unit})]}),(0,k.jsx)(c.A,{percent:e,strokeColor:e>80?d.colorError:d.colorSuccess,width:120,valueLabel:(0,i.Z1)(e,1)+" %"})]},n)}}))})}},{title:a("agent.Utilization"),key:"live_stat",dataIndex:"live_stat",render:(e,n)=>{const l=JSON.parse(e||"{}"),t=JSON.parse((null===n||void 0===n?void 0:n.available_slots)||"{}");if("ALIVE"===(null===n||void 0===n?void 0:n.status)){var r,o,s,u,d;const e={cpu_util:{capacity:0,current:0,ratio:0},mem_util:{capacity:0,current:0,ratio:0}};if(l&&l.node&&l.devices){const n=h().keys(l.devices.cpu_util).length;e.cpu_util.capacity=h().toFinite(l.node.cpu_util.capacity),e.cpu_util.current=h().toFinite(l.node.cpu_util.current),e.cpu_util.ratio=e.cpu_util.current/e.cpu_util.capacity/n||0,e.mem_util.capacity=h().toInteger(t.mem||l.node.mem.capacity),e.mem_util.current=h().toInteger(l.node.mem.current),e.mem_util.ratio=e.mem_util.current/e.mem_util.capacity||0}h().forEach(h().keys(null===l||void 0===l?void 0:l.node),(n=>{["cpu_util","mem","disk","net_rx","net_tx"].includes(n)||(h().includes(n,"_util")?e[n]={capacity:"cuda_util"===n?h().toFinite(l.node[n]["stats.max"]):h().toFinite(l.node[n].capacity),current:h().toFinite(l.node[n].current),ratio:h().toFinite(l.node[n].current)/100||0}:n.includes("_mem")&&(e[n]={capacity:h().toFinite(l.node[n].capacity),current:h().toFinite(l.node[n].current),ratio:h().toFinite(l.node[n].pct)/100||0}))}));const n=(null===(r=(0,i.Ho)(h().toString(e.mem_util.capacity),"auto"))||void 0===r?void 0:r.unit)||"g";return(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",children:[(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:200},children:[(0,k.jsx)(y.A.Text,{children:null===v||void 0===v||null===(o=v.cpu)||void 0===o?void 0:o.human_readable_name}),(0,k.jsx)(c.A,{percent:100*e.cpu_util.ratio,width:120,valueLabel:(0,i.Z1)(h().toFinite(100*e.cpu_util.ratio),1)+" %"})]}),(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:200},children:[(0,k.jsx)(y.A.Text,{children:null===v||void 0===v||null===(s=v.mem)||void 0===s?void 0:s.human_readable_name}),(0,k.jsx)(c.A,{percent:100*e.mem_util.ratio,width:120,valueLabel:(null===(u=(0,i.mv)(h().toString(e.mem_util.current),n))||void 0===u?void 0:u.numberFixed)+" / "+(null===(d=(0,i.mv)(h().toString(e.mem_util.capacity),n))||void 0===d?void 0:d.displayValue)})]}),h().map(h().keys(null===l||void 0===l?void 0:l.node),(n=>{if(!["cpu_util","mem"].includes(n)){if(h().includes(n,"_util")){var l;const a=h().split(n,"_")[0]+".device";return(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:200,width:"min-content"},gap:"xxs",children:[(0,k.jsxs)(y.A.Text,{children:[null===v||void 0===v||null===(l=v[a])||void 0===l?void 0:l.human_readable_name,"(util)"]}),(0,k.jsx)(c.A,{width:120,percent:e[n].current/e[n].capacity*100||0,valueLabel:h().toFinite((0,i.Z1)(100*e[n].ratio,1))+" %"})]},n)}if(h().includes(n,"_mem")){var a,t,r,o;const l=h().split(n,"_")[0]+".device",s=(null===(a=(0,i.Ho)(h().toString(e[n].capacity),"auto"))||void 0===a?void 0:a.unit)||"g";return(0,k.jsxs)(m.A,{justify:"between",style:{minWidth:200,width:"min-content"},gap:"xxs",children:[(0,k.jsxs)(y.A.Text,{children:[null===v||void 0===v||null===(t=v[l])||void 0===t?void 0:t.human_readable_name,"(mem)"]}),(0,k.jsx)(c.A,{width:120,percent:e[n].current/e[n].capacity*100||0,valueLabel:(null===(r=(0,i.mv)(h().toString(e[n].current),s))||void 0===r?void 0:r.numberFixed)+" / "+(null===(o=(0,i.mv)(h().toString(e[n].capacity),s))||void 0===o?void 0:o.displayValue)})]},n)}}}))]})}return a("agent.NoAvailableLiveStat")}},{title:a("agent.DiskPerc"),key:"disk_perc",render:(e,n)=>{var l,a,t,r,o,s;const u=null!==(l=null===(a=JSON.parse((null===n||void 0===n?void 0:n.live_stat)||"{}"))||void 0===a||null===(t=a.node)||void 0===t?void 0:t.disk)&&void 0!==l?l:{},g=h().toFinite(u.pct)||0,p=h().toFinite((0,i.Z1)(g,2)),v=p>80?d.colorError:d.colorSuccess,x=(null===(r=(0,i.Ho)(null===u||void 0===u?void 0:u.capacity,"auto",{base:1e3}))||void 0===r?void 0:r.unit)||"g";return(0,k.jsxs)(m.A,{direction:"column",children:[(0,k.jsx)(c.A,{valueLabel:(0,i.Z1)(p,1)+" %",percent:p,strokeColor:v,width:120}),(0,k.jsxs)(y.A.Text,{style:{fontSize:d.fontSizeSM},children:[null===(o=(0,i.Gh)(null===u||void 0===u?void 0:u.current,x))||void 0===o?void 0:o.numberFixed,"\xa0/\xa0",null===(s=(0,i.Gh)(null===u||void 0===u?void 0:u.capacity,x))||void 0===s?void 0:s.displayValue]})]})}},{title:a("general.ResourceGroup"),key:"resource_group",dataIndex:"scaling_group",sorter:!0},{title:a("agent.Status"),key:"status",dataIndex:"status",render:(e,n)=>{var l,a,i;const t=JSON.parse((null===n||void 0===n?void 0:n.compute_plugins)||"{}"),r=JSON.parse((null===n||void 0===n?void 0:n.available_slots)||"{}");return(0,k.jsxs)(m.A,{direction:"column",gap:"xxs",align:"start",children:[(0,k.jsx)(R.A,{values:[{label:"Agent"},{label:(null===n||void 0===n?void 0:n.version)||"",color:"ALIVE"===e?"green":"TERMINATED"===e?"red":"blue"}]}),null!==t&&void 0!==t&&t.cuda?(0,k.jsxs)(k.Fragment,{children:[null!==t&&void 0!==t&&null!==(l=t.cuda)&&void 0!==l&&l.cuda_version?(0,k.jsx)(R.A,{values:[{label:"CUDA"},{label:null===t||void 0===t||null===(a=t.cuda)||void 0===a?void 0:a.cuda_version,color:"green"}]}):(0,k.jsx)(P.A,{color:"green",children:"CUDA Disabled"}),(0,k.jsx)(R.A,{values:[{label:"CUDA Plugin"},{label:null===t||void 0===t||null===(i=t.cuda)||void 0===i?void 0:i.version,color:"blue"}]}),h().includes(h().keys(r),"cuda.shares")?(0,k.jsx)(P.A,{color:"blue",children:"Fractional GPU\u2122"}):null]}):null]})}},{title:a("agent.Schedulable"),key:"schedulable",dataIndex:"schedulable",render:e=>(0,k.jsx)(m.A,{justify:"center",children:!0===e?(0,k.jsx)(V.A,{style:{color:d.colorSuccess,fontSize:d.fontSizeXL}}):(0,k.jsx)($.A,{style:{color:d.colorTextDisabled,fontSize:d.fontSizeXL}})}),sorter:!0},{title:a("general.Control"),key:"control",fixed:"right",render:(e,n)=>(0,k.jsxs)(m.A,{children:[(0,k.jsx)(B.Ay,{style:{color:d.colorSuccess},type:"text",icon:(0,k.jsx)(O.A,{}),onClick:()=>S(n)}),(0,k.jsx)(B.Ay,{style:{color:d.colorInfo},type:"text",icon:(0,k.jsx)(z.A,{}),onClick:()=>F(n)})]})}],[be,fe]=(0,s.a)("AgentList");return(0,k.jsxs)(m.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,k.jsxs)(m.A,{justify:"between",align:"start",wrap:"wrap",children:[(0,k.jsxs)(m.A,{direction:"row",gap:"sm",align:"start",style:{flex:1},wrap:"wrap",children:[(0,k.jsx)(M.A,{options:[{label:a("agent.Connected"),value:"ALIVE"},{label:a("agent.Terminated"),value:"TERMINATED"}],value:J?ae:ne,onChange:e=>{const n=e.target.value;ie(n),W((()=>{le(n)}))}}),(0,k.jsx)(L.Ay,{filterProperties:[{key:"id",propertyLabel:"ID",type:"string"},{key:"addr",propertyLabel:a("agent.Endpoint"),type:"string"},{key:"schedulable",propertyLabel:a("agent.Schedulable"),type:"boolean",options:[{label:a("general.Enabled"),value:"true"},{label:a("general.Disabled"),value:"false"}]}],value:oe,onChange:e=>{re((()=>{se(e)}))}})]}),(0,k.jsx)(m.A,{gap:"xs",children:(0,k.jsx)(Q.A,{title:a("button.Refresh"),children:(0,k.jsx)(B.Ay,{loading:X,onClick:()=>ye(),icon:(0,k.jsx)(q.A,{})})})})]}),(0,k.jsx)(I.A,{size:"small",neoStyle:!0,scroll:{x:"max-content"},rowKey:"id",dataSource:(0,i.tS)(null===xe||void 0===xe?void 0:xe.items),showSorterTooltip:!1,columns:h().filter(he,(e=>!h().includes(be,h().toString(null===e||void 0===e?void 0:e.key)))),pagination:{pageSize:de.pageSize,total:null===xe||void 0===xe?void 0:xe.total_count,current:de.current,extraContent:(0,k.jsx)(B.Ay,{type:"text",icon:(0,k.jsx)(z.A,{}),onClick:()=>{w()}}),onChange(e,n){ee((()=>{h().isNumber(e)&&h().isNumber(n)&&ce({current:e,pageSize:n})}))}},onChangeOrder:e=>{ee((()=>{ge(e)}))},loading:Y||J||te,...n}),(0,k.jsx)(_,{agentDetailModalFrgmt:x,open:!!x,onRequestClose:()=>S(null)}),(0,k.jsx)(T,{agentSettingModalFrgmt:j,open:!!j,onRequestClose:e=>{e&&ye(),F(null)}}),(0,k.jsx)(N.A,{open:G,onRequestClose:e=>{(null===e||void 0===e?void 0:e.selectedColumnKeys)&&fe(h().difference(he.map((e=>h().toString(e.key))),null===e||void 0===e?void 0:e.selectedColumnKeys)),w()},columns:he,hiddenColumnKeys:be})]})};var W,X=l(34721),H=l(69528),Y=l(16808),ee=l(82430),ne=l(32017),le=l(95429);const ae=e=>{var n,a;let{resourceGroupFrgmt:i=null,onRequestClose:t,...r}=e;const{t:o}=(0,f.Bd)(),{token:s}=g.A.useToken(),u=(0,A.useFragment)(void 0!==W?W:W=l(72377),i),c=(0,b.useMemo)((()=>JSON.parse((null===u||void 0===u?void 0:u.driver_opts)||"{}")),[null===u||void 0===u?void 0:u.driver_opts]),p=(0,b.useMemo)((()=>JSON.parse((null===u||void 0===u?void 0:u.scheduler_opts)||"{}")),[null===u||void 0===u?void 0:u.scheduler_opts]);return(0,k.jsxs)(d.A,{title:o("resourceGroup.ResourceGroupDetail"),onCancel:t,footer:null,centered:!0,...r,children:[(0,k.jsxs)(le.A,{column:1,size:"small",title:o("resourceGroup.Information"),labelStyle:{width:"50%"},children:[(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Name"),children:null===u||void 0===u?void 0:u.name}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Description"),children:(null===u||void 0===u?void 0:u.description)||"-"}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Active"),children:null!==u&&void 0!==u&&u.is_active?(0,k.jsx)(ee.A,{style:{color:s.colorSuccess}}):(0,k.jsx)(ne.A,{style:{color:s.colorTextSecondary}})}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Public"),children:null!==u&&void 0!==u&&u.is_public?(0,k.jsx)(ee.A,{style:{color:s.colorSuccess}}):(0,k.jsx)(ne.A,{style:{color:s.colorTextSecondary}})}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Driver"),children:null===u||void 0===u?void 0:u.driver}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.Scheduler"),children:h().toUpper(null!==(n=null===u||void 0===u?void 0:u.scheduler)&&void 0!==n?n:"")}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.WsproxyAddress"),children:(null===u||void 0===u?void 0:u.wsproxy_addr)||"-"})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(le.A,{column:1,size:"small",title:o("resourceGroup.SchedulerOptions"),labelStyle:{width:"50%"},children:[(0,k.jsx)(le.A.Item,{label:o("resourceGroup.AllowedSessionTypes"),children:(0,k.jsx)(m.A,{wrap:"wrap",direction:"row",gap:"xs",style:{width:"100%"},children:h().map(null===p||void 0===p?void 0:p.allowed_session_types,(e=>(0,k.jsx)(P.A,{style:{margin:0},children:h().startCase(e)},e)))})}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.PendingTimeout"),children:h().isNil(null===p||void 0===p?void 0:p.pending_timeout)?"-":(0,k.jsxs)(m.A,{gap:"xxs",align:"end",children:[(0,k.jsx)(y.A.Text,{children:`${p.pending_timeout}\n                ${o("resourceGroup.TimeoutSeconds")}`}),null!==p&&void 0!==p&&p.pending_timeout?null:(0,k.jsx)(y.A.Text,{style:{color:s.colorTextSecondary,fontSize:s.fontSizeSM},children:`(${o("general.Disabled")})`})]})}),(0,k.jsx)(le.A.Item,{label:o("resourceGroup.RetriesToSkipDesc"),children:null!==p&&void 0!==p&&null!==(a=p.config)&&void 0!==a&&a.num_retries_to_skip?`${p.config.num_retries_to_skip} ${o("resourceGroup.RetriesToSkip")}`:"-"})]}),h().isEmpty(c)?null:(0,k.jsx)(le.A,{column:1,size:"small",title:o("resourceGroup.DriverOptions"),labelStyle:{width:"50%"},children:h().map(c,((e,n)=>(0,k.jsx)(le.A.Item,{label:h().startCase(n),children:h().isArray(e)?(0,k.jsx)(m.A,{direction:"column",children:h().map(e,(e=>(0,k.jsx)(P.A,{children:e},e)))}):e},n)))})]})};var ie,te,re,oe,se=l(18146),ue=l(39111),de=l(68325),ce=l(83757),me=l(39637),ge=l(94750);const pe=e=>{var n,a,r,o,s,u;let{resourceGroupFrgmt:c,onRequestClose:y,...x}=e;const{t:_}=(0,f.Bd)(),{token:S}=g.A.useToken(),{message:j}=F.A.useApp(),T=(0,t.eZ)(),K=(0,b.useRef)(null),D=(0,A.useFragment)(void 0!==ie?ie:ie=l(85629),c),[L,M]=(0,A.useMutation)(void 0!==te?te:te=l(49655)),[I,R]=(0,A.useMutation)(void 0!==re?re:re=l(95306)),[C,N]=(0,A.useMutation)(void 0!==oe?oe:oe=l(93538)),V=(0,b.useMemo)((()=>JSON.parse((null===D||void 0===D?void 0:D.scheduler_opts)||"{}")),[null===D||void 0===D?void 0:D.scheduler_opts]),$=(0,i.q9)({name:null===D||void 0===D?void 0:D.name,description:null===D||void 0===D?void 0:D.description,domain:T,scheduler:null!==(n=null===D||void 0===D?void 0:D.scheduler)&&void 0!==n?n:"fifo",allowedSessionTypes:null!==(a=null===V||void 0===V?void 0:V.allowed_session_types)&&void 0!==a?a:["batch","interactive"],active:null===(r=null===D||void 0===D?void 0:D.is_active)||void 0===r||r,public:null===(o=null===D||void 0===D?void 0:D.is_public)||void 0===o||o,pendingTimeout:null!==V&&void 0!==V&&V.pending_timeout?h().toNumber(null===V||void 0===V?void 0:V.pending_timeout):null,retriesToSkip:null!==V&&void 0!==V&&null!==(s=V.config)&&void 0!==s&&s.num_retries_to_skip?h().toNumber(null===V||void 0===V||null===(u=V.config)||void 0===u?void 0:u.num_retries_to_skip):null,wsProxyAddress:null===D||void 0===D?void 0:D.wsproxy_addr});return(0,k.jsx)(d.A,{destroyOnClose:!0,title:_(D?"resourceGroup.ModifyResourceGroup":"resourceGroup.CreateResourceGroup"),onCancel:()=>{null===y||void 0===y||y(!1)},okText:_(D?"button.Update":"button.Create"),okButtonProps:{loading:R||N||M},onOk:()=>{var e;null===(e=K.current)||void 0===e||e.validateFields().then((e=>{var n;const l={driver:"static",scheduler:e.scheduler,description:null!==(n=e.description)&&void 0!==n?n:null,driver_opts:"{}",scheduler_opts:JSON.stringify({allowed_session_types:e.allowedSessionTypes,...e.pendingTimeout&&{pending_timeout:e.pendingTimeout},...e.retriesToSkip&&{config:{num_retries_to_skip:e.retriesToSkip}}}),is_public:e.public,is_active:e.active,wsproxy_addr:e.wsProxyAddress};D?L({variables:{name:D.name,input:l},onCompleted:(e,n)=>{let{modify_scaling_group:l}=e;if(null!==l&&void 0!==l&&l.ok)if(n&&n.length>0){const e=h().map(n,(e=>e.message));for(const n of e)j.error(n)}else j.success(_("resourceGroup.ResourceGroupModified")),null===y||void 0===y||y(!0);else j.error(null===l||void 0===l?void 0:l.msg)},onError:e=>{j.error(e.message)}}):I({variables:{name:e.name,input:l},onCompleted:(n,l)=>{let{create_scaling_group:a}=n;if(l&&l.length>0){const e=h().map(l,(e=>e.message));for(const n of e)j.error(n)}else null!==a&&void 0!==a&&a.ok?C({variables:{domain:e.domain,scaling_group:e.name},onCompleted:(e,n)=>{let{associate_scaling_group_with_domain:l}=e;if(null!==l&&void 0!==l&&l.ok)if(n&&n.length>0){const e=h().map(n,(e=>e.message));for(const n of e)j.error(n)}else j.success(_("resourceGroup.ResourceGroupCreated")),null===y||void 0===y||y(!0);else j.error(null===l||void 0===l?void 0:l.msg)},onError:e=>{j.error(e.message)}}):j.error(null===a||void 0===a?void 0:a.msg)},onError:e=>{j.error(e.message)}})})).catch((()=>{}))},...x,children:(0,k.jsx)(b.Suspense,{fallback:(0,k.jsx)(de.A,{active:!0}),children:(0,k.jsxs)(G.A,{ref:K,initialValues:$,layout:"vertical",children:[(0,k.jsx)(G.A.Item,{label:_("resourceGroup.Name"),name:"name",rules:[{required:!0,message:_("general.ValueRequired",{name:_("resourceGroup.Name")})}],children:(0,k.jsx)(ce.A,{disabled:!!D})}),D?null:(0,k.jsx)(G.A.Item,{label:_("resourceGroup.Domain"),name:"domain",rules:[{required:!0,message:_("general.ValueRequired",{name:_("resourceGroup.Domain")})}],children:(0,k.jsx)(se.A,{})}),(0,k.jsx)(G.A.Item,{label:_("resourceGroup.Description"),name:"description",children:(0,k.jsx)(ce.A.TextArea,{})}),(0,k.jsx)(G.A.Item,{label:_("resourceGroup.AllowedSessionTypes"),name:"allowedSessionTypes",rules:[{required:!0,message:_("general.ValueRequired",{name:_("resourceGroup.AllowedSessionTypes")})}],children:(0,k.jsx)(me.A,{mode:"multiple",options:[{label:"Batch",value:"batch"},{label:"Interactive",value:"interactive"},{label:"Inference",value:"inference"}]})}),(0,k.jsx)(G.A.Item,{label:_("resourceGroup.WsproxyAddress"),name:"wsProxyAddress",rules:[{type:"url",message:_("error.InvalidUrl")}],children:(0,k.jsx)(ce.A,{placeholder:"http://localhost:10200"})}),(0,k.jsxs)(p.A,{children:[(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(G.A.Item,{layout:"horizontal",label:_("resourceGroup.Active"),name:"active",children:(0,k.jsx)(w.A,{})})}),(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(G.A.Item,{layout:"horizontal",label:_("resourceGroup.Public"),name:"public",children:(0,k.jsx)(w.A,{})})})]}),(0,k.jsx)(G.A.Item,{label:_("resourceGroup.Scheduler"),name:"scheduler",rules:[{required:!0,message:_("general.ValueRequired",{name:_("resourceGroup.Scheduler")})}],children:(0,k.jsx)(me.A,{options:[{label:"FIFO",value:"fifo"},{label:"LIFO",value:"lifo"},{label:"DRF",value:"drf"}]})}),(0,k.jsx)(G.A.Item,{label:_("resourceGroup.SchedulerOptions"),children:(0,k.jsx)(X.A,{styles:{body:{paddingBottom:0}},children:(0,k.jsxs)(p.A,{gutter:[24,24],children:[(0,k.jsx)(v.A,{span:12,style:{alignSelf:"end"},children:(0,k.jsx)(G.A.Item,{labelCol:{span:24},label:(0,k.jsxs)(m.A,{gap:"xxs",children:[_("resourceGroup.PendingTimeout"),(0,k.jsx)(Q.A,{title:(0,i.y1)(_("resourceGroup.PendingTimeoutDesc")),children:(0,k.jsx)(ue.A,{style:{color:S.colorTextSecondary}})})]}),name:"pendingTimeout",children:(0,k.jsx)(ge.A,{style:{width:"100%"},addonAfter:_("resourceGroup.TimeoutSeconds"),min:0})})}),(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(G.A.Item,{label:(0,k.jsx)(m.A,{style:{whiteSpace:"pre"},children:_("resourceGroup.RetriesToSkipDesc")}),name:"retriesToSkip",children:(0,k.jsx)(ge.A,{style:{width:"100%"},addonAfter:_("resourceGroup.RetriesToSkip"),min:0})})})]})})})]})})})};var ve,ye,xe,he=l(46841),be=l(39651),fe=l(19586),Ae=l(77123),ke=l(63251),_e=l(60666);const Se=()=>{const{t:e}=(0,f.Bd)(),{token:n}=g.A.useToken(),{message:a}=F.A.useApp(),[r,o]=(0,b.useState)("active"),[s,{toggle:u}]=(0,E.A)(!1),[d,{toggle:c}]=(0,E.A)(!1),[p,v]=(0,b.useState)(),[x,_]=(0,b.useState)(),[S,j]=(0,t.Tw)("first"),[G,w]=(0,b.useTransition)(),[T,K]=(0,b.useTransition)(),{scaling_groups:D}=(0,A.useLazyLoadQuery)(void 0!==ve?ve:ve=l(7300),{is_active:"active"===r},{fetchPolicy:"store-and-network",fetchKey:S}),[L,R]=(0,A.useMutation)(void 0!==ye?ye:ye=l(91514)),[C,N]=(0,A.useMutation)(void 0!==xe?xe:xe=l(10656)),V=(0,i.LY)([{key:"name",title:e("resourceGroup.Name"),dataIndex:"name"},{key:"description",title:e("resourceGroup.Description"),dataIndex:"description",render:e=>e||"-"},{key:"is_public",title:e("resourceGroup.Public"),dataIndex:"is_public",render:e=>e?(0,k.jsx)(ee.A,{style:{color:n.colorSuccess}}):(0,k.jsx)(ne.A,{style:{color:n.colorTextSecondary}})},{key:"driver",title:e("resourceGroup.Driver"),dataIndex:"driver"},{key:"scheduler",title:e("resourceGroup.Scheduler"),dataIndex:"scheduler",render:e=>h().toUpper(e)},{key:"wsproxy_addr",title:e("resourceGroup.WsproxyAddress"),dataIndex:"wsproxy_addr",render:e=>e||"-"},{key:"controls",title:e("general.Control"),fixed:"right",render:(l,i)=>(0,k.jsxs)(m.A,{children:[(0,k.jsx)(B.Ay,{type:"text",icon:(0,k.jsx)(O.A,{}),style:{color:n.colorSuccess},onClick:()=>{v(i),c()}}),(0,k.jsx)(B.Ay,{type:"text",icon:(0,k.jsx)(z.A,{}),style:{color:n.colorInfo},onClick:()=>{v(i),u()}}),(0,k.jsx)(Q.A,{title:i.is_active?e("resourceGroup.Deactivate"):e("resourceGroup.Activate"),children:(0,k.jsx)(fe.A,{title:i.is_active?e("resourceGroup.DeactivateResourceGroup"):e("resourceGroup.ActivateResourceGroup"),placement:"left",okType:i.is_active?"danger":"primary",okText:i.is_active?e("resourceGroup.Deactivate"):e("resourceGroup.Activate"),description:null===i||void 0===i?void 0:i.name,onConfirm:()=>{var n;L({variables:{name:null!==(n=i.name)&&void 0!==n?n:"",input:{is_active:!i.is_active}},onCompleted:(n,i)=>{let{modify_scaling_group:t}=n;if(null!==t&&void 0!==t&&t.ok)if(i&&i.length>0){const e=l.map(i,(e=>e.message));for(const n of e)a.error(n)}else a.success(e("resourceGroup.ResourceGroupModified")),K((()=>{j()}));else a.error(null===t||void 0===t?void 0:t.msg)},onError:e=>{a.error(e.message)}})},children:(0,k.jsx)(B.Ay,{type:"text",danger:!!i.is_active,icon:i.is_active?(0,k.jsx)(ke.A,{}):(0,k.jsx)(_e.A,{}),loading:R})})}),(0,k.jsx)(Q.A,{title:e("button.Delete"),children:(0,k.jsx)(B.Ay,{type:"text",icon:(0,k.jsx)(he.A,{style:{color:n.colorError}}),onClick:()=>{_((null===i||void 0===i?void 0:i.name)||"")}})})]})}]);return(0,k.jsxs)(m.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,k.jsxs)(m.A,{justify:"between",children:[(0,k.jsx)(M.A,{value:r,onChange:e=>{w((()=>{o(e.target.value)}))},optionType:"button",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}),(0,k.jsxs)(m.A,{gap:"sm",children:[(0,k.jsx)(Y.A,{loading:T,value:S,onChange:()=>{K((()=>{j()}))}}),(0,k.jsx)(B.Ay,{type:"primary",icon:(0,k.jsx)(be.A,{}),onClick:()=>u(),children:e("button.Create")})]})]}),(0,k.jsx)(I.A,{rowKey:"name",neoStyle:!0,resizable:!0,size:"small",scroll:{x:"max-content"},columns:V,dataSource:(0,i.tS)(D),loading:G}),(0,k.jsx)(H.A,{open:!!x,title:e("resourceGroup.DeleteResourceGroup"),content:(0,k.jsxs)(m.A,{direction:"column",gap:"md",align:"stretch",style:{marginBottom:n.marginXS,width:"100%"},children:[(0,k.jsx)(Ae.A,{type:"warning",message:e("dialog.warning.DeleteForeverDesc"),style:{width:"100%"}}),(0,k.jsxs)(m.A,{children:[(0,k.jsx)(y.A.Text,{style:{marginRight:n.marginXXS},children:e("resourceGroup.TypeResourceGroupNameToDelete")}),"(",(0,k.jsx)(y.A.Text,{code:!0,children:x}),")"]})]}),confirmText:null!==x&&void 0!==x?x:"",onOk:()=>{C({variables:{name:null!==x&&void 0!==x?x:""},onCompleted:(n,l)=>{let{delete_scaling_group:i}=n;if(null!==i&&void 0!==i&&i.ok)if(l&&l.length>0){const e=h().map(l,(e=>e.message));for(const n of e)a.error(n)}else a.success(e("resourceGroup.ResourceGroupDeleted")),_(void 0),K((()=>{j()}));else a.error(null===i||void 0===i?void 0:i.msg)},onError:e=>{a.error(e.message)}})},okButtonProps:{loading:N},onCancel:()=>{_(void 0)}}),(0,k.jsx)(ae,{open:d&&!!p,resourceGroupFrgmt:p,onRequestClose:()=>{c(),v(void 0)}}),(0,k.jsx)(pe,{open:s,resourceGroupFrgmt:p,onRequestClose:e=>{u(),v(void 0),e&&K((()=>{j()}))}})]})};var je;function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Fe.apply(null,arguments)}function Ge(e,n){let{title:l,titleId:a,...i}=e;return b.createElement("svg",Fe({fill:"currentColor",height:63.607,viewBox:"-4.4 -4.4 68.244 65.94",width:65,xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},i),l?b.createElement("title",{id:a},l):null,je||(je=b.createElement("path",{d:"m51.287063 55.59007c-2.427-1.3-3.813-2.746-4.12-4.326-.296-1.53.387-3.232 2.088-5.204 4.067-4.666 6.307-10.66 6.307-16.88 0-14.183-11.54-25.7230009-25.722-25.7230009h-.23c-14.184 0-25.7199985 11.5400009-25.7199985 25.7230009a25.68 25.68 0 0 0 6.3079985 16.881c1.715 1.985 2.38 3.618 2.096 5.134-.295 1.578-1.684 3.054-4.1319985 4.392-3.754-3.13-7.073-7.308-9.12-11.5-1.1-2.275-1.965-4.678-2.542-7.14-.593-2.532-.9-5.145-.9-7.765a33.82 33.82 0 0 1 2.67-13.237 33.89 33.89 0 0 1 7.298-10.8070009 33.85 33.85 0 0 1 10.8059985-7.286c4.194-1.775 8.646-2.673 13.236-2.673h.23a33.78 33.78 0 0 1 13.238 2.673c4.048 1.71300002 7.685 4.165 10.806 7.285a33.91 33.91 0 0 1 7.287 10.8060009 33.81 33.81 0 0 1 2.673 13.237 34.18 34.18 0 0 1 -.892 7.765c-.576 2.463-1.43 4.866-2.543 7.14-2.047 4.194-5.364 8.373-9.123 11.503m-12.546 6.364c-.395-.25-1.745-1.253-3.06-3.076-1.262-1.742-2.748-4.632-2.67-8.502.05-2.33.516-4.597 1.4-6.74.87-2.123 2.114-4.068 3.7-5.78l.01-.013.35-.405c.6-.695 1.218-1.412 1.712-2.252a11.66 11.66 0 0 0 1.315-3.226 12.14 12.14 0 0 0 .066-5.257c-.335-1.586-1-3.123-1.95-4.448-.912-1.284-2.1-2.404-3.438-3.238a12 12 0 0 0 -4.626-1.685 11.83 11.83 0 0 0 -1.693-.12h-.244a11.93 11.93 0 0 0 -1.691.12 11.99 11.99 0 0 0 -4.626 1.685c-1.337.834-2.528 1.954-3.44 3.238a12.08 12.08 0 0 0 -1.95 4.448 12.11 12.11 0 0 0 .068 5.257c.262 1.1.706 2.194 1.313 3.226.496.84 1.114 1.557 1.713 2.252l.352.405.007.013a19.1 19.1 0 0 1 3.703 5.78c.875 2.14 1.343 4.4 1.4 6.74.08 3.87-1.407 6.76-2.668 8.502-1.32 1.823-2.667 2.827-3.063 3.076l-1.97-.593a33.91 33.91 0 0 1 -5.665-2.497 9.67 9.67 0 0 0 5.084-8.496c0-2.355-.915-4.613-2.72-6.7-.027-.032-.055-.058-.075-.08l-.54-.592-1.448-1.696a20.3 20.3 0 0 1 -3.4689995-7.414 20.43 20.43 0 0 1 -.112-8.882 20.37 20.37 0 0 1 3.3009995-7.537 20.47 20.47 0 0 1 5.807-5.469c2.366-1.476 5.078-2.4630009 7.84-2.8560009a20.09 20.09 0 0 1 2.853-.2h.256a20.1 20.1 0 0 1 2.854.2 20.35 20.35 0 0 1 7.841 2.8560009c2.258 1.408 4.267 3.3 5.808 5.47 1.592 2.243 2.735 4.85 3.303 7.537a20.5 20.5 0 0 1 -.113 8.882 20.3 20.3 0 0 1 -3.472 7.414c-.44.6-.93 1.127-1.45 1.696l-.523.577c-.006.005-.01.01-.016.014-.02.02-.05.048-.075.083-1.83 2.2-2.72 4.383-2.72 6.706 0 3.558 1.976 6.823 5.088 8.496a33.95 33.95 0 0 1 -5.666 2.497l-1.973.593m-9.033-25.744c-3.7 0-6.713-3.012-6.713-6.713s3.012-6.714 6.713-6.714 6.712 3.012 6.712 6.714a6.72 6.72 0 0 1 -6.712 6.713"})))}const we=b.forwardRef(Ge);l.p;var Te=l(89121);const Ke=e=>(0,k.jsx)(Te.A,{component:we,style:{color:"#EF424D",...e.style||{}}});var De;function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Le.apply(null,arguments)}function Me(e,n){let{title:l,titleId:a,...i}=e;return b.createElement("svg",Le({height:2228,viewBox:"-.38 0 68 60.94",width:2500,xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},i),l?b.createElement("title",{id:a},l):null,De||(De=b.createElement("path",{d:"m35.98 60.94h-14.86c-3.07 0-5.93-1.66-7.47-4.33l-12.5-21.81c-1.53-2.67-1.53-6 0-8.66l12.5-21.8c1.55-2.68 4.4-4.34 7.47-4.34h25c3.08 0 5.94 1.66 7.47 4.34l12.5 21.8c1.53 2.67 1.53 6 0 8.67l-3.23 5.19c-1.5 2.62-4.36 4.28-7.43 4.28h-14.9l8.15-13.82-7.53-13.1h-15.05l-7.54 13.1z",fill:"currentColor"})))}const Ie=b.forwardRef(Me),Re=(l.p,e=>{const{isDarkMode:n}=(0,u.e)();return(0,k.jsx)(Te.A,{component:Ie,...e,style:{color:n?"white":"#FE5000",...e.style||{}}})});var Ce=l(84369);const Ne=(0,l(83745).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var Ve;const $e={xfs:{color:"blue",icon:(0,k.jsx)(Ne,{})},ceph:{color:"lightblue",icon:(0,k.jsx)(Ke,{})},cephfs:{color:"lightblue",icon:(0,k.jsx)(Ke,{})},vfs:{color:"green",icon:(0,k.jsx)(Ne,{})},nfs:{color:"green",icon:(0,k.jsx)(Ne,{})},purestorage:{color:"red",icon:(0,k.jsx)(Re,{})},dgx:{color:"green",icon:(0,k.jsx)(Ne,{})},spectrumscale:{color:"green",icon:(0,k.jsx)(Ne,{})},weka:{color:"purple",icon:(0,k.jsx)(Ne,{})}},Oe=()=>{var e;const{token:n}=g.A.useToken(),{t:a}=(0,f.Bd)(),{baiPaginationOption:r,tablePaginationOption:s,setTablePaginationOption:u}=(0,o.aW)({current:1,pageSize:10}),[d,p]=(0,t.Tw)("first"),v=(0,b.useMemo)((()=>({offset:r.offset,limit:r.limit})),[r.offset,r.limit]),x=(0,b.useDeferredValue)(v),_=(0,b.useDeferredValue)(d),{storage_volume_list:S}=(0,A.useLazyLoadQuery)(void 0!==Ve?Ve:Ve=l(11958),x,{fetchPolicy:"first"===_?"store-and-network":"network-only",fetchKey:"first"===_?void 0:_}),j=[{title:(0,k.jsxs)(k.Fragment,{children:["ID / ",a("agent.Endpoint")]}),key:"id",dataIndex:"id",render:(e,n)=>(0,k.jsxs)(m.A,{direction:"column",align:"start",children:[(0,k.jsx)(y.A.Text,{children:e}),(0,k.jsx)(y.A.Text,{type:"secondary",children:n.path})]})},{title:a("agent.BackendType"),key:"backend",dataIndex:"backend",render:e=>{var n;const l=null!==(n=$e[e])&&void 0!==n?n:{color:"gold",icon:(0,k.jsx)(Ne,{})};return(0,k.jsxs)(m.A,{gap:"xxs",children:[l.icon,(0,k.jsx)(R.A,{values:[{label:"Backend"},{label:e,color:l.color}]})]})}},{title:a("agent.Resources"),key:"usage",dataIndex:"usage",render:(e,l)=>{var a,t,r;const o=JSON.parse(e),s=(null===o||void 0===o?void 0:o.capacity_bytes)>0?o.used_bytes/o.capacity_bytes:0,u=h().toFinite((0,i.Z1)(100*s,2)),d=u>80?n.colorError:n.colorSuccess,m=(null===(a=(0,i.Ho)(h().toString(null===o||void 0===o?void 0:o.capacity_bytes),"auto",{base:1e3}))||void 0===a?void 0:a.unit)||"g";return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.A,{valueLabel:(0,i.Z1)(u,1)+" %",percent:u,strokeColor:d,width:120}),(0,k.jsxs)(y.A.Text,{style:{fontSize:n.fontSizeSM},children:[o.used_bytes?null===(t=(0,i.Gh)(o.used_bytes,m))||void 0===t?void 0:t.numberFixed:"-","\xa0/\xa0",o.capacity_bytes?null===(r=(0,i.Gh)(o.capacity_bytes,m))||void 0===r?void 0:r.displayValue:"-"]})]})}},{title:a("agent.Capabilities"),key:"capabilities",dataIndex:"capabilities",width:150,render:e=>(0,k.jsx)(m.A,{gap:"xxs",align:"start",wrap:"wrap",children:h().map(e,(e=>(0,k.jsx)(P.A,{color:"blue",style:{margin:0},children:e},e)))})},{title:a("general.Control"),key:"control",width:100,fixed:"right",render:(e,l)=>{let a;try{const e=JSON.parse(l.performance_metric||"{}");a=h().isEmpty(e)}catch(i){a=!0}return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(B.Ay,{disabled:a,style:{color:a?n.colorTextDisabled:n.colorSuccess},icon:(0,k.jsx)(O.A,{}),onClick:()=>{const e=new CustomEvent("backend-ai-selected-storage-proxy",{detail:l.id});document.dispatchEvent(e)},type:"text"}),(0,k.jsx)(Ce.A,{to:`/storage-settings/${l.id}`,children:(0,k.jsx)(B.Ay,{style:{color:n.colorInfo},icon:(0,k.jsx)(z.A,{}),type:"text"})})]})}}];return(0,b.useEffect)((()=>{if(!h().isEmpty(null===S||void 0===S?void 0:S.items)){const e=new CustomEvent("backend-ai-storage-proxy-updated",{});document.dispatchEvent(e)}}),[S]),(0,k.jsxs)(m.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,k.jsx)(m.A,{justify:"end",wrap:"wrap",gap:"sm",children:(0,k.jsx)(Y.A,{loading:_!==d||x!==v,autoUpdateDelay:15e3,value:d,onChange:()=>{p()}})}),(0,k.jsx)(I.A,{resizable:!0,neoStyle:!0,size:"small",scroll:{x:"max-content"},rowKey:"id",dataSource:(0,i.tS)(null===S||void 0===S?void 0:S.items),columns:j,loading:x!==v||_!==d,pagination:{pageSize:s.pageSize,current:s.current,total:null!==(e=null===S||void 0===S?void 0:S.total_count)&&void 0!==e?e:0,onChange(e,n){h().isNumber(e)&&h().isNumber(n)&&u({pageSize:n,current:e})}}})]})};var ze=l(86289);const qe=(0,ze.withDefault)(ze.StringParam,"agents"),Ee=e=>{const{t:n}=(0,f.Bd)(),[l,a]=(0,ze.useQueryParam)("tab",qe,{updateType:"replace"}),{token:i}=g.A.useToken();return(0,k.jsxs)(X.A,{activeTabKey:l,onTabChange:e=>a(e),tabList:[{key:"agents",tab:n("agent.Agent")},{key:"storages",tab:n("general.StorageProxies")},{key:"resourceGroup",tab:n("general.ResourceGroup")}],styles:{body:{padding:`${i.paddingSM}px ${i.paddingLG}px ${i.paddingLG}px ${i.paddingLG}px`}},children:["agents"===l?(0,k.jsx)(b.Suspense,{fallback:(0,k.jsx)(de.A,{active:!0}),children:(0,k.jsx)(J,{})}):null,"storages"===l?(0,k.jsx)(b.Suspense,{fallback:(0,k.jsx)(de.A,{active:!0}),children:(0,k.jsx)(Oe,{})}):null,"resourceGroup"===l?(0,k.jsx)(b.Suspense,{fallback:(0,k.jsx)(de.A,{active:!0}),children:(0,k.jsx)(Se,{})}):null]})}},63251:(e,n,l)=>{l.d(n,{A:()=>a});const a=(0,l(83745).A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},60666:(e,n,l)=>{l.d(n,{A:()=>a});const a=(0,l(83745).A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]])}}]);
//# sourceMappingURL=4349.cab96078.chunk.js.map