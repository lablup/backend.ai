"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[1877],{71801:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(40691),r=t(89939),s=t(9571),o=t(52335),l=t(20418),i=t(46976),d=t.n(i),u=(t(53350),t(60598));const c=e=>{let{status:n="default",extraButtonTitle:t,onClickExtraButton:i,extra:c,style:p,styles:m,showDivider:g,...y}=e;const{token:f}=s.A.useToken(),k=c||t&&(0,u.jsx)(o.Ay,{type:"link",icon:"error"===n?(0,u.jsx)(a.A,{twoToneColor:f.colorError}):"warning"===n?(0,u.jsx)(r.A,{twoToneColor:f.colorWarning}):void 0,onClick:i,children:t})||void 0;return(0,u.jsx)(l.A,{className:"error"===n?"bai-card-error":"",style:d().extend(p,{borderColor:"error"===n?f.colorError:"warning"===n?f.colorWarning:"success"===n?f.colorSuccess:null===p||void 0===p?void 0:p.borderColor}),styles:d().merge(g?{}:{header:{borderBottom:"none"},body:{paddingTop:f.marginXS}},m),extra:k,...y})}},97759:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(50128),r=t(43403),s=(t(53350),t(71217)),o=t(60598);const l=(0,r.rU)((e=>{let{css:n,token:t}=e;return{hover:n`
    text-decoration: none;
    /* color: ${t.colorLink}; */

    &:hover {
      /* color: ${t.colorLinkHover}; */
      text-decoration: underline;
    }
  `}})),i=e=>{let{type:n,to:t,...r}=e;const{styles:i}=l();return t?(0,o.jsx)(s.N_,{className:"hover"===n?i.hover:void 0,to:t,...r}):(0,o.jsx)(a.A.Link,{className:"hover"===n?i.hover:void 0,onClick:r.onClick,...r})}},8570:(e,n,t)=>{t.d(n,{Ay:()=>F,r2:()=>A});var a=t(72375),r=t(72338),s=t(71515),o=t(51847),l=t(9571),i=t(65196),d=t(1581),u=t(82919),c=t(78186),p=t(83978),m=t(24798),g=t(52335),y=t(46976),f=t.n(y),k=t(53350),v=t(91788),S=t(60598);const b={string:"ilike",boolean:"=="},h={boolean:[{label:"True",value:"true"},{label:"False",value:"false"}],string:void 0},C={boolean:!0};function A(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&";const t=f().join(f().map((0,a.LY)(e),(e=>`(${e})`)),n);return t||void 0}const F=e=>{var n;let{filterProperties:t,value:a,onChange:y,defaultValue:A,loading:F,...x}=e;const[j,_]=(0,k.useState)(),T=(0,k.useRef)(null),[L,E]=(0,k.useState)(!1),[N,w]=(0,o.A)({value:a,defaultValue:A,onChange:y}),I=(0,k.useMemo)((()=>{if(void 0===N||""===N)return[];return N.split("&").map((e=>e.trim())).map(((e,n)=>{var a,r;const{property:s,operator:o,value:l}=function(e){const[n,...t]=e.split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/),[a,...r]=t.join(" ").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);return{property:n,operator:a,value:r.join(" ").replace(/^"|"$/g,"")}}(e);return{key:n+l,property:s,operator:o,value:l,propertyLabel:(null===(a=f().find(t,(e=>e.key===s)))||void 0===a?void 0:a.propertyLabel)||s,type:(null===(r=f().find(t,(e=>e.key===s)))||void 0===r?void 0:r.type)||"string"}}))}),[N,t]),{t:K}=(0,v.Bd)(),D=f().map(t,(e=>({label:e.propertyLabel,value:e.key,filter:e}))),[$,P]=(0,k.useState)(D[0].filter),{token:R}=l.A.useToken(),[M,z]=(0,k.useState)(!0),[O,V]=(0,k.useState)(!1),q=e=>{if(0===e.length)w(void 0);else{const n=f().map(e,(e=>{const n="string"===e.type?`"${e.value}"`:e.value;return`${e.property} ${e.operator} ${n}`}));w(function(e,n){return e.join(` ${n} `)}(n,"&"))}},B=e=>{var n,t,a;if(f().isEmpty(e))return;if($.strictSelection||C[$.type]){if(!f().find($.options||h[$.type],(n=>n.value===e)))return}const r=!(null!==(n=$.rule)&&void 0!==n&&n.validate)||$.rule.validate(e);if(z(r),!r)return;_("");const s=$.defaultOperator||b[$.type],o="ilike"===s||"like"===s?`%${e}%`:`${e}`;var l;l={property:$.key,propertyLabel:$.propertyLabel,operator:s,value:o,label:null===(t=$.options)||void 0===t||null===(a=t.find((n=>n.value===e)))||void 0===a?void 0:a.label,type:$.type},q([...I,l])};return(0,S.jsxs)(r.A,{direction:"column",gap:"xs",align:"start",children:[(0,S.jsxs)(i.A.Compact,{children:[(0,S.jsx)(d.A,{popupMatchSelectWidth:!1,options:D,value:$.key,onChange:(e,n)=>{P(f().castArray(n)[0].filter)},onSelect:()=>{var e;null===(e=T.current)||void 0===e||e.focus(),E(!0),z(!0)},showSearch:!0,optionFilterProp:"label"}),(0,S.jsx)(u.A,{title:M||!O?"":null===(n=$.rule)||void 0===n?void 0:n.message,open:!M&&O,color:R.colorError,children:(0,S.jsx)(c.A,{ref:T,value:j,open:L,onDropdownVisibleChange:E,onSelect:B,onChange:e=>{z(!0),_(e)},style:{minWidth:200},options:f().filter($.options||h[$.type],(e=>{var n;return!j||(null===(n=e.label)||void 0===n?void 0:n.toString().includes(j))})),placeholder:K("propertyFilter.PlaceHolder"),onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},children:(0,S.jsx)(p.A.Search,{onSearch:B,allowClear:!0,status:!M&&O?"error":void 0})})})]}),I.length>0&&(0,S.jsxs)(r.A,{direction:"row",gap:"xs",wrap:"wrap",style:{alignSelf:"stretch"},children:[f().map(I,(e=>{return(0,S.jsxs)(m.A,{closable:!0,onClose:()=>(e=>{const n=I.filter((n=>n.key!==e));q(n)})(e.key),style:{margin:0},children:[e.propertyLabel,": ",(n=e.value,n.replace(/^%|%$/g,""))]},e.key);var n})),I.length>1&&(0,S.jsx)(u.A,{title:K("propertyFilter.ResetFilter"),children:(0,S.jsx)(g.Ay,{size:"small",icon:(0,S.jsx)(s.A,{style:{color:R.colorTextSecondary}}),type:"text",onClick:()=>{q([])}})})]})]})}},89229:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(9571),r=t(18659),s=t(58668),o=t(43403),l=t(62097),i=t.n(l),d=(t(53350),t(60598));const u=(0,o.rU)((e=>{let{css:n,token:t}=e;return{baiRadioGroup:n`
    // border version
    .ant-radio-button-wrapper:not(.ant-radio-button-wrapper-checked)::before,
    .ant-radio-button-wrapper:hover::before {
      background-color: transparent;
    }
    .ant-radio-button-wrapper-checked:hover::before,
    .ant-radio-button-wrapper-checked::before {
      background-color: transparent;
      /* background-color: ${`rgba(${parseInt(t.colorPrimary.slice(1,3),16)}, ${parseInt(t.colorPrimary.slice(3,5),16)}, ${parseInt(t.colorPrimary.slice(5,7),16)}, 0.30)`}; */
    }

    // original design version
    /* .ant-radio-button-wrapper-checked::before,
    .ant-radio-button-wrapper::before {
      background-color: ${t.colorBorder};
    }
    .ant-radio-button-wrapper-checked:hover::before,
    .ant-radio-button-wrapper:hover::before {
      background-color: ${t.colorBorder};
    }

    .ant-radio-button-wrapper-checked {
      border-color: transparent !important;
    } */
  `}})),c=e=>{let{options:n,...t}=e;const{styles:o}=u(),{token:l}=a.A.useToken(),c=`rgba(${parseInt(l.colorPrimary.slice(1,3),16)}, ${parseInt(l.colorPrimary.slice(3,5),16)}, ${parseInt(l.colorPrimary.slice(5,7),16)}, 0.15)`,p=`rgba(${parseInt(l.colorPrimary.slice(1,3),16)}, ${parseInt(l.colorPrimary.slice(3,5),16)}, ${parseInt(l.colorPrimary.slice(5,7),16)}, 0.3)`;return(0,d.jsx)(r.Ay,{theme:{components:{Radio:{buttonSolidCheckedBg:c,buttonSolidCheckedColor:l.colorPrimary,buttonSolidCheckedHoverBg:p}}},children:(0,d.jsx)(s.Ay.Group,{className:i()(o.baiRadioGroup,t.className),options:n,optionType:"button",buttonStyle:"solid",...t})})}},96390:(e,n,t)=>{t.r(n),t.d(n,{default:()=>r});const a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SessionSlotCellFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_slots",storageKey:null}],type:"ComputeSessionNode",abstractKey:null,hash:"39927d6fcf4a8ce5c71769155ce2a7a4"},r=a},91238:(e,n,t)=>{t.d(n,{A:()=>u});var a=t(72338),r=t(96141),s=t(24798),o=t(46976),l=t.n(o),i=t(53350),d=t(60598);const u=e=>{let n,{values:t=[],highlightKeyword:o}=e;return 0===t.length?null:(n=t[0]&&("string"===typeof t[0]||i.isValidElement(t[0]))?t.map((e=>({label:e,color:"blue"}))):t,(0,d.jsx)(a.A,{direction:"row",children:l().map(n,((e,t)=>l().isEmpty(e.label)?null:(0,d.jsx)(s.A,{style:l().last(n)===e?void 0:{margin:0,marginRight:-1},color:e.color,children:l().isUndefined(o)?e.label:(0,d.jsx)(r.A,{keyword:o,children:e.label})},t)))}))}},29093:(e,n,t)=>{t.r(n),t.d(n,{default:()=>r});const a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"SessionNodesFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"NONE",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},action:"NONE",path:"row_id"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{args:null,kind:"FragmentSpread",name:"SessionStatusTagFragment"},{args:null,kind:"FragmentSpread",name:"SessionReservationFragment"},{args:null,kind:"FragmentSpread",name:"SessionSlotCellFragment"},{args:null,kind:"FragmentSpread",name:"SessionUsageMonitorFragment"}],type:"ComputeSessionNode",abstractKey:null,hash:"529961d4450944f1c138d21c87f8f3ba"},r=a},54690:(e,n,t)=>{t.d(n,{w4:()=>o});var a=t(46976),r=t.n(a),s=t(53350);t(22018),t(32043);const o=e=>{const[n,t]=(0,s.useState)(e);return{baiPaginationOption:{limit:n.pageSize,first:n.pageSize,offset:n.current>1?(n.current-1)*n.pageSize:0},tablePaginationOption:{pageSize:n.pageSize,current:n.current},setTablePaginationOption:e=>{r().isEqual(e,n)||t((n=>({...n,...e})))}}}},40822:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var a=t(85730),r=t(50332),s=t(43622),o=t(82919),l=t(52335),i=t(78502),d=t.n(i),u=t(53350),c=t(91788),p=t(60598);const m=e=>{let{value:n,loading:t,onChange:i,showLastLoadTime:m,autoUpdateDelay:g=null,size:y,hidden:f,...k}=e;const{t:v}=(0,c.Bd)(),[S,b]=(0,a.A)({value:k.lastLoadTime},{defaultValue:new Date}),[h,C]=(0,u.useState)(!1);(0,u.useEffect)((()=>{if(t){const e=Date.now();return C(!0),()=>{const n=Date.now()-e,t=Math.max(700-n,0);setTimeout((()=>{C(!1)}),t)}}}),[t]);const A=(0,r.K)((()=>S?`${v("general.LastUpdated")}: ${d()(S).fromNow()}`:""),m?5e3:null,S.toISOString());return(0,u.useLayoutEffect)((()=>{t||b(new Date)}),[t,b]),(0,r.$)((()=>{i((new Date).toISOString())}),t?null:g),f?null:(0,p.jsx)(o.A,{title:m?A:void 0,placement:"topLeft",children:(0,p.jsx)(l.Ay,{loading:h,size:y,icon:(0,p.jsx)(s.A,{}),onClick:()=>{i((new Date).toISOString())}})})};var g,y=t(71801),f=t(97759),k=t(8570),v=t(26059),S=t(72338),b=t(72375),h=t(8699),C=t(61207),A=t(7971),F=t(50128),x=t(40056),j=t(46976),_=t.n(j),T=t(22018);const L=e=>{let{type:n,sessionFrgmt:a,mode:r="requested"}=e;const{deviceMetadata:s}=(0,A.Hv)(),o=(0,T.useFragment)(void 0!==g?g:g=t(96390),a),l=JSON.parse(("occupied"===r?o.occupied_slots:o.requested_slots)||"{}");var i;if("cpu"===n)return null!==(i=l.cpu)&&void 0!==i?i:"-";if("mem"===n){var d,c;const e=null!==(d=l.mem)&&void 0!==d?d:"-";return"-"===e?e:(null===(c=(0,b.Is)(e,"G"))||void 0===c?void 0:c.number)+" GiB"}if("accelerator"===n){const e=_().omit(l,["cpu","mem"]);return _().isEmpty(e)?"-":_().map(e,((e,n)=>{var t;return(0,p.jsxs)(u.Fragment,{children:[(0,p.jsx)(F.A.Text,{children:e}),(0,p.jsx)(x.A,{type:"vertical"}),(0,p.jsx)(F.A.Text,{children:null===s||void 0===s||null===(t=s[n])||void 0===t?void 0:t.human_readable_name})]},n)}))}};var E,N=t(5415),w=t(95950),I=t(29471);const K=e=>{let{sessionsFrgmt:n,onClickSessionName:a,...r}=e;const{t:s}=(0,c.Bd)(),{token:o}=I.w4.useToken(),l=(0,T.useFragment)(void 0!==E?E:E=t(29093),n),i=(0,b.tS)(l);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(h.A,{resizable:!0,neoStyle:!0,rowKey:e=>e.id,size:"small",dataSource:i,scroll:{x:"max-content"},columns:[{key:"name",title:s("session.SessionName"),dataIndex:"name",render:(e,n)=>a?(0,p.jsx)(f.A,{type:"hover",onClick:e=>{a(n)},children:e}):e,sorter:!0},{key:"status",title:s("session.Status"),dataIndex:"status",render:(e,n)=>(0,p.jsx)(N.A,{sessionFrgmt:n})},{key:"utils",title:s("session.Utilization"),render:(e,n)=>(0,p.jsx)(S.A,{style:{paddingLeft:o.paddingXS},children:(0,p.jsx)(w.A,{size:"small",sessionFrgmt:n})})},{key:"accelerator",title:s("session.launcher.AIAccelerator"),render:(e,n)=>(0,p.jsx)(L,{sessionFrgmt:n,type:"accelerator"})},{key:"cpu",title:s("session.launcher.CPU"),render:(e,n)=>(0,p.jsx)(L,{sessionFrgmt:n,type:"cpu"})},{key:"mem",title:s("session.launcher.Memory"),render:(e,n)=>(0,p.jsx)(L,{sessionFrgmt:n,type:"mem"})},{key:"elapsedTime",title:s("session.ElapsedTime"),render:(e,n)=>(0,p.jsx)(C.A,{mode:"simple-elapsed",sessionFrgmt:n})}],...r})})};var D=t(23441),$=t(54690),P=t(81530),R=t(21110),M=t(7322),z=t(44452),O=t(32043);const V=(0,R.eU)({});var q=t(9571),B=t(9712),U=t(15517),Q=t(81529),W=t(43403),H=t(62097),G=t.n(H);const X=(0,W.rU)((e=>{let{token:n,css:t}=e;return{baiTabs:t`
    .ant-tabs-nav::before {
      border-color: ${n.colorPrimary};
    }
    .ant-tabs-tab:not(.ant-tabs-tab-active) {
      border-bottom-color: ${n.colorPrimary};
    }
    .ant-tabs-tab.ant-tabs-tab-active {
      border-color: ${n.colorPrimary};
    }
  `}})),J=e=>{let{className:n,...t}=e;const{styles:a}=X();return(0,p.jsx)(Q.A,{className:G()(a.baiTabs,n),type:"card",...t})};var Z,Y=t(89229);const ee=()=>{var e;const n=(0,P.hd)(),{t:a}=(0,c.Bd)(),{token:r}=q.A.useToken(),[s,i]=(0,u.useState)([]),[d,g]=(0,u.useState)(!1),{baiPaginationOption:h,tablePaginationOption:C,setTablePaginationOption:A}=(0,$.w4)({current:1,pageSize:10}),[x,j]=function(e){const[n,t]=(0,O.useQueryParams)(e),a=(0,u.useMemo)((()=>(0,z.t_)((t=>{const a=t(V),r=_().pick(a,Object.keys(e));return _().isEmpty(r)?n:r}))),[JSON.stringify(e)]);let r=(0,M.md)(a);const s=(0,M.Xr)(V),o=(0,u.useCallback)(((e,n)=>{const a="function"===typeof e?e(r):e;s("replaceIn"===n||"pushIn"===n?{...r,...a}:a),t(a,n)}),[r,t,s]);return[r,o]}({order:O.StringParam,filter:O.StringParam,type:(0,O.withDefault)(O.StringParam,"all"),statusCategory:(0,O.withDefault)(O.StringParam,"running")}),[,L]=(0,O.useQueryParam)("sessionDetail",O.StringParam),E=(0,u.useRef)({[x.type]:x});E.current[x.type]=x;const N="all"===x.type||void 0===x.type?void 0:`type == "${x.type}"`,w="running"===x.statusCategory||void 0===x.statusCategory?'status != "TERMINATED" & status != "CANCELLED"':'status == "TERMINATED" | status == "CANCELLED"',[I,R]=(0,D.Tw)("first"),Q=(0,u.useMemo)((()=>({projectId:n.id,offset:h.offset,first:h.first,filter:(0,k.r2)([w,x.filter,N]),order:x.order})),[n.id,h.offset,h.first,w,x.filter,N,x.order]),W=(0,u.useDeferredValue)(Q),H=(0,u.useDeferredValue)(I),{compute_session_nodes:G,...X}=(0,T.useLazyLoadQuery)(void 0!==Z?Z:Z=t(34474),W,{fetchPolicy:"network-only",fetchKey:H});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(y.A,{bordered:!1,title:a("webui.menu.Sessions"),extra:(0,p.jsxs)(S.A,{gap:"xs",children:[(0,p.jsx)(m,{loading:W!==Q||H!==I,autoUpdateDelay:15e3,value:I,onChange:e=>{R(e)}}),(0,p.jsx)(f.A,{to:"/session/start",children:(0,p.jsx)(l.Ay,{type:"primary",children:a("session.launcher.Start")})})]}),styles:{header:{borderBottom:"none"},body:{paddingTop:0}},children:[(0,p.jsx)(J,{activeKey:x.type,onChange:e=>{const n=E.current[e]||{statusCategory:"running"};j({...n,type:e},"replace"),A({current:1}),i([])},items:_().map({all:a("general.All"),interactive:a("session.Interactive"),batch:a("session.Batch"),inference:a("session.Inference"),system:a("session.System")},((e,n)=>{var t;return{key:n,label:(0,p.jsxs)(S.A,{justify:"center",gap:10,children:[e,((null===(t=X[n])||void 0===t?void 0:t.count)||0)>0&&(0,p.jsx)(B.A,{count:X[n].count,color:x.type===n?r.colorPrimary:r.colorTextDisabled,size:"small",showZero:!0,style:{paddingRight:r.paddingXS,paddingLeft:r.paddingXS,fontSize:10}})]})}}))}),(0,p.jsxs)(S.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,p.jsxs)(S.A,{justify:"between",wrap:"wrap",gap:"sm",children:[(0,p.jsxs)(S.A,{gap:"sm",align:"start",style:{flexShrink:1},wrap:"wrap",children:[(0,p.jsx)(Y.A,{optionType:"button",value:x.statusCategory,onChange:e=>{j({statusCategory:e.target.value},"replaceIn"),A({current:1}),i([])},options:[{label:"Running",value:"running"},{label:"Finished",value:"finished"}]}),(0,p.jsx)(k.Ay,{filterProperties:[{key:"name",propertyLabel:a("session.SessionName"),type:"string"}],value:x.filter||void 0,onChange:e=>{j({filter:e},"replaceIn"),A({current:1}),i([])}})]}),(0,p.jsx)(S.A,{gap:"sm",children:s.length>0&&(0,p.jsxs)(p.Fragment,{children:[a("general.NSelected",{count:s.length}),(0,p.jsx)(o.A,{title:a("session.TerminateSession"),placement:"topLeft",children:(0,p.jsx)(l.Ay,{icon:(0,p.jsx)(U.A,{color:r.colorError}),onClick:()=>{g(!0)}})})]})})]}),(0,p.jsx)(K,{onClickSessionName:e=>{L(e.row_id)},loading:W!==Q,rowSelection:{type:"checkbox",preserveSelectedRowKeys:!0,getCheckboxProps(e){return{disabled:(n=e.status,"TERMINATED"===n||"CANCELLED"===n)};var n},onChange:e=>{(0,b.Z4)(e,(0,b.tS)(null===G||void 0===G?void 0:G.edges.map((e=>null===e||void 0===e?void 0:e.node))),i)},selectedRowKeys:_().map(s,(e=>e.id))},sessionsFrgmt:(0,b.tS)(null===G||void 0===G?void 0:G.edges.map((e=>null===e||void 0===e?void 0:e.node))),pagination:{pageSize:C.pageSize,current:C.current,total:null!==(e=null===G||void 0===G?void 0:G.count)&&void 0!==e?e:0,showTotal:e=>(0,p.jsx)(F.A.Text,{type:"secondary",children:a("general.TotalItems",{total:e})})},onChange:(e,n,t)=>{let{current:a,pageSize:r}=e;_().isNumber(a)&&_().isNumber(r)&&A({current:a,pageSize:r}),j({order:(0,b.Wh)(t)},"replaceIn")}})]})]}),(0,p.jsx)(v.A,{open:d,sessionFrgmts:s,onRequestClose:e=>{g(!1),e&&i([])}})]})}},34474:(e,n,t)=>{t.r(n),t.d(n,{default:()=>r});const a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:20,kind:"LocalArgument",name:"first"},t={defaultValue:0,kind:"LocalArgument",name:"offset"},a={defaultValue:null,kind:"LocalArgument",name:"order"},r={defaultValue:null,kind:"LocalArgument",name:"projectId"},s={kind:"Variable",name:"project_id",variableName:"projectId"},o=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"order",variableName:"order"},s],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},d={kind:"Literal",name:"first",value:0},u={kind:"Literal",name:"offset",value:0},c=[i],p={alias:"all",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED"'},d,u,s],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:c,storageKey:null},m={alias:"interactive",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "interactive"'},d,u,s],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:c,storageKey:null},g={alias:"inference",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "inference"'},d,u,s],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:c,storageKey:null},y={alias:"batch",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "batch"'},d,u,s],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:c,storageKey:null},f={alias:"system",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "system"'},d,u,s],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:c,storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null};return{fragment:{argumentDefinitions:[e,n,t,a,r],kind:"Fragment",metadata:null,name:"ComputeSessionListPageQuery",selections:[{alias:null,args:o,concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ComputeSessionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:l,action:"THROW",path:"compute_session_nodes.edges.node.id"},{args:null,kind:"FragmentSpread",name:"SessionNodesFragment"},{args:null,kind:"FragmentSpread",name:"TerminateSessionModalFragment"}],storageKey:null},action:"THROW",path:"compute_session_nodes.edges.node"}],storageKey:null},action:"THROW",path:"compute_session_nodes.edges"},i],storageKey:null},p,m,g,y,f],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,n,t,e,a],kind:"Operation",name:"ComputeSessionListPageQuery",selections:[{alias:null,args:o,concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"ComputeSessionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"starts_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"terminated_at",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"requested_slots",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},k,l,{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"agent_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null}],storageKey:null}],storageKey:null},i],storageKey:null},p,m,g,y,f]},params:{cacheID:"094c7fdfbb9ad06ec4bd1f9f44df97a7",id:null,metadata:{},name:"ComputeSessionListPageQuery",operationKind:"query",text:'query ComputeSessionListPageQuery(\n  $projectId: UUID!\n  $first: Int = 20\n  $offset: Int = 0\n  $filter: String\n  $order: String\n) {\n  compute_session_nodes(project_id: $projectId, first: $first, offset: $offset, filter: $filter, order: $order) {\n    edges {\n      node {\n        id\n        ...SessionNodesFragment\n        ...TerminateSessionModalFragment\n      }\n    }\n    count\n  }\n  all: compute_session_nodes(project_id: $projectId, first: 0, offset: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\"") {\n    count\n  }\n  interactive: compute_session_nodes(project_id: $projectId, first: 0, offset: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"interactive\\"") {\n    count\n  }\n  inference: compute_session_nodes(project_id: $projectId, first: 0, offset: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"inference\\"") {\n    count\n  }\n  batch: compute_session_nodes(project_id: $projectId, first: 0, offset: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"batch\\"") {\n    count\n  }\n  system: compute_session_nodes(project_id: $projectId, first: 0, offset: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"system\\"") {\n    count\n  }\n}\n\nfragment SessionNodesFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  ...SessionStatusTagFragment\n  ...SessionReservationFragment\n  ...SessionSlotCellFragment\n  ...SessionUsageMonitorFragment\n}\n\nfragment SessionReservationFragment on ComputeSessionNode {\n  id\n  created_at\n  starts_at\n  terminated_at\n}\n\nfragment SessionSlotCellFragment on ComputeSessionNode {\n  id\n  occupied_slots\n  requested_slots\n}\n\nfragment SessionStatusTagFragment on ComputeSessionNode {\n  id\n  name\n  status\n  status_info\n}\n\nfragment SessionUsageMonitorFragment on ComputeSessionNode {\n  kernel_nodes {\n    edges {\n      node {\n        live_stat\n        occupied_slots\n        id\n      }\n    }\n  }\n}\n\nfragment TerminateSessionModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  scaling_group\n  kernel_nodes {\n    edges {\n      node {\n        container_id\n        agent_id\n        id\n      }\n    }\n  }\n}\n'}}}();a.hash="cf9edaa921f22fd8f24e1526d09daa3f";const r=a}}]);
//# sourceMappingURL=1877.6b219d16.chunk.js.map