"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[4817],{49864:(e,n,a)=>{a.d(n,{A:()=>d});var t=a(57376),l=a(76591),s=a(67631),i=a(17534),o=a(62962),r=a(89374);const d=e=>{let{fetchKey:n,onChangeFetchKey:a}=e;const{t:d}=(0,o.Bd)(),{token:u}=l.A.useToken(),[c,m]=(0,i.useTransition)();return(0,r.jsxs)(s.OO,{direction:"column",align:"stretch",style:{paddingInline:u.paddingXL,height:"100%"},children:[(0,r.jsx)(s.MR,{title:d("activeAgent.ActiveAgents"),tooltip:d("activeAgent.ActiveAgentsTooltip",{count:5}),extra:(0,r.jsx)(s.u8,{size:"small",loading:c,value:"",onChange:e=>{m((()=>{null===a||void 0===a||a(e)}))},type:"text",style:{backgroundColor:"transparent"}})}),(0,r.jsx)(s.OO,{direction:"column",align:"stretch",style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:(0,r.jsx)(t.A,{fetchKey:n,onChangeFetchKey:a,headerProps:{style:{display:"none"}},tableProps:{pagination:{pageSize:3,showSizeChanger:!1}}})})]})}},64949:(e,n,a)=>{a.d(n,{A:()=>h});var t=a(56276),l=a(11863);const s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AgentStatsRefetchQuery",selections:[{args:null,kind:"FragmentSpread",name:"AgentStatsFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"AgentStatsRefetchQuery",selections:[{alias:null,args:null,concreteType:"AgentStats",kind:"LinkedField",name:"agentStats",plural:!1,selections:[{alias:null,args:null,concreteType:"AgentResource",kind:"LinkedField",name:"totalResource",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"free",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capacity",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"b2605aadfb3d6bd4a21f3f7887043e31",id:null,metadata:{},name:"AgentStatsRefetchQuery",operationKind:"query",text:'query AgentStatsRefetchQuery {\n  ...AgentStatsFragment\n}\n\nfragment AgentStatsFragment on Query {\n  agentStats @since(version: "25.15.0") {\n    totalResource {\n      free\n      used\n      capacity\n    }\n  }\n}\n'},hash:"458be767c066ba74fbebc3d9d84638ca"},i={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:s}},name:"AgentStatsFragment",selections:[{alias:null,args:null,concreteType:"AgentStats",kind:"LinkedField",name:"agentStats",plural:!1,selections:[{alias:null,args:null,concreteType:"AgentResource",kind:"LinkedField",name:"totalResource",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"free",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"used",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capacity",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null,hash:"458be767c066ba74fbebc3d9d84638ca"},o=i;var r=a(72828),d=a(92957),u=a(76591),c=a(96223),m=a(14183),g=a(30332),p=a(67631),y=a(47699),k=a.n(y),S=a(17534),_=a(62962),F=a(46336),f=a(89374);const v=["queryRef","isRefetching","extra"],h=e=>{let{queryRef:n,isRefetching:a,extra:s}=e,i=(0,l.A)(e,v);const{t:y}=(0,_.Bd)(),{token:h}=u.A.useToken(),[C,b]=(0,S.useTransition)(),[A,I]=(0,d.A)(i,{defaultValue:"used",trigger:"onDisplayTypeChange",defaultValuePropName:"defaultDisplayType"}),[L,K]=(0,F.useRefetchableFragment)(o,n),T=(0,r.Hv)(),N=((e,n)=>{const a=L.agentStats.totalResource;if(!a)return{cpu:null,memory:null,accelerators:[]};const t=a.free,l=a.used,s=a.capacity,i=null===T||void 0===T||null===(e=T.resourceSlotsInRG)||void 0===e?void 0:e.cpu,o=null===T||void 0===T||null===(n=T.resourceSlotsInRG)||void 0===n?void 0:n.mem;return{cpu:i?{used:{current:(0,p.IZ)(l.cpu||0),total:(0,p.IZ)(s.cpu||0)},free:{current:(0,p.IZ)(t.cpu||0),total:(0,p.IZ)(s.cpu||0)},metadata:{title:i.human_readable_name,displayUnit:i.display_unit}}:null,memory:o?{used:{current:(0,p.Wn)(l.mem||0,o.display_unit),total:(0,p.Wn)(s.mem||0,o.display_unit)},free:{current:(0,p.Wn)(t.mem||0,o.display_unit),total:(0,p.Wn)(s.mem||0,o.display_unit)},metadata:{title:o.human_readable_name,displayUnit:o.display_unit}}:null,accelerators:k().chain(null===T||void 0===T?void 0:T.resourceSlotsInRG).omit(["cpu","mem"]).map(((e,n)=>{if(!e)return null;const a=t[n]||0,i=l[n]||0,o=s[n]||0;return{key:n,used:{current:(0,p.IZ)(i),total:(0,p.IZ)(o)},free:{current:(0,p.IZ)(a),total:(0,p.IZ)(o)},metadata:{title:e.human_readable_name,displayUnit:e.display_unit}}})).compact().filter((e=>!(!e.used.current&&!e.used.total))).value()}})();return(0,f.jsxs)(p.OO,(0,t.A)((0,t.A)({direction:"column",align:"stretch",style:(0,t.A)({paddingInline:h.paddingXL,paddingBottom:h.padding},i.style)},k().omit(i,["style"])),{},{children:[(0,f.jsx)(p.MR,{title:(0,f.jsx)(c.A.Text,{style:{fontSize:h.fontSizeHeading5,fontWeight:h.fontWeightStrong},children:y("agentStats.AgentStats")}),tooltip:y("agentStats.AgentStatsDescription"),extra:(0,f.jsxs)(p.OO,{gap:"xs",wrap:"wrap",children:[(0,f.jsx)(m.A,{size:"small",options:[{label:y("dashboard.Used"),value:"used"},{value:"free",label:y("dashboard.Free")}],value:A,onChange:e=>I(e)}),(0,f.jsx)(p.u8,{size:"small",loading:C||a,value:"",onChange:()=>{b((()=>{K({},{fetchPolicy:"network-only"})}))},type:"text",style:{backgroundColor:"transparent"}}),s]})}),T.isLoading?(0,f.jsx)(g.A,{active:!0}):(0,f.jsx)(p.eN,{resourceData:N,displayType:"used"===A?"used":"free",progressMode:"normal"})]}))}},65192:(e,n,a)=>{a.d(n,{A:()=>F});var t=a(56276),l=a(11863),s=a(7871),i=a(81997),o=a(70541),r=a(84791),d=a(34754),u=a.n(d),c=a(89374);const m=["items","resizable","movable","bordered"];var g,p,y,k,S;const _=(0,r.rU)((e=>{let{css:n,token:a}=e;return{board:n(g||(g=(0,s.A)(["\n      .bai_board_placeholder {\n        border-radius: var(--token-borderRadius) !important;\n      }\n      .bai_board_placeholder--active {\n        background-color: var(--token-colorSplit) !important ;\n      }\n      .bai_board_placeholder--hover {\n        background-color: var(--token-colorPrimaryHover) !important ;\n        // FIXME: global token doesn't exist, so opacity fits color\n        opacity: 0.3;\n      }\n      .bai_board_handle button span {\n        color: "," !important;\n        padding-left: 5px !important;\n      }\n      .bai_board_header {\n        padding: 0 !important;\n        padding-top: ","px !important;\n      }\n      .bai_board_resizer button span {\n        color: "," !important;\n      }\n      .bai_board_container-override\n        > div:first-child\n        > div:nth-child(2)\n        > div:first-child {\n        padding: 0 !important;\n      }\n    "])),a.colorTextQuaternary,a.padding-1,a.colorTextQuaternary),disableResize:n(p||(p=(0,s.A)(["\n      .bai_board_resizer {\n        display: none !important;\n      }\n    "]))),disableMove:n(y||(y=(0,s.A)(["\n      .bai_board_handle {\n        display: none !important;\n      }\n      .bai_board_header {\n        display: none !important;\n      }\n    "]))),boardItems:n(k||(k=(0,s.A)(["\n      & > div:first-child {\n        border-radius: var(--token-borderRadius) !important;\n        background-color: var(--token-colorBgContainer) !important;\n        border: 1px solid "," !important;\n      }\n\n      & > div:first-child > div:first-child > div:first-child {\n        margin-bottom: var(--token-margin);\n        background-color: var(--token-colorBgContainer) !important;\n        position: absolute;\n        z-index: 1;\n      }\n    "])),a.colorBorderSecondary),disableBorder:n(S||(S=(0,s.A)(["\n      & > div:first-child {\n        border: none !important;\n      }\n    "])))}})),F=e=>{let{items:n,resizable:a=!1,movable:s=!1,bordered:r=!1}=e,d=(0,l.A)(e,m);const{styles:g}=_();return(0,c.jsx)(i.A,(0,t.A)({className:u()(g.board,!s&&g.disableMove,!a&&g.disableResize),empty:!0,renderItem:e=>{var n;return(0,c.jsx)(o.A,(0,t.A)((0,t.A)({className:u()(g.boardItems,!r&&g.disableBorder),i18nStrings:{dragHandleAriaLabel:"",dragHandleAriaDescription:"",resizeHandleAriaLabel:"",resizeHandleAriaDescription:""}},e),{},{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.content}),e.id)},items:n,i18nStrings:(()=>{const e=(e,n,a)=>[e,n.length>0?"Conflicts with ".concat(n.map((e=>e.data.title)).join(", "),"."):"",a.length>0?"Disturbed ".concat(a.length," items."):""].filter(Boolean).join(" ");return{liveAnnouncementDndStarted:e=>"resize"===e?"Resizing":"Dragging",liveAnnouncementDndItemReordered:n=>{const a="column ".concat(n.placement.x+1),t="row ".concat(n.placement.y+1);return e("Item moved to ".concat("horizontal"===n.direction?a:t,"."),n.conflicts,n.disturbed)},liveAnnouncementDndItemResized:n=>{const a=n.isMinimalColumnsReached?" (minimal)":"",t=n.isMinimalRowsReached?" (minimal)":"",l="horizontal"===n.direction?"columns ".concat(n.placement.width).concat(a):"rows ".concat(n.placement.height).concat(t);return e("Item resized to ".concat(l,"."),n.conflicts,n.disturbed)},liveAnnouncementDndItemInserted:n=>{const a="column ".concat(n.placement.x+1),t="row ".concat(n.placement.y+1);return e("Item inserted to ".concat(a,", ").concat(t,"."),n.conflicts,n.disturbed)},liveAnnouncementDndCommitted:e=>"".concat(e," committed"),liveAnnouncementDndDiscarded:e=>"".concat(e," discarded"),liveAnnouncementItemRemoved:n=>e("Removed item ".concat(n.item.data.title,"."),[],n.disturbed),navigationAriaLabel:"Board navigation",navigationAriaDescription:"Click on non-empty item to move focus over",navigationItemAriaLabel:e=>e?e.data.title:"Empty"}})()},d))}},91992:(e,n,a)=>{a.d(n,{A:()=>_});var t=a(56276),l=a(11863);const s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"scopeId"}],n={kind:"Literal",name:"first",value:0},a={kind:"Variable",name:"scope_id",variableName:"scopeId"},t=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"SessionCountDashboardItemRefetchQuery",selections:[{args:[{kind:"Variable",name:"scopeId",variableName:"scopeId"}],kind:"FragmentSpread",name:"SessionCountDashboardItemFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"SessionCountDashboardItemRefetchQuery",selections:[{alias:"myInteractive",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "interactive"'},n,a],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:t,storageKey:null},{alias:"myBatch",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "batch"'},n,a],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:t,storageKey:null},{alias:"myInference",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "inference"'},n,a],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:t,storageKey:null},{alias:"myUpload",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "system"'},n,a],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:t,storageKey:null}]},params:{cacheID:"4e2a7d64eccfa5e512354e770190e051",id:null,metadata:{},name:"SessionCountDashboardItemRefetchQuery",operationKind:"query",text:'query SessionCountDashboardItemRefetchQuery(\n  $scopeId: ScopeField\n) {\n  ...SessionCountDashboardItemFragment_3vJUag\n}\n\nfragment SessionCountDashboardItemFragment_3vJUag on Query {\n  myInteractive: compute_session_nodes(first: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"interactive\\"", scope_id: $scopeId) {\n    count\n  }\n  myBatch: compute_session_nodes(first: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"batch\\"", scope_id: $scopeId) {\n    count\n  }\n  myInference: compute_session_nodes(first: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"inference\\"", scope_id: $scopeId) {\n    count\n  }\n  myUpload: compute_session_nodes(first: 0, filter: "status != \\"TERMINATED\\" & status != \\"CANCELLED\\" & type == \\"system\\"", scope_id: $scopeId) {\n    count\n  }\n}\n'}}}();s.hash="19e666cf346850c01eda18c6889928ae";const i=s,o=function(){var e={kind:"Literal",name:"first",value:0},n={kind:"Variable",name:"scope_id",variableName:"scopeId"},a=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"scopeId"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:i}},name:"SessionCountDashboardItemFragment",selections:[{alias:"myInteractive",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "interactive"'},e,n],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:a,storageKey:null},{alias:"myBatch",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "batch"'},e,n],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:a,storageKey:null},{alias:"myInference",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "inference"'},e,n],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:a,storageKey:null},{alias:"myUpload",args:[{kind:"Literal",name:"filter",value:'status != "TERMINATED" & status != "CANCELLED" & type == "system"'},e,n],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:a,storageKey:null}],type:"Query",abstractKey:null}}();o.hash="19e666cf346850c01eda18c6889928ae";const r=o;var d=a(76591),u=a(67631),c=a(47699),m=a.n(c),g=a(17534),p=a(62962),y=a(46336),k=a(89374);const S=["queryRef","isRefetching","title"],_=e=>{let{queryRef:n,isRefetching:a,title:s}=e,i=(0,l.A)(e,S);const{t:o}=(0,p.Bd)(),{token:c}=d.A.useToken(),[_,F]=(0,g.useTransition)(),[f,v]=(0,y.useRefetchableFragment)(r,n),{myInteractive:h,myBatch:C,myInference:b,myUpload:A}=f||{},I=(e,n)=>(0,k.jsx)(u.bU,{title:e,current:n,progressMode:"hidden"});return(0,k.jsxs)(u.OO,(0,t.A)((0,t.A)({direction:"column",align:"stretch",style:(0,t.A)({paddingInline:c.paddingXL},i.style)},m().omit(i,["style"])),{},{children:[(0,k.jsx)(u.MR,{title:s,extra:(0,k.jsx)(u.u8,{size:"small",loading:_||a,value:"",onChange:()=>{F((()=>{v({},{fetchPolicy:"network-only"})}))},type:"text",style:{backgroundColor:"transparent"}})}),(0,k.jsx)(u.OO,{direction:"row",wrap:"wrap",gap:"lg",children:(0,k.jsxs)(u.ju,{style:{paddingBlock:c.padding},children:[I(o("session.Interactive"),(null===h||void 0===h?void 0:h.count)||0),I(o("session.Batch"),(null===C||void 0===C?void 0:C.count)||0),I(o("session.Inference"),(null===b||void 0===b?void 0:b.count)||0),I(o("session.System"),(null===A||void 0===A?void 0:A.count)||0)]})})]}))}},93398:(e,n,a)=>{a.d(n,{A:()=>y});const t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"scopeId"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status_info",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RecentlyCreatedSessionRefetchQuery",selections:[{args:[{kind:"Variable",name:"scopeId",variableName:"scopeId"}],kind:"FragmentSpread",name:"RecentlyCreatedSessionFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RecentlyCreatedSessionRefetchQuery",selections:[{alias:null,args:[{kind:"Literal",name:"filter",value:'status == "running"'},{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"order",value:"-created_at"},{kind:"Variable",name:"scope_id",variableName:"scopeId"}],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"ComputeSessionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"node",plural:!1,selections:[n,a,t,l,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"agent_ids",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"status_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"queue_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"starts_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"terminated_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"occupied_slots",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_slots",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"live_stat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null},n,{alias:null,args:null,concreteType:"ImageNode",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_image_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"architecture",storageKey:null},t,{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"tags",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"KVPair",kind:"LinkedField",name:"labels",plural:!0,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"namespace",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null},n],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"cluster_hostname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},l,s,{alias:null,args:null,kind:"ScalarField",name:"agent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"project_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,concreteType:"UserNode",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_opts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vfolder_mounts",storageKey:null},{alias:null,args:null,concreteType:"VirtualFolderConnection",kind:"LinkedField",name:"vfolder_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"VirtualFolderEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VirtualFolderNode",kind:"LinkedField",name:"node",plural:!1,selections:[a,t,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scaling_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idle_checks",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_ports",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commit_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priority",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_size",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"62cae2855b1a2e7b3c206b4290210806",id:null,metadata:{},name:"RecentlyCreatedSessionRefetchQuery",operationKind:"query",text:'query RecentlyCreatedSessionRefetchQuery(\n  $scopeId: ScopeField\n) {\n  ...RecentlyCreatedSessionFragment_3vJUag\n}\n\nfragment AppLauncherModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  service_ports\n  access_key\n}\n\nfragment BAISessionAgentIdsFragment on ComputeSessionNode {\n  agent_ids\n}\n\nfragment BAISessionClusterModeFragment on ComputeSessionNode {\n  cluster_mode\n  cluster_size\n}\n\nfragment BAISessionTypeTagFragment on ComputeSessionNode {\n  type\n}\n\nfragment ConnectedKernelListFragment on KernelNode {\n  id\n  row_id\n  cluster_hostname\n  cluster_idx\n  cluster_role\n  status\n  status_info\n  agent_id\n  container_id\n}\n\nfragment ContainerCommitModalFragment on ComputeSessionNode {\n  id\n  name\n  row_id\n}\n\nfragment ContainerLogModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        id\n        row_id\n        container_id\n        cluster_idx\n        cluster_role\n        cluster_hostname\n      }\n    }\n  }\n}\n\nfragment EditableSessionNameFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  priority\n  user_id\n  status\n}\n\nfragment FolderLink_vfolderNode on VirtualFolderNode {\n  row_id\n  name\n}\n\nfragment ImageNodeSimpleTagFragment on ImageNode {\n  base_image_name @since(version: "24.12.0")\n  version @since(version: "24.12.0")\n  architecture\n  name\n  tags @since(version: "24.12.0") {\n    key\n    value\n  }\n  labels {\n    key\n    value\n  }\n  registry\n  namespace @since(version: "24.12.0")\n  tag\n}\n\nfragment MountedVFolderLinksFragment on ComputeSessionNode {\n  row_id\n  vfolder_nodes @since(version: "25.4.0") {\n    edges {\n      node {\n        ...FolderLink_vfolderNode\n        id\n      }\n    }\n  }\n  ...MountedVFolderLinksLegacyLazyFolderLinkFragment\n}\n\nfragment MountedVFolderLinksLegacyLazyFolderLinkFragment on ComputeSessionNode {\n  row_id\n  vfolder_mounts\n}\n\nfragment RecentlyCreatedSessionFragment_3vJUag on Query {\n  compute_session_nodes(first: 5, order: "-created_at", filter: "status == \\"running\\"", scope_id: $scopeId) {\n    edges {\n      node {\n        id\n        ...SessionNodesFragment\n      }\n    }\n  }\n}\n\nfragment SFTPConnectionInfoModalFragment on ComputeSessionNode {\n  row_id\n  vfolder_mounts\n}\n\nfragment SessionActionButtonsFragment on ComputeSessionNode {\n  id\n  name\n  row_id\n  type\n  status\n  access_key\n  service_ports\n  commit_status\n  user_id\n  ...TerminateSessionModalFragment\n  ...ContainerLogModalFragment\n  ...ContainerCommitModalFragment\n  ...AppLauncherModalFragment\n  ...SFTPConnectionInfoModalFragment\n  ...useBackendAIAppLauncherFragment\n}\n\nfragment SessionDetailContentFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  project_id\n  user_id\n  owner @since(version: "25.13.0") {\n    email\n    id\n  }\n  resource_opts\n  status\n  status_data\n  vfolder_mounts\n  vfolder_nodes @since(version: "25.4.0") {\n    edges {\n      node {\n        ...FolderLink_vfolderNode\n        id\n      }\n    }\n    count\n  }\n  created_at\n  terminated_at\n  scaling_group\n  agent_ids\n  requested_slots\n  idle_checks @since(version: "24.12.0")\n  kernel_nodes {\n    edges {\n      node {\n        image {\n          ...ImageNodeSimpleTagFragment\n          id\n        }\n        ...ConnectedKernelListFragment\n        id\n      }\n    }\n  }\n  ...SessionStatusTagFragment\n  ...SessionActionButtonsFragment\n  ...BAISessionTypeTagFragment\n  ...EditableSessionNameFragment\n  ...SessionReservationFragment\n  ...ContainerLogModalFragment\n  ...SessionUsageMonitorFragment\n  ...ContainerCommitModalFragment\n  ...SessionIdleChecksNodeFragment\n  ...SessionStatusDetailModalFragment\n  ...AppLauncherModalFragment\n  ...MountedVFolderLinksFragment\n  ...BAISessionAgentIdsFragment\n  ...BAISessionClusterModeFragment\n}\n\nfragment SessionDetailDrawerFragment on ComputeSessionNode {\n  id\n  project_id\n  ...SessionDetailContentFragment\n}\n\nfragment SessionIdleChecksNodeFragment on ComputeSessionNode {\n  id\n  idle_checks @since(version: "24.12.0")\n}\n\nfragment SessionNodesFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  type\n  agent_ids\n  ...SessionStatusTagFragment\n  ...SessionReservationFragment\n  ...SessionSlotCellFragment\n  ...SessionUsageMonitorFragment\n  ...SessionDetailDrawerFragment\n  ...BAISessionAgentIdsFragment\n  ...BAISessionTypeTagFragment\n  ...BAISessionClusterModeFragment\n  kernel_nodes {\n    edges {\n      node {\n        image {\n          ...ImageNodeSimpleTagFragment\n          id\n        }\n        id\n      }\n    }\n  }\n  created_at\n  scaling_group\n  owner @since(version: "25.13.0") {\n    email\n    id\n  }\n}\n\nfragment SessionReservationFragment on ComputeSessionNode {\n  id\n  created_at\n  starts_at\n  terminated_at\n}\n\nfragment SessionSlotCellFragment on ComputeSessionNode {\n  id\n  status\n  occupied_slots\n  requested_slots\n  ...useSessionNodeLiveStatSessionFragment\n}\n\nfragment SessionStatusDetailModalFragment on ComputeSessionNode {\n  id\n  name\n  status\n  status_info\n  status_data\n  starts_at\n  ...SessionStatusTagFragment\n}\n\nfragment SessionStatusTagFragment on ComputeSessionNode {\n  id\n  status\n  status_info\n  status_data\n  queue_position @since(version: "25.13.0")\n}\n\nfragment SessionUsageMonitorFragment on ComputeSessionNode {\n  occupied_slots\n  ...useSessionNodeLiveStatSessionFragment\n}\n\nfragment TerminateSessionModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  scaling_group\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        container_id\n        agent_id\n        id\n      }\n    }\n  }\n}\n\nfragment useBackendAIAppLauncherFragment on ComputeSessionNode {\n  name\n  row_id\n  vfolder_mounts\n}\n\nfragment useSessionNodeLiveStatSessionFragment on ComputeSessionNode {\n  id\n  kernel_nodes {\n    edges {\n      node {\n        live_stat\n        cluster_role\n        id\n      }\n    }\n  }\n}\n'}}}();t.hash="aeaa38c05c8fe2c9a07946ed4a3fe214";const l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"scopeId"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:t}},name:"RecentlyCreatedSessionFragment",selections:[{alias:null,args:[{kind:"Literal",name:"filter",value:'status == "running"'},{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"order",value:"-created_at"},{kind:"Variable",name:"scope_id",variableName:"scopeId"}],concreteType:"ComputeSessionConnection",kind:"LinkedField",name:"compute_session_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"ComputeSessionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"SessionNodesFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null,hash:"aeaa38c05c8fe2c9a07946ed4a3fe214"},s=l;var i=a(51941),o=a(6767),r=a(76591),d=a(67631),u=a(17534),c=a(62962),m=a(46336),g=a(73233),p=a(89374);const y=e=>{var n;let{queryRef:a,isRefetching:t}=e;const{t:l}=(0,c.Bd)(),{token:y}=r.A.useToken(),[k,S]=(0,g.useQueryParam)("sessionDetail",g.StringParam),[_,F]=(0,u.useTransition)(),[f,v]=(0,m.useRefetchableFragment)(s,a);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(d.OO,{direction:"column",align:"stretch",style:{paddingInline:y.paddingXL,height:"100%"},children:[(0,p.jsx)(d.MR,{title:l("session.RecentlyCreatedSessions"),tooltip:l("session.RecentlyCreatedSessionsTooltip",{count:5}),extra:(0,p.jsx)(d.u8,{size:"small",loading:_||t,value:"",onChange:()=>{F((()=>{v({},{fetchPolicy:"network-only"})}))},type:"text",style:{backgroundColor:"transparent"}})}),(0,p.jsx)(d.OO,{direction:"column",align:"stretch",style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:(0,p.jsx)(o.A,{sessionsFrgmt:(0,d.f)(null===(n=f.compute_session_nodes)||void 0===n?void 0:n.edges.map((e=>null===e||void 0===e?void 0:e.node))),onClickSessionName:e=>{S((0,d.om)(e.id))},pagination:!1,disableSorter:!0})})]}),(0,p.jsx)(d.Xc,{children:(0,p.jsx)(i.A,{open:!!k,sessionId:k||void 0,onClose:()=>{S(void 0,"pushIn")}})})]})}}}]);
//# sourceMappingURL=4817.03b4c065.chunk.js.map